{"meta":{"title":"å¶è½é˜","subtitle":"","description":null,"author":"å¶è½é˜","url":"http://yelog.org","root":"/"},"pages":[{"title":"","date":"2023-07-10T00:28:41.033Z","updated":"2023-07-10T00:28:41.033Z","comments":true,"path":"README.html","permalink":"http://yelog.org/README.html","excerpt":"","text":"ä¸º layui æ‰©å±•çš„ ä¸‹æ‹‰å¤šé€‰selectåœ¨çº¿demoï¼š http://yelog.org/layui-select-multiple/ è¿™ä¸ªåœ¨çº¿ demoå°±æ˜¯æœ¬é¡¹ç›®çš„ index.htmlã€‚ å¯å°†é¡¹ç›® clone åˆ°æœ¬åœ°æŸ¥çœ‹æ•ˆæœã€‚ æ•ˆæœå›¾ å‚æ•° å±æ€§å å±æ€§å€¼ å¤‡æ³¨ multiple æ—  å¼€å¯å¤šé€‰ lay-search æ—  å¼€å¯æœç´¢ lay-case æ—  å¤§å°å†™æ•æ„Ÿ lay-omit æ—  å¼€å¯å¤šé€‰ç®€å†™ï¼Œæ˜¾ç¤ºå‹¾é€‰æ¡æ•° ä½¿ç”¨ å°†é¡¹ç›®ä¸­çš„ form.js è¦†ç›–è‡ªå·±é¡¹ç›®ä¸­çš„ form.jsã€‚ å¼•å…¥ä¸‹é¢css select[multiple]+.layui-form-select&gt;.layui-select-title&gt;input.layui-input&#123; border-bottom: 0&#125; select[multiple]+.layui-form-select dd&#123; padding:0;&#125; select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary]&#123; margin:0 !important; display:block; line-height:36px !important; position:relative; padding-left:26px;&#125; select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary] span&#123;line-height:36px !important; float:none;&#125; select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary] i&#123; position:absolute; left:10px; top:0; margin-top:9px;&#125; .multiSelect&#123; line-height:normal; height:auto; padding:4px 10px; overflow:hidden;min-height:38px; margin-top:-38px; left:0; z-index:99;position:relative;background:none;&#125; .multiSelect a&#123; padding:2px 5px; background:#908e8e; border-radius:2px; color:#fff; display:block; line-height:20px; height:20px; margin:2px 5px 2px 0; float:left;&#125; .multiSelect a span&#123; float:left;&#125; .multiSelect a i &#123;float:left;display:block;margin:2px 0 0 2px;border-radius:2px;width:8px;height:8px;padding:4px;position:relative;-webkit-transition:all .3s;transition:all .3s&#125; .multiSelect a i:before, .multiSelect a i:after &#123;position:absolute;left:8px;top:2px;content:&#39;&#39;;height:12px;width:1px;background-color:#fff&#125; .multiSelect a i:before &#123;-webkit-transform:rotate(45deg);transform:rotate(45deg)&#125; .multiSelect a i:after &#123;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)&#125; .multiSelect a i:hover&#123; background-color:#545556;&#125; ä½¿ç”¨å®ä¾‹ä¸‹é¢å®ä¾‹ å¼€å¯äº†ä¸‹æ‹‰å¤šé€‰ï¼ˆmultipleï¼‰, å¹¶å¼€å¯äº†æ£€ç´¢åŠŸèƒ½ï¼ˆlay-searchï¼‰ã€‚æ•ˆæœå¯ä»¥å‚è€ƒ åœ¨çº¿å®ä¾‹ çš„ å¤šé€‰+æœç´¢+å¤§å°å†™ä¸æ•æ„Ÿ æ¨¡å— &lt;select name=&quot;å¤šé€‰+æœç´¢+å¤§å°å†™ä¸æ•æ„Ÿ&quot; lay-verify=&quot;required&quot; multiple lay-search&gt; &lt;option value=&quot;&quot;&gt;è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½&lt;/option&gt; &lt;option&gt;sing1&lt;/option&gt; &lt;option selected&gt;sing2&lt;/option&gt; &lt;option&gt;SING1-å¤§å†™&lt;/option&gt; &lt;option&gt;movie1&lt;/option&gt; &lt;option selected&gt;movie2&lt;/option&gt; &lt;option&gt;movie3&lt;/option&gt; &lt;option&gt;MOVIE4&lt;/option&gt; &lt;option&gt;swim&lt;/option&gt; &lt;option&gt;moon&lt;/option&gt; &lt;/select&gt; æ›´å¤šå®ä¾‹å‚è€ƒ åœ¨çº¿å®ä¾‹ã€æˆ– index.htmlã€‚ å£°æ˜æ­¤é¡¹ç›®åŸºäº https://gitee.com/layuicms/XiaLaDuoXuan é¡¹ç›®ä¿®æ”¹å¾—æ¥ï¼Œä¿®å¤äº†ä¸€äº›bugï¼Œæ‰©å±•äº† ç®€åŒ–å¤šé€‰ã€å¤šé€‰æœç´¢ã€å¤§å°å†™æ•æ„Ÿæ§åˆ¶ç­‰åŠŸèƒ½ã€‚"},{"title":"","date":"2023-07-10T00:28:41.056Z","updated":"2023-07-10T00:28:41.056Z","comments":true,"path":"index.html","permalink":"http://yelog.org/index.html","excerpt":"","text":"layui-select-multiple /* ä¸‹æ‹‰å¤šé€‰æ ·å¼ éœ€è¦å¼•ç”¨*/ select[multiple]+.layui-form-select>.layui-select-title>input.layui-input{ border-bottom: 0} select[multiple]+.layui-form-select dd{ padding:0;} select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary]{ margin:0 !important; display:block; line-height:36px !important; position:relative; padding-left:26px;} select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary] span{line-height:36px !important; float:none;} select[multiple]+.layui-form-select .layui-form-checkbox[lay-skin=primary] i{ position:absolute; left:10px; top:0; margin-top:9px;} .multiSelect{ line-height:normal; height:auto; padding:4px 10px; overflow:hidden;min-height:38px; margin-top:-38px; left:0; z-index:99;position:relative;background:none;} .multiSelect a{ padding:2px 5px; background:#908e8e; border-radius:2px; color:#fff; display:block; line-height:20px; height:20px; margin:2px 5px 2px 0; float:left;} .multiSelect a span{ float:left;} .multiSelect a i {float:left;display:block;margin:2px 0 0 2px;border-radius:2px;width:8px;height:8px;padding:4px;position:relative;-webkit-transition:all .3s;transition:all .3s} .multiSelect a i:before, .multiSelect a i:after {position:absolute;left:8px;top:2px;content:'';height:12px;width:1px;background-color:#fff} .multiSelect a i:before {-webkit-transform:rotate(45deg);transform:rotate(45deg)} .multiSelect a i:after {-webkit-transform:rotate(-45deg);transform:rotate(-45deg)} .multiSelect a i:hover{ background-color:#545556;} /* ä¸‹é¢æ˜¯é¡µé¢å†…æ ·å¼ï¼Œæ— éœ€å¼•ç”¨ */ .layui-block { margin-bottom: 10px; } .layui-form-label { width: 180px; } .code { color: gray; margin-left: 10px; } .unshow>#result { display: none; } pre { padding: 5px; margin: 5px; } .string { color: green; } .number { color: darkorange; } .boolean { color: blue; } .null { color: magenta; } .key { color: red; } åŸºç¡€å±æ€§ å±æ€§å å±æ€§å€¼ å¤‡æ³¨ multiple æ—  å¼€å¯å¤šé€‰ lay-search æ—  å¼€å¯æœç´¢ lay-case æ—  å¤§å°å†™æ•æ„Ÿ lay-omit æ—  å¼€å¯å¤šé€‰ç®€å†™ï¼Œæ˜¾ç¤ºå‹¾é€‰æ¡æ•° å•é€‰select å•é€‰ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect> å•é€‰+æœç´¢+å¤§å°å†™ä¸æ•æ„Ÿ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect lay-search> å•é€‰+æœç´¢+å¤§å°å†™æ•æ„Ÿ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect lay-search lay-case> æŸ¥çœ‹è¡¨å•ä¿¡æ¯ å¤šé€‰select å¤šé€‰ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect multiple> ç®€åŒ–å¤šé€‰ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect multiple lay-omit> å¤šé€‰+æœç´¢+å¤§å°å†™ä¸æ•æ„Ÿ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect multiple lay-search> ç®€åŒ–å¤šé€‰+æœç´¢+å¤§å°å†™æ•æ„Ÿ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltselect multiple lay-search lay-case lay-omit> æŸ¥çœ‹è¡¨å•ä¿¡æ¯ èµ‹å€¼ // æœ‰ä¸¤ç§èµ‹å€¼æ–¹å¼ï¼š 1. ç›´æ¥åœ¨optionä¸­å†™selectedã€‚ 2. é€šè¿‡ js èµ‹å€¼ã€‚ // 1. ç›´æ¥åœ¨optionä¸­å†™selected è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon // 2. é€šè¿‡ js èµ‹å€¼ã€‚ è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ sing1 sing2 SING1-å¤§å†™ movie1 movie2 movie3 MOVIE4 swim moon &ltscript> // æ‰‹åŠ¨èµ‹å€¼ $('select[name=\"ç®€åŒ–å¤šé€‰+æœç´¢+å¤§å°å†™æ•æ„Ÿ\"]').val(['sing1', 'movie2']); form.render(); &lt/script> layui.use(['form','code'], function () { var form = layui.form, $ = layui.$; // ä»£ç å— layui.code({ title: 'html', encode: true, about: false }); // æ‰‹åŠ¨èµ‹å€¼ $('select[name=\"ç®€åŒ–å¤šé€‰+æœç´¢+å¤§å°å†™æ•æ„Ÿ\"]').val(['sing1', 'movie2']); form.render(); // æäº¤äº‹ä»¶ form.on(\"submit(*)\", function (data) { $('#result').html(syntaxHighlight(data.field)); layer.open({ type: 1, title: 'æäº¤ä¿¡æ¯', shadeClose: true, content:$('#result') }); return false; }); // json æ ¼å¼åŒ–+é«˜äº® function syntaxHighlight(json) { if (typeof json != 'string') { json = JSON.stringify(json, undefined, 2); } json = json.replace(/&/g, '&').replace(//g, '>'); return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function(match) { var cls = 'number'; if (/^\"/.test(match)) { if (/:$/.test(match)) { cls = 'key'; } else { cls = 'string'; } } else if (/true|false/.test(match)) { cls = 'boolean'; } else if (/null/.test(match)) { cls = 'null'; } return '' + match + ''; }); } })"},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2016-09-27T03:31:01.000Z","updated":"2023-07-10T00:28:41.032Z","comments":true,"path":"/404.html","permalink":"http://yelog.org/404.html","excerpt":"","text":"å¾ˆæŠ±æ­‰ï¼Œæ‚¨æ‰€è®¿é—®çš„åœ°å€å¹¶ä¸å­˜åœ¨"},{"title":"å…³äº&ç•™è¨€æ¿","date":"2016-09-27T02:27:42.000Z","updated":"2023-07-10T00:28:41.049Z","comments":true,"path":"about/index.html","permalink":"http://yelog.org/about/index.html","excerpt":"","text":"ä¸ªäººç®€ä»‹æ¨ç‰æ°ï¼Œ æ¯•ä¸šäºå¦å°ç†ï¼Œç›®å‰ä»äº‹ Java åŠç›¸å…³å·¥ä½œã€‚ å–œæ¬¢ç ”ç©¶æ–°å…´æŠ€æœ¯å’Œæœªæ¥å‘å±•æ–¹å‘ã€‚ æœ€è¿‘åœ¨å½­å°å…­çš„å…­æ‰‡é—¨å†…ï¼Œç ”ä¹ é˜…è¯»æ–¹æ³•ã€çŸ¥è¯†ç®¡ç†ã€æ—¶é—´ç®¡ç†ç­‰æ–¹æ³•ã€‚ è”ç³»æ–¹å¼ QQ : 872336115 é‚®ç®± : &#106;&#x61;&#x79;&#x74;&#112;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;"}],"posts":[{"title":"Jackson æ—¶é—´åºåˆ—åŒ–/ååºåˆ—åŒ–è¯¦è§£","slug":"jackson-time-serializer","date":"2024-07-05T08:00:00.000Z","updated":"2024-07-05T11:10:22.659Z","comments":true,"path":"2024/07/05/Jackson Time Serializer/Deserializer/","permalink":"http://yelog.org/2024/07/05/Jackson%20Time%20Serializer/Deserializer/","excerpt":"","text":"å‰è¨€æœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†æ—¶é—´åºåˆ—åŒ–çš„é—®é¢˜ï¼Œæ‰€ä»¥ç ”ç©¶äº†ä¸€ä¸‹ Jackson çš„æ—¶é—´åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–ï¼Œè¿™é‡Œåšä¸€ä¸ªè¯¦ç»†çš„æ€»ç»“ã€‚ 0. å‡†å¤‡å·¥ä½œå‡†å¤‡å®ä½“ç±» User.java package com.example.testjava.entity; import lombok.Builder; import lombok.Data; import java.time.LocalDate; import java.time.LocalDateTime; import java.time.LocalTime; import java.util.Date; @Builder @Data public class User &#123; private String name; private Date date; private LocalDate localDate; private LocalDateTime localDateTime; private LocalTime localTime; private java.sql.Date sqlDate; private java.sql.Time sqlTime; private java.sql.Timestamp timestamp; &#125; ç®€å•æŸ¥è¯¢ package com.example.testjava.controller; import com.example.testjava.entity.User; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; import java.util.Date; @RestController @RequestMapping(&quot;/jackson&quot;) public class JacksonTestController &#123; @GetMapping(&quot;/query&quot;) public User testJavaDate() &#123; return User.builder() .name(&quot;test&quot;) .date(new Date()) .localDate(java.time.LocalDate.now()) .localDateTime(java.time.LocalDateTime.now()) .localTime(java.time.LocalTime.now()) .sqlDate(new java.sql.Date(System.currentTimeMillis())) .sqlTime(new java.sql.Time(System.currentTimeMillis())) .timestamp(new java.sql.Timestamp(System.currentTimeMillis())) .build(); &#125; &#125; 1. åºåˆ—åŒ–1.1. é»˜è®¤è¿”å›&#123; &quot;name&quot;: &quot;test&quot;, &quot;date&quot;: &quot;2024-07-05T08:09:47.100+00:00&quot;, &quot;localDate&quot;: &quot;2024-07-05&quot;, &quot;localDateTime&quot;: &quot;2024-07-05T16:09:47.100462&quot;, &quot;localTime&quot;: &quot;16:09:47.100514&quot;, &quot;sqlDate&quot;: &quot;2024-07-05&quot;, &quot;sqlTime&quot;: &quot;16:09:47&quot;, &quot;timestamp&quot;: &quot;2024-07-05T08:09:47.100+00:00&quot; &#125; 1.2. æ·»åŠ é…ç½®é…ç½®å¦‚ä¸‹ spring: jackson: date-format: yyyy-MM-dd HH:mm:ss è¿”å›æ•ˆæœ &#123; &quot;name&quot;: &quot;test&quot;, &quot;date&quot;: &quot;2024-07-05 08:16:07&quot;, &quot;localDate&quot;: &quot;2024-07-05&quot;, &quot;localDateTime&quot;: &quot;2024-07-05T16:16:07.097035&quot;, &quot;localTime&quot;: &quot;16:16:07.09705&quot;, &quot;sqlDate&quot;: &quot;2024-07-05&quot;, &quot;sqlTime&quot;: &quot;16:16:07&quot;, &quot;timestamp&quot;: &quot;2024-07-05 08:16:07&quot; &#125; å¯ä»¥å‘ç°, æ—¥æœŸæ—¶é—´ç±»å‹ä¸­, åªæœ‰ java.time.LocalDateTime æ²¡æœ‰æŒ‰ç…§é…ç½®åºåˆ—åŒ–, java.util.Date å’Œ java.sql.Timestamp æŒ‰ç…§é…ç½®åºåˆ—åŒ–äº†ã€‚ 1.3. æ·»åŠ æ³¨è§£package com.example.testjava.entity; import com.fasterxml.jackson.annotation.JsonFormat; import lombok.Builder; import lombok.Data; import java.time.LocalDate; import java.time.LocalDateTime; import java.time.LocalTime; import java.util.Date; @Builder @Data public class User &#123; private String name; @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) private Date date; private LocalDate localDate; @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) private LocalDateTime localDateTime; @JsonFormat(pattern = &quot;HH:mm:ss&quot;) private LocalTime localTime; private java.sql.Date sqlDate; private java.sql.Time sqlTime; @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) private java.sql.Timestamp timestamp; &#125; è¿”å›æ•ˆæœ &#123; &quot;name&quot;: &quot;test&quot;, &quot;date&quot;: &quot;2024-07-05 08:24:36&quot;, &quot;localDate&quot;: &quot;2024-07-05&quot;, &quot;localDateTime&quot;: &quot;2024-07-05 16:24:36&quot;, &quot;localTime&quot;: &quot;16:24:36&quot;, &quot;sqlDate&quot;: &quot;2024-07-05&quot;, &quot;sqlTime&quot;: &quot;16:24:36&quot;, &quot;timestamp&quot;: &quot;2024-07-05 08:24:36&quot; &#125; æ³¨è§£æ˜¯å¯ä»¥éƒ½æœ‰æ•ˆçš„ 2. ååºåˆ—åŒ–å‡†å¤‡è¯·æ±‚ @PostMapping(&quot;/save&quot;) public User save(@RequestBody User user) &#123; return user; &#125; è¯·æ±‚å‚æ•° &#123; &quot;name&quot;: &quot;test&quot;, &quot;date&quot;: &quot;2024-07-05 08:24:36&quot;, &quot;localDate&quot;: &quot;2024-07-05&quot;, &quot;localDateTime&quot;: &quot;2024-07-05 16:24:36&quot;, &quot;localTime&quot;: &quot;16:24:36&quot;, &quot;sqlDate&quot;: &quot;2024-07-05&quot;, &quot;sqlTime&quot;: &quot;16:24:36&quot;, &quot;timestamp&quot;: &quot;2024-07-05 08:24:36&quot; &#125; 2.1 é»˜è®¤æ•ˆæœé»˜è®¤æŠ¥é”™ JSON parse error: Cannot deserialize value of type `java.util.Date` from String \\&quot;2024-07-05 08:24:36\\&quot; 2.2 æ·»åŠ é…ç½®æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³, ä¸€ä¸ªæ˜¯è‡ªå®šä¹‰æ—¶é—´åºåˆ—åŒ–, ä¸€ä¸ªæ˜¯è‡ªå®šä¹‰ objectMapper 2.2.1 è‡ªå®šä¹‰æ—¶é—´åºåˆ—åŒ–/** * æ­¤è½¬æ¢æ–¹æ³•è¯•ç”¨äº json è¯·æ±‚ * LocalDateTime æ—¶é—´æ ¼å¼è½¬æ¢ æ”¯æŒ */ @JsonComponent @Configuration public class LocalDateTimeFormatConfiguration extends JsonDeserializer&lt;LocalDateTime&gt; &#123; @Value(&quot;$&#123;spring.jackson.date-format:yyyy-MM-dd HH:mm:ss&#125;&quot;) private String pattern; /** * LocalDate ç±»å‹å…¨å±€æ—¶é—´æ ¼å¼åŒ– * @return */ @Bean public LocalDateTimeSerializer localDateTimeDeserializer() &#123; return new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern)); &#125; @Bean public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() &#123; return builder -&gt; builder.serializerByType(LocalDateTime.class, localDateTimeDeserializer()); &#125; @Override public LocalDateTime deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : LocalDateTimeUtil.of(new DateTime(jsonParser.getText())); &#125; &#125; @JsonComponent @Configuration public class DateFormatConfiguration extends JsonDeserializer&lt;Date&gt; &#123; @Value(&quot;$&#123;spring.jackson.date-format:yyyy-MM-dd HH:mm:ss&#125;&quot;) private String pattern; /** * date ç±»å‹å…¨å±€æ—¶é—´æ ¼å¼åŒ– * * @return */ @Bean public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilder() &#123; return builder -&gt; &#123; TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;); DateFormat df = new SimpleDateFormat(pattern); df.setTimeZone(tz); builder.failOnEmptyBeans(false) .failOnUnknownProperties(false) .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS) .dateFormat(df); &#125;; &#125; @Override public Date deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : new DateTime(jsonParser.getText()); &#125; &#125; 2.2.2 è‡ªå®šä¹‰ objectMapperpackage com.example.testjava.config; import cn.hutool.core.date.DatePattern; import cn.hutool.core.date.DateTime; import cn.hutool.core.date.LocalDateTimeUtil; import cn.hutool.core.util.StrUtil; import com.fasterxml.jackson.core.JacksonException; import com.fasterxml.jackson.core.JsonGenerator; import com.fasterxml.jackson.core.JsonParser; import com.fasterxml.jackson.databind.Module; import com.fasterxml.jackson.databind.*; import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule; import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateDeserializer; import com.fasterxml.jackson.datatype.jsr310.deser.LocalTimeDeserializer; import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer; import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer; import com.fasterxml.jackson.datatype.jsr310.ser.LocalTimeSerializer; import org.springframework.beans.factory.annotation.Value; import org.springframework.boot.autoconfigure.AutoConfigureBefore; import org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import java.io.IOException; import java.sql.Time; import java.sql.Timestamp; import java.text.SimpleDateFormat; import java.time.LocalDate; import java.time.LocalDateTime; import java.time.LocalTime; import java.time.format.DateTimeFormatter; import java.util.Date; @Configuration @AutoConfigureBefore(JacksonAutoConfiguration.class) public class JacksonConfig &#123; @Value(&quot;$&#123;spring.jackson.date-format:yyyy-MM-dd HH:mm:ss&#125;&quot;) private String pattern; @Bean public ObjectMapper objectMapper() &#123; ObjectMapper objectMapper = new ObjectMapper(); // åœ¨ååºåˆ—åŒ–æ—¶, å¦‚æœå¯¹è±¡æ²¡æœ‰å¯¹åº”çš„å­—æ®µ, ä¸æŠ›å‡ºå¼‚å¸¸ objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); objectMapper.registerModule(javaTimeModule()); objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS); return objectMapper; &#125; private Module javaTimeModule() &#123; JavaTimeModule module = new JavaTimeModule(); // åºåˆ—åŒ– module.addSerializer(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(pattern))); module.addSerializer(new LocalTimeSerializer(DateTimeFormatter.ofPattern(DatePattern.NORM_TIME_PATTERN))); module.addSerializer(new LocalDateSerializer(DateTimeFormatter.ofPattern(DatePattern.NORM_DATE_PATTERN))); module.addSerializer(Date.class, new JsonSerializer&lt;&gt;() &#123; @Override public void serialize(Date date, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException &#123; SimpleDateFormat sdf = new SimpleDateFormat(pattern); jsonGenerator.writeString(sdf.format(date)); &#125; &#125;); module.addSerializer(java.sql.Date.class, new JsonSerializer&lt;&gt;() &#123; @Override public void serialize(java.sql.Date date, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException &#123; SimpleDateFormat sdf = new SimpleDateFormat(pattern); jsonGenerator.writeString(sdf.format(date)); &#125; &#125;); module.addSerializer(Timestamp.class, new JsonSerializer&lt;&gt;() &#123; @Override public void serialize(Timestamp timestamp, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException &#123; SimpleDateFormat sdf = new SimpleDateFormat(pattern); jsonGenerator.writeString(sdf.format(timestamp)); &#125; &#125;); module.addSerializer(Time.class, new JsonSerializer&lt;&gt;() &#123; @Override public void serialize(Time time, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException &#123; SimpleDateFormat sdf = new SimpleDateFormat(DatePattern.NORM_TIME_PATTERN); jsonGenerator.writeString(sdf.format(time)); &#125; &#125;); // ååºåˆ—åŒ– module.addDeserializer(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() &#123; @Override public LocalDateTime deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : LocalDateTimeUtil.of(new DateTime(jsonParser.getText())); &#125; &#125;); module.addDeserializer(LocalDate.class, new LocalDateDeserializer(DateTimeFormatter.ofPattern(DatePattern.NORM_DATE_PATTERN))); module.addDeserializer(LocalTime.class, new LocalTimeDeserializer(DateTimeFormatter.ofPattern(DatePattern.NORM_TIME_PATTERN))); module.addDeserializer(Date.class, new JsonDeserializer&lt;Date&gt;() &#123; @Override public Date deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : new DateTime(jsonParser.getText()); &#125; &#125;); module.addDeserializer(java.sql.Date.class, new JsonDeserializer&lt;java.sql.Date&gt;() &#123; @Override public java.sql.Date deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : new java.sql.Date(new DateTime(jsonParser.getText()).getTime()); &#125; &#125;); module.addDeserializer(Timestamp.class, new JsonDeserializer&lt;Timestamp&gt;() &#123; @Override public Timestamp deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : new Timestamp(new DateTime(jsonParser.getText()).getTime()); &#125; &#125;); module.addDeserializer(Time.class, new JsonDeserializer&lt;Time&gt;() &#123; @Override public Time deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException &#123; return StrUtil.isEmpty(jsonParser.getText()) ? null : Time.valueOf(jsonParser.getText()); &#125; &#125;); // æ·»åŠ é»˜è®¤å¤„ç† return module; &#125; &#125; æ•ˆæœå¯ä»¥è¿”å›æ­£ç¡®çš„æ•°æ® &#123; &quot;name&quot;: &quot;test&quot;, &quot;date&quot;: &quot;2024-07-05 08:24:36&quot;, &quot;localDate&quot;: &quot;2024-07-05&quot;, &quot;localDateTime&quot;: &quot;2024-07-05 16:24:36&quot;, &quot;localTime&quot;: &quot;16:24:36&quot;, &quot;sqlDate&quot;: &quot;2024-07-05 00:00:00&quot;, &quot;sqlTime&quot;: &quot;16:24:36&quot;, &quot;timestamp&quot;: &quot;2024-07-05 08:24:36&quot; &#125;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"translation","slug":"translation","permalink":"http://yelog.org/tags/translation/"}]},{"title":"2024å¹´MacOSç»ˆç«¯å¤§æ¯”æ‹¼","slug":"mac-terminal","date":"2024-06-23T07:54:00.000Z","updated":"2024-07-05T11:10:22.346Z","comments":true,"path":"2024/06/23/macos-terminal/","permalink":"http://yelog.org/2024/06/23/macos-terminal/","excerpt":"","text":"æœ€æµè¡Œçš„ç»ˆç«¯æ¨ªè¯„| capability | Kitty | Alacritty | WezTerm | iTerm2 | Native || â€”- | â€”- | â€”- | â€”- | â€”- | || key-bind | | | | | | log2024-06-27 æ”¾å¼ƒ Kitty -&gt; è½¬ä¸º WezTerm Kitty ç»‘å®š cmd-shift-f åœ¨ tmux ä¸‹æ— æ³•ä½¿ç”¨ï¼Œ ä¸”æ²¡æœ‰ vim-mode 2024-06-26 æ”¾å¼ƒä½¿ç”¨ Alacritty -&gt; è½¬ä¸º Kitty å› ä¸ºåœ¨ vim çš„ normal æ¨¡å¼ä¸‹, å¦‚æœæ˜¯ä¸­æ–‡è¾“å…¥æ³•, è¾“å…¥çš„å†…å®¹ä¼šå‡ºç°åœ¨è¾“å…¥æ³•çš„å€™é€‰æ¡†å†…, ç„¶åæŒ‰ &lt;CAPS&gt; æŒ‰é”®åˆ‡æ¢è¾“å…¥æ³•, å€™é€‰æ¡†ä¸­çš„è¾“å…¥çš„å­—æ¯, ä¼šä»¥ insert çš„æ–¹å¼è¾“å‡ºåˆ°å…‰æ ‡æ‰€åœ¨çš„ä½ç½®, è¿™ä¸ªé—®é¢˜åœ¨ WezTerm å’Œ Kitty ä¸­æ²¡æœ‰å‡ºç°. æ³¨æ„: Kitty çš„ map cmd+1 send_key cmd+1 èƒ½å¤Ÿæ­£å¸¸æ˜ å°„åˆ° NeoVim ä¸­è¿›è¡Œ maps.n[&quot;&lt;D-1&gt;&quot;] = &#123; &quot;&lt;cmd&gt;Neotree left toggle&lt;cr&gt;&quot;, desc = &quot;Toggle Explorer&quot; &#125; ç»‘å®š, ä½†æ˜¯å¼€å¯ tmux å, cmd+1 æ˜ å°„åˆ° NeoVim ä¸­å°±ä¸è¡Œäº† 2024-06-20 æ”¾å¼ƒ WezTerm -&gt; è½¬ä¸º Alacritty","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://yelog.org/tags/mac/"},{"name":"efficiency","slug":"efficiency","permalink":"http://yelog.org/tags/efficiency/"},{"name":"terminal","slug":"terminal","permalink":"http://yelog.org/tags/terminal/"}]},{"title":"ç¦»çº¿å®‰è£…Home Assistant","slug":"home-assistant","date":"2024-03-22T01:05:44.000Z","updated":"2024-07-05T11:10:22.735Z","comments":true,"path":"2024/03/22/home-assistant/","permalink":"http://yelog.org/2024/03/22/home-assistant/","excerpt":"","text":"å‰è¨€æœ€è¿‘æ¬åˆ°äº†æ–°å®¶ï¼Œå®¶é‡Œçš„æ™ºèƒ½è®¾å¤‡ä¹Ÿè¶Šæ¥è¶Šå¤š, å¼•å…¥å¾ˆå¤šç±³å®¶è®¾å¤‡, ä½†åšä¸»ä½¿ç”¨çš„æ˜¯è‹¹æœç”Ÿæ€, éœ€è¦å°†è¿™äº›ä¸æ”¯æŒ homekit çš„ç±³å®¶è®¾å¤‡æ¥å…¥åˆ° homekit ä¸­, ç»è¿‡è°ƒç ”å‘ç° Home Assistant æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©, æœ¬æ–‡ä¼šä»‹ç»è”ç½‘å®‰è£…çš„è¿‡ç¨‹, å¹¶ä¸”å¦‚æœæœ‰éœ€è¦è”ç½‘çš„æ­¥éª¤, ä¹Ÿä¼šæä¾›ç¦»çº¿å®‰è£…çš„æ–¹æ³•. æœ¬ç¯‡ä¸»è¦ä»‹ç»é€šè¿‡ docker éƒ¨ç½²çš„æ–¹å¼ å®‰è£… Dockerå¦‚å·²æœ‰ docker ç¯å¢ƒ, å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ sudo apt-get update sudo","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"IOT","slug":"å·¥å…·/IOT","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/IOT/"}],"tags":[{"name":"home-assistant","slug":"home-assistant","permalink":"http://yelog.org/tags/home-assistant/"},{"name":"iot","slug":"iot","permalink":"http://yelog.org/tags/iot/"}]},{"title":"K8s-å†…éƒ¨åŸ¹è®­","slug":"K8s-å†…éƒ¨åŸ¹è®­","date":"2024-02-05T01:17:27.000Z","updated":"2024-07-05T11:10:21.843Z","comments":true,"path":"2024/02/05/k8s-inner-training/","permalink":"http://yelog.org/2024/02/05/k8s-inner-training/","excerpt":"","text":"K8s å†…éƒ¨åŸ¹è®­ä»‹ç»K8s ä¸º Kubernetes çš„ç®€ç§°, æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¹³å°, æœ€åˆæ˜¯ç”± Google å·¥ç¨‹å¸ˆå¼€å‘å’Œè®¾è®¡çš„, åäº 2015 å¹´æèµ ç»™äº†äº‘åŸç”Ÿè®¡ç®—æœºåŸºé‡‘ä¼š-CNCF åº”ç”¨æœåŠ¡ç®¡ç†å‘å±•å²æ—©æœŸæœåŠ¡åº”ç”¨å¤§å¤šä»¥å•åŒ…çš„å½¢å¼è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Š, å½“æˆ‘ä»¬å¢åŠ ä¸€äº›æœåŠ¡æ—¶, æ¯”å¦‚æ·»åŠ  JOB åº”ç”¨æ—¶, æˆ‘ä»¬ä¼šå¦å¼€ä¸€ä¸ªæ–°çš„åº”ç”¨, ä½†åŸºæœ¬ç”¨ä¸€å°æœåŠ¡å™¨ä¸Šå°±èƒ½å®Œæˆ æ‰€ä»¥æˆ‘ä»¬æ—©æœŸåº”ç”¨çš„å‘å±•å°±å¦‚ä¸‹é¢å›¾è¡¨æ‰€ç¤º, ç”±äºç”¨æˆ·æ•°é‡è¾ƒå°‘, æ‰€ä»¥æ›´æ–°åº”ç”¨æ—¶çŸ­æš‚çš„æš‚åœæœåŠ¡ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**çŸ³å™¨æ—¶ä»£**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**çŸ³å™¨æ—¶ä»£**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**çŸ³å™¨æ—¶ä»£**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ APP2 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ APP2 â”‚ â”‚ APP3 â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ==> â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ==> â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ éšç€ç”¨æˆ·æ•°é‡çš„ä¸Šå‡, åº”ç”¨çš„å¹¶å‘ä¹Ÿéšä¹‹æé«˜, å•å°æœåŠ¡å™¨çš„å‹åŠ›ä¹Ÿéšä¹‹å¢å¤§, æœ‰äº†å¦‚ä¸‹æƒ…å†µ: é«˜å³°æœŸç»å¸¸å‡ºç°å¡é¡¿ æ›´æ–°åº”ç”¨æ—¶çš„æš‚åœæœåŠ¡å·²ç»ä¸å¯æ¥å— åœ¨æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶çš„é«˜å¯ç”¨æœ‰äº†æ›´é«˜çš„è¦æ±‚ ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜, æˆ‘ä»¬å°±è¿›å…¥äº†ä¸‹ä¸ªæ—¶ä»£(ä¸‹å›¾ä¸€), é‡‡è´­å¤šå°æœåŠ¡å™¨, å¯¹åº”ç”¨è¿›è¡Œæ”¯æŒé›†ç¾¤çš„æ”¹é€ , è¿™æ—¶æˆ‘ä»¬çš„åº”ç”¨åˆ†åˆ«åœ¨ä¸‰å°æœåŠ¡å™¨ä¸Š, å¹¶å‘èƒ½åŠ›æé«˜äº†3å€, å¹¶ä¸”å†—ç¾èƒ½åŠ›å¤§å¹…æå‡ å°½ç®¡æˆ‘ä»¬è§£å†³äº†ä¸Šé¢çš„é—®é¢˜, ä½†æ˜¯å¸¦æ¥äº†æ–°çš„é—®é¢˜, å› ä¸ºæœåŠ¡å™¨æ•°é‡è¿‡å¤š, åœ¨å®‰è£…åº”ç”¨éœ€è¦çš„å·¥å…·å¦‚ JDKã€Tomcatã€Nodeã€Nginxã€Redis ç­‰ç­‰, å¯èƒ½ä¼šå› ä¸ºå®‰è£…ç‰ˆæœ¬å’ŒæœåŠ¡å™¨ç³»ç»Ÿç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´åº”ç”¨è¿è¡Œå¤±è´¥ æ‰€ä»¥ä¼šåœ¨ç¯å¢ƒå®‰è£…ä¸­æµªè´¹å¤ªå¤šæ—¶é—´, æ‰€ä»¥å¾ˆå¤šä¼ä¸šå¼€å§‹å¼•å…¥å¦‚ Docker çš„è™šæ‹ŸåŒ–æŠ€æœ¯(ä¸‹å›¾äºŒ), ç”¨æ¥è§£å†³ç¯å¢ƒä¸ä¸€è‡´çš„é—®é¢˜, å¹¶ä¸”ä¸€å¹¶è§£å†³äº†å®ˆæŠ¤è¿›ç¨‹, å¼€æœºå¯åŠ¨ç­‰é—®é¢˜ è¿™æ—¶æˆ‘ä»¬é€šè¿‡ docker-compose æŠ€æœ¯, å‡çº§åº”ç”¨ã€è°ƒæ•´é…ç½®ç›¸æ¯”ä»¥å‰å¤§å¤§ç®€åŒ–, ä½†æ˜¯éšç€åº”ç”¨è§„æ¨¡çš„æ‰©å¤§, å¯¹åº”ç”¨é«˜å¯ç”¨æœ‰äº†æ›´é«˜çš„è¦æ±‚, çº·çº·å¼€å§‹è¿›è¡Œå¾®æœåŠ¡æ‹†åˆ†, åº”ç”¨æ•°é‡å’ŒæœåŠ¡å™¨æ•°é‡è¶Šæ¥è¶Šå¤š, æœåŠ¡çš„è¿ç»´ç®¡ç†è¶Šæ¥è¶Šå¤æ‚ã€ å¤§å®¶å¼€å§‹å¼€å‘å„ç§é›†ç¾¤ç®¡ç†, è®©å¤§å®¶å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹å¹¶ä¸”å¯è§†åŒ–çš„ç®¡ç†é›†ç¾¤ä¸­çš„æ‰€æœ‰ Docker, ä»¥ Google å¼€æºçš„ Kubernetes åšçš„æœ€åŠŸèƒ½å®Œå–„ä¸”çµæ´»å¯é…ç½®, ä»è€Œå¼€å§‹çˆ†ç«. äºæ˜¯ä¼—å¤šä¼ä¸šå¼€å§‹ä¸ŠK8s(ä¸‹å›¾ä¸‰), ä¸ä»…è§£å†³è¿ç»´å¤æ‚çš„é—®é¢˜, è€Œä¸”å¸¦æ¥äº†æ›´å¤šæ›´å¥½çš„ç‰¹æ€§: æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ å­˜å‚¨ç¼–æ’ è‡ªåŠ¨éƒ¨ç½²å’Œå›æ»š è‡ªæˆ‘ä¿®å¤ å¯†é’¥å’Œé…ç½®ç®¡ç† â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**å†œè€•æ–‡æ˜**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**å·¥ä¸šæ–‡æ˜**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€**ä¿¡æ¯æ–‡æ˜**â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`K8s é›†ç¾¤`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ APP2 â”‚ â”‚ APP3 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚â”‚ APP2 â”‚â”‚ APP3 â”‚â”‚ â”‚ â”‚ â”‚ â”‚ POD1 â”‚â”‚ POD2 â”‚â”‚ POD3 â”‚â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server2`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ POD4 â”‚â”‚ POD5 â”‚â”‚ POD6 â”‚â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ APP2 â”‚ â”‚ APP3 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚â”‚ APP2 â”‚â”‚ APP3 â”‚â”‚ â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ==> â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ ==> â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â”‚ â”‚ POD7 â”‚â”‚ POD8 â”‚â”‚ POD9 â”‚â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server3`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`Server1`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”Œâ”€â”€â˜•â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€ğŸ³â”€â”€â”€â”€â”â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚ â”‚ APP2 â”‚ â”‚ APP3 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ APP1 â”‚â”‚ APP2 â”‚â”‚ APP3 â”‚â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚JDK8/Tomcatâ”‚â”‚ â”‚ â”‚ â”‚ â”‚Server1â”‚ â”‚Server2â”‚ â”‚Server3â”‚ â€¢â€¢â€¢ â”‚ â”‚ â”‚ â”‚ å®‰è£…: JDK8, Tomcat, éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ ä¼˜ç‚¹: èŠ‚çœèµ„æº, éœ€è¦æŒæ¡çš„çŸ¥è¯†è¾ƒå°‘ â”‚ â”‚ ä¼˜ç‚¹: ç¯å¢ƒæ­å»ºå®¹æ˜“, å®‰è£…Dockerå’Œé…ç½®æ–‡ä»¶ â”‚ â”‚ ä¼˜ç‚¹: è‡ªåŠ¨æ•…éšœæ¢å¤, ç›‘æ§å®Œå–„, æ“ä½œæ–¹ä¾¿ â”‚ â”‚ ç¼ºç‚¹: è¿ç»´æ“ä½œç¹æ‚, JDKç‰ˆæœ¬éš¾ä»¥ç»Ÿä¸€ â”‚ â”‚ ç¼ºç‚¹: éšç€è§„æ¨¡æ‰©å¤§, æ—¥å¸¸è¿ç»´ä¹Ÿå˜å¾—ç¹æ‚ â”‚ â”‚ ç¼ºç‚¹: k8s åŠŸèƒ½è¾ƒå¤š, éœ€è¦æŒæ¡çš„çŸ¥è¯†ä¹Ÿå¤š â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ å›¾ä¸€ å›¾äºŒ å›¾ä¸‰ Kubernetes ç»„ä»¶ Control Plane Components: æ§åˆ¶å¹³é¢ç»„ä»¶ kube-apiserver: è´Ÿè´£å…¬å¼€ Kubernetes API, å¤„ç†è¯·æ±‚, ç±»ä¼¼ cloud ä¸­çš„ç½‘å…³ etcd: key-value å­˜å‚¨, ç”¨äºä¿å­˜é›†ç¾¤æ•°æ® kube-scheduler: ä»»åŠ¡è°ƒåº¦, ç›‘å¬æœ‰æ–°åˆ›å»ºä½†æœªè¿è¡Œçš„pods, é€‰æ‹©èŠ‚ç‚¹æ¥è®© pod åœ¨ä¸Šé¢è¿è¡Œ kube-controller-manager: è´Ÿè´£è¿è¡Œæ§åˆ¶å™¨è¿›ç¨‹, æœ‰å¦‚ä¸‹ä¸åŒç±»å‹çš„æ§åˆ¶å™¨ Node Controller: èŠ‚ç‚¹æ§åˆ¶å™¨, è´Ÿè´£èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶è¿›è¡Œé€šçŸ¥å’Œå“åº” Job Controller: ä»»åŠ¡æ§åˆ¶å™¨, æ£€æµ‹ä»£è¡¨ä¸€æ¬¡æ€§ä»»åŠ¡çš„ Job å¯¹è±¡, ç„¶ååˆ›å»º Pod æ¥è¿è¡Œè¿™äº›ä»»åŠ¡ç›´è‡³å®Œæˆ EndpointSlice Controller: ç«¯ç‚¹åˆ†ç‰‡æ§åˆ¶å™¨, æä¾› Service å’Œ Pod ä¹‹é—´çš„é“¾æ¥ ServiceAccount Controller: ä¸ºæ–°çš„å‘½åç©ºé—´åˆ›å»ºé»˜è®¤çš„æœåŠ¡è´¦å· cloud-controller-manager: äº‘æ§åˆ¶ç®¡ç†å™¨, é›†æˆäº‘æä¾›å•†çš„API, æˆ‘ä»¬å†…ç½‘éƒ¨ç½²çš„ç”¨ä¸åˆ° Node Components: èŠ‚ç‚¹ç»„ä»¶, è¿è¡Œåœ¨å„ä¸ªèŠ‚ç‚¹, è´Ÿè´£ç»´æŠ¤è¿è¡Œçš„ Pod, æä¾› Kubernetes çš„è¿è¡Œç¯å¢ƒ kubelet: åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­è¿è¡Œ, ä¿è¯å®¹å™¨éƒ½è¿è¡Œåœ¨ Pod ä¸­, kubelet æ¥å—ä¸€ç»„ PodSpec, ç¡®ä¿ PodSpec ä¸­æè¿°çš„å®¹å™¨å¤„äºè¿è¡ŒçŠ¶æ€ä¸”å¥åº· kube-proxy: ç½‘ç»œä»£ç†, æ˜¯å®ç° Service çš„ä¸€éƒ¨åˆ† Container Runtime: å®¹å™¨è¿è¡Œæ—¶, Kubernetes æ”¯æŒéœ€è¦å®¹å™¨è¿è¡Œç¯å¢ƒ, ä¾‹å¦‚: docker, containerd, CRI-O Addons: æ’ä»¶, æä¾›é›†ç¾¤çº§åˆ«çš„åŠŸèƒ½, æ’ä»¶æä¾›çš„èµ„æºå±äº kube-system å‘½åç©ºé—´ DNS: æä¾›é›†ç¾¤å†…çš„åŸŸåç³»ç»Ÿ Web UI/Dashboard: é€šç”¨çš„åŸºäº Web çš„ç”¨æˆ·ç•Œé¢, å®ƒä½¿ç”¨æˆ·å¯ä»¥é›†ä¸­ç®¡ç†é›†ç¾¤ä¸­çš„åº”ç”¨å·²ç»é›†ç¾¤æœ¬èº« Container Resource Monitoring: å°†å®¹å™¨çš„ä¸€äº›å¸¸è§çš„æ—¶é—´åºåˆ—åº¦é‡å€¼ä¿å­˜åˆ°ä¸€ä¸ªé›†ä¸­çš„æ•°æ®åº“ä¸­, å¹¶æä¾›æµè§ˆè¿™äº›æ•°æ®çš„ç•Œé¢ Cluster-level Logging: é›†ç¾¤çº§æ—¥å¿—, å°†å®¹å™¨æ—¥å¿—ä¿å­˜åˆ°ä¸€ä¸ªé›†ä¸­çš„æ—¥å¿—å­˜å‚¨ä¸­, è¿™ç§é›†ä¸­æ—¥å¿—å­˜å‚¨æä¾›æœç´¢å’Œæµè§ˆæ¥å£ Network Plugins: ç½‘ç»œæ’ä»¶, å®ç°å®¹å™¨ç½‘ç»œæ¥å£(CNI)è§„èŒƒçš„è½¯ä»¶ç»„ä»¶, è´Ÿè´£ä¸º Pod åˆ†é… IP åœ°å€, å¹¶ä½¿è¿™äº› Pod èƒ½åœ¨é›†ç¾¤å†…éƒ¨äº’ç›¸é€šä¿¡ Kubernetes æ¶æ„ Node èŠ‚ç‚¹Kubernetes é€šè¿‡å°†å®¹å™¨æ”¾å…¥åœ¨èŠ‚ç‚¹(Node) ä¸Šè¿è¡Œçš„ Pod æ¥æ‰§è¡Œä½ çš„è´Ÿè½½. èŠ‚ç‚¹å¯ä»¥æ˜¯ä¸€ä¸ªè™šæ‹Ÿæœºæˆ–ç‰©ç†æœº, æ¯ä¸ªèŠ‚ç‚¹åŒ…å« Pod æ‰€éœ€çš„æœåŠ¡å™¨, è¿™äº›èŠ‚ç‚¹ç”± Control Plane è´Ÿè´£ç®¡ç† ä¸€ä¸ªé›†ç¾¤çš„èŠ‚ç‚¹æ•°é‡å¯ä»¥æ˜¯1ä¸ª, ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª. ä¸”èŠ‚ç‚¹åç§°æ˜¯å”¯ä¸€çš„. å¯ä»¥é€šè¿‡ kubectl æ¥åˆ›å»ºå’Œä¿®æ”¹ Node å¯¹è±¡ # æŸ¥ä¸€ä¸‹é›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯ kubectl get node # æŸ¥çœ‹æŸä¸ªèŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯ kubectl descibe $NODENAME # æ ‡è®°ä¸€ä¸ª Node ä¸ºä¸å¯è°ƒåº¦ kubectl cordon $NODENAME Controllers æ§åˆ¶å™¨åœ¨æœºå™¨äººå’Œè‡ªåŠ¨åŒ–é¢†åŸŸ, åˆä¸€ä¸ªç±»ä¼¼çš„æ¦‚å¿µå«æ§åˆ¶å›è·¯ (Control Loop), ç”¨äºè°ƒèŠ‚ç³»ç»ŸçŠ¶æ€, å¦‚: æˆ¿é—´é‡Œçš„æ¸©åº¦è‡ªåŠ¨è°ƒèŠ‚å™¨ å½“ä½ è®¾ç½®äº†æ¸©åº¦, æ¸©åº¦è‡ªåŠ¨è°ƒèŠ‚å™¨è®©å…¶å½“å‰çŠ¶æ€æ¥è¿‘æœŸæœ›æ¸©åº¦; åœ¨ Kubernetes ä¸­, æ§åˆ¶å™¨é€šè¿‡ç›‘æ§é›†ç¾¤çš„å…¬å…±çŠ¶æ€, å¹¶è‡´åŠ›äºå°†å½“å‰çš„çŠ¶æ€è½¬ä¸ºæœŸæœ›çŠ¶æ€ æ§åˆ¶å™¨æ˜¯é€šè¿‡é€šçŸ¥ apiserver æ¥ç®¡ç†çŠ¶æ€çš„, å°±åƒæ¸©åº¦è‡ªåŠ¨è°ƒèŠ‚å™¨æ˜¯é€šè¿‡æ§åˆ¶ç©ºè°ƒæ¥è°ƒèŠ‚æ°”æ¸©çš„ Container Runtime Interface&#x2F;CRI å®¹å™¨è¿è¡Œæ—¶æ¥å£CRI æ˜¯ä¸€ä¸ªæ’ä»¶æ¥å£, å®ƒä½¿ kubelet èƒ½å¤Ÿä½¿ç”¨å„ç§å®¹å™¨è¿è¡Œæ—¶, å®šä¹‰äº†ä¸»è¦ gRPC åè®®, ç”¨äºèŠ‚ç‚¹ç»„ä»¶ kubelet å’Œå®¹å™¨è¿è¡Œæ—¶ä¹‹é—´çš„é€šä¿¡ Containers å®¹å™¨å®¹å™¨å°†åº”ç”¨ä»åº•å±‚ä¸»æœºè®¾å¤‡ä¸­è§£è€¦, è¿™ä½¿å¾—åœ¨ä¸åŒçš„äº‘æˆ– OS ç¯å¢ƒä¸­éƒ¨ç½²æ›´åŠ å®¹æ˜“ Kubernetes é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šè¿è¡Œå®¹å™¨, è¿™äº›å®¹å™¨æ„æˆåˆ†é…ç»™è¯¥èŠ‚ç‚¹çš„ Pod, å•ä¸ª Pod ä¸­çš„å®¹å™¨ä¼šåœ¨å…±åŒè°ƒåº¦ä¸‹, è¿è¡Œåœ¨ç›¸åŒçš„èŠ‚ç‚¹ å®¹å™¨é•œåƒæ˜¯ä¸€ä¸ªéšæ—¶å¯ä»¥è¿è¡Œçš„è½¯ä»¶åŒ…, å®ƒåŒ…å«äº†è¿è¡Œå®¹å™¨ç¨‹åºæ‰€éœ€è¦çš„ä¸€åˆ‡, ä»£ç å’Œå®ƒéœ€è¦çš„è¿è¡Œæ—¶ã€åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿåº“, ä»¥åŠä¸€äº›åŸºæœ¬è®¾ç½® å®¹å™¨è¿è¡Œæ—¶è¿™ä¸ªåŸºç¡€ç»„ä»¶ä½¿ Kubernetes èƒ½å¤Ÿæœ‰æ•ˆè¿è¡Œå®¹å™¨, ä»–è´Ÿè´£ç®¡ç† Kubernetes ç¯å¢ƒä¸­çš„å®¹å™¨çš„æ‰§è¡Œå’Œç”Ÿå‘½å‘¨æœŸ PodPod æ˜¯å¯ä»¥åœ¨ Kubernetes ä¸­åˆ›å»ºå’Œç®¡ç†çš„ã€æœ€å°çš„å¯éƒ¨ç½²è®¡ç®—å•å…ƒ Pod æ˜¯æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ç»„æˆ, è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œã€å·²ç»æ€ä¹ˆæ ·è¿è¡Œè¿™äº›å®¹å™¨çš„å£°æ˜, ç»Ÿä¸€è°ƒåº¦. æ­¤å¤–è¿˜å¯ä»¥åŒ…å« init container, ç”¨äºåšä¸€äº›å¯åŠ¨ä¸»åº”ç”¨å‰çš„å‡†å¤‡å·¥ä½œ, æ¯”å¦‚é€šè¿‡ init container æ³¨å…¥ tingyun ç­‰ agent åŒ… å¦‚ä¸‹ç¤ºä¾‹, å®ƒç”±ä¸€ä¸ªè¿è¡Œé•œåƒ nginx:1.14.2 çš„å®¹å™¨ç»„æˆ apiVersion: v1 kind: Pod metadata: name: nginx labels: app: my-nginx spec: containers: - name: nginx image: nginx:1.14.2 ports: - containerPort: 80 è¦åˆ›å»ºä¸Šé¢æ˜¾ç¤ºçš„ Pod, ä¿å­˜ä¸Šé¢å†…å®¹åˆ° my-nginx.yaml, å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ kubectl apply -f my-nginx.yaml Workloads å·¥ä½œè´Ÿè½½å·¥ä½œè´Ÿè½½æ˜¯åœ¨ Kubernetes ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åº, æ— è®ºæ˜¯åˆä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªç»„ä»¶æ„æˆ, ä½ éƒ½å¯ä»¥é€šè¿‡ä¸€ç»„ Pod æ¥è¿è¡Œå®ƒ, Pod ä»£è¡¨çš„æ˜¯é›†ç¾¤ä¸Šå¤„äºè¿è¡ŒçŠ¶æ€çš„ä¸€ç»„å®¹å™¨çš„é›†åˆ, ä½†é€šå¸¸ä¸€ä¸ª Pod å†…åªè¿è¡Œä¸€ä¸ªå®¹å™¨ Kubernetes æä¾›è‹¥å¹²ç§å†…ç½®çš„å·¥ä½œè´Ÿè½½èµ„æº: Deployment å’Œ ReplicaSet Deployment é€‚åˆæ— çŠ¶æ€åº”ç”¨, Deployment ä¸­çš„æ‰€æœ‰ Pod éƒ½æ˜¯äº’ç›¸ç­‰ä»·çš„ StatefulSet æœ‰çŠ¶æ€åº”ç”¨, æ¯”å¦‚å¯ä»¥ç‹¬ç«‹æŒä¹…åŒ–æ–‡ä»¶, äº’ä¸å½±å“ DaemonSet æä¾›èŠ‚ç‚¹æœ¬åœ°æ”¯æ’‘è®¾æ–½çš„ Pod, ä¿è¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šä¸€ä¸ª Job å’Œ CronJob å®šä¹‰åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å¹¶ä¸”æ‰§è¡Œåè§†ä¸ºå®Œå®Œæˆçš„ä»»åŠ¡ Network ç½‘ç»œServiceService æ˜¯å°†ä¸€ä¸ªæˆ–è€…ä¸€ç»„ Pod å…¬å¼€ä»£ç†ç»™é›†ç¾¤å†…éƒ¨, ä½¿ä¹‹èƒ½å¤Ÿå„ä¸ªåº”ç”¨ä¹‹é—´é€šä¿¡, ç”šè‡³ç”¨äºå…¬å¼€åˆ°é›†ç¾¤å¤–(NodePort æˆ–è€… ä»£ç†ç»™ Ingress) å®ƒæä¾›äº†ç±»ä¼¼åŸŸåçš„è®¿é—®æ–¹å¼, ä½¿ç”¨è€…æ— éœ€å…³å¿ƒåé¢æœ‰å¤šå°‘ä¸ª Pod åœ¨æä¾›æœåŠ¡, ä»–ä»¬æ˜¯å¦å¥åº·, ä»–ä»¬ IP æ˜¯å¦å‘ç”Ÿå˜åŒ–. å®šä¹‰ Service apiVersion: v1 kind: Service metadata: name: nginx-service spec: selector: app: my-nginx ports: - name: name-of-service-port protocol: TCP port: 80 targetPort: http-web-svc æœåŠ¡ç±»å‹(type): ClusterIp: é»˜è®¤å€¼, æ™ºèƒ½åœ¨é›†ç¾¤å†…è®¿é—® NodePort: ç›´æ¥å‘é›†ç¾¤å¤–æš´éœ², é€šè¿‡èŠ‚ç‚¹ç«¯å£è®¿é—® LoadBalancer: ä½¿ç”¨äº‘å¹³å°çš„è´Ÿè½½å‡è¡¡, Kubernetes ä¸ç›´æ¥æä¾› Externalname: å°†æœåŠ¡æ˜ å°„åˆ° externalName å­—æ®µçš„å†…å®¹, ä¾‹å¦‚api.foo.bar.example","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"},{"name":"k8s","slug":"k8s","permalink":"http://yelog.org/tags/k8s/"}]},{"title":"swift ç¦»çº¿å›¾ç‰‡è¯†åˆ«æ–‡å­—(ocr)","slug":"macos-ocr-swift","date":"2024-01-02T02:09:19.000Z","updated":"2024-07-05T11:10:22.750Z","comments":true,"path":"2024/01/02/macos-ocr-swift/","permalink":"http://yelog.org/2024/01/02/macos-ocr-swift/","excerpt":"","text":"èƒŒæ™¯æœ€è¿‘æ‰“ç®—å†™ä¸€ä¸ª macos ç¿»è¯‘è½¯ä»¶, éœ€è¦ç”¨åˆ° ocr å›¾åƒè¯†åˆ«, å¹¶ä¸”å› ä¸ºé€Ÿåº¦é—®é¢˜, ä¸€å¼€å§‹å°±è€ƒè™‘ä½¿ç”¨ç³»ç»Ÿçš„è‡ªå¸¦èƒ½åŠ›æ¥å®ç°. ç»è¿‡ç¿»é˜…æ–‡æ¡£å’Œ chatgpt æ‹‰æ‰¯äº†ä¸€ä¸‹åˆ, æœ€ç»ˆæˆåŠŸå®ç°. ä»£ç ä»£ç é€»è¾‘ä¸º, æ¥å—å‚æ•°: å›¾ç‰‡è·¯å¾„, ç„¶åè·å–å›¾ç‰‡, é€šè¿‡ VNImageRequestHandler å¯¹å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ« å¦‚ä¸‹ä»£ç å¯ä»¥ç›´æ¥æ”¾è¿›ä¸€ä¸ª ocr.swift, ç„¶åæ‰§è¡Œ swiftc -o ocr ocr.swift , åœ¨æ‰§è¡Œ ./ocr /Users/yelog/Desktop/3.png åé¢ä¸ºä½ å®é™…çš„æœ‰æ–‡å­—çš„å›¾ç‰‡è·¯ç» // // ocr.swift // Fast Translation // // Created by æ¨ç‰æ° on 2023/12/31. // import SwiftUI import Vision func handleDetectedText(request: VNRequest?, error: Error?) &#123; if let error = error &#123; print(&quot;ERROR: \\(error)&quot;) return &#125; guard let results = request?.results, results.count &gt; 0 else &#123; print(&quot;No text found&quot;) return &#125; for result in results &#123; if let observation = result as? VNRecognizedTextObservation &#123; for text in observation.topCandidates(1) &#123; let string = text.string print(&quot;è¯†åˆ«: \\(string)&quot;) &#125; &#125; &#125; &#125; func ocrImage(path: String) &#123; let cgImage = NSImage(byReferencingFile: path)?.ciImage()?.cgImage let requestHandler = VNImageRequestHandler(cgImage: cgImage!) let request = VNRecognizeTextRequest(completionHandler: handleDetectedText) // è®¾ç½®æ–‡æœ¬è¯†åˆ«çš„è¯­è¨€ä¸ºè‹±æ–‡ request.recognitionLanguages = [&quot;en&quot;] request.recognitionLevel = .accurate do &#123; try requestHandler.perform([request]) &#125; catch &#123; print(&quot;Unable to perform the requests: \\(error).&quot;) &#125; &#125; extension NSImage &#123; func ciImage() -&gt; CIImage? &#123; guard let data = self.tiffRepresentation, let bitmap = NSBitmapImageRep(data: data) else &#123; return nil &#125; let ci = CIImage(bitmapImageRep: bitmap) return ci &#125; &#125; // æ‰§è¡Œå‡½æ•°ï¼Œä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å–å›¾ç‰‡çš„åœ°å€ ocrImage(path: CommandLine.arguments[1]) ç„¶åå‡†å¤‡å¾…è¯†åˆ«çš„æœ‰æ–‡å­—çš„å›¾ç‰‡ # ç¼–è¯‘ swift æ–‡ä»¶ swiftc -o ocr ocr.swift # æ‰§è¡Œå¹¶ä¸”ä¼ é€’å›¾ç‰‡è·¯å¾„å‚æ•° ./ocr /Users/yelog/Desktop/3.png æœ€åæœ€è¿‘æ‰“ç®—ç€æ‰‹å†™ä¸€äº› macos çš„å°å·¥å…·, å¦‚æœå¯¹ swift æˆ–è€… macos æ„Ÿå…´è¶£çš„å¯ä»¥å…³æ³¨æˆ–è¯„è®º.","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://yelog.org/categories/%E5%BC%80%E5%8F%91/"},{"name":"swift","slug":"å¼€å‘/swift","permalink":"http://yelog.org/categories/%E5%BC%80%E5%8F%91/swift/"}],"tags":[{"name":"swift","slug":"swift","permalink":"http://yelog.org/tags/swift/"},{"name":"macos","slug":"macos","permalink":"http://yelog.org/tags/macos/"},{"name":"ocr","slug":"ocr","permalink":"http://yelog.org/tags/ocr/"}]},{"title":"Caused by: java.lang.ClassNotFoundException: org.springframework.boot.loader.JarLauncher","slug":"Springboot-JarLauncher","date":"2023-12-11T08:58:00.000Z","updated":"2024-07-05T11:10:22.663Z","comments":true,"path":"2023/12/11/springboot-jarlauncher/","permalink":"http://yelog.org/2023/12/11/springboot-jarlauncher/","excerpt":"","text":"é—®é¢˜ç°è±¡ä»Šå¤©åŒäº‹å†å‡çº§æ¡†æ¶å(spring-cloud 2022.0.4 -&gt; 2023.0.0)(spring-boot 3.1.6 -&gt; 3.2.0) åŒæ—¶å› ä¸º spring-boot çš„ç‰ˆæœ¬é—®é¢˜, éœ€è¦å°† maven å‡çº§åˆ° 3.6.3+ å‡çº§åæ„å»º jar åŒ…å’Œæ„å»ºé•œåƒéƒ½æ˜¯æ­£å¸¸çš„, ä½†æ˜¯å‘å¸ƒåˆ°æµ‹è¯•ç¯å¢ƒå°±æŠ¥é”™ Caused by: java.lang.ClassNotFoundException: org.springframework.boot.loader.JarLauncher é—®é¢˜åˆ†ææŠ¥é”™ä¸º JarLauncher æ‰¾ä¸åˆ°, æ£€æŸ¥äº† Jenkins ä¸­çš„æ‰“åŒ…ä»»åŠ¡, å‘ç°å¹¶æ²¡æœ‰ç¼–è¯‘æŠ¥é”™, åŒäº‹ç›´æ¥ä½¿ç”¨æ‰“åŒ…ä»»åŠ¡ä¸­äº§ç”Ÿçš„ xx.jar, å¯ä»¥æ­£å¸¸è¿è¡Œ. è¯´æ˜åœ¨æ‰“åŒ… Docker é•œåƒå‰éƒ½æ²¡æœ‰é—®é¢˜, è¿™æ—¶å°±æƒ³èµ·æ¥æˆ‘ä»¬åœ¨æ‰“åŒ…é•œåƒæ—¶, å…ˆè§£å‹ xx.jar, ç„¶åç›´æ¥æ‰§è¡Œ org.springframework.boot.loader.JarLauncher, æ‰€ä»¥å¾ˆå¯èƒ½æ˜¯å‡çº§å, å¯åŠ¨æ–‡ä»¶ JarLauncher çš„è·¯å¾„å˜äº†. ä¸ºäº†éªŒè¯æˆ‘ä»¬çš„çŒœæƒ³, æˆ‘ä»¬å¾—çœ‹ä¸€ä¸‹å®é™…å®¹å™¨å†…çš„æ–‡ä»¶ç»“æ„, ä½†æ˜¯è¿™æ—¶å®¹å™¨ä¸€ç›´æŠ¥é”™å¯¼è‡´æ— æ³•å¯åŠ¨, ä¸èƒ½ç›´æ¥é€šè¿‡ Rancher æŸ¥çœ‹æ–‡ä»¶ç»“æ„, æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡ä»¶æ‹·è´çš„æ–¹å¼æ¥è§£å†³, å¦‚ä¸‹: # ä¸‹è½½æœ‰é—®é¢˜çš„é•œåƒ, å¹¶ä¸”åˆ›å»ºå®¹å™¨(ä¸å¯åŠ¨) docker create -it --name dumy 10.188.132.123:5000/lemes-cloud/lemes-gateway:develop-202312111536 bash # ç›´æ¥æ‹·è´å®¹å™¨å†…çš„æˆ‘ä»¬æƒ³è¦çœ‹çš„ç›®å½• docker cp dumy:/data . åˆ°æœ¬åœ°å, å°±å¯ä»¥é€šè¿‡åˆé€‚çš„å·¥å…·æŸ¥æ‰¾ JarLauncher æ–‡ä»¶, æˆ‘è¿™é‡Œé€šè¿‡ vim æ¥å¯»æ‰¾, å¦‚ä¸‹å›¾: å‘ç°æ¯”åŸæ¥å¤šäº†ä¸€å±‚ç›®å½• launch, æ‰€ä»¥é—®é¢˜å°±å‘ç”Ÿåœ¨è¿™é‡Œäº†. è§£å†³æ–¹æ¡ˆæˆ‘ä»¬åœ¨æ‰“åŒ…è„šæœ¬ JenkinsCommon.groovy ä¸­æ ¹æ®å½“å‰æ‰“åŒ…çš„ JDK ç‰ˆæœ¬æ¥åˆ¤æ–­ä½¿ç”¨çš„å¯åŠ¨ç±»è·¯å¾„, å¦‚ä¸‹: å†æ¬¡æ‰“åŒ…, åº”ç”¨æ­£å¸¸å¯åŠ¨. ReferenceJarLauncher","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"},{"name":"spring-boot","slug":"spring-boot","permalink":"http://yelog.org/tags/spring-boot/"}]},{"title":"ideavim ä½¿ç”¨ç™¾åˆ†å·%æ”¯æŒxmlçš„å¯¹åº”æ ‡ç­¾è·³è½¬","slug":"idea-tips-percent-match-xml","date":"2023-06-17T08:09:00.000Z","updated":"2024-07-05T11:10:22.475Z","comments":true,"path":"2023/06/17/idea-tips-percent-mach-xml/","permalink":"http://yelog.org/2023/06/17/idea-tips-percent-mach-xml/","excerpt":"","text":"å‰è¨€ç”±äºæœ€è¿‘å‡ å¹´ä½¿ç”¨ vim çš„é¢‘ç‡è¶Šæ¥è¶Šé«˜, æ‰€ä»¥åœ¨ idea ä¸­ä¹Ÿå¤§é‡å¼€å§‹ä½¿ç”¨ vim æŠ€å·§, åœ¨ä¸€å¹´å¤šå‰ç¢°åˆ°ä¸ªé—®é¢˜, ç»ˆäºåœ¨æœ€è¿‘è§£å†³äº†ã€‚ é—®é¢˜æè¿°åœ¨ idea ä¸­, åœ¨ normal æ¨¡å¼ä¸‹, ä½¿ç”¨ % ä¸èƒ½åœ¨åŒ¹é…æ ‡ç­¾(xml&#x2F;htmlç­‰) ä¹‹é—´è·³è½¬ è§£å†³æ–¹æ¡ˆåœ¨ ~/.ideavimrc ä¸­æ·»åŠ å¦‚ä¸‹è®¾ç½®, é‡å¯ idea å³å¯ set matchit æ•ˆæœ æœ€åæœ€è¿‘ä¼šæŠŠä¸€äº›åŠ çš„ tips åˆ†äº«å‡ºæ¥ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®å’Œé—®é¢˜éƒ½å¯ä»¥åœ¨è¯„è®ºåŒºè®¨è®º.","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"IDEA","slug":"å·¥å…·/IDEA","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/IDEA/"}],"tags":[{"name":"efficiency","slug":"efficiency","permalink":"http://yelog.org/tags/efficiency/"},{"name":"vim","slug":"vim","permalink":"http://yelog.org/tags/vim/"},{"name":"IntellijIDEA","slug":"IntellijIDEA","permalink":"http://yelog.org/tags/IntellijIDEA/"}]},{"title":"Raycast æœ€å¼ºæ•ˆç‡è½¯ä»¶æ¨è","slug":"mac-raycast","date":"2023-05-17T09:45:00.000Z","updated":"2024-07-05T11:10:22.335Z","comments":true,"path":"2023/05/17/mac-raycast/","permalink":"http://yelog.org/2023/05/17/mac-raycast/","excerpt":"","text":"è½¯ä»¶ä»‹ç» æœ€è¿‘åœ¨å¾ˆå¤šå¹³å°ä¸Šçœ‹åˆ° Raycast çš„æ¨èæ–‡ç« , ä»Šå¤©å°±å°è¯•äº†ä¸€ä¸‹, å‘ç°ç¡®å®ä¸é”™, å®Œå…¨å¯ä»¥æ›¿ä»£æˆ‘ç›®å‰å¯¹ Alfred çš„ä½¿ç”¨, ç”šè‡³å¾ˆå¤šåœ°æ–¹åšå¾—æ›´å¥½, æ‰€ä»¥æœ¬æ–‡å°±æ˜¯ä»‹ç»æˆ‘ä½¿ç”¨ Raycast çš„ä¸€äº›æ•ˆæœ(å¤šå›¾é¢„è­¦)ï¼Œ æ–¹ä¾¿é‚£äº›è¿˜æ²¡æœ‰æ¥è§¦è¿™ä¸ªè½¯ä»¶çš„äººå¯¹å®ƒæœ‰ä¸ªäº†è§£, å¦‚æœæœ‰æ’ä»¶æ¨è, æ¬¢è¿åœ¨è¯„è®ºåŒºè¿›è¡Œè®¨è®ºã€‚ Raycast æ˜¯ MacMac å¹³å°ç‹¬å çš„æ•ˆç‡å·¥å…·, ä¸»è¦åŒ…å«å¦‚ä¸‹åŠŸèƒ½: åº”ç”¨å¯åŠ¨ æ–‡ä»¶æŸ¥æ‰¾ çª—å£ç®¡ç† å‰ªè´´æ¿å†å² Snippets åº”ç”¨èœå•æŸ¥è¯¢ æ’ä»¶æ‰©å±•åŠŸèƒ½ ç¿»è¯‘ æ–—å›¾ ç»“æŸè¿›ç¨‹ æŸ¥è¯¢ç«¯å£å ç”¨ æŸ¥è¯¢ip é™¤æ­¤ä¹‹å¤–, Raycastæä¾›çš„åœ¨çº¿æ’ä»¶å•†åº—, å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡ŒåŠŸèƒ½æ‰©å±• Raycastå®˜ç½‘ æ ¸å¿ƒåŠŸèƒ½åº”ç”¨å¯åŠ¨ å¹¶ä¸”æ”¯æŒå¸è½½åº”ç”¨, æ‰¾åˆ°åº”ç”¨, cmd+k æ‰“å¼€æ“ä½œèœå•, ä¸‹æ‹‰åˆ°æœ€å æ–‡ä»¶æŸ¥æ‰¾ çª—å£ç®¡ç† å‰ªè´´æ¿å†å²æ¨èä½¿ç”¨ Clipboard History è¿™ä¸ªæ‰©å±•ï¼Œå’Œ Alfred çš„ä¸€æ ·, å¹¶ä¸”æœ‰åˆ†ç±»ï¼Œæ•ˆæœå¦‚ä¸‹ è®¾ç½®å¿«æ·é”® cmd+shift+v Snippetsé€šè¿‡ Snippets å¯ä»¥ä¿å­˜è‡ªå®šä¹‰ç‰‡æ®µ, é€šè¿‡å…³é”®å­—å¿«é€ŸæŸ¥è¯¢å¹¶è¾“å‡ºåˆ°å…‰æ ‡å¤„, å¦‚å¸¸ç”¨è¯­ã€ é‚®ç®±ã€æ‰‹æœºå·ã€ç¨å·ã€ä»£ç ç‰‡æ®µç­‰ç­‰ åˆ›å»º Snippets å¯ä»¥é€šè¿‡æœç´¢ Create Snippet, æœç´¢ Snippets å¯ä»¥é€šè¿‡æœç´¢Search Snippet åº”ç”¨èœå•æŸ¥è¯¢æŸ¥è¯¢å½“å‰æ¿€æ´»åº”ç”¨çš„æ‰€æœ‰èœå•, ä¸é™å±‚çº§. å¯ä»¥é€šè¿‡æœç´¢ Search Menu Items æ¥æŸ¥è¯¢ã€‚ æ¨èæ’ä»¶Easydict(ç¿»è¯‘è½¯ä»¶)è¶…å¼ºçš„ç¿»è¯‘è½¯ä»¶ï¼Œ å®Œç¾æ›¿ä»£æˆ‘åœ¨ Alfred çš„ workflow ä¸­é…ç½®çš„æœ‰é“ç¿»è¯‘, æˆ‘é…ç½®äº†å¦‚ä¸‹åŠŸèƒ½ è¾“å…¥ä¸­æ–‡, è‡ªåŠ¨ç¿»è¯‘æˆè‹±æ–‡ è¾“å…¥è‹±æ–‡, è‡ªåŠ¨ç¿»è¯‘æˆä¸­æ–‡ æ”¯æŒä¸€é”®å‘éŸ³ Open AI ç¿»è¯‘é•¿æ–‡æœ¬ Doutuè¡¨æƒ…åŒ…æŸ¥è¯¢ï¼Œé€‰ä¸­å›è½¦å°±å¤åˆ¶åˆ°å‰ªè´´æ¿äº†ï¼Œ å°±å¯ä»¥ç²˜è´´åˆ° Discord&#x2F;QQ&#x2F;Wechat æ–—å›¾äº†, éå¸¸æ–¹ä¾¿ã€‚ Kill Processå…³é”®å­—æŸ¥è¯¢, å¹¶ä¸€é”®ç»“æŸè¿›ç¨‹ Kill PortæŸ¥è¯¢ç«¯å£å ç”¨çš„è¿›ç¨‹, å¹¶æ”¯æŒä¸€é”®ç»“æŸè¿›ç¨‹ MyIpæŸ¥è¯¢å½“å‰ip","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://yelog.org/tags/mac/"},{"name":"efficiency","slug":"efficiency","permalink":"http://yelog.org/tags/efficiency/"}]},{"title":"[Java]é€šè¿‡ CompletableFuture å®ç°å¼‚æ­¥å¤šçº¿ç¨‹ä¼˜åŒ–è¯·æ±‚å¤„ç†é€Ÿåº¦","slug":"CompletableFuture","date":"2022-08-01T12:06:14.000Z","updated":"2024-07-05T11:10:22.719Z","comments":true,"path":"2022/08/01/[Java]optimize-request-processing-speed-by-completablefuture/","permalink":"http://yelog.org/2022/08/01/[Java]optimize-request-processing-speed-by-completablefuture/","excerpt":"","text":"é›¶ã€èƒŒæ™¯æˆ‘ä»¬åœ¨å†™åç«¯è¯·æ±‚çš„æ—¶å€™, å¯èƒ½æ¶‰åŠå¤šæ¬¡ SQL æ‰§è¡Œ(æˆ–å…¶ä»–æ“ä½œ), å½“è¿™äº›è¯·æ±‚ç›¸äº’ä¸å…³è”, åœ¨é¡ºåºæ‰§è¡Œæ—¶å°±æµªè´¹äº†æ—¶é—´, è¿™äº›ä¸éœ€è¦å…ˆåé¡ºåºçš„æ“ä½œå¯ä»¥é€šè¿‡å¤šçº¿ç¨‹è¿›è¡ŒåŒæ—¶æ‰§è¡Œ, æ¥åŠ é€Ÿæ•´ä¸ªé€»è¾‘çš„æ‰§è¡Œé€Ÿåº¦. æ—¢ç„¶æœ‰äº†ç›®æ ‡å’Œå¤§è‡´æ€è·¯, å¦‚æœæœ‰åšè¿‡å‰ç«¯çš„å°ä¼™ä¼´åº”è¯¥èƒ½æƒ³èµ·æ¥ Js é‡Œé¢æœ‰ä¸ª Promise.all æ¥è§£å†³è¿™ä¸ªé—®é¢˜, åœ¨ Java é‡Œä¹Ÿæœ‰ç±»ä¼¼åŠŸèƒ½çš„ç±» CompletableFuture , å®ƒå¯ä»¥å®ç°å¤šçº¿ç¨‹å’Œçº¿ç¨‹é˜»å¡, è¿™æ ·èƒ½å¤Ÿä¿è¯ç­‰å¾…å¤šä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆåå†ç»§ç»­æ“ä½œ. ä¸€ã€CompletableFuture æ˜¯ä»€ä¹ˆé¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ CompletableFuture æ˜¯å¹²ä»€ä¹ˆ, æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ç®€å•çš„ç¤ºä¾‹æ¥ä»‹ç»ä»–çš„ä½œç”¨. long startTime = System.currentTimeMillis(); //ç”Ÿæˆå‡ ä¸ªä»»åŠ¡ List&lt;CompletableFuture&lt;String&gt;&gt; futureList = new ArrayList&lt;&gt;(); futureList.add(CompletableFuture.supplyAsync(()-&gt;&#123; sleep(4000); System.out.println(&quot;ä»»åŠ¡1 å®Œæˆ&quot;); return &quot;ä»»åŠ¡1çš„æ•°æ®&quot;; &#125;)); futureList.add(CompletableFuture.supplyAsync(()-&gt;&#123; sleep(2000); System.out.println(&quot;ä»»åŠ¡2 å®Œæˆ&quot;); return &quot;ä»»åŠ¡2çš„æ•°æ®&quot;; &#125;)); futureList.add(CompletableFuture.supplyAsync(()-&gt;&#123; sleep(3000); System.out.println(&quot;ä»»åŠ¡3 å®Œæˆ&quot;); return &quot;ä»»åŠ¡3çš„æ•°æ®&quot;; &#125;)); //å®Œæˆä»»åŠ¡ CompletableFuture&lt;Void&gt; allTask = CompletableFuture.allOf(futureList.toArray(new CompletableFuture[0])) .whenComplete((t, e) -&gt; &#123; System.out.println(&quot;æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼Œ è¿”å›ç»“æœé›†: &quot; + futureList.stream().map(CompletableFuture::join).collect(Collectors.joining(&quot;,&quot;))); &#125;); // é˜»å¡ä¸»çº¿ç¨‹ allTask.join(); System.out.println(&quot;main end, cost: &quot; + (System.currentTimeMillis() - startTime)); æ‰§è¡Œç»“æœ ä»»åŠ¡2 å®Œæˆ ä»»åŠ¡3 å®Œæˆ ä»»åŠ¡1 å®Œæˆ æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼Œ è¿”å›ç»“æœé›†: ä»»åŠ¡1çš„æ•°æ®,ä»»åŠ¡2çš„æ•°æ®,ä»»åŠ¡3çš„æ•°æ® main end, cost: 4032 ç»“æœåˆ†æ: æˆ‘ä»¬éœ€è¦æ‰§è¡Œ3ä¸ªä»»åŠ¡, 3ä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œ, äº’ä¸å½±å“ å…¶ä¸­ä»»åŠ¡2è€—æ—¶æœ€çŸ­,æå‰æ‰“å°å®Œæˆ å…¶æ¬¡æ˜¯ä»»åŠ¡3 æœ€åæ˜¯æ‰§è¡Œ1å®Œæˆ å½“æ‰€æœ‰ä»»åŠ¡å®Œæˆå, è§¦å‘ whenComplete æ–¹æ³•, æ‰“å°ä»»åŠ¡çš„è¿”å›ç»“æœ æœ€åæ‰“å°æ€»è€—æ—¶ä¸º 4.032s ç»“è®º: å¤šçº¿ç¨‹æ‰§è¡Œå, è€—æ—¶å–å†³äºæœ€è€—æ—¶çš„æ“ä½œ, è€Œå•çº¿ç¨‹æ˜¯æ‰€æœ‰æ“ä½œè€—æ—¶ä¹‹å’Œ äºŒã€å°è£…å·¥å…·ç±»ç»è¿‡ä¸Šé¢çš„æµ‹è¯•, é€šè¿‡ CompletableFuture å·²ç»èƒ½å¤Ÿå®ç°æˆ‘ä»¬çš„é¢„æƒ³, ä¸ºäº†æ“ä½œæ–¹ä¾¿, æˆ‘ä»¬å°†å°è£…èµ·æ¥, ä¾¿äºç»Ÿä¸€ç®¡ç† package org.yelog.java.usage.concurrent; import java.util.ArrayList; import java.util.List; import java.util.concurrent.CompletableFuture; import java.util.function.Consumer; import java.util.function.Function; import java.util.function.Predicate; /** * æ‰§è¡Œå¹¶å‘ä»»åŠ¡ * * @author yangyj13 * @date 11/7/22 9:49 PM */ public class MultiTask&lt;T&gt; &#123; private List&lt;CompletableFuture&lt;T&gt;&gt; futureList; /** * æ·»åŠ å¾…æ‰§è¡Œçš„ä»»åŠ¡ * * @param completableFuture ä»»åŠ¡ * @return å½“å‰å¯¹è±¡ */ public MultiTask&lt;T&gt; addTask(CompletableFuture&lt;T&gt; completableFuture) &#123; if (futureList == null) &#123; futureList = new ArrayList&lt;&gt;(); &#125; futureList.add(completableFuture); return this; &#125; /** * æ·»åŠ å¾…æ‰§è¡Œçš„ä»»åŠ¡(æ— è¿”å›) * * @param task ä»»åŠ¡ * @return å½“å‰å¯¹è±¡ */ public MultiTask&lt;T&gt; addTask(Consumer&lt;T&gt; task) &#123; addTask(CompletableFuture.supplyAsync(() -&gt; &#123; task.accept(null); return null; &#125;)); return this; &#125; /** * æ·»åŠ å¾…æ‰§è¡Œçš„ä»»åŠ¡(æœ‰è¿”å›) * * @param task ä»»åŠ¡ * @return å½“å‰å¯¹è±¡ */ public MultiTask&lt;T&gt; addTask(Function&lt;Object, T&gt; task) &#123; addTask(CompletableFuture.supplyAsync(() -&gt; task.apply(null))); return this; &#125; /** * å¼€å§‹æ‰§è¡Œä»»åŠ¡ * * @param callback å½“æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆåè§¦å‘çš„å›è°ƒæ–¹æ³• * @param waitTaskExecuteComplete æ˜¯å¦é˜»å¡ä¸»çº¿ç¨‹ */ private void execute(Consumer&lt;List&lt;T&gt;&gt; callback, Boolean waitTaskExecuteComplete) &#123; CompletableFuture&lt;Void&gt; allFuture = CompletableFuture.allOf(futureList.toArray(new CompletableFuture[0])) .whenComplete((t, e) -&gt; &#123; if (callback != null) &#123; List&lt;T&gt; objectList = new ArrayList&lt;&gt;(); futureList.forEach((future) -&gt; &#123; objectList.add(future.join()); &#125;); callback.accept(objectList); &#125; &#125;); if (callback != null || waitTaskExecuteComplete == null || waitTaskExecuteComplete) &#123; allFuture.join(); &#125; &#125; /** * å¼€å§‹æ‰§è¡Œä»»åŠ¡ * ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼ˆé˜»å¡ä¸»çº¿ç¨‹ï¼‰ */ public void execute() &#123; execute(null, true); &#125; /** * å¼€å§‹æ‰§è¡Œä»»åŠ¡ * * @param waitTaskExecuteComplete æ˜¯å¦é˜»å¡ä¸»çº¿ç¨‹ */ public void execute(Boolean waitTaskExecuteComplete) &#123; execute(null, waitTaskExecuteComplete); &#125; /** * å¼€å§‹æ‰§è¡Œä»»åŠ¡ * * @param callback å½“æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆåè§¦å‘çš„å›è°ƒæ–¹æ³• */ public void execute(Consumer&lt;List&lt;T&gt;&gt; callback) &#123; execute(callback, true); &#125; &#125; é‚£ä¹ˆä¸Šä¸€æ­¥æˆ‘ä»¬æµ‹è¯•çš„æµç¨‹è½¬æ¢æˆå·¥å…·ç±»åå¦‚ä¸‹ long startTime = System.currentTimeMillis(); MultiTask&lt;String&gt; multiTask = new MultiTask&lt;&gt;(); multiTask.addTask(t -&gt; &#123; sleep(1000); System.out.println(&quot;ä»»åŠ¡1 å®Œæˆ&quot;); &#125;).addTask(t -&gt; &#123; sleep(3000); System.out.println(&quot;ä»»åŠ¡2 å®Œæˆ&quot;); &#125;).addTask(CompletableFuture.supplyAsync(()-&gt;&#123; sleep(2000); System.out.println(&quot;ä»»åŠ¡3 å®Œæˆ&quot;); return &quot;ä»»åŠ¡3çš„æ•°æ®&quot;; &#125;)).execute(resultList-&gt;&#123; System.out.println(&quot;all complete: &quot; + resultList); &#125;); System.out.println(&quot;main end, cost: &quot; + (System.currentTimeMillis() - startTime)); ä¸‰ã€åº”ç”¨åˆ°å®é™…çš„æ•ˆæœæ‰§è¡Œä¸¤æ¬¡æ•°æ®åº“çš„æ“ä½œå¦‚ä¸‹ public interface TestMapper &#123; @Select(&quot;select count(*) from test_user where score &lt; 1000 and user_id = #&#123;userId&#125;&quot;) int countScoreLess1000(Integer userId); @Select(&quot;select count(1) from test_log where success = true and user_id = #&#123;userId&#125;&quot;) int countSuccess(Integer userId); &#125; è°ƒç”¨æ–¹æ³•: long start = System.currentTimeMillis(); testMapper.countScoreLess1000(userId); long countScoreLess1000End = System.currentTimeMillis(); log.info(&quot;countScoreLess1000 cost: &quot; + (countScoreLess1000End - start)); testMapper.countSuccess(userId); long countSuccessEnd = System.currentTimeMillis(); log.info(&quot;countSuccess cost: &quot; + (countSuccessEnd - countScoreLess1000End)); log.info(&quot;all cost: &quot; + (countSuccessEnd - start)); é¡ºåºæ‰§è¡Œçš„å¹³å‡æ—¶é—´å¦‚ä¸‹ countScoreLess1000 cost: 368 countSuccess cost: 404 all cost: 772 å½“æˆ‘ä»¬åº”ç”¨çš„ä¸Šé¢çš„å·¥å…·ç±»åçš„è°ƒç”¨æ–¹æ³• MultiTask multiTask = new MultiTask&lt;&gt;(); multiTask.addTask(t -&gt; &#123; testMapper.countScoreLess1000(userId); log.info(&quot;countScoreLess1000 cost: &quot; + (System.currentTimeMillis() - start)); &#125;).addTask(t -&gt; &#123; testMapper.countSuccess(userId); log.info(&quot;countSuccess cost: &quot; + (System.currentTimeMillis() - start)); &#125;).execute(); log.info(&quot;all cost: &quot; + (System.currentTimeMillis() - start)); æ•ˆæœå¦‚ä¸‹ countScoreLess1000 cost: 433 countSuccess cost: 463 all cost: 464 å¯ä»¥çœ‹åˆ°å„å­ä»»åŠ¡æ‰§è¡Œæ—¶é•¿æ˜¯å·®ä¸å¤šçš„, ä½†æ˜¯æ€»è€—æ—¶ä½¿ç”¨å¤šçº¿ç¨‹åæœ‰äº†æ˜æ˜¾ä¸‹é™ å››ã€æ€»ç»“é€šè¿‡ä½¿ç”¨ CompletableFuture å®ç°å¤šçº¿ç¨‹é˜»å¡æ‰§è¡Œå, å¤§å¹…é™ä½è¿™ç±»è¯·æ±‚, å¹¶ä¸”å½“å¯ä»¥å¼‚æ­¥æ‰§è¡Œçš„å­ä»»åŠ¡è¶Šå¤š, æ•ˆæœè¶Šæ˜æ˜¾.","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"concurrent","slug":"concurrent","permalink":"http://yelog.org/tags/concurrent/"}]},{"title":"åŸºäº nacos/ç°åº¦å‘å¸ƒ å®ç°å‡å°‘æœ¬åœ°å¯åŠ¨å¾®æœåŠ¡æ•°é‡çš„å®è·µ","slug":"reducing-local-springcloud-base-on-nacos-and-gray-release","date":"2022-08-01T12:06:14.000Z","updated":"2024-07-05T11:10:22.654Z","comments":true,"path":"2022/08/01/reducing-local-springcloud-base-on-nacos-and-gray-release/","permalink":"http://yelog.org/2022/08/01/reducing-local-springcloud-base-on-nacos-and-gray-release/","excerpt":"","text":"ä¸€ã€èƒŒæ™¯åå°æ¡†æ¶æ˜¯åŸºäº spring cloud çš„å¾®æœåŠ¡ä½“ç³», å½“å¼€å‘åŒå­¦åœ¨è‡ªå·±ç”µè„‘ä¸Šè¿›è¡Œå¼€å‘å·¥ä½œæ—¶, æ¯”å¦‚å¼€å‘è®¢å•æ¨¡å—, é™¤äº†éœ€è¦å¯åŠ¨è®¢å•æ¨¡å—å¤–, è¿˜éœ€è¦å¯åŠ¨ç½‘å…³æ¨¡å—ã€æƒé™æ ¡éªŒæ¨¡å—ã€å…¬å…±æœåŠ¡æ¨¡å—ç­‰ä¾èµ–æ¨¡å—, éå¸¸æ¶ˆè€—å¼€å‘åŒå­¦çš„æœ¬åœ°ç”µè„‘çš„èµ„æº, ä¹ŸåŠå…¶æµªè´¹æ—¶é—´. äºŒã€è§£å†³æ–¹æ¡ˆ2.1 ç›®æ ‡å’Œå…³é”®é—®é¢˜èƒ½ä¸èƒ½å¼€å‘åŒå­¦æœ¬åœ°åªéœ€è¦å¯åŠ¨éœ€è¦å¼€å‘çš„æ¨¡å—:è®¢å•æ¨¡å—, å…¶ä»–æ¨¡å—å‡é€‚ç”¨æµ‹è¯•ç¯å¢ƒä¸­æ­£åœ¨è¿è¡Œçš„æœåŠ¡. æ—¢ç„¶è¦å®ç°çš„ç›®æ ‡æœ‰äº†, æˆ‘ä»¬å°±å¼€å§‹ç ”ç©¶å¯è¡Œæ€§å’Œå…³é”®é—®é¢˜ å¼€å‘ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒè¦åœ¨åŒä¸€ä¸ª nacos çš„ namespace ä¸­, è¿™æ ·æ‰æœ‰å¯èƒ½è®©å¼€å‘ç¯å¢ƒè°ƒç”¨åˆ°æµ‹è¯•ç¯å¢ƒçš„æœåŠ¡. æµ‹è¯•ç¯å¢ƒåªèƒ½è°ƒç”¨æµ‹è¯•ç¯å¢ƒçš„å¾®æœåŠ¡, å®ç°å’Œå¼€å‘ç¯å¢ƒçš„æœåŠ¡éš”ç¦» å¼€å‘åŒå­¦ä¹‹é—´çš„å¾®æœåŠ¡ä¹Ÿè¦å®ç°æœåŠ¡éš”ç¦» 2.2 æ€è·¯æ—¢è¦åœ¨åŒä¸€ä¸ª namespace ä¸‹, åˆè¦èƒ½å¤Ÿå®ç°ä¸åŒäººè®¿é—®ä¸åŒçš„å‰¯æœ¬, å¾ˆå®¹æ˜“æƒ³åˆ°å¯ä»¥åˆ©ç”¨ç°åº¦å‘å¸ƒæ¥å®ç°: æµ‹è¯•ç¯å¢ƒè®¾ç½® metadata lemes-env=product æ¥æ ‡è¯†æµ‹è¯•ç¯å¢ƒå‰¯æœ¬, ç”¨äºåŒºåˆ†å¼€å‘ç¯å¢ƒçš„å¾®æœåŠ¡æµ‹æµ‹è¯•ç¯å¢ƒçš„å¾®æœåŠ¡ å¼€å‘åŒå­¦æœ¬åœ°å¯åŠ¨æ³¨å†Œå¼€å‘ç¯å¢ƒå‰¯æœ¬, éƒ½ä¼šæºå¸¦å”¯ä¸€IP, åˆ™æˆ‘ä»¬å¯ä»¥é€šè¿‡IPæ¥åŒºåˆ†ä¸åŒå¼€å‘åŒå­¦çš„å‰¯æœ¬ å‡è®¾æˆ‘ä»¬éœ€è¦å¼€å‘çš„ API çš„åå°æœåŠ¡è°ƒç”¨é“¾æ¡å¦‚ä¸‹: æˆ‘ä»¬éœ€è¦å¼€å‘çš„ API ä¸º /addMo, æ‰“ç®—å†™åœ¨ Order è¿™ä¸ªå¾®æœåŠ¡é‡Œé¢, å¹¶ä¸”ä»–ä¼šè°ƒç”¨ common è¿™ä¸ªå¾®æœåŠ¡çš„ /getDict è·å–ä¸€ä¸ªå­—å…¸æ•°æ®, /getDict æ˜¯ç°æˆçš„, ä¸éœ€è¦å¼€å‘, å¦‚æœæ˜¯ä¹‹å‰çš„æƒ…å†µ, å¼€å‘æœ¬åœ°è‡³å°‘éœ€è¦å¯åŠ¨5ä¸ªå¾®æœåŠ¡æ‰èƒ½è¿›è¡Œè°ƒè¯•. ä¸‰ã€å…·ä½“å®ç°3.1 æµ‹è¯•ç¯å¢ƒè®¾ç½® metadataç”±äºæµ‹è¯•ç¯å¢ƒéƒ½æ˜¯é€šè¿‡å®¹å™¨éƒ¨ç½²çš„, é‚£ä¹ˆå¯åŠ¨æ–¹å¼å°±æ˜¯ä¸‹é¢å®¹å™¨ä¸­çš„ CMD, æˆ‘ä»¬åœ¨å…¶ä¸­åŠ å…¥ -Dspring.cloud.nacos.discovery.metadata.lemes-env=product, ç”¨äºåŒºåˆ†å¼€å‘ç¯å¢ƒçš„å¾®æœåŠ¡æµ‹æµ‹è¯•ç¯å¢ƒçš„å¾®æœåŠ¡ # è¯´æ˜ï¼šDockerfile è¿‡ç¨‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ç¬¬ä¸€æ¬¡ç”¨æ¥è§£å‹ jar åŒ…ï¼Œå¹¶ä¸ä¼šåœ¨ç›®æ ‡é•œåƒå†…äº§ç”Ÿ history/layerã€‚ç¬¬äºŒéƒ¨åˆ†å°†è§£å‹å†…å®¹åˆ† layer æ‹·è´åˆ°ç›®æ ‡é•œåƒå†… # ç›®çš„ï¼šæ›´æ–°é•œåƒæ—¶ï¼Œåªéœ€è¦ä¼ è¾“ä»£ç éƒ¨åˆ†ï¼Œä¾èµ–æ²¡æœ‰å˜åŠ¨åˆ™ä¸æ›´æ–°ï¼ŒèŠ‚çœå‘åŒ…æ—¶çš„ç½‘ç»œä¼ è¾“é‡ # åŸç†ï¼šåœ¨ç¬¬äºŒéƒ¨åˆ†ä¸­ï¼Œæ¯æ¬¡ copy å°±ä¼šåœ¨ç›®æ ‡é•œåƒå†…äº§ç”Ÿä¸€å±‚ layerï¼Œå°†ä¾èµ–å’Œä»£ç åˆ†å¼€ï¼Œ # ç»å¤§éƒ¨åˆ†æ›´æ–°éƒ½ä¸ä¼šåŠ¨åˆ°ä¾èµ–ï¼Œæ‰€ä»¥åªéœ€æ›´æ–°ä»£ç å‡ åkå·¦å³çš„ä»£ç å±‚å³å¯ FROM 10.176.66.20:5000/library/amazoncorretto:11.0.11 as builder WORKDIR /build ARG ARTIFACT_ID COPY target/$&#123;ARTIFACT_ID&#125;.jar app.jar RUN java -Djarmode=layertools -jar app.jar extract &amp;&amp; rm app.jar FROM 10.176.66.20:5000/library/amazoncorretto:11.0.11 LABEL maintainer=&quot;yangyj13@lenovo.com&quot; WORKDIR /data ARG ARTIFACT_ID ENV ARTIFACT_ID $&#123;ARTIFACT_ID&#125; # ä¾èµ– COPY --from=builder /build/dependencies/ ./ COPY --from=builder /build/snapshot-dependencies/ ./ COPY --from=builder /build/spring-boot-loader/ ./ # åº”ç”¨ä»£ç  COPY --from=builder /build/application/ ./ # å®¹å™¨è¿è¡Œæ—¶å¯åŠ¨å‘½ä»¤ CMD echo &quot;NACOS_ADDR: $&#123;NACOS_ADDR&#125;&quot;; \\ echo &quot;JAVA_OPTS: $&#123;JAVA_OPTS&#125;&quot;; \\ echo &quot;TZ: $&#123;TZ&#125;&quot;; \\ echo &quot;ARTIFACT_ID: $&#123;ARTIFACT_ID&#125;&quot;; \\ # å»é™¤äº† server çš„åº”ç”¨å REAL_APP_NAME=$&#123;ARTIFACT_ID//-server/&#125;; \\ echo &quot;REAL_APP_NAME: $&#123;REAL_APP_NAME&#125;&quot;; \\ # è·å–å½“å‰æ—¶é—´ now=`date +%F+%T+%Z`; \\ # java å¯åŠ¨å‘½ä»¤ java $JAVA_OPTS \\ -Dtingyun.app_name=$&#123;REAL_APP_NAME&#125;-$&#123;TINGYUN_SUFFIX&#125; \\ -Dspring.cloud.nacos.discovery.metadata.lemes-env=product \\ -Dspring.cloud.nacos.discovery.metadata.startup-time=$&#123;now&#125; \\ -Dspring.cloud.nacos.discovery.server-addr=$&#123;NACOS_ADDR&#125; \\ -Dspring.cloud.nacos.discovery.group=$&#123;NACOS_GROUP&#125; \\ -Dspring.cloud.nacos.config.namespace=$&#123;NACOS_NAMESPACE&#125; \\ -Dspring.cloud.nacos.discovery.namespace=$&#123;NACOS_NAMESPACE&#125; \\ -Dspring.cloud.nacos.discovery.ip=$&#123;HOST_IP&#125; \\ org.springframework.boot.loader.JarLauncher 3.2 å¼€å‘å‰ç«¯ä¼ é€’å¼€å¯æ™ºèƒ½è¿æ¥const devIp = getLocalIP(&#39;10.&#39;) module.exports = &#123; devServer: &#123; proxy: &#123; &#39;/lemes-api&#39;: &#123; target: &#39;http://10.176.66.58/lemes-api&#39;, ws: true, pathRewrite: &#123; &#39;^/lemes-api&#39;: &#39;/&#39; &#125;, headers: &#123; &#39;dev-ip&#39;: devIp, &#39;dev-sc&#39;: &#39;true&#39; &#125; &#125; &#125; &#125;, &#125; // è·å–æœ¬æœº IP function getLocalIP(prefix) &#123; const excludeNets = [&#39;docker&#39;, &#39;cni&#39;, &#39;flannel&#39;, &#39;vi&#39;, &#39;ve&#39;] const os = require(&#39;os&#39;) const osType = os.type() // ç³»ç»Ÿç±»å‹ const netInfo = os.networkInterfaces() // ç½‘ç»œä¿¡æ¯ const ipList = [] if (prefix) &#123; for (const netInfoKey in netInfo) &#123; if (excludeNets.filter(item =&gt; netInfoKey.startsWith(item)).length === 0) &#123; for (let i = 0; i &lt; netInfo[netInfoKey].length; i++) &#123; const net = netInfo[netInfoKey][i] if (net.family === &#39;IPv4&#39; &amp;&amp; net.address.startsWith(prefix)) &#123; ipList.push(net.address) &#125; &#125; &#125; &#125; &#125; if (ipList.length === 0) &#123; if (osType === &#39;Windows_NT&#39;) &#123; for (const dev in netInfo) &#123; // win7çš„ç½‘ç»œä¿¡æ¯ä¸­æ˜¾ç¤ºä¸ºæœ¬åœ°è¿æ¥ï¼Œwin10æ˜¾ç¤ºä¸ºä»¥å¤ªç½‘ if (dev === &#39;æœ¬åœ°è¿æ¥&#39; || dev === &#39;ä»¥å¤ªç½‘&#39;) &#123; for (let j = 0; j &lt; netInfo[dev].length; j++) &#123; if (netInfo[dev][j].family === &#39;IPv4&#39;) &#123; ipList.push(netInfo[dev][j].address) &#125; &#125; &#125; &#125; &#125; else if (osType === &#39;Linux&#39;) &#123; ipList.push(netInfo.eth0[0].address) &#125; else if (osType === &#39;Darwin&#39;) &#123; ipList.push(netInfo.en0[0].address) &#125; &#125; console.log(&#39;è¯†åˆ«åˆ°çš„ç½‘å¡ä¿¡æ¯&#39;, JSON.stringify(ipList)) return ipList.length &gt; 0 ? ipList[0] : &#39;&#39; &#125; 3.3 åç«¯ç°åº¦å¤„ç†ä¸è®ºæ˜¯ gateway è¿˜æ˜¯ openfeign éƒ½æ˜¯é€šè¿‡ spring çš„ loadbalancer è¿›è¡Œåº”ç”¨é€‰æ‹©çš„, é‚£æˆ‘ä»¬é€šè¿‡å®ç°æˆ–è€…ç»§æ‰¿ ReactorServiceInstanceLoadBalancer æ¥é‡å†™é€‰æ‹©çš„è¿‡ç¨‹. @Log4j2 public class LemesLoadBalancer implements ReactorServiceInstanceLoadBalancer&#123; @Autowired private NacosDiscoveryProperties nacosDiscoveryProperties; final AtomicInteger position; // loadbalancer æä¾›çš„è®¿é—®å½“å‰æœåŠ¡çš„åç§° final String serviceId; // loadbalancer æä¾›çš„è®¿é—®çš„æœåŠ¡åˆ—è¡¨ ObjectProvider&lt;ServiceInstanceListSupplier&gt; serviceInstanceListSupplierProvider; public LemesLoadBalancer(ObjectProvider&lt;ServiceInstanceListSupplier&gt; serviceInstanceListSupplierProvider, String serviceId) &#123; this(serviceInstanceListSupplierProvider, serviceId, new Random().nextInt(1000)); &#125; public LemesLoadBalancer(ObjectProvider&lt;ServiceInstanceListSupplier&gt; serviceInstanceListSupplierProvider, String serviceId, int seedPosition) &#123; this.serviceId = serviceId; this.serviceInstanceListSupplierProvider = serviceInstanceListSupplierProvider; this.position = new AtomicInteger(seedPosition); &#125; @Override public Mono&lt;Response&lt;ServiceInstance&gt;&gt; choose(Request request) &#123; ServiceInstanceListSupplier supplier = serviceInstanceListSupplierProvider .getIfAvailable(NoopServiceInstanceListSupplier::new); RequestDataContext context = (RequestDataContext) request.getContext(); RequestData clientRequest = context.getClientRequest(); return supplier.get(request).next() .map(serviceInstances -&gt; processInstanceResponse(clientRequest,supplier, serviceInstances)); &#125; private Response&lt;ServiceInstance&gt; processInstanceResponse(RequestData clientRequest,ServiceInstanceListSupplier supplier, List&lt;ServiceInstance&gt; serviceInstances) &#123; Response&lt;ServiceInstance&gt; serviceInstanceResponse = getInstanceResponse(clientRequest,serviceInstances); if (supplier instanceof SelectedInstanceCallback &amp;&amp; serviceInstanceResponse.hasServer()) &#123; ((SelectedInstanceCallback) supplier).selectedServiceInstance(serviceInstanceResponse.getServer()); &#125; return serviceInstanceResponse; &#125; private Response&lt;ServiceInstance&gt; getInstanceResponse(RequestData clientRequest, List&lt;ServiceInstance&gt; instances) &#123; if (instances.isEmpty()) &#123; if (log.isWarnEnabled()) &#123; log.warn(&quot;No servers available for service: &quot; + serviceId); &#125; return new EmptyResponse(); &#125; int pos = Math.abs(this.position.incrementAndGet()); // ç­›é€‰åçš„æœåŠ¡åˆ—è¡¨ List&lt;ServiceInstance&gt; filteredInstances; String devSmartConnect = clientRequest.getHeaders().getFirst(CommonConstants.DEV_SMART_CONNECT); if (StrUtil.equals(devSmartConnect, &quot;true&quot;)) &#123; String devIp = clientRequest.getHeaders().getFirst(CommonConstants.DEV_IP); // devIp ä¸ºç©ºï¼Œä¸ºå¼‚å¸¸æƒ…å†µä¸å¤„ç†ï¼Œè¿”å›ç©ºå®ä¾‹é›†åˆ if (StrUtil.isBlank(devIp)) &#123; log.warn(&quot;devIp is NULL,No servers available for service: &quot; + serviceId); return new EmptyResponse(); &#125; // æ™ºèƒ½è¿æ¥: å¦‚æœæœ¬åœ°å¯åŠ¨äº†æœåŠ¡ï¼Œåˆ™ä¼˜å…ˆè®¿é—®æœ¬åœ°æœåŠ¡ï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰å¯åŠ¨ï¼Œåˆ™è®¿é—®æµ‹è¯•ç¯å¢ƒæœåŠ¡ // ä¼˜å…ˆè°ƒç”¨æœ¬åœ°è‡ªæœ‰æœåŠ¡ filteredInstances = instances.stream().filter(item -&gt; StrUtil.equals(devIp, item.getHost())).collect(Collectors.toList()); // å¦‚æœæœ¬åœ°æœåŠ¡æ²¡æœ‰å¼€å¯ï¼Œåˆ™è°ƒç”¨ç”Ÿäº§/æµ‹è¯•æœåŠ¡ if (CollUtil.isEmpty(filteredInstances)) &#123; filteredInstances = instances.stream() .filter(item -&gt; StrUtil.equals(CommonConstants.LEMES_ENV_PRODUCT, item.getMetadata().get(&quot;lemes-env&quot;))) .collect(Collectors.toList()); // è§£å†³å¼€å‘ç¯å¢ƒæ— æ³•è®¿é—® k8s é›†ç¾¤å†… ip çš„é—®é¢˜ String oneNacosIp = nacosDiscoveryProperties.getServerAddr().split(&quot;,&quot;)[0].replaceAll(&quot;:[\\\\s\\\\S]*&quot;, &quot;&quot;); filteredInstances.forEach(item -&gt; &#123; NacosServiceInstance instance = (NacosServiceInstance) item; // cloud ä»¥ 80 ç«¯å£å¯åŠ¨ï¼Œè®¤ä¸ºæ˜¯ k8s å†…çš„åº”ç”¨ if (instance.getPort() == 80) &#123; instance.setHost(oneNacosIp); instance.setPort(Integer.parseInt(item.getMetadata().get(&quot;port&quot;))); &#125; &#125;); &#125; &#125; else &#123; // ä¸æ˜¯æ™ºèƒ½è®¿é—®ï¼Œåˆ™åªè®¿é—®ä¸€ä¸ªç¯å¢ƒ // å½“å‰æœåŠ¡ ip String currentIp = nacosDiscoveryProperties.getIp(); String lemesEnv = nacosDiscoveryProperties.getMetadata().get(&quot;lemes-env&quot;); filteredInstances = instances.stream() .filter(item -&gt; StrUtil.equals(lemesEnv, CommonConstants.LEMES_ENV_PRODUCT) // è®¿é—®æµ‹è¯•ç¯å¢ƒ ? StrUtil.equals(CommonConstants.LEMES_ENV_PRODUCT, item.getMetadata().get(&quot;lemes-env&quot;)) // è®¿é—®å¼€å‘ç¯å¢ƒ : StrUtil.equals(currentIp, item.getHost())) .collect(Collectors.toList()); &#125; if (filteredInstances.isEmpty()) &#123; log.warn(&quot;No oneself servers and beta servers available for service: &quot; + serviceId + &quot;, use other instances&quot;); // æ‰¾ä¸åˆ°è‡ªå·±æ³¨å†ŒIPå¯¹åº”çš„æœåŠ¡å’Œæµ‹è¯•æœåŠ¡ï¼Œåˆ™ç”¨nacosä¸­å…¶å®ƒçš„æœåŠ¡ filteredInstances = instances; &#125; //æœ€ç»ˆçš„è¿”å›çš„ serviceInstance ServiceInstance instance = filteredInstances.get(pos % filteredInstances.size()); return new DefaultResponse(instance); &#125; &#125;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"k8s","slug":"k8s","permalink":"http://yelog.org/tags/k8s/"},{"name":"nacos","slug":"nacos","permalink":"http://yelog.org/tags/nacos/"},{"name":"springcloud","slug":"springcloud","permalink":"http://yelog.org/tags/springcloud/"},{"name":"gray-release","slug":"gray-release","permalink":"http://yelog.org/tags/gray-release/"}]},{"title":"åŸºäº nacos/springcloud/k8s çš„ä¸åœæœºæœåŠ¡æ›´æ–°[graceful shutdown]","slug":"k8s çš„ä¸åœæœºæœåŠ¡æ›´æ–°","date":"2022-07-27T07:35:39.000Z","updated":"2024-07-05T11:10:22.434Z","comments":true,"path":"2022/07/27/springboot-graceful-shutdown-based-on-nacos2-and-k8s/","permalink":"http://yelog.org/2022/07/27/springboot-graceful-shutdown-based-on-nacos2-and-k8s/","excerpt":"","text":"èƒŒæ™¯æˆ‘ä»¬çš„ SpringCloud æ˜¯éƒ¨ç½²åœ¨ k8s ä¸Šçš„, å½“é€šè¿‡ k8s è¿›è¡Œæ»šåŠ¨å‡çº§æ—¶, ä¼šæœ‰è¯·æ±‚ 500 çš„æƒ…å†µ, ä¸åˆ©äºç”¨æˆ·ä½“éªŒ, ä¸¥é‡çš„å¯èƒ½é€ æˆæ•°æ®é”™è¯¯çš„é—®é¢˜ k8s æ»šåŠ¨æ›´æ–°ç­–ç•¥ä»‹ç»å‡è®¾æˆ‘ä»¬è¦å‡çº§çš„å¾®æœåŠ¡åœ¨ç¯å¢ƒä¸Šä¸º3ä¸ªå‰¯æœ¬çš„é›†ç¾¤, å‡çº§åº”ç”¨æ—¶, ä¼šå…ˆå¯åŠ¨1ä¸ªæ–°ç‰ˆæœ¬çš„å‰¯æœ¬, ç„¶åä¸‹çº¿ä¸€ä¸ªæ—§ç‰ˆæœ¬çš„å‰¯æœ¬, ä¹‹åå†å¯åŠ¨1ä¸ªæ–°ç‰ˆæœ¬çš„å‰¯æœ¬, ä¸€æ¬¡ç±»æ¨,ç›´åˆ°æ‰€æœ‰æ—§å‰¯æœ¬éƒ½æ›¿æ¢æ–°å‰¯æœ¬. é€šè¿‡é“¾è·¯è¿½è¸ªåˆ†æ, æŠ¥é”™çš„åŸå› åˆ†åˆ«ç”±ä»¥ä¸‹ä¸¤ç§æƒ…å†µ SpringCloud ä¸­çš„å¾®æœåŠ¡åœ¨å‡çº§è¿‡ç¨‹ä¸­, å½“æ—§çš„å¾®æœåŠ¡ä¸­è¿˜æœ‰æ²¡æœ‰å¤„ç†å®Œæˆçš„è¯·æ±‚æ—¶, å°±å¼€å§‹å…³é—­åŠ¨ä½œ, é€ æˆè¯·æ±‚ä¸­æ–­ å½“æ—§åº”ç”¨æ‰§è¡Œå…³é—­åŠ¨ä½œæ—¶, å·²ç»å¼€å§‹æ‹’ç»è¯·æ±‚, ä½†æ˜¯ nacos ä¸­çš„è·¯ç”±å¹¶æ²¡æœ‰åŠæ—¶æ›´æ–°, é€ æˆ gateway&#x2F;openfeign åœ¨è·¯ç”±æ—¶ä»ä¼šå‘½ä¸­æ­£åœ¨å…³é—­çš„åº”ç”¨, é€ æˆè¯·æ±‚æŠ¥é”™ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, æˆ‘ä»¬å°†åˆ©ç”¨ springboot çš„ graceful shutdown åŠŸèƒ½å’Œ nacos çš„ä¸»åŠ¨ä¸‹çº¿åŠŸèƒ½æ¥è§£å†³è¿™ä¸ªé—®é¢˜. å…·ä½“æ€è·¯å¦‚ä¸‹: æ¯”å¦‚å½“æˆ‘ä»¬æ‰§è¡Œè®¢å•å¾®æœåŠ¡(3ä¸ªå‰¯æœ¬)æ»šåŠ¨æ›´æ–°æ—¶ å…ˆå¯åŠ¨ä¸€ä¸ªæ–°ç‰ˆæœ¬å‰¯æœ¬4 ç„¶åå‡†å¤‡å…³é—­å‰¯æœ¬1, åœ¨å…³é—­ä¹‹å‰å…ˆé€šçŸ¥ nacos è®¢å•æœåŠ¡çš„å‰¯æœ¬1ä¸‹çº¿, ç„¶åç”± nacos é€šçŸ¥ç»™å…¶ä»–åº”ç”¨(nacos2.x æ˜¯grpc, æ‰€ä»¥é€šçŸ¥é€Ÿåº¦æ¯”è¾ƒå¿«), è¿™æ ·, è®¢å•æœåŠ¡çš„å‰¯æœ¬1å°±ä¸ä¼šå†æ¥æ”¶åˆ°è¯·æ±‚, ç„¶åæ‰§è¡Œ graceful shutdown(springboot åŸç”Ÿæ”¯æŒ, å¯ç”¨æ–¹æ³•å¯ä»¥çœ‹åé¢ä»£ç ), æ‰€æœ‰è¯·æ±‚å¤„ç†å®Œæˆåå…³é—­åº”ç”¨. è¿™æ ·å°±å®Œæˆäº† å‰¯æœ¬1 çš„å…³é—­ å¯åŠ¨æ–°ç‰ˆæœ¬å‰¯æœ¬5 å†ä¼˜é›…å…³é—­å‰¯æœ¬2(å‚è€ƒç¬¬2ç‚¹å‰¯æœ¬1çš„æµç¨‹) ç„¶åå¯åŠ¨æ–°ç‰ˆæœ¬å‰¯æœ¬6 å†ä¼˜é›…å…³é—­å‰¯æœ¬3 å®Œæˆäº†æœåŠ¡ä¸ä¸­æ–­çš„åº”ç”¨å‡çº§ å®ç°å…³é”®ç‚¹ä¸ºäº†å®ç°ä¸Šé¢èƒŒæ™¯ä¸­æåˆ°çš„æ€è·¯, ä¸»è¦ä»å¦‚ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ åˆ›å»ºä» nacos ä¸­ä¸‹çº¿å‰¯æœ¬çš„APIæˆ‘ä»¬é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰åä¸º deregister çš„ endpoint æ¥é€šçŸ¥ nacos ä¸‹çº¿å‰¯ import com.alibaba.cloud.nacos.NacosDiscoveryProperties; import com.alibaba.cloud.nacos.registry.NacosRegistration; import com.alibaba.cloud.nacos.registry.NacosServiceRegistry; import lombok.extern.log4j.Log4j2; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.actuate.endpoint.annotation.Endpoint; import org.springframework.boot.actuate.endpoint.annotation.ReadOperation; import org.springframework.stereotype.Component; @Component @Endpoint(id = &quot;deregister&quot;) @Log4j2 public class LemesNacosServiceDeregisterEndpoint &#123; @Autowired private NacosDiscoveryProperties nacosDiscoveryProperties; @Autowired private NacosRegistration nacosRegistration; @Autowired private NacosServiceRegistry nacosServiceRegistry; /** * ä» nacos ä¸­ä¸»åŠ¨ä¸‹çº¿ï¼Œç”¨äº k8s æ»šåŠ¨æ›´æ–°æ—¶ï¼Œæå‰ä¸‹çº¿åˆ†æµæµé‡ * * @param * @return com.lenovo.lemes.framework.core.util.ResultData&lt;java.lang.String&gt; * @author Yujie Yang * @date 4/6/22 2:57 PM */ @ReadOperation public String endpoint() &#123; String serviceName = nacosDiscoveryProperties.getService(); String groupName = nacosDiscoveryProperties.getGroup(); String clusterName = nacosDiscoveryProperties.getClusterName(); String ip = nacosDiscoveryProperties.getIp(); int port = nacosDiscoveryProperties.getPort(); log.info(&quot;deregister from nacos, serviceName:&#123;&#125;, groupName:&#123;&#125;, clusterName:&#123;&#125;, ip:&#123;&#125;, port:&#123;&#125;&quot;, serviceName, groupName, clusterName, ip, port); // è®¾ç½®æœåŠ¡ä¸‹çº¿ nacosServiceRegistry.setStatus(nacosRegistration, &quot;DOWN&quot;); return &quot;success&quot;; &#125; &#125; æ”¯æŒ Graceful Shutdownç”±äº springboot åŸç”Ÿæ”¯æŒ, æˆ‘ä»¬åªéœ€è¦åœ¨ bootstrap.yaml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®å³å¯ server: # å¼€å¯ä¼˜é›…ä¸‹çº¿ shutdown: graceful spring: lifecycle: # ä¼˜é›…ä¸‹çº¿è¶…æ—¶æ—¶é—´ timeout-per-shutdown-phase: 5m # æš´éœ² shutdown æ¥å£ management: endpoint: shutdown: enabled: true endpoints: web: exposure: include: shutdown K8s é…ç½®æœ‰äº†ä¸Šé¢ä¸¤ä¸ª API, æ¥ä¸‹æ¥å°±é…ç½®åˆ° k8s ä¸Š terminationGracePeriodSeconds å¦‚æœå…³é—­åº”ç”¨çš„æ—¶é—´è¶…è¿‡ 10 åˆ†é’Ÿ, åˆ™å‘å®¹å™¨å‘é€ TERM ä¿¡å·, é˜²æ­¢åº”ç”¨é•¿æ—¶é—´ä¸‹çº¿ä¸äº† preStop å…ˆæ‰§è¡Œä¸‹çº¿æ“ä½œ, ç­‰å¾…30s, ç•™å¤Ÿé€šçŸ¥åˆ°å…¶ä»–åº”ç”¨çš„æ—¶é—´, ç„¶åæ‰§è¡Œ graceful shutdown å…³é—­åº”ç”¨ --- apiVersion: apps/v1 kind: Deployment metadata: name: lemes-service-common labels: app: lemes-service-common spec: replicas: 2 selector: matchLabels: app: lemes-service-common # strategy: # type: RollingUpdate # rollingUpdate: ## replicas - maxUnavailable &lt; running num &lt; replicas + maxSurge # maxUnavailable: 1 # maxSurge: 1 template: metadata: labels: app: lemes-service-common spec: # å®¹å™¨é‡å¯ç­–ç•¥ Never Always OnFailure # restartPolicy: Never # å¦‚æœå…³é—­æ—¶é—´è¶…è¿‡10åˆ†é’Ÿï¼Œ åˆ™å‘å®¹å™¨å‘é€ TERM ä¿¡å· terminationGracePeriodSeconds: 600 affinity: podAntiAffinity: preferredDuringSchedulingIgnoredDuringExecution: - podAffinityTerm: topologyKey: &quot;kubernetes.io/hostname&quot; labelSelector: matchExpressions: - key: app operator: In values: - lemes-service-common weight: 100 # requiredDuringSchedulingIgnoredDuringExecution: # - labelSelector: # matchExpressions: # - key: app # operator: In # values: # - lemes-service-common # topologyKey: &quot;kubernetes.io/hostname&quot; volumes: - name: lemes-host-path hostPath: path: /data/logs type: DirectoryOrCreate - name: sidecar emptyDir: &#123; &#125; containers: - name: lemes-service-common image: 10.176.66.20:5000/lemes-cloud/lemes-service-common-server:v0.1 imagePullPolicy: Always volumeMounts: - name: lemes-host-path mountPath: /data/logs - name: sidecar mountPath: /sidecar ports: - containerPort: 80 resources: # èµ„æºé€šå¸¸æƒ…å†µä¸‹çš„å ç”¨ requests: memory: &#39;2048Mi&#39; # èµ„æºå ç”¨ä¸Šé™ limits: memory: &#39;4096Mi&#39; livenessProbe: httpGet: path: /actuator/health/liveness port: 80 initialDelaySeconds: 5 # æ¢é’ˆå¯ä»¥è¿ç»­å¤±è´¥çš„æ¬¡æ•° failureThreshold: 10 # æ¢é’ˆè¶…æ—¶æ—¶é—´ timeoutSeconds: 10 # å¤šä¹…æ‰§è¡Œä¸€æ¬¡æ¢é’ˆæŸ¥è¯¢ periodSeconds: 10 startupProbe: httpGet: path: /actuator/health/liveness port: 80 failureThreshold: 30 timeoutSeconds: 10 periodSeconds: 10 readinessProbe: httpGet: path: /actuator/health/readiness port: 80 initialDelaySeconds: 5 timeoutSeconds: 10 periodSeconds: 10 lifecycle: preStop: exec: # åº”ç”¨å…³é—­æ“ä½œï¼š1. ä» nacos ä¸‹çº¿ï¼Œ2. ç­‰å¾…30s, ä¿è¯ nacos é€šçŸ¥åˆ°å…¶ä»–åº”ç”¨ 2.è§¦å‘ springboot çš„ graceful shutdown command: - sh - -c - curl http://127.0.0.1/actuator/deregister;sleep 30;curl -X POST http://127.0.0.1/actuator/shutdown;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"k8s","slug":"k8s","permalink":"http://yelog.org/tags/k8s/"},{"name":"nacos","slug":"nacos","permalink":"http://yelog.org/tags/nacos/"},{"name":"springcloud","slug":"springcloud","permalink":"http://yelog.org/tags/springcloud/"}]},{"title":"el-drawer å®ç°é¼ æ ‡æ‹–æ‹½å®½åº¦[ElementUI]","slug":"el-drawer-drag-width","date":"2022-06-24T11:38:00.000Z","updated":"2024-07-05T11:10:22.394Z","comments":true,"path":"2022/06/24/el-drawer-drag-width/","permalink":"http://yelog.org/2022/06/24/el-drawer-drag-width/","excerpt":"","text":"å®ç°æ•ˆæœ å®ç°æ€è·¯é€šè¿‡æŒ‡ä»¤çš„æ–¹å¼, åœ¨ drawer çš„å·¦ä¾§è¾¹ç¼˜, æ·»åŠ ä¸€ä¸ªè§¦å‘æ‹–æ‹½çš„é•¿æ¡å½¢åŒºåŸŸ, ç›‘å¬é¼ æ ‡å·¦é”®æŒ‰ä¸‹æ—¶å¯åŠ¨ document.onmousemove çš„ç›‘å¬, ç›‘å¬é¼ æ ‡è·ç¦»æµè§ˆå™¨å³è¾¹çš„è·ç¦», è®¾ç½®ä¸º drawer çš„å®½åº¦, å¹¶æ·»åŠ çº¦æŸ: ä¸èƒ½å°äºæµè§ˆå™¨å®½åº¦çš„ 20%, ä¸èƒ½å¤§äºæµè§ˆå™¨å®½åº¦çš„ 80%. æŒ‡ä»¤ä»£ç åˆ›å»ºæ–‡ä»¶ src/directive/elment-ui/drawer-drag-width.js, å†…å®¹å¦‚ä¸‹ import Vue from &#39;vue&#39; /** * el-drawer æ‹–æ‹½æŒ‡ä»¤ */ Vue.directive(&#39;el-drawer-drag-width&#39;, &#123; bind(el, binding, vnode, oldVnode) &#123; const drawerEle = el.querySelector(&#39;.el-drawer&#39;) console.log(drawerEle) // åˆ›å»ºè§¦å‘æ‹–æ‹½çš„å…ƒç´  const dragItem = document.createElement(&#39;div&#39;) // å°†å…ƒç´ æ”¾ç½®åˆ°æŠ½å±‰çš„å·¦è¾¹è¾¹ç¼˜ dragItem.style.cssText = &#39;height: 100%;width: 5px;cursor: w-resize;position: absolute;left: 0;&#39; drawerEle.append(dragItem) dragItem.onmousedown = (downEvent) =&gt; &#123; // æ‹–æ‹½æ—¶ç¦ç”¨æ–‡æœ¬é€‰ä¸­ document.body.style.userSelect = &#39;none&#39; document.onmousemove = function(moveEvent) &#123; // è·å–é¼ æ ‡è·ç¦»æµè§ˆå™¨å³è¾¹ç¼˜çš„è·ç¦» let realWidth = document.body.clientWidth - moveEvent.pageX const width30 = document.body.clientWidth * 0.2 const width80 = document.body.clientWidth * 0.8 // å®½åº¦ä¸èƒ½å¤§äºæµè§ˆå™¨å®½åº¦ 80%ï¼Œä¸èƒ½å°äºå®½åº¦çš„ 20% realWidth = realWidth &gt; width80 ? width80 : realWidth &lt; width30 ? width30 : realWidth drawerEle.style.width = realWidth + &#39;px&#39; &#125; document.onmouseup = function(e) &#123; // æ‹–æ‹½æ—¶ç»“æŸæ—¶ï¼Œå–æ¶ˆç¦ç”¨æ–‡æœ¬é€‰ä¸­ document.body.style.userSelect = &#39;initial&#39; document.onmousemove = null document.onmouseup = null &#125; &#125; &#125; &#125;) ç„¶ååœ¨ main.js ä¸­å°†å…¶å¯¼å…¥ import &#39;./directive/element-ui/drawer-drag-width&#39; æŒ‡ä»¤ä½¿ç”¨åœ¨ el-drawer ä¸Šæ·»åŠ æŒ‡ä»¤ v-el-drawer-drag-width å³å¯, å¦‚ä¸‹ &lt;el-drawer v-el-drawer-drag-width :visible.sync=&quot;helpDrawer.show&quot; direction=&quot;rtl&quot; class=&quot;my-drawer&quot; &gt; &lt;template #title&gt; &lt;div class=&quot;draw-title&quot;&gt;&#123;&#123; helpDrawer.title &#125;&#125;&lt;/div&gt; &lt;/template&gt; &lt;Editor v-model=&quot;helpDrawer.html&quot; v-loading=&quot;helpDrawer.loading&quot; class=&quot;my-wang-editor&quot; style=&quot;overflow-y: auto;&quot; :default-config=&quot;helpDrawer.editorConfig&quot; :mode=&quot;helpDrawer.mode&quot; @onCreated=&quot;onCreatedHelp&quot; /&gt; &lt;/el-drawer&gt;","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"ElementUI","slug":"ElementUI","permalink":"http://yelog.org/tags/ElementUI/"},{"name":"Vue","slug":"Vue","permalink":"http://yelog.org/tags/Vue/"}]},{"title":"SpringCloudç³»åˆ—ä¹‹æ¥å…¥SkyWalkingè¿›è¡Œé“¾è·¯è¿½è¸ªå’Œæ—¥å¿—æ”¶é›†","slug":"springcloud-skywalking","date":"2021-09-26T10:08:00.000Z","updated":"2024-07-05T11:10:22.696Z","comments":true,"path":"2021/09/26/spring-cloud-skywalking/","permalink":"http://yelog.org/2021/09/26/spring-cloud-skywalking/","excerpt":"","text":"å‰è¨€å‰ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨ç ”ç©¶å‡çº§å…¬å¸é¡¹ç›®çš„æ¶æ„ï¼Œåœ¨ä¸æ–­å­¦ä¹ å’Œè¯•é”™åï¼Œæœ€ç»ˆç¡®å®šäº†ä¸€å¥—åŸºäº k8s çš„é«˜å¯ç”¨æ¶æ„ä½“ç³»ï¼Œæœªæ¥å‡ æœŸä¼šå°†è¿™å¥—æ¶æ„ä½“ç³»çš„æ¶è®¾è¿‡ç¨‹å’Œæ³¨æ„äº‹é¡¹ä»¥ç³»åˆ—æ–‡ç« çš„å½¢å¼åˆ†äº«å‡ºæ¥ï¼Œæ•¬è¯·æœŸå¾…ï¼ ç”±äºé›†ç¾¤å’Œåˆ†å¸ƒå¼è§„æ¨¡çš„æ‰©å¤§ï¼Œå¯¹å¾®æœåŠ¡é“¾è·¯çš„ç›‘æ§å’Œæ—¥å¿—æ”¶é›†ï¼Œè¶Šæ¥è¶Šæœ‰å¿…è¦æ€§ï¼Œæ‰€ä»¥åœ¨ç­›é€‰äº†äº†ä¸€äº›æ–¹æ¡ˆåï¼Œå‘ç° SkyWalking å®Œç¾ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œå¯¹é“¾è·¯è¿½è¸ªå’Œæ—¥å¿—æ”¶é›†éƒ½æœ‰ä¸é”™çš„å®ç°ã€‚ SkyWalking ç®€ä»‹SkyWalking æ˜¯ä¸€æ¬¾ APMï¼ˆåº”ç”¨ç¨‹åºç›‘æ§ï¼‰ç³»ç»Ÿï¼Œè½¬ä¸ºå¾®æœåŠ¡ã€äº‘åŸç”Ÿã€åŸºäºå®¹å™¨çš„æ¶æ„è€Œè®¾è®¡ã€‚ä¸»è¦åŒ…å«äº†ä¸€ä¸‹æ ¸å¿ƒåŠŸèƒ½ å¯¹æœåŠ¡ã€è¿è¡Œå®ä¾‹ã€APIè¿›è¡ŒæŒ‡æ ‡åˆ†æ é“¾è·¯æ£€æµ‹ï¼Œæ£€æŸ¥ç¼“æ…¢çš„æœåŠ¡å’ŒAPI å¯¹åŸºç¡€è®¾æ–½ï¼ˆVMã€ç½‘ç»œã€ç£ç›˜ã€æ•°æ®åº“ï¼‰è¿›è¡Œç›‘æ§ å¯¹è¶…å‡ºé˜ˆå€¼çš„æƒ…å†µè¿›è¡Œè­¦æŠ¥ ç­‰ç­‰ å¼€æºåœ°å€ï¼šapache&#x2F;skywalking å®˜ç½‘ï¼šApache SkyWalking SpringCloud æ•´åˆ SkyWalking1. æ­å»º SkyWalking æœåŠ¡åœ¨ä½¿ç”¨ SkyWalking è¿›è¡Œé“¾è·¯è¿½è¸ªå’Œæ—¥å¿—æ”¶é›†ä¹‹å‰ï¼Œéœ€è¦å…ˆæ­å»ºèµ·ä¸€å¥— SkyWalking çš„æœåŠ¡ï¼Œç„¶åæ‰èƒ½é€šè¿‡ agent å°† SpringCloud çš„è¿è¡ŒçŠ¶æ€å’Œæ—¥å¿—å‘é€ç»™ SkyWalking è¿›è¡Œè§£æå’Œå±•ç¤ºã€‚ SkyWalking çš„æ­å»ºæ–¹å¼æœ‰å¾ˆå¤šä¸­ï¼Œæˆ‘è¿™é‡Œä»‹ç»ä¸¤ç§ docker-composeï¼ˆéé«˜å¯ç”¨ï¼Œå¿«é€Ÿå¯åŠ¨ï¼Œæ–¹ä¾¿æµ‹è¯•ã€å­¦ä¹ ï¼‰ å’Œ k8sï¼ˆé«˜å¯ç”¨ã€ç”Ÿäº§çº§åˆ«ï¼‰ docker-compose çš„æ–¹å¼docker å’Œ docker-compose çš„å®‰è£…ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œæ‰€ä»¥æœ‰éœ€è¦å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢ã€‚ ä»¥ä¸‹æ“ä½œä¼šå¯åŠ¨ä¸‰ä¸ªå®¹å™¨ elasticsearch ä½œä¸º skywalking çš„å­˜å‚¨ï¼Œä¿å­˜é“¾è·¯å’Œæ—¥å¿—æ•°æ®ç­‰ oap æ•°æ®æ¥æ”¶å’Œåˆ†æ Observability Analysis Platform ui webç«¯çš„æ•°æ®å±•ç¤º # åˆ›å»ºé…ç½®æ–‡ä»¶ä¿å­˜çš„ç›®å½• mkdir -p /data/docker/admin/skywalking # åˆ‡æ¢åˆ°åˆšåˆ›å»ºçš„ç›®å½• cd /data/docker/admin/skywalking # å°†ä¸‹é¢çš„ docker-compose.yml æ–‡ä»¶ä¿å­˜åˆ°è¿™ä¸ªç›®å½• vi docker-compose.yml # æ‹‰å»é•œåƒå¹¶å¯åŠ¨ docker-compose up -d # æŸ¥çœ‹æ—¥å¿— docker-compose logs -f docker-compose.yml version: &#39;3.8&#39; services: elasticsearch: image: docker.elastic.co/elasticsearch/elasticsearch:7.14.1 container_name: elasticsearch restart: always ports: - 9200:9200 healthcheck: test: [&quot;CMD-SHELL&quot;, &quot;curl --silent --fail localhost:9200/_cluster/health || exit 1&quot;] interval: 30s timeout: 10s retries: 3 start_period: 40s environment: - discovery.type=single-node - bootstrap.memory_lock=true - &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot; - TZ=Asia/Shanghai ulimits: memlock: soft: -1 hard: -1 oap: image: apache/skywalking-oap-server:8.7.0-es7 container_name: oap depends_on: - elasticsearch links: - elasticsearch restart: always ports: - 11800:11800 - 12800:12800 healthcheck: test: [&quot;CMD-SHELL&quot;, &quot;/skywalking/bin/swctl&quot;] interval: 30s timeout: 10s retries: 3 start_period: 40s environment: TZ: Asia/Shanghai SW_STORAGE: elasticsearch7 SW_STORAGE_ES_CLUSTER_NODES: elasticsearch:9200 ui: image: apache/skywalking-ui:8.7.0 container_name: ui depends_on: - oap links: - oap restart: always ports: - 8088:8080 environment: TZ: Asia/Shanghai SW_OAP_ADDRESS: http://oap:12800 å¯åŠ¨ä¹‹åæµè§ˆå™¨è®¿é—® æœåŠ¡ip:8080 å³å¯ k8sç­‰å¾…æ›´æ–°ã€‚ã€‚ 2. ä¸‹è½½ agent ä»£ç†åŒ…ç‚¹å‡»é“¾æ¥è¿›è¡Œä¸‹è½½ï¼Œskywalking-apm-8.7 å…¶ä»–ç‰ˆæœ¬å¯ä»¥çœ‹ apache å½’æ¡£ç«™ï¼Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„ .tar.gz åç¼€çš„åŒ…ï¼Œè¿›è¡Œä¸‹è½½ é€šè¿‡å‘½ä»¤æˆ–è€…è½¯ä»¶è¿›è¡Œè§£å‹ tar -zxvf apache-skywalking-apm-8.7.0.tar.gz 3. java å‘½ä»¤ä½¿ç”¨ä»£ç å¯åŠ¨ jar åŒ…springcloud&#x2F;springboot ä¸€èˆ¬æ˜¯é€šè¿‡ java -jar xxx.jar è¿›è¡Œå¯åŠ¨ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨å…¶ä¸­åŠ ä¸Š -javaagent å‚æ•°å³å¯ï¼Œå¦‚ä¸‹ å…¶ä¸­ è‡ªå®šä¹‰æœåŠ¡å å¯ä»¥æ”¹ä¸ºåº”ç”¨å å¦‚ lemes-authï¼ŒæœåŠ¡ip ä¸ºç¬¬ä¸€æ­¥æ­å»ºçš„ SkyWalking æœåŠ¡çš„ipï¼Œç«¯å£11800 ä¸ºå¯åŠ¨çš„ oap è¿™ä¸ªå®¹å™¨çš„ç«¯å£ java -javaagent:ä¸Šä¸€æ­¥è§£å‹ç›®å½•/agent/skywalking-agent.jar=agent.service_name=è‡ªå®šä¹‰æœåŠ¡å,collector.backend_service=æœåŠ¡ip:11800 -jar xx.jar æ‰§è¡Œå‘½ä»¤å¯åŠ¨åï¼Œè®¿é—®ä»¥ä¸‹æ¥å£ï¼Œå°±å¯ä»¥åœ¨ç¬¬ä¸€æ­¥ æœåŠ¡ip:8080 ä¸­çœ‹åˆ°è®¿é—®çš„é“¾æ¥å’Œè°ƒç”¨é“¾è·¯ã€‚ 4. å¼€å¯æ—¥å¿—æ”¶é›†æœ¬æ–‡ä¸»è¦ä»¥ log4j2 æ¥ä»‹ç»ï¼Œå…¶ä»–çš„å¤§åŒå°å¼‚ï¼Œå¯ä»¥ç½‘ä¸Šæ‰¾æ•™ç¨‹ã€‚SpringCloud é›†æˆ log4j2 ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œæ‰€ä»¥è¯·è‡ªè¡Œ Googleã€‚ å¼•å…¥ä¾èµ–è¦å¼€å¯æ—¥å¿—æ”¶é›†ï¼Œå¿…é¡»è¦æ·»åŠ ä¾èµ–ï¼Œå¦‚ä¸‹ &lt;dependency&gt; &lt;groupId&gt;org.apache.skywalking&lt;/groupId&gt; &lt;artifactId&gt;apm-toolkit-log4j-2.x&lt;/artifactId&gt; &lt;version&gt;8.7.0&lt;/version&gt; &lt;/dependency&gt; ä¿®æ”¹ log4j2.xmléœ€è¦ä¿®æ”¹ log4j2.xml ä¸»è¦æ·»åŠ ä¸‹é¢ä¸¤ä¸ªå…³é”®ç‚¹ æ·»åŠ  %traceId æ¥æ‰“å° traceid å£°æ˜ GRPCLogClientAppender å®Œæ•´å†…å®¹å¦‚ä¸‹ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!--æ—¥å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt; &lt;!-- Configurationåé¢çš„statusï¼Œè¿™ä¸ªç”¨äºè®¾ç½®log4j2è‡ªèº«å†…éƒ¨çš„ä¿¡æ¯è¾“å‡ºï¼Œå¯ä»¥ä¸è®¾ç½®ï¼Œå½“è®¾ç½®æˆtraceæ—¶ï¼Œ ä½ ä¼šçœ‹åˆ°log4j2å†…éƒ¨å„ç§è¯¦ç»†è¾“å‡ºã€‚å¯ä»¥è®¾ç½®æˆOFF(å…³é—­) æˆ– Error(åªè¾“å‡ºé”™è¯¯ä¿¡æ¯)ã€‚ --&gt; &lt;!--monitorIntervalï¼šLog4jèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹ä¿®æ”¹é…ç½® æ–‡ä»¶å’Œé‡æ–°é…ç½®æœ¬èº«ï¼Œè®¾ç½®é—´éš”ç§’æ•°--&gt; &lt;configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt; &lt;Properties&gt; &lt;Property name=&quot;log.path&quot;&gt;logs/lemes-auth&lt;/Property&gt; &lt;Property name=&quot;logging.lemes.pattern&quot;&gt; %d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%-5level] [%traceId] [%logger&#123;50&#125;.%M:%L] - %msg%n &lt;/Property&gt; &lt;/Properties&gt; &lt;Appenders&gt; &lt;!-- è¾“å‡ºæ§åˆ¶å°æ—¥å¿—çš„é…ç½® --&gt; &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt; &lt;!--æ§åˆ¶å°åªè¾“å‡ºlevelåŠä»¥ä¸Šçº§åˆ«çš„ä¿¡æ¯ï¼ˆonMatchï¼‰ï¼Œå…¶ä»–çš„ç›´æ¥æ‹’ç»ï¼ˆonMismatchï¼‰--&gt; &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt; &lt;!-- è¾“å‡ºæ—¥å¿—çš„æ ¼å¼ --&gt; &lt;PatternLayout pattern=&quot;$&#123;logging.lemes.pattern&#125;&quot;/&gt; &lt;/Console&gt; &lt;RollingRandomAccessFile name=&quot;debugRollingFile&quot; fileName=&quot;$&#123;log.path&#125;/debug.log&quot; filePattern=&quot;$&#123;log.path&#125;/debug/$$&#123;date:yyyy-MM&#125;/debug.%d&#123;yyyy-MM-dd&#125;-%i.log.gz&quot;&gt; &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt; &lt;PatternLayout charset=&quot;UTF-8&quot; pattern=&quot;$&#123;logging.lemes.pattern&#125;&quot;/&gt; &lt;Policies&gt; &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;/&gt; &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot;/&gt; &lt;/Policies&gt; &lt;DefaultRolloverStrategy max=&quot;30&quot;/&gt; &lt;/RollingRandomAccessFile&gt; &lt;GRPCLogClientAppender name=&quot;grpc-log&quot;&gt; &lt;PatternLayout pattern=&quot;$&#123;logging.lemes.pattern&#125;&quot;/&gt; &lt;/GRPCLogClientAppender&gt; &lt;/Appenders&gt; &lt;Loggers&gt; &lt;!-- ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF --&gt; &lt;Logger name=&quot;com.lenovo.lemes&quot; level=&quot;debug&quot;/&gt; &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;warn&quot;/&gt; &lt;Root level=&quot;info&quot;&gt; &lt;AppenderRef ref=&quot;Console&quot;/&gt; &lt;AppenderRef ref=&quot;debugRollingFile&quot;/&gt; &lt;AppenderRef ref=&quot;grpc-log&quot;/&gt; &lt;/Root&gt; &lt;/Loggers&gt; &lt;/configuration&gt; å¯åŠ¨å‘½ä»¤ä¸­å£°æ˜ä¸ŠæŠ¥æ—¥å¿—åœ¨ä¸Šä¸€æ­¥çš„ agent ä¸­æ·»åŠ ä¸ŠæŠ¥æ—¥å¿—çš„å‚æ•° plugin.toolkit.log.grpc.reporter.server_host=æœåŠ¡ip,plugin.toolkit.log.grpc.reporter.server_port=11800 å®Œæ•´å¦‚ä¸‹ java -javaagent:ä¸Šä¸€æ­¥è§£å‹ç›®å½•/agent/skywalking-agent.jar=agent.service_name=è‡ªå®šä¹‰æœåŠ¡å,collector.backend_service=æœåŠ¡ip:11800,plugin.toolkit.log.grpc.reporter.server_host=æœåŠ¡ip,plugin.toolkit.log.grpc.reporter.server_port=11800 -jar xx.jar æ—¥å¿—æ”¶é›†æ•ˆæœè¿™æ ·å¯åŠ¨æ—¥å¿—ä¸­å°±ä¼šæ‰“å° traceid , N/A ä»£è¡¨çš„æ˜¯éè¯·æ±‚çš„æ—¥å¿—ï¼Œæœ‰ traceid çš„ä¸º api è¯·æ±‚æ—¥å¿— åœ¨ skywalking ä¸­å°±èƒ½çœ‹åˆ°æˆ‘ä»¬ä¸ŠæŠ¥çš„æ—¥å¿— é‡ç‚¹ï¼šSkyWalking å¯ä»¥åœ¨é“¾è·¯è¿½è¸ªä¸­æŸ¥çœ‹å½“å‰è¯·æ±‚çš„æ‰€æœ‰æ—¥å¿—ï¼ˆä¸åŒå®ä¾‹&#x2F;æ¨¡å—ï¼‰ 5. å…¼å®¹ spring-cloud-gatewayç»è¿‡ä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œé“¾è·¯å·²ç»æ­å»ºå®Œæˆï¼ŒæŸ¥çœ‹å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œgateway æ¨¡å—çš„ traceId å’Œ ä¸šåŠ¡æ¨¡å—çš„ traceId ä¸ç»Ÿä¸€ã€‚ è¿™æ˜¯ç”±äº SkyWalking å¯¹äº spring-cloud-gateway çš„æ”¯æŒä¸æ˜¯é»˜è®¤çš„ï¼Œæ‰€ä»¥éœ€è¦å°† agent/optional-plugins/apm-spring-cloud-gateway-2.1.x-plugin-8.7.0.jar å¤åˆ¶åˆ° agent/plugins ä¸‹ï¼Œç„¶åé‡å¯å³å¯ã€‚ æœ€åSkyWalking ä¸Šé¢è¿™ä¸¤ä¸ªåŠŸèƒ½å°±å·²ç»éå¸¸å¼ºå¤§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¸®åŠ©æˆ‘ä»¬ä¼˜åŒ–æˆ‘ä»¬çš„ç¨‹åºï¼Œç›‘æ§ç³»ç»Ÿçš„é—®é¢˜ï¼Œå¹¶åŠæ—¶æŠ¥è­¦ã€‚æ—¥å¿—æ”¶é›†ä¹Ÿè§£å†³çš„åœ¨å¤§è§„æ¨¡åˆ†å¸ƒå¼é›†ç¾¤ä¸‹æ—¥å¿—æŸ¥è¯¢éš¾çš„é—®é¢˜ã€‚ SkyWalking è¿˜æ”¯æŒ VMã€æµè§ˆå™¨ã€k8sç­‰ç›‘æ§ï¼Œåç»­å¦‚æœæœ‰å®è·µï¼Œå°†ä¼šé€æ­¥æ›´æ–°ã€‚","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"SpringCloud","slug":"SpringCloud","permalink":"http://yelog.org/tags/SpringCloud/"},{"name":"SkyWalking","slug":"SkyWalking","permalink":"http://yelog.org/tags/SkyWalking/"}]},{"title":"3-hexoæ·»åŠ è‡ªå®šä¹‰å›¾æ ‡","slug":"3-hexo-add-icon","date":"2020-12-28T14:00:00.000Z","updated":"2024-07-05T11:10:22.494Z","comments":true,"path":"2020/12/28/3-hexo-add-icon/","permalink":"http://yelog.org/2020/12/28/3-hexo-add-icon/","excerpt":"","text":"ä¸€ã€å‰è¨€é‰´äºè®¸å¤šäººé—®è¿‡å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡ï¼Œè¿™é‡Œå°±è¯¦ç»†è¯´æ˜ä¸€ä¸‹ï¼Œä»¥å¤‡åäººä¹˜å‡‰ã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦è®²è§£æ˜¯ä» iconfont æ·»åŠ å›¾æ ‡ã€‚ äºŒã€æ·»åŠ å½©è‰²å›¾æ ‡2.1 ç™»å½•å¹¶æ·»åŠ å›¾æ ‡è®¿é—® iconfontï¼Œç‚¹å‡»å¦‚ä¸‹å›¾ä½ç½®ç™»å½•ï¼Œå¯ä»¥ä½¿ç”¨ Github è´¦å·ç™»å½•ã€‚ ç™»å½•æˆåŠŸåï¼Œæœç´¢åˆé€‚çš„å›¾æ ‡ï¼Œç„¶åç‚¹å‡»æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ·»åŠ äº†å¤šä¸ªåï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„â€œè´­ç‰©è½¦â€ï¼Œæ·»åŠ åˆ°é¡¹ç›®ï¼Œç‚¹å‡»åŠ å·åˆ›å»ºé¡¹ç›®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ·»åŠ å®Œæˆåå›åˆ°é¡¹ç›®é¡µé¢ï¼Œæ‰¾åˆ°è‡ªå·±åˆšåˆšåˆ›å»ºçš„é¡¹ç›®ã€‚ å¦‚æœæ²¡æœ‰åˆ°é¡¹ç›®é¡µé¢ï¼Œå¯ä»¥ç‚¹å‡»ä¸Šé¢èœå•è¿›å…¥ï¼šèµ„æºç®¡ç† -&gt; æˆ‘çš„é¡¹ç›® 2.2 å¼•å…¥ 3-hexo ä¸­ç‚¹å‡»ä¸‹è½½åˆ°æœ¬åœ°ï¼Œè§£å‹å¹¶å¤åˆ¶å…¶ä¸­çš„ iconfont.js åˆ°é¡¹ç›® 3-hexo/source/js/ ä¸‹ï¼Œå¹¶æ”¹å custom-iconfont.jsã€‚ åœ¨æ–‡ä»¶ 3-hexo/layout/_partial/meta.ejs æœ€åè¿½åŠ ä¸‹é¢ä¸€è¡Œã€‚ &lt;script src=&quot;&lt;%=theme.blog_path?theme.blog_path.lastIndexOf(&quot;/&quot;) === theme.blog_path.length-1?theme.blog_path.slice(0, theme.blog_path.length-1):theme.blog_path:&#39;&#39; %&gt;/js/custom-iconfont.js?v=&lt;%=theme.version%&gt;&quot; &gt;&lt;/script&gt; 2.3 åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç”Ÿæ•ˆä¿®æ”¹ 3-hexo/_config.yml å¦‚ä¸‹å›¾æ‰€ç¤º å®Œæˆï¼ å›¾æ ‡åå¦‚ä¸Šé¢çš„ gitee å¯ä»¥åœ¨ ç½‘ç«™ä¸Šä¿®æ”¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º ä¸‰ã€æ·»åŠ é»‘ç™½å›¾æ ‡link.theme=white 3.1 åŒ 2.13.2 å¼•å…¥ 3-hexo ä¸­ç‚¹å‡»ç”Ÿæˆä»£ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å¤åˆ¶ç”Ÿæˆçš„ä»£ç ï¼Œä¿®æ”¹ font-family çš„å€¼ä¸º custom-iconfontï¼Œæ·»åŠ åˆ° 3-hexo/source/css/_partial/font.styl æœ€åï¼Œå¹¶å†™å…¥å›¾æ ‡ä¿¡æ¯ï¼Œcontent å¯ä»¥ç§»åˆ°å›¾æ ‡ä¸Šè¿›è¡Œå¤åˆ¶ï¼Œæ³¨æ„å‰é¢æ–œæ è½¬è¯‘å’Œå»æ‰åé¢çš„åˆ†å·ã€‚ @font-face &#123; font-family: &#39;custom-iconfont&#39;; /* project id 2298064 */ src: url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.eot&#39;); src: url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;), url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.woff2&#39;) format(&#39;woff2&#39;), url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.woff&#39;) format(&#39;woff&#39;), url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.ttf&#39;) format(&#39;truetype&#39;), url(&#39;//at.alicdn.com/t/font_2298064_34vkk4c9945.svg#iconfont&#39;) format(&#39;svg&#39;); &#125; .icon-gitee:before &#123; content: &quot;\\e602&quot;; &#125; .icon-youtubeautored:before &#123; content: &quot;\\e649&quot;; &#125; 3.3 åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç”Ÿæ•ˆ åŒ2.2ç»“æŸï¼","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"ä¸€æ–‡çœ‹æ‡‚JavaScriptä¸­çš„Promise","slug":"ä¸€æ–‡çœ‹æ‡‚JavaScriptä¸­çš„Promise","date":"2020-10-20T11:43:44.000Z","updated":"2024-07-05T11:10:22.378Z","comments":true,"path":"2020/10/20/know-javascript-promise/","permalink":"http://yelog.org/2020/10/20/know-javascript-promise/","excerpt":"","text":"ä¸€ã€Promise æ˜¯ä»€ä¹ˆPromise æ˜¯ ES6 æä¾›çš„åŸç”Ÿå¯¹è±¡ï¼Œç”¨æ¥å¤„ç†å¼‚æ­¥æ“ä½œ å®ƒæœ‰ä¸‰ç§çŠ¶æ€ pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ äºŒã€ä½¿ç”¨2.1 åˆ›å»º Promiseé€šè¿‡ new Promise æ¥å®ä¾‹åŒ–ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ new Promise((resolve, reject)=&gt;&#123; // é€»è¾‘ &#125;).then(()=&gt;&#123; //å½“ä¸Šé¢&quot;é€»è¾‘&quot;ä¸­è°ƒç”¨ resolve() æ—¶è§¦å‘æ­¤æ–¹æ³• &#125;).catch(()=&gt;&#123; //å½“ä¸Šé¢&quot;é€»è¾‘&quot;ä¸­è°ƒç”¨ reject() æ—¶è§¦å‘æ­¤æ–¹æ³• &#125;) 2.2 æ‰§è¡Œé¡ºåºPromiseä¸€æ—¦åˆ›å»ºå°±ç«‹å³æ‰§è¡Œï¼Œå¹¶ä¸”æ— æ³•ä¸­é€”å–æ¶ˆï¼Œæ‰§è¡Œé€»è¾‘å’Œé¡ºåºå¯ä»¥ä»ä¸‹é¢çš„ç¤ºä¾‹ä¸­è·å¾— å¦‚ä¸‹ï¼Œå¯ä¿®æ”¹ if æ¡ä»¶æ¥æ”¹å˜å¼‚æ­¥ç»“æœï¼Œä¸‹é¢æ‰“å°å¼€å§‹çš„æ•°å­—æ˜¯æ‰§è¡Œé¡ºåº åœ¨çº¿è°ƒè¯•æ­¤ç¤ºä¾‹ - jsbin console.log(&#39;1.å¼€å§‹åˆ›å»ºå¹¶æ‰§è¡Œ Promise&#39;) new Promise(function(resolve, reject) &#123; console.log(&#39;2.ç”±äºåˆ›å»ºä¼šç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥ä¼šç«‹å³æ‰§è¡Œåˆ°æœ¬è¡Œ&#39;) setTimeout(()=&gt;&#123; // æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ console.log(&#39;4. 1sä¹‹æœŸå·²åˆ°ï¼Œå¼€å§‹æ‰§è¡Œå¼‚æ­¥æ“ä½œ&#39;) if (true) &#123; // ä¸€èˆ¬æˆ‘ä»¬ç¬¦åˆé¢„æœŸçš„ç»“æœæ—¶è°ƒç”¨ resolve()ï¼Œä¼šåœ¨ .then ä¸­ç»§ç»­æ‰§è¡Œ resolve(&#39;æˆåŠŸ&#39;) &#125; else &#123; // ä¸ç¬¦åˆé¢„æœŸæ—¶è°ƒç”¨ reject()ï¼Œä¼šåœ¨ .catch ä¸­ç»§ç»­æ‰§è¡Œ reject(&#39;ä¸ç¬¦åˆé¢„æœŸ&#39;) &#125; &#125;, 1000) &#125;).then((res)=&gt;&#123; console.log(&#39;5.è°ƒç”¨äº†thenï¼Œæ¥æ”¶æ•°æ®ï¼š&#39; + res) &#125;).catch((error)=&gt;&#123; console.log(&#39;5.è°ƒç”¨äº†catchï¼Œé”™è¯¯ä¿¡æ¯ï¼š&#39; + error) &#125;) console.log(&#39;3.æœ¬è¡Œä¸ºåŒæ­¥æ“ä½œï¼Œæ‰€ä»¥å…ˆäº Promise å†…çš„å¼‚æ­¥æ“ä½œï¼ˆsetTimeoutï¼‰&#39;) æ‰§è¡Œç»“æœå¦‚ä¸‹ &quot;1.å¼€å§‹åˆ›å»ºå¹¶æ‰§è¡Œ Promise&quot; &quot;2.ç”±äºåˆ›å»ºä¼šç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥ä¼šç«‹å³æ‰§è¡Œåˆ°æœ¬è¡Œ&quot; &quot;3.æœ¬è¡Œä¸ºåŒæ­¥æ“ä½œï¼Œæ‰€ä»¥å…ˆäº Promise å†…çš„å¼‚æ­¥æ“ä½œï¼ˆsetTimeoutï¼‰&quot; &quot;4. 1sä¹‹æœŸå·²åˆ°ï¼Œå¼€å§‹æ‰§è¡Œå¼‚æ­¥æ“ä½œ&quot; &quot;5.è°ƒç”¨äº†thenï¼Œæ¥æ”¶æ•°æ®ï¼šæˆåŠŸ&quot; 2.3 ç”¨å‡½æ•°å°è£… Promiseè¿™æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ç”¨ setTimeout æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ï¼Œå°è£…é€šç”¨è¯·æ±‚å‡½æ•° åœ¨çº¿è°ƒè¯•æ­¤ç¤ºä¾‹ - jsbin // è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³• function ajax(url)&#123; return new Promise(resolve=&gt;&#123; console.log(&#39;å¼‚æ­¥æ–¹æ³•å¼€å§‹æ‰§è¡Œ&#39;) setTimeout(()=&gt;&#123; console.log(&#39;å¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆ&#39;) resolve(url+&#39;çš„ç»“æœé›†&#39;) &#125;, 1000) &#125;) &#125; // è°ƒç”¨è¯·æ±‚å‡½æ•°ï¼Œå¹¶æ¥å—å¤„ç†è¿”å›ç»“æœ ajax(&#39;/user/list&#39;).then((res)=&gt;&#123; console.log(res) &#125;) æ‰§è¡Œç»“æœ &quot;å¼‚æ­¥æ–¹æ³•å¼€å§‹æ‰§è¡Œ&quot; &quot;å¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆ&quot; &quot;/user/listçš„ç»“æœé›†&quot; ä¸‰ã€é«˜çº§ç”¨æ³•3.1 åŒæ—¶æ”¯æŒCallbackä¸Promiseåœ¨çº¿è°ƒè¯•æ­¤ç¤ºä¾‹ - jsbin function ajax(url, success, fail) &#123; if (typeof success === &#39;function&#39;) &#123; setTimeout(() =&gt; &#123; if (true) &#123; success(&#123;user: &#39;ç¾Š&#39;&#125;) &#125; else if (typeof fail === &#39;function&#39;) &#123; console.log(typeof fail) fail(&#39;ç”¨æˆ·ä¸å­˜åœ¨&#39;) &#125; &#125;, 1000) &#125; else &#123; return new Promise((resolve, reject) =&gt; &#123; this.ajax(url, resolve, reject) &#125;) &#125; &#125; // callback è°ƒç”¨æ–¹å¼ ajax(&#39;/user/get&#39;, (res)=&gt;&#123; console.log(&#39;Callbackè¯·æ±‚æˆåŠŸï¼è¿”å›ç»“æœ:&#39;, res) &#125;, (error)=&gt;&#123; console.log(&#39;Callbackè¯·æ±‚å¤±è´¥ï¼é”™è¯¯ä¿¡æ¯:&#39;, error) &#125;) // Promise è°ƒç”¨æ–¹å¼ ajax(&#39;/user/get&#39;).then((res)=&gt;&#123; console.log(&#39;Pormiseè¯·æ±‚æˆåŠŸï¼è¿”å›ç»“æœï¼š&#39;, res) &#125;).catch((error)=&gt;&#123; console.log(&#39;Promiseè¯·æ±‚å¤±è´¥ï¼è¿”å›ç»“æœï¼š&#39;, error) &#125;) æ‰§è¡Œç»“æœ Callbackè¯·æ±‚æˆåŠŸï¼è¿”å›ç»“æœ: &#123;user: &quot;ç¾Š&quot;&#125; Pormiseè¯·æ±‚æˆåŠŸï¼è¿”å›ç»“æœï¼š &#123;user: &quot;ç¾Š&quot;&#125; 3.2 é“¾å¼è°ƒç”¨.then æ”¯æŒè¿”å› Promise å¯¹è±¡è¿›è¡Œé“¾å¼è°ƒç”¨ ajax(&#39;/user/info&#39;).then((res)=&gt;&#123; // ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢æˆåŠŸåï¼Œå¯ä»¥æ ¹æ®è¿”å›ç»“æœæŸ¥è¯¢åç»­ä¿¡æ¯ console.log(&#39;ç”¨æˆ·ä¿¡æ¯:&#39;, res) return ajax(&#39;/user/score&#39;) &#125;).then((res)=&gt;&#123; console.log(&#39;ç”¨æˆ·æˆç»©:&#39;, res) return ajax(&#39;/user/friends&#39;) &#125;).then((res)=&gt;&#123; console.log(&#39;ç”¨æˆ·æœ‹å‹:&#39;, res) &#125;) 3.3 Promise.allPromise.all æ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚åœ¨çº¿è°ƒè¯•æ­¤ç¤ºä¾‹ - jsbin // ç”Ÿæˆä¸€ä¸ªPromiseå¯¹è±¡çš„æ•°ç»„ var promises = [2, 3, 5, 7, 11, 13].map(function(id)&#123; return new Promise((resolve, reject)=&gt;&#123; if (id % 3 === 0) &#123; resolve(id) &#125; else &#123; reject(id) &#125; &#125;); &#125;); Promise.all(promises).then(function(post) &#123; console.log(&#39;å…¨éƒ¨é€šè¿‡&#39;) &#125;).catch(function(reason)&#123; console.log(&#39;æœªå…¨éƒ¨é€šè¿‡ï¼Œæœ‰é—®é¢˜idï¼š&#39;+reason) &#125;); æ‰§è¡Œç»“æœ æœªå…¨éƒ¨é€šè¿‡ï¼Œæœ‰é—®é¢˜idï¼š2 Referencemozilla web docs","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yelog.org/tags/javascript/"}]},{"title":"Docker æŠ€æœ¯æ•´ç†","slug":"Docker-æŠ€æœ¯æ•´ç†","date":"2020-09-01T14:11:00.000Z","updated":"2024-07-05T11:10:22.245Z","comments":true,"path":"2020/09/01/Docker-summary/","permalink":"http://yelog.org/2020/09/01/Docker-summary/","excerpt":"","text":"ä¸€ã€æ¦‚è¿°1.1 ä»€ä¹ˆæ˜¯dockerDocker è¯ç”Ÿäº 2013 å¹´åˆï¼Œç”± dotCloud å…¬å¸ï¼ˆåæ”¹åä¸º Docker Incï¼‰åŸºäº Go è¯­è¨€å®ç°å¹¶å¼€æºçš„é¡¹ç›®ã€‚æ­¤é¡¹ç›®åæ¥åŠ å…¥ LinuxåŸºé‡‘ä¼šï¼Œéµä»äº† Apache 2.0 åè®® Docker é¡¹ç›®çš„ç›®æ ‡æ˜¯å®ç°è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚Docker æ˜¯åœ¨ Linux å®¹å™¨æŠ€æœ¯ï¼ˆLXCï¼‰çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å°è£…ï¼Œè®©ç”¨æˆ·å¯ä»¥å¿«é€Ÿå¹¶å¯é çš„å°†åº”ç”¨ç¨‹åºä»ä¸€å°è¿è¡Œåˆ°å¦ä¸€å°ä¸Šã€‚ ä½¿ç”¨å®¹å™¨éƒ¨ç½²åº”ç”¨è¢«ç§°ä¸ºå®¹å™¨åŒ–ï¼Œå®¹å™¨åŒ–æŠ€æœ¯çš„å‡ å¤§ä¼˜åŠ¿ï¼š çµæ´»ï¼šç”šè‡³å¤æ‚çš„åº”ç”¨ä¹Ÿå¯ä»¥è¢«å®¹å™¨åŒ– è½»é‡ï¼šå®¹å™¨åˆ©ç”¨å’Œå…±äº«å®¿ä¸»æœºå†…æ ¸ï¼Œä»è€Œåœ¨åˆ©ç”¨ç³»ç»Ÿèµ„æºæ¯”è™šæ‹Ÿæœºæ›´åŠ çš„æœ‰æ•ˆ å¯ç§»æ¤ï¼šä½ å¯ä»¥åœ¨æœ¬åœ°æ„å»ºï¼Œåœ¨äº‘ç«¯éƒ¨ç½²å¹¶åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ æ¾è€¦åˆï¼šå®¹å™¨æ˜¯é«˜åº¦å°è£…å’Œè‡ªç»™è‡ªè¶³çš„ï¼Œå…è®¸ä½ åœ¨ä¸ç ´ç¯å…¶ä»–å®¹å™¨çš„æƒ…å†µä¸‹æ›¿æ¢æˆ–å‡çº§ä»»ä½•ä¸€ä¸ª å¯æ‰©å±•ï¼šä½ å¯ä»¥é€šè¿‡æ•°æ®ä¸­å¿ƒæ¥æ–°å¢å’Œè‡ªåŠ¨åˆ†å‘å®¹å™¨ å®‰å…¨ï¼šå®¹å™¨ä¾èµ–å¼ºçº¦æŸå’Œç‹¬ç«‹çš„è¿›ç¨‹ 1.2 å’Œä¼ ç»Ÿè™šæ‹Ÿæœºçš„åŒºåˆ«å®¹å™¨åœ¨Linuxä¸Šæœ¬åœ°è¿è¡Œï¼Œå¹¶ä¸å…¶ä»–å®¹å™¨å…±äº«ä¸»æœºçš„å†…æ ¸ã€‚å®ƒè¿è¡Œä¸€ä¸ªç¦»æ•£è¿›ç¨‹ï¼Œä¸å ç”¨ä»»ä½•å…¶ä»–å¯æ‰§è¡Œæ–‡ä»¶æ›´å¤šçš„å†…å­˜ï¼Œä»è€Œä½¿å…¶è½»å·§ã€‚ 1.3 ç›¸å…³é“¾æ¥å®˜ç½‘ï¼šhttps://www.docker.com/ æ–‡æ¡£ï¼šhttps://docs.docker.com/ äºŒã€Imageé•œåƒ2.1 ä»‹ç»Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ çˆ¶é•œåƒï¼šæ¯ä¸ªé•œåƒéƒ½å¯èƒ½ä¾èµ–äºæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸‹å±‚ç»„æˆçš„å¦ä¸€ä¸ªé•œåƒã€‚ä¸‹å±‚é‚£ä¸ªé•œåƒå°±æ˜¯ä¸Šå±‚é•œåƒçš„çˆ¶é•œåƒ åŸºç¡€é•œåƒï¼šä¸€ä¸ªæ²¡æœ‰ä»»ä½•çˆ¶é•œåƒçš„é•œåƒï¼Œè¢«ç§°ä¸ºåŸºç¡€é•œåƒ é•œåƒIDï¼šæ‰€æœ‰é•œåƒéƒ½æ˜¯é€šè¿‡ä¸€ä¸ª 64 ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆ256 bit çš„å€¼ï¼‰æ¥æ ‡è¯†çš„ã€‚ä¸ºäº†ç®€åŒ–ä½¿ç”¨ï¼Œå‰ 12 ä¸ªè‡ªè´Ÿå¯ä»¥ç»„æˆä¸€ä¸ªçŸ­IDï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ã€‚çŸ­IDè¿˜æ˜¯æœ‰ä¸€å®šçš„ç¢°æ’å‡ ç‡ï¼Œæ‰€ä»¥æœåŠ¡å™¨æ€»æ˜¯è¿”å›é•¿ID 2.2 ä»ä»“åº“ä¸‹è½½é•œåƒå¯ä»¥é€šè¿‡ docker pull å‘½ä»¤ä»ä»“åº“è·å–æ‰€éœ€è¦çš„é•œåƒ docker pull [é€‰é¡¹] [Docker Registry åœ°å€]&lt;é•œåƒå&gt;:&lt;æ ‡ç­¾&gt; é€‰é¡¹: â€“all-tags,-a : æ‹‰å»æ‰€æœ‰ tagged é•œåƒ â€“disable-content-trustï¼šå¿½ç•¥é•œåƒçš„æ ¡éªŒï¼Œé»˜è®¤ â€“platformï¼šå¦‚æœæœåŠ¡å™¨æ˜¯å¼€å¯å¤šå¹³å°æ”¯æŒçš„ï¼Œåˆ™éœ€è¦è®¾ç½®å¹³å° â€“quiet,-qï¼šé™é»˜æ‰§è¡Œï¼Œä¸æ‰“å°è¯¦ç»†ä¿¡æ¯ æ ‡ç­¾ï¼š ä¸‹è½½æŒ‡å®šæ ‡ç­¾çš„é•œåƒï¼Œé»˜è®¤ latest ç¤ºä¾‹ # ä» Docker Hub ä¸‹è½½æœ€æ–°çš„ debian é•œåƒ docker pull debian # ä» Docker Hub ä¸‹è½½ jessie ç‰ˆ debian é•œåƒ docker pull debian:jessie # ä¸‹è½½æŒ‡å®šæ‘˜è¦(sha256)çš„é•œåƒ docker pull ubuntu@sha256:45b23dee08af5e43a7fea6c4cf9c25ccf269ee113168c19722f87876677c5cb2 2.3 åˆ—å‡ºæœ¬åœ°é•œåƒ# åˆ—å‡ºå·²ä¸‹è½½çš„é•œåƒ image_name: æŒ‡å®šåˆ—å‡ºæŸä¸ªé•œåƒ docker images [é€‰é¡¹] [image_name] é€‰é¡¹ å‚æ•° æè¿° â€“all, -a å±•ç¤ºæ‰€æœ‰é•œåƒ(åŒ…æ‹¬ intermediate é•œåƒ) â€“digests å±•ç¤ºæ‘˜è¦ â€“filter, -f æ·»åŠ è¿‡æ»¤æ¡ä»¶ â€“format ä½¿ç”¨ Go æ¨¡ç‰ˆæ›´å¥½çš„å±•ç¤º â€“no-trunc ä¸åˆ å‡è¾“å‡º â€“quiet, -q é™é»˜è¾“å‡ºï¼Œä»…ä»…å±•ç¤º IDs ç¤ºä¾‹ # å±•ç¤ºæœ¬åœ°æ‰€æœ‰ä¸‹è½½çš„é•œåƒ docker images # åœ¨æœ¬åœ°æŸ¥æ‰¾é•œåƒåæ˜¯ &quot;java&quot; æ ‡ç­¾æ˜¯ &quot;8&quot; çš„ å¥–é¡¹ docker images: java:8 # æŸ¥æ‰¾æ‚¬æŒ‚é•œåƒ docker images --filter &quot;dangling=true&quot; # è¿‡æ»¤ lable ä¸º &quot;com.example.version&quot; çš„å€¼ä¸º 0.1 çš„é•œåƒ docker images --filter &quot;label=com.example.version=0.1&quot; 2.4 Dockerfileåˆ›å»ºé•œåƒä¸ºäº†æ–¹ä¾¿åˆ†äº«å’Œå¿«é€Ÿéƒ¨ç½²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker build æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ Dockerfileï¼Œå¦‚ä¸‹ # This is a comment FROM ubuntu:14.04 MAINTAINER Chris &lt;jaytp@qq.com&gt; RUN apt-get -qq update RUN apt-get -qqy install ruby ruby-dev RUN gem install sinatra ç„¶ååœ¨æ­¤ Dockerfile æ‰€åœ¨ç›®å½•æ‰§è¡Œ docker build -t yelog/ubuntu:v1 . æ¥ç”Ÿæˆé•œåƒï¼Œæ‰€å±ç»„ç»‡&#x2F;é•œåƒå:æ ‡ç­¾ 2.5 ä¸Šä¼ é•œåƒç”¨æˆ·å¯ä»¥é€šè¿‡ docker push å‘½ä»¤ï¼ŒæŠŠè‡ªå·±åˆ›å»ºçš„é•œåƒä¸Šä¼ åˆ°ä»“åº“ä¸­æ¥å…±äº«ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·åœ¨ Docker Hub ä¸Šå®Œæˆæ³¨å†Œåï¼Œå¯ä»¥æ¨é€è‡ªå·±çš„é•œåƒåˆ°ä»“åº“ä¸­ã€‚ docker push yelog/ubuntu 2.6 å¯¼å‡ºå’Œè½½å…¥é•œåƒdocker æ”¯æŒå°†é•œåƒå¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œç„¶åå¯ä»¥å†ä»æ–‡ä»¶å¯¼å…¥åˆ°æœ¬åœ°é•œåƒä»“åº“ # å¯¼å‡º docker load --input yelog_ubuntu_v1.tar # è½½å…¥ docker load &lt; yelog_ubuntu_v1.tar 2.7 ç§»é™¤æœ¬åœ°é•œåƒ# -f å¼ºåˆ¶åˆ é™¤ docker rmi [-f] yelog/ubuntu:v1 # åˆ é™¤æ‚¬æŒ‚é•œåƒ docker rmi $(docker images -f &quot;dangling=true&quot; -q) # åˆ é™¤æ‰€æœ‰æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ docker image prune -a ä¸‰ã€å®¹å™¨3.1 ä»‹ç»å®¹å™¨å’Œé•œåƒï¼Œå°±åƒé¢å‘å¯¹è±¡ä¸­çš„ ç±» å’Œ ç¤ºä¾‹ ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œçš„å®ä½“ï¼Œå®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤å’Œæš‚åœç­‰ å®¹å™¨çš„å®è´¨æ˜¯è¿›åŸï¼Œè€½äºç›´æ¥çš„å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œé…ç½®å’Œè¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹ä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ 3.2 åˆ›å»ºå®¹å™¨æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ docker run å‘½ä»¤åˆ›å»ºå®¹å™¨ å¦‚ä¸‹ï¼Œå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œæ‰§è¡Œå‘½ä»¤è¾“å‡º â€œHello wordâ€ï¼Œä¹‹åç»ˆæ­¢å®¹å™¨ docker run ubuntu:14.04 /bin/echo &#39;Hello world&#39; ä¸‹é¢çš„å‘½ä»¤åˆ™æ˜¯å¯åŠ¨ä¸€ä¸ª bash ç»ˆç«¯ï¼Œå…è®¸ç”¨æˆ·è¿›è¡Œäº¤äº’ docker run -t -i ubuntu:14.04 /bin/bash -t è®© Dcoker åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š -i è´£è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ æ›´å¤šå‚æ•°å¯é€‰ -a stdin æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»å‹ -d åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨ID -i ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ -P éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨ç«¯å£å†…éƒ¨éšå³æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£ä¸Š -p æŒ‡å®šç«¯å£æ˜ å°„ï¼Œ -p å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ -t \bä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ â€“name&#x3D;â€gateâ€ ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§° â€“dns 8.8.8.8 æŒ‡å®šå®¹å™¨çš„ DNS æœåŠ¡å™¨ï¼Œé»˜è®¤ä¸å®¿ä¸»æœºä¸€è‡´ â€“dns-search example.com æŒ‡å®šå®¹å™¨ DNS æœç´¢åŸŸåï¼Œé»˜è®¤ä¸å®¿ä¸»æœºä¸€è‡´ -h â€œgateâ€ æŒ‡å®šå®¹å™¨çš„ hostname -e username&#x3D;â€™gateâ€™ è®¾ç½®ç¯å¢ƒå˜é‡ â€“env-file&#x3D;[] ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ç¯å¢ƒå˜é‡ â€“cpuset&#x3D;â€0-2â€ or â€“cpuset&#x3D;â€0,1,2â€ ç»‘å®šå®¹å™¨åˆ°æŒ‡å®š CPU è¿è¡Œ -m è®¾ç½®å®¹å™¨ä½¿ç”¨å†…å­˜æœ€å¤§å€¼ â€“net&#x3D;â€bridgeâ€ æŒ‡å®šå®¹å™¨çš„ç½‘ç»œè¿æ¥ç±»å‹æ”¯æŒ bridge&#x2F;host&#x2F;none&#x2F;container â€“link&#x3D;[] æ·»åŠ é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ â€“expose&#x3D;[] å¼€æ”¾ä¸€ä¸ªç«¯å£æˆ–ä¸€ç»„ç«¯å£ â€“volume,-v ç»‘å®šä¸€ä¸ªå· å½“åˆ©ç”¨ docker run æ¥åˆ›å»ºå®¹å™¨æ—¶ï¼ŒDcoker åœ¨åå°è¿è¡Œçš„æ ‡å‡†æ“ä½œåŒ…æ‹¬ï¼š æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒï¼Œä¸å­˜åœ¨å°±ä»å…¬æœ‰ä»“åº“ä¸‹è½½ åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨ åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå¤–é¢æŒ‚åœ¨ä¸€å±‚å¯è¯»å†™å±‚ ä»å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿå€Ÿå£åˆ°å®¹å™¨ä¸­å» ä»åœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨ æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº æ‰§è¡Œå®Œæ¯•åå®¹å™¨è¢«ç»ˆæ­¢ 3.3 å¯åŠ¨å®¹å™¨# åˆ›å»ºä¸€ä¸ªåä¸º test çš„å®¹å™¨ï¼Œå®¹å™¨ä»»åŠ¡æ˜¯ï¼šæ‰“å°ä¸€è¡Œ Hello word docker run --name=&#39;test&#39; ubuntu:14.04 /bin/echo &#39;Hello world&#39; # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å®¹å™¨ [-a]åŒ…æ‹¬ç»ˆæ­¢åœ¨å†…çš„æ‰€æœ‰å®¹å™¨ docker ps -a # å¯åŠ¨æŒ‡å®š name çš„å®¹å™¨ docker start test # é‡å¯æŒ‡å®š name çš„å®¹å™¨ docker restart test # æŸ¥çœ‹æ—¥å¿—è¿è¡Œæ—¥å¿—ï¼ˆæ¯æ¬¡å¯åŠ¨çš„æ—¥å¿—å‡è¢«æŸ¥è¯¢å‡ºæ¥ï¼‰ $ docker logs test Hello world Hello world 3.4 å®ˆæŠ¤æ€è¿è¡Œå‰é¢åˆ›å»ºçš„å®¹å™¨éƒ½æ˜¯æ‰§è¡Œä»»åŠ¡ï¼ˆæ‰“å°Hello worldï¼‰åï¼Œå®¹å™¨å°±ç»ˆæ­¢äº†ã€‚æ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è®© Docker å®¹å™¨åœ¨åå°ä»¥å®ˆæŠ¤æ€ï¼ˆDaemonizedï¼‰å½¢å¼è¿è¡Œã€‚æ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  -d å‚æ•°æ¥å®ç° æ³¨æ„ï¼šdockeræ˜¯å¦ä¼šé•¿ä¹…è¿è¡Œï¼Œå’Œ docker run æŒ‡å®šçš„å‘½ä»¤æœ‰å…³ # åˆ›å»º docker åå°å®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨ docker run --name=&#39;test2&#39; -d ubuntu:14.04 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot; # æŸ¥çœ‹å®¹å™¨ $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 237e555d4457 ubuntu:14.04 &quot;/bin/sh -c &#39;while tâ€¦&quot; 52 seconds ago Up 51 seconds test2 # è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ $ docker logs test2 hello world hello world hello world 3.5 è¿›å…¥å®¹å™¨ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»å®ç°äº†å®¹å™¨å®ˆæŠ¤æ€é•¿ä¹…è¿è¡Œï¼ŒæŸäº›æ—¶å€™éœ€è¦è¿›å…¥å®¹å™¨è¿›è¡Œæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ attach ã€exec è¿›å…¥å®¹å™¨ã€‚ # ä¸å®‰å…¨çš„ï¼Œctrl+d é€€å‡ºæ—¶å®¹å™¨ä¹Ÿä¼šç»ˆæ­¢ docker attach [å®¹å™¨Name] # ä»¥äº¤äº’å¼å‘½ä»¤è¡Œè¿›å…¥ï¼Œå®‰å…¨çš„ï¼Œæ¨èä½¿ç”¨ docker exec -it [å®¹å™¨Name] /bin/bash å‘½ä»¤ä¼˜åŒ– ä½¿ç”¨ docker exec å‘½ä»¤æ—¶ï¼Œå¥½ç”¨ï¼Œä½†æ˜¯å‘½ä»¤è¿‡é•¿ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‘½ä»¤æ¥ç®€åŒ–ä½¿ç”¨ åˆ›å»ºæ–‡ä»¶ /user/bin/ctn å‘½ä»¤æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ docker exec -it $1 /bin/bash æ£€æŸ¥ç¯å¢ƒå˜é‡æœ‰æ²¡æœ‰é…ç½®ç›®å½• /usr/bin ï¼ˆä¸€èˆ¬æ˜¯æœ‰é…ç½®åœ¨ç¯å¢ƒå˜é‡é‡Œé¢çš„ï¼Œä¸è¿‡æœ€å¥½å†ç¡®è®¤ä¸€ä¸‹ï¼‰ $PATH bash: /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games: No such file or directory å®Œæˆä¸Šé¢æ­¥éª¤åï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤ ctn æ¥è¿›å…¥å®¹å™¨ æ³¨æ„ï¼šå¦‚æœæ˜¯ä½¿ç”¨é root è´¦å·åˆ›å»ºçš„å‘½ä»¤ï¼Œè€Œ docker å‘½ä»¤æ˜¯ root æƒé™ï¼Œå¯èƒ½å­˜åœ¨æƒé™é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® chmod 777 /usr/bin/ctn è®¾ç½®æƒé™ï¼Œä½¿ç”¨ sudo ctn [å®¹å™¨Name] å³å¯è¿›å…¥å®¹å™¨ $ ctn [å®¹å™¨Name] ä½¿ç”¨ä¸Šé¢å‘½ä»¤æ—¶ï¼Œå®¹å™¨Name éœ€è¦æ‰‹åŠ¨è¾“å…¥ï¼Œå®¹å™¨å‡ºé”™ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ© complete å‘½ä»¤æ¥è¡¥å…¨ å®¹å™¨Nameï¼Œåœ¨ ~/.bashrc ï¼ˆä½œç”¨äºå½“å‰ç”¨æˆ·ï¼Œå¦‚æœæƒ³è¦æ‰€è¦ç”¨æˆ·ä¸Šæ ¡ï¼Œå¯ä»¥ä¿®æ”¹ /etc/bashrcï¼‰æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œå†…å®¹å¦‚ä¸‹ã€‚ä¿å­˜åæ‰§è¡Œ source ~/.bashrc ä½¿ä¹‹ç”Ÿæ•ˆï¼Œä¹‹åæˆ‘ä»¬è¾“å…¥ ctn åï¼ŒæŒ‰ tab å°±ä¼šæç¤ºæˆ–è‡ªåŠ¨è¡¥å…¨å®¹å™¨åäº†äº† # ctn auto complete complete -W &quot;$(docker ps --format&quot;&#123;&#123;.Names&#125;&#125;&quot;)&quot; ctn æ³¨æ„ï¼š ç”±äºæç¤ºçš„ å®¹å™¨Name æ˜¯ ~/.bashrc ç”Ÿæ•ˆæ—¶çš„åˆ—è¡¨ï¼Œæ‰€æœ‰å¦‚æœä¹‹å docker å®¹å™¨åˆ—è¡¨æœ‰å˜åŠ¨ï¼Œéœ€è¦é‡æ–°æ‰§è¡Œ source ~/.bashrc ä½¿ä¹‹æ›´æ–°æç¤ºåˆ—è¡¨ 3.6 ç»ˆæ­¢å®¹å™¨é€šè¿‡ docker stop [å®¹å™¨Name] æ¥ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ # ç»ˆæ­¢å®¹å™¨åä¸º test2 çš„å®¹å™¨ docker stop test2 # æŸ¥çœ‹æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ docker ps # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬ç»ˆæ­¢çš„ï¼‰ docker ps -a 3.7 å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸ªå®¹å™¨åï¼Œå¯ä»¥ç»å½“å‰å®¹å™¨çŠ¶æ€æ‰“åŒ…æˆé•œåƒï¼Œæ–¹ä¾¿ä¸‹æ¬¡ç›´æ¥é€šè¿‡é•œåƒä»“åº“ç”Ÿæˆå½“å‰çŠ¶æ€çš„å®¹å™¨ã€‚ # åˆ›å»ºå®¹å™¨ docker run -t -i training/sinatra /bin/bash # æ·»åŠ ä¸¤ä¸ªåº”ç”¨ gem install json # å°†ä¿®æ”¹åçš„å®¹å™¨æ‰“åŒ…æˆæ–°çš„é•œåƒ docker commit -m &quot;Added json gem&quot; -a &quot;Docker Newbee&quot; 0b2616b0e5a8 ouruser/sinatra:v2 3.8 å¯¼å‡º&#x2F;å¯¼å…¥å®¹å™¨å®¹å™¨ -&gt;å¯¼å‡º&gt; å®¹å™¨å¿«ç…§æ–‡ä»¶ -&gt;å¯¼å…¥&gt; æœ¬åœ°é•œåƒä»“åº“ -&gt;æ–°å»º&gt; å®¹å™¨ $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2a8bffa405c8 ubuntu:14.04 &quot;/bin/sh -c &#39;while tâ€¦&quot; About an hour ago Up 3 seconds test2 # å¯¼å‡º $ docker export 2a8bffa405c8 &gt; ubuntu.tar # å¯¼å…¥ä¸ºé•œåƒ $ docker ubuntu.tar | docker import - test/ubuntu:v1.0 # ä»æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•å¯¼å…¥ $ docker import http://example.com/exampleimage.tgz example/imagerepo æ³¨æ„ï¼šç”¨æˆ·æ—¢å¯ä»¥é€šè¿‡ docker load æ¥å¯¼å…¥é•œåƒå­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒä»“åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ docker import æ¥å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«æ‰¾åˆ°æœ¬åœ°é•œåƒä»“åº“ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºå®¹å™¨å¿«ç…§å°†ä¸¢å¤±æ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼Œä»…ä¿å­˜å®¹å™¨å½“æ—¶çš„çŠ¶æ€ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæˆçš„è®°å½•ï¼Œä½“ç§¯è¦æ›´å¤§ã€‚æ‰€æœ‰å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶éœ€è¦é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ä¿¡æ¯ã€‚ 3.9 åˆ é™¤å®¹å™¨å¯ä»¥ä½¿ç”¨ docker rm [å®¹å™¨Name] æ¥åˆ é™¤ä¸€ä¸ªç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œå¦‚æœå®¹å™¨è¿˜æœªç»ˆæ­¢ï¼Œå¯ä»¥å…ˆä½¿ç”¨ docker stop [å®¹å™¨Name] æ¥ç»ˆæ­¢å®¹å™¨ï¼Œå†è¿›è¡Œåˆ é™¤æ“ä½œ docker rm test2 # åˆ é™¤å®¹å™¨ -f: å¼ºåˆ¶åˆ é™¤ï¼Œæ— è§†æ˜¯å¦è¿è¡Œ $ docker [-f] rm myubuntu # åˆ é™¤æ‰€æœ‰å·²å…³é—­çš„å®¹å™¨ $ docker rm $(docker ps -a -q) 3.10 æŸ¥çœ‹å®¹å™¨çŠ¶æ€docker stats $(docker ps --format=&#123;&#123;.Names&#125;&#125;) å››ã€æ•°æ®å·4.1 ä»‹ç»æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šç‰¹æ€§ï¼š æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ å·ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ æ•°æ®å·ç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mount 4.2 åˆ›å»ºæ•°æ®å·åœ¨ç”¨ docker run å‘½ä»¤çš„æ—¶å€™ï¼Œä½¿ç”¨ -v æ ‡è®°æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·å¹¶æŒ‚åœ¨åœ¨å®¹å™¨é‡Œï¼Œå¯åŒæ—¶æŒ‚åœ¨å¤šä¸ªã€‚ # åˆ›å»ºä¸€ä¸ª web å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ªæ•°æ®å·åˆ°å®¹å™¨çš„ /webapp ç›®å½• docker run -d -P --name web -v /webapp training/webapp python app.py # æŒ‚è½½ä¸€ä¸ªå®¿ä¸»æœºç›®å½• /data/webapp åˆ°å®¹å™¨ä¸­çš„ /opt/webapp docker run -d -P --name web -v /src/webapp:/opt/webapp training/webapp python app.py # é»˜è®¤æ˜¯è¯»å†™æƒé™ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºåªè¯» docker run -d -P --name web -v /src/webapp:/opt/webapp:ro # æŒ‚è½½å•ä¸ªæ–‡ä»¶ docker run --rm -it -v ~/.bash_history:/.bash_history ubuntu /bin/bash 4.3 æ•°æ®å·å®¹å™¨å¦‚æœéœ€è¦å¤šä¸ªå®¹å™¨å…±äº«æ•°æ®ï¼Œæœ€å¥½åˆ›å»ºæ•°æ®å·å®¹å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å®¹å™¨ï¼Œæ’°æ–‡ç”¨æ¥æä¾›æ•°æ®å·ä¾›å…¶ä»–å®¹å™¨æŒ‚è½½çš„ # åˆ›å»ºä¸€ä¸ªæ•°æ®å·å®¹å™¨ dbdata docker run -d -v /dbdata --name dbdata training/postgres echo Data-only container for postgres # å…¶ä»–å®¹å™¨æŒ‚è½½ dbdata å®¹å™¨çš„æ•°æ®å· docker run -d --volumes-from dbdata --name db1 training/postgres docker run -d --volumes-from dbdata --name db2 training/postgres äº”ã€ç½‘ç»œ5.1 å¤–éƒ¨è®¿é—®å®¹å™¨åœ¨å®¹å™¨å†…è¿è¡Œä¸€äº›æœåŠ¡ï¼Œéœ€è¦å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°è¿™äº›æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡ -P æˆ– -p å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚ å½“ä½¿ç”¨ -P æ ‡è®°æ—¶ï¼ŒDocker ä¼šéšå³æ˜ å°„ä¸€ä¸ª 49000ï½49900 çš„ç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚ ä½¿ç”¨ docker ps å¯ä»¥æŸ¥çœ‹ç«¯å£æ˜ å°„æƒ…å†µ $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7f43807dc042 training/webapp &quot;python app.py&quot; 3 seconds ago Up 2 seconds 0.0.0.0:32770-&gt;5000/tcp amazing_liskov -p æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ”¯æŒæ ¼å¼ ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort # ä¸é™åˆ¶ipè®¿é—® docker run -d -p 5000:5000 training/webapp python app.py # åªå…è®¸å®¿ä¸»æœºå›ç¯åœ°å€è®¿é—® docker run -d -p 127.0.0.1:5000:5000 training/webapp python app.py # å®¿ä¸»æœºè‡ªåŠ¨åˆ†é…ç»‘å®šç«¯å£ docker run -d -p 127.0.0.1::5000 training/webapp python app.py # æŒ‡å®š udp ç«¯å£ docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py # æŒ‡å®šå¤šä¸ªç«¯å£æ˜ å°„ docker run -d -p 5000:5000 -p 3000:80 training/webapp python app.py # æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½® $ docker port amazing_liskov 5000/tcp -&gt; 0.0.0.0:32770 5.2 å®¹å™¨äº’è”å®¹å™¨é™¤äº†è·Ÿå®¿ä¸»æœºç«¯å£æ˜ å°„å¤–ï¼Œè¿˜æœ‰ä¸€ç§å®¹å™¨é—´äº¤äº’çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨æº&#x2F;ç›®æ ‡å®¹å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªéš§é“ï¼Œç›®æ ‡å®¹å™¨å¯ä»¥çœ‹åˆ°æºå®¹å™¨æŒ‡å®šçš„ä¿¡æ¯ã€‚ å¯ä»¥é€šè¿‡ --link name:alias æ¥è¿æ¥å®¹å™¨ï¼Œä¸‹é¢å°±æ˜¯ â€œwebå®¹å™¨è¿æ¥dbå®¹å™¨â€ çš„ä¾‹å­ # åˆ›å»º å®¹å™¨db docker run -d --name db training/postgres # åˆ›å»º å®¹å™¨web å¹¶è¿æ¥åˆ° å®¹å™¨db docker run -d -P --name web --link db:db training/webapp python app.py # è¿›å…¥ å®¹å™¨webï¼Œæµ‹è¯•è¿é€šæ€§ $ ctn web $ ping db PING db (172.17.0.3) 56(84) bytes of data. 64 bytes from db (172.17.0.3): icmp_seq=1 ttl=64 time=0.254 ms 64 bytes from db (172.17.0.3): icmp_seq=2 ttl=64 time=0.190 ms 64 bytes from db (172.17.0.3): icmp_seq=3 ttl=64 time=0.389 ms 5.3 è®¿é—®æ§åˆ¶å®¹å™¨æƒ³è¦è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œéœ€è¦å®¿ä¸»æœºçš„è½¬å‘æ”¯æŒã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦æ‰“å¼€ $ sysctl net.ipv4.ip_forward net.ipv4.ip_forward = 1 å¦‚æœæ˜¯ 0ï¼Œè¯´æ˜æ²¡æœ‰å¼€å¯è½¬å‘ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨æ‰“å¼€ã€‚ $ sysctl -w net.ipv4.ip_forward=1 5.4 é…ç½® docker0 æ¡¥æ¥Docker æœåŠ¡é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ª docker0 ç½‘æ¡¥ï¼Œä»–åœ¨å†…æ ¸å±‚è¿é€šäº†å…¶ä»–ç‰©ç†æˆ–è™šæ‹Ÿç½‘å¡ï¼Œè¿™å°±å°†å®¹å™¨å’Œä¸»æœºéƒ½æ”¾åœ¨åŒä¸€ä¸ªç‰©ç†ç½‘ç»œã€‚ Docker é»˜è®¤åˆ¶å®šäº† docker0 æ¥å£çš„IPåœ°å€å’Œå­ç½‘æ©ç ï¼Œè®©ä¸»æœºå’Œå®¹å™¨é—´å¯ä»¥é€šè¿‡ç½‘æ¡¥ç›¸äº’é€šä¿¡ï¼Œä»–è¿˜ç»™äº† MTUï¼ˆæ¥å£å…è®¸æ¥æ”¶çš„æœ€å¤§å•å…ƒï¼‰ï¼Œé€šå¸¸æ˜¯ 1500 Bytesï¼Œæˆ–å®¿ä¸»æœºç½‘ç»œè·¯ç”±ä¸Šæ”¯æŒçš„é»˜è®¤å€¼ã€‚è¿™äº›éƒ½å¯ä»¥åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™è¿›è¡Œé…ç½®ã€‚ --bip=CIDR ipåœ°å€åŠ å­ç½‘æ©ç æ ¼å¼ï¼Œå¦‚ 192.168.1.5&#x2F;24 --mtu=BYTES è¦†ç›–é»˜è®¤çš„ Docker MTU é…ç½® å¯ä»¥é€šè¿‡ brctl show æ¥æŸ¥çœ‹ç½‘æ¡¥å’Œç«¯å£è¿æ¥ä¿¡æ¯ 5.5 ç½‘ç»œé…ç½®æ–‡ä»¶Docker 1.2.0 å¼€å§‹æ”¯æŒåœ¨è¿è¡Œä¸­çš„å®¹å™¨é‡Œç¼–è¾‘ /etc/hosts ã€/etc/hostsname å’Œ /etc/resolve.conf æ–‡ä»¶ï¼Œä¿®æ”¹éƒ½æ˜¯ä¸´æ—¶çš„ï¼Œé‡æ–°å®¹å™¨å°†ä¼šä¸¢å¤±ä¿®æ”¹ï¼Œé€šè¿‡ docker commit ä¹Ÿä¸ä¼šè¢«æäº¤ã€‚ å…­ã€Dockerfile6.1 ä»‹ç»Dockerfile æ˜¯ç”±ä¸€è¡Œè¡Œå‘½ä»¤ç»„æˆçš„å‘½ä»¤é›†åˆï¼Œåˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š åŸºç¡€é•œåƒä¿¡æ¯ ç»´æŠ¤ç€ä¿¡æ¯ é•œåƒæ“ä½œæŒ‡ä»¤ å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡ä»¤ å¦‚ä¸‹ï¼š # æœ€å‰é¢ä¸€èˆ¬æ”¾è¿™ä¸ª Dockerfile çš„ä»‹ç»ã€ç‰ˆæœ¬ã€ä½œè€…åŠä½¿ç”¨è¯´æ˜ç­‰ # This dockerfile uses the ubuntu image # VERSION 2 - EDITION 1 # Author: docker_user # Command format: Instruction [arguments / command] .. # ä½¿ç”¨çš„åŸºç¡€é•œåƒï¼Œå¿…é¡»æ”¾åœ¨éæ³¨é‡Šç¬¬ä¸€è¡Œ FROM ubuntu # ç»´æŠ¤ç€ä¿¡æ¯ä¿¡æ¯ï¼š åå­— è”ç³»æ–¹å¼ MAINTAINER docker_user docker_user@email.com # æ„å»ºé•œåƒçš„å‘½ä»¤ï¼šå¯¹é•œåƒåšçš„è°ƒæ•´éƒ½åœ¨è¿™é‡Œ RUN echo &quot;deb http://archive.ubuntu.com/ubuntu/ raring main universe&quot; &gt;&gt; /etc/apt/sources.list RUN apt-get update &amp;&amp; apt-get install -y nginx RUN echo &quot;\\ndaemon off;&quot; &gt;&gt; /etc/nginx/nginx.conf # åˆ›å»º/è¿è¡Œ å®¹å™¨æ—¶çš„æ“ä½œæŒ‡ä»¤ # å¯ä»¥ç†è§£ä¸º docker run åè·Ÿçš„è¿è¡ŒæŒ‡ä»¤ CMD /usr/sbin/nginx 6.2 æŒ‡ä»¤æŒ‡ä»¤ä¸€èˆ¬æ ¼å¼ä¸º INSTRUCTION argsï¼ŒåŒ…æ‹¬ FORM ã€ MAINTAINER ã€RUN ç­‰ FORM ç¬¬ä¸€æ¡æŒ‡ä»¤å¿…é¡»æ˜¯ FORM æŒ‡ä»¤ï¼Œå¹¶ä¸”å¦‚æœåœ¨åŒä¸€ä¸ªDockerfile ä¸­åˆ›å»ºå¤šä¸ªé•œåƒï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ª FROM æŒ‡ä»¤ï¼ˆæ¯ä¸ªé•œåƒä¸€æ¬¡ï¼‰ FORM ubuntuFORM ubuntu:14.04 MAINTAINER ç»´æŠ¤è€…ä¿¡æ¯ MAINTAINER Chris &#120;&#120;&#64;&#x67;&#x6d;&#x61;&#105;&#x6c;&#46;&#x63;&#111;&#109; RUN æ¯æ¡ RUN æŒ‡ä»¤åœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒã€‚å½“å‘½ä»¤è¿‡é•¿æ—¶å¯ä»¥ä½¿ç”¨ \\ æ¥æ¢è¡Œ åœ¨ shell ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤RUN apt-get update &amp;&amp; apt-get install -y nginxåœ¨ exec ä¸­æ‰§è¡Œ:RUN [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo hello&quot;] CMD æŒ‡å®šå¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯ä¸ª Dockerfile åªèƒ½æœ‰ä¸€æ¡ CMD å‘½ä»¤ã€‚å¦‚æœæŒ‡å®šäº†å¤šæ¡å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€æ¡ä¼šè¢«æ‰§è¡Œã€‚ CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;] ä½¿ç”¨ exec æ‰§è¡Œï¼Œæ¨èæ–¹å¼ï¼›CMD command param1 param2 åœ¨ /bin/sh ä¸­æ‰§è¡Œï¼Œæä¾›ç»™éœ€è¦äº¤äº’çš„åº”ç”¨ï¼›CMD [&quot;param1&quot;,&quot;param2&quot;] æä¾›ç»™ ENTRYPOINT çš„é»˜è®¤å‚æ•°ï¼› EXPOSE å‘Šè¯‰æœåŠ¡ç«¯å®¹å™¨æš´éœ²çš„ç«¯å£å·ï¼Œ EXPOSE ENV æŒ‡å®šç¯å¢ƒå˜é‡ ENV PG_MAJOR 9.3ENV PATH &#x2F;usr&#x2F;local&#x2F;postgres-$PG_MAJOR&#x2F;bin:$PATH ADD ADD è¯¥å‘½ä»¤å°†å¤åˆ¶æŒ‡å®šçš„ åˆ°å®¹å™¨ä¸­çš„ ã€‚å…¶ä¸­ å¯ä»¥æ˜¯ Dockerfile æ‰€åœ¨ç›®å½•çš„ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªURLï¼›è¿˜å¯ä»¥æ˜¯ä¸€ä¸ª taræ–‡ä»¶ï¼ˆè‡ªåŠ¨è§£å‹ä¸ºç›®å½•ï¼‰ COPY æ ¼å¼ä¸º COPY å¤åˆ¶æœ¬åœ°ä¸»æœºçš„ ï¼ˆä¸º Dockerfile æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼‰åˆ°å®¹å™¨ä¸­çš„ ã€‚å½“ä½¿ç”¨æœ¬åœ°ç›®å½•ä¸ºæºç›®å½•æ—¶ï¼Œæ¨èä½¿ç”¨ COPY ENTRYPOINT é…ç½®å®¹å™¨å¯åŠ¨æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸å¯è¢« docker run æä¾›çš„å‚æ•°è¦†ç›–æ¯ä¸ªDocekrfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª ENTRYPOINT ï¼Œå½“æŒ‡å®šå¤šä¸ªæ—¶ï¼Œåªæœ‰æœ€åä¸€ä¸ªèµ·æ•ˆ ä¸¤ç§æ ¼å¼ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]``ENTRYPOINT command param1 param2ï¼ˆshellä¸­æ‰§è¡Œï¼‰ VOLUME åˆ›å»ºä¸€ä¸ªå¯ä»¥ä»æœ¬åœ°ä¸»æœºæˆ–å…¶ä»–å®¹å™¨æŒ‚è½½çš„æŒ‚è½½ç‚¹ï¼Œä¸€èˆ¬ç”¨æ¥å­˜æ”¾æ•°æ®åº“å’Œéœ€è¦ä¿æŒçš„æ•°æ®ç­‰ã€‚ VOLUME [â€œ&#x2F;dataâ€] USER æŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ– UIDï¼Œåç»­çš„ RUN ä¹Ÿä¼šä½¿ç”¨æŒ‡å®šç”¨æˆ· USER daemon WORKDIR ä¸ºåç»­çš„ RUNã€CMDã€ENTRYPOINT æŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª WORKDIR æŒ‡ä»¤ï¼Œåç»­å‘½ä»¤å¦‚æœå‚æ•°æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™ä¼šåŸºäºä¹‹å‰å‘½ä»¤æŒ‡å®šçš„è·¯å¾„ã€‚ æ ¼å¼ä¸º WORKDIR /path/to/workdirã€‚ WORKDIR &#x2F;aWORKDIR bWORKDIR cRUN pwdæœ€åçš„è·¯å¾„ä¸º &#x2F;a&#x2F;b&#x2F;c ONBUILD é…ç½®å½“æ‰€åˆ›å»ºçš„é•œåƒä½œä¸ºå…¶å®ƒæ–°åˆ›å»ºé•œåƒçš„åŸºç¡€é•œåƒæ—¶ï¼Œæ‰€æ‰§è¡Œçš„æ“ä½œæŒ‡ä»¤ã€‚ æ ¼å¼ä¸º ONBUILD [INSTRUCTION]ã€‚ 6.3 åˆ›å»ºé•œåƒç¼–å†™å®Œæˆ Dockerfile ä¹‹åï¼Œå¯ä»¥é€šè¿‡ docker build å‘½ä»¤æ¥åˆ›å»ºé•œåƒ docker build [é€‰é¡¹] è·¯å¾„ è¯¥å‘½ä»¤æ±Ÿéƒ½åŒºæŒ‡å®šè·¯å¾„ä¸‹ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰çš„Dockerfileï¼Œå¹¶å°†è¯¥è·¯å¾„ä¸‹æ‰€æœ‰å†…å®¹å‘é€ç»™ Docker æœåŠ¡ç«¯ï¼Œæœ‰æœåŠ¡ç«¯æ¥åˆ›å»ºé•œåƒã€‚å¯ä»¥é€šè¿‡ .dockerignore æ–‡ä»¶æ¥è®© Docker å¿½ç•¥è·¯å¾„ä¸‹çš„ç›®å½•ä¸æ–‡ä»¶ # ä½¿ç”¨ -t æŒ‡å®šé•œåƒçš„æ ‡ç­¾ä¿¡æ¯ docker build -t myrepo/myimage . ä¸ƒã€Docker Compose7.1 ä»‹ç»Docker Compose æ˜¯ Docker å®˜æ–¹ç¼–æ’é¡¹ç›®ä¹‹ä¸€ï¼Œè´Ÿè´£å¿«é€Ÿåœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚ç»´æŠ¤åœ°å€ï¼šhttps://github.com/docker/composeï¼Œç”± Python ç¼–å†™ï¼Œå®é™…è°ƒç”¨ Dockeræä¾›çš„APIå®ç°ã€‚ Dockerfile å¯ä»¥è®©ç”¨æˆ·ç®¡ç†ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ï¼Œè€Œ Compose åˆ™å…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªæ¨¡ç‰ˆï¼ˆYAMLæ ¼å¼ï¼‰ä¸­å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ï¼ˆè¢«ç§°ä¸ºä¸€ä¸ªproject&#x2F;é¡¹ç›®ï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ª webå®¹å™¨å†åŠ ä¸Šæ•°æ®åº“ã€redisç­‰ã€‚ 7.2 å®‰è£…# ä½¿ç”¨ pip è¿›è¡Œå®‰è£… pip install -U docker-compose # æŸ¥çœ‹ç”¨æ³• docker-ompose -h # æ·»åŠ  bash è¡¥å…¨å‘½ä»¤ curl -L https://raw.githubusercontent.com/docker/compose/1.2.0/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose 7.3 ä½¿ç”¨æœ¯è¯­ æœåŠ¡&#x2F;serviceï¼š ä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç›¸åŒé•œåƒçš„å®ä¾‹ é¡¹ç›®&#x2F;projectï¼š æœ‰ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„å®Œæˆä¸šåŠ¡å•å…ƒ ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ª Haproxy æŒ‚è½½ä¸‰ä¸ª Web å®¹å™¨ åˆ›å»ºä¸€ä¸ª compose-haproxy-web ç›®å½•ï¼Œä½œä¸ºé¡¹ç›®å·¥ä½œç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªå­ç›®å½•ï¼š haproxy å’Œ web ã€‚ compose-haproxy-webcompose-haproxy-web git clone https://github.com/yelog/compose-haproxy-web.git ç›®å½•é•¿è¿™æ ·ï¼š compose-haproxy-web â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ haproxy â”‚ â””â”€â”€ haproxy.cfg â””â”€â”€ web â”œâ”€â”€ Dockerfile â”œâ”€â”€ index.html â””â”€â”€ index.py åœ¨è¯¥ç›®å½•æ‰§è¡Œ docker-compose up å‘½ä»¤ï¼Œä¼šæ•´åˆè¾“å‡ºæ‰€æœ‰å®¹å™¨çš„è¾“å‡º $ docker-compose up Starting compose-haproxy-web_webb_1 ... done Starting compose-haproxy-web_webc_1 ... done Starting compose-haproxy-web_weba_1 ... done Recreating compose-haproxy-web_haproxy_1 ... done Attaching to compose-haproxy-web_webb_1, compose-haproxy-web_weba_1, compose-haproxy-web_webc_1, compose-haproxy-web_haproxy_1 haproxy_1 | [NOTICE] 244/131022 (1) : haproxy version is 2.2.2 haproxy_1 | [NOTICE] 244/131022 (1) : path to executable is /usr/local/sbin/haproxy haproxy_1 | [ALERT] 244/131022 (1) : parsing [/usr/local/etc/haproxy/haproxy.cfg:14] : &#39;listen&#39; cannot handle unexpected argument &#39;:70&#39;. haproxy_1 | [ALERT] 244/131022 (1) : parsing [/usr/local/etc/haproxy/haproxy.cfg:14] : please use the &#39;bind&#39; keyword for listening addresses. haproxy_1 | [ALERT] 244/131022 (1) : Error(s) found in configuration file : /usr/local/etc/haproxy/haproxy.cfg haproxy_1 | [ALERT] 244/131022 (1) : Fatal errors found in configuration. compose-haproxy-web_haproxy_1 exited with code 1 æ­¤æ—¶è®¿é—®æœ¬åœ°çš„ 80 ç«¯å£ï¼Œä¼šç»è¿‡ haproxy è‡ªåŠ¨è½¬å‘åˆ°åç«¯çš„æŸä¸ª web å®¹å™¨ä¸Šï¼Œåˆ·æ–°é¡µé¢ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°è®¿é—®çš„å®¹å™¨åœ°å€çš„å˜åŒ–ã€‚ 7.4 å‘½ä»¤è¯´æ˜å¤§éƒ¨åˆ†å‘½ä»¤éƒ½å¯ä»¥è¿è¡Œåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ä¸Šã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜ï¼Œå‘½ä»¤åˆ™åº”ç”¨åœ¨é¡¹ç›®æ‰€æœ‰çš„æœåŠ¡ä¸Šã€‚ æ‰§è¡Œ docker-compose [COMMAND] --help æŸ¥çœ‹å…·ä½“æŸä¸ªå‘½ä»¤çš„ä½¿ç”¨è¯´æ˜ ä½¿ç”¨æ ¼å¼ docker-compose [options] [COMMAND] [ARGS...] build æ„å»º&#x2F;é‡å»ºæœåŠ¡æœåŠ¡ä¸€æ—¦æ„å»ºåï¼Œå°†ä¼šå¸¦ä¸Šä¸€ä¸ªæ ‡è®°åï¼Œä¾‹å¦‚ web_dbå¯ä»¥éšæ—¶åœ¨é¡¹ç›®ç›®å½•è¿è¡Œ docker-compose build æ¥é‡æ–°æ„å»ºæœåŠ¡ help è·å¾—ä¸€ä¸ªå‘½ä»¤çš„ä¿¡æ¯ kill é€šè¿‡å‘é€ SIGKILL ä¿¡å·æ¥å¼ºåˆ¶åœæ­¢æœåŠ¡å®¹å™¨ï¼Œæ”¯æŒé€šè¿‡å‚æ•°æ¥æŒ‡å®šå‘é€ä¿¡å·ï¼Œä¾‹å¦‚docker-compose kill -s SIGINT logs æŸ¥çœ‹æœåŠ¡çš„è¾“å‡º port æ‰“å°ç»‘å®šçš„å…¬å…±ç«¯å£ ps åˆ—å‡ºæ‰€æœ‰å®¹å™¨ pull æ‹‰å»æœåŠ¡é•œåƒ rm åˆ é™¤åœæ­¢çš„æœåŠ¡å®¹å™¨ run åœ¨ä¸€ä¸ªæœåŠ¡ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤docker-compose run ubuntu ping docker.com scale è®¾ç½®åŒä¸€ä¸ªæœåŠ¡è¿è¡Œçš„å®¹å™¨ä¸ªæ•°é€šè¿‡ service=num çš„å‚æ•°æ¥è®¾ç½®æ•°é‡docker-compose scale web=2 worker=3 start å¯åŠ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æœåŠ¡å®¹å™¨ stop åœæ­¢ä¸€ä¸ªå·²ç»è¿è¡Œçš„å®¹å™¨ï¼Œä½†ä¸åˆ é™¤ã€‚å¯ä»¥é€šè¿‡ docker-compose start å†æ¬¡å¯åŠ¨ up æ„å»ºã€åˆ›å»ºã€å¯åŠ¨ã€é“¾æ¥ä¸€ä¸ªæœåŠ¡ç›¸å…³çš„å®¹å™¨é“¾æ¥æœåŠ¡éƒ½å°†è¢«å¯åŠ¨ï¼Œé™¤éä»–ä»¬å·²ç»è¿è¡Œdocker-compose up -d å°†åå°è¿è¡Œå¹¶å¯åŠ¨docker-compose up å·²å­˜åœ¨å®¹å™¨å°†ä¼šé‡æ–°åˆ›å»ºdocker-compose up --no-recreate å°†ä¸ä¼šé‡æ–°åˆ›å»ºå®¹å™¨ 7.5 ç¯å¢ƒå˜é‡ç¯å¢ƒå˜é‡å¯ä»¥ç”¨æ¥é…ç½® Compose çš„è¡Œä¸º ä»¥ Docker_ å¼€å¤´çš„å˜é‡ç”¨æ¥é…ç½® Docker å‘½ä»¤è¡Œå®¢æˆ·ç«¯ä½¿ç”¨çš„ä¸€æ · COMPOSE_PROJECT_NAME è®¾ç½®é€šè¿‡ Compose å¯åŠ¨çš„æ¯ä¸€ä¸ªå®¹å™¨å‰æ·»åŠ çš„é¡¹ç›®åç§°ï¼Œé»˜è®¤æ˜¯å½“å‰å·¥ä½œç›®å½•çš„åå­—ã€‚ COMPOSE_FILE è®¾ç½®è¦ä½¿ç”¨çš„ docker-compose.yml çš„è·¯å¾„ã€‚é»˜è®¤è·¯å¾„æ˜¯å½“å‰å·¥ä½œç›®å½•ã€‚ DOCKER_HOST è®¾ç½® Docker daemon çš„åœ°å€ã€‚é»˜è®¤ä½¿ç”¨ unix:///var/run/docker.sockï¼Œä¸ Docker å®¢æˆ·ç«¯é‡‡ç”¨çš„é»˜è®¤å€¼ä¸€è‡´ã€‚ DOCKER_TLS_VERIFY å¦‚æœè®¾ç½®ä¸ä¸ºç©ºï¼Œåˆ™ä¸ Docker daemon äº¤äº’é€šè¿‡ TLS è¿›è¡Œã€‚ DOCKER_CERT_PATH é…ç½® TLS é€šä¿¡æ‰€éœ€è¦çš„éªŒè¯ï¼ˆca.pemã€cert.pem å’Œ key.pemï¼‰æ–‡ä»¶çš„è·¯å¾„ï¼Œé»˜è®¤æ˜¯ ~/.docker ã€‚ 7.6 docker-compose.ymlé»˜è®¤æ¨¡ç‰ˆæ–‡ä»¶æ˜¯ docker-compose.yml ï¼Œå¯åŠ¨å®šä¹‰äº†æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»ç»è¿‡ image æŒ‡ä»¤æŒ‡å®šé•œåƒæˆ– build æŒ‡ä»¤ï¼ˆéœ€è¦ Dockerfile) æ¥è‡ªåŠ¨æ„å»ºã€‚ å…¶ä»–å¤§éƒ¨åˆ†æŒ‡ä»¤è·Ÿ docker run ç±»ä¼¼ å¦‚æœä½¿ç”¨ build æŒ‡ä»¤ï¼Œåœ¨ Dockerfile ä¸­è®¾ç½®çš„é€‰é¡¹ï¼ˆå¦‚ CMD ã€EXPOSE ç­‰ï¼‰å°†ä¼šè¢«è‡ªåŠ¨è·å–ï¼Œæ— éœ€åœ¨ docker-compose.yml ä¸­å†æ¬¡è®¾ç½®ã€‚ **image** æŒ‡å®šé•œåƒåç§°æˆ–é•œåƒIDï¼Œå¦‚æœæœ¬åœ°ä»“åº“ä¸å­˜åœ¨ï¼Œå°†å°è¯•ä»è¿œç¨‹ä»“åº“æ‹‰å»æ­¤é•œåƒ image: ubuntu image: orchardup/postgresql image: a4bc65fd **build** æŒ‡å®š Dockerfile æ‰€åœ¨æ–‡ä»¶çš„è·¯å¾„ã€‚Compose å°†åˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºè¿™ä¸ªé•œåƒï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé•œåƒã€‚ build: /path/to/build/dir **command** è¦†ç›–å®¹å™¨å¯åŠ¨é»˜è®¤æ‰§è¡Œå‘½ä»¤ command: bundle exec thin -p 3000 **links** é“¾æ¥åˆ°å…¶ä»–æœåŠ¡ä¸­çš„å®¹å™¨ï¼Œä½¿ç”¨æœåŠ¡åç§°æˆ–åˆ«å links: - db - db:database - redis åˆ«åä¼šè‡ªåŠ¨åœ¨æœåŠ¡å™¨ä¸­çš„ /etc/hosts é‡Œåˆ›å»ºã€‚ä¾‹å¦‚ï¼š 172.17.2.186 db 172.17.2.186 database 172.17.2.187 redis **external_links** è¿æ¥åˆ° docker-compose.yml å¤–éƒ¨çš„å®¹å™¨ï¼Œç”šè‡³å¹¶é Compose ç®¡ç†çš„å®¹å™¨ã€‚ external_links: - redis_1 - project_db_1:mysql - project_db_1:postgresql ports æš´éœ²ç«¯å£ä¿¡æ¯ HOST:CONTAINER æ ¼å¼æˆ–è€…ä»…ä»…æŒ‡å®šå®¹å™¨çš„ç«¯å£ï¼ˆå®¿ä¸»æœºä¼šéšæœºåˆ†é…ç«¯å£ï¼‰ ports: - &quot;3000&quot; - &quot;8000:8000&quot; - &quot;49100:22&quot; - &quot;127.0.0.1:8001:8001&quot; æ³¨ï¼šå½“ä½¿ç”¨ HOST:CONTAINER æ ¼å¼æ¥æ˜ å°„ç«¯å£æ—¶ï¼Œå¦‚æœä½ ä½¿ç”¨çš„å®¹å™¨ç«¯å£å°äº 60 ä½ å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯å¾—ç»“æœï¼Œå› ä¸º YAML å°†ä¼šè§£æ xx:yy è¿™ç§æ•°å­—æ ¼å¼ä¸º 60 è¿›åˆ¶ã€‚æ‰€ä»¥å»ºè®®é‡‡ç”¨å­—ç¬¦ä¸²æ ¼å¼ã€‚ **expose** æš´éœ²ç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œåªè¢«è¿æ¥çš„æœåŠ¡è®¿é—® expose: - &quot;3000&quot; - &quot;8000&quot; volumes å·æŒ‚è½½è·¯å¾„è®¾ç½®ã€‚å¯ä»¥è®¾ç½®å®¿ä¸»æœºè·¯å¾„ ï¼ˆHOST:CONTAINERï¼‰ æˆ–åŠ ä¸Šè®¿é—®æ¨¡å¼ ï¼ˆHOST:CONTAINER:roï¼‰ã€‚ volumes: - /var/lib/mysql - cache/:/tmp/cache - ~/configs:/etc/configs/:ro **** volumes_from ä»å¦ä¸€ä¸ªæœåŠ¡æˆ–å®¹å™¨æŒ‚è½½å®ƒçš„æ‰€æœ‰å·ã€‚ volumes_from: - service_name - container_name environment è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ ¼å¼ã€‚ åªç»™å®šåç§°çš„å˜é‡ä¼šè‡ªåŠ¨è·å–å®ƒåœ¨ Compose ä¸»æœºä¸Šçš„å€¼ï¼Œå¯ä»¥ç”¨æ¥é˜²æ­¢æ³„éœ²ä¸å¿…è¦çš„æ•°æ®ã€‚ environment: RACK_ENV: development SESSION_SECRET: environment: - RACK_ENV=development - SESSION_SECRET env_file ä»æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä¸ºå•ç‹¬çš„æ–‡ä»¶è·¯å¾„æˆ–åˆ—è¡¨ã€‚ å¦‚æœé€šè¿‡ docker-compose -f FILE æŒ‡å®šäº†æ¨¡æ¿æ–‡ä»¶ï¼Œåˆ™ env_file ä¸­è·¯å¾„ä¼šåŸºäºæ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚ å¦‚æœæœ‰å˜é‡åç§°ä¸ environment æŒ‡ä»¤å†²çªï¼Œåˆ™ä»¥åè€…ä¸ºå‡†ã€‚ env_file: .env env_file: - ./common.env - ./apps/web.env - /opt/secrets.env ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ¯ä¸€è¡Œå¿…é¡»ç¬¦åˆæ ¼å¼ï¼Œæ”¯æŒ # å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚ # common.env: Set Rails/Rack environment RACK_ENV=development extends åŸºäºå·²æœ‰çš„æœåŠ¡è¿›è¡Œæ‰©å±•ã€‚ä¾‹å¦‚æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª webapp æœåŠ¡ï¼Œæ¨¡æ¿æ–‡ä»¶ä¸º common.ymlã€‚ # common.yml webapp: build: ./webapp environment: - DEBUG=false - SEND_EMAILS=false ç¼–å†™ä¸€ä¸ªæ–°çš„ development.yml æ–‡ä»¶ï¼Œä½¿ç”¨ common.yml ä¸­çš„ webapp æœåŠ¡è¿›è¡Œæ‰©å±•ã€‚ # development.yml web: extends: file: common.yml service: webapp ports: - &quot;8000:8000&quot; links: - db environment: - DEBUG=true db: image: postgres åè€…ä¼šè‡ªåŠ¨ç»§æ‰¿ common.yml ä¸­çš„ webapp æœåŠ¡åŠç›¸å…³ç¯èŠ‚å˜é‡ã€‚ **** net è®¾ç½®ç½‘ç»œæ¨¡å¼ã€‚ä½¿ç”¨å’Œ docker client çš„ --net å‚æ•°ä¸€æ ·çš„å€¼ã€‚ net: &quot;bridge&quot; net: &quot;none&quot; net: &quot;container:[name or id]&quot; net: &quot;host&quot; **** pid è·Ÿä¸»æœºç³»ç»Ÿå…±äº«è¿›ç¨‹å‘½åç©ºé—´ã€‚æ‰“å¼€è¯¥é€‰é¡¹çš„å®¹å™¨å¯ä»¥ç›¸äº’é€šè¿‡è¿›ç¨‹ ID æ¥è®¿é—®å’Œæ“ä½œã€‚ pid: &quot;host&quot; dns é…ç½® DNS æœåŠ¡å™¨ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ dns: 8.8.8.8 dns: - 8.8.8.8 - 9.9.9.9 cap_add, cap_drop æ·»åŠ æˆ–æ”¾å¼ƒå®¹å™¨çš„ Linux èƒ½åŠ›ï¼ˆCapabiliityï¼‰ã€‚ cap_add: - ALL cap_drop: - NET_ADMIN - SYS_ADMIN **** dns_search é…ç½® DNS æœç´¢åŸŸã€‚å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ dns_search: example.com dns_search: - domain1.example.com - domain2.example.com **** working_dir, entrypoint, user, hostname, domainname, mem_limit, privileged, restart, stdin_open, tty, cpu_shares è¿™äº›éƒ½æ˜¯å’Œ docker run æ”¯æŒçš„é€‰é¡¹ç±»ä¼¼ã€‚ å…«ã€å®‰å…¨8.1 å†…æ ¸å‘½åç©ºé—´å½“ä½¿ç”¨ docker run å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œåœ¨åå° Docker ä¸ºå®¹å™¨åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å‘½åç©ºé—´å’Œæ§åˆ¶é›†åˆã€‚å‘½åç©ºé—´è¸¢ç©ºäº†æœ€åŸºç¡€çš„ä¹Ÿæ˜¯æœ€ç›´æ¥çš„éš”ç¦»ï¼Œåœ¨å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¸ä¼šè¢«è¿è¡Œåœ¨ä¸»æœºä¸Šçš„è¿›ç¨‹å’Œå…¶ä»–å®¹å™¨å‘ç°å’Œä½œç”¨ã€‚ 8.2 æ§åˆ¶ç»„æ§åˆ¶ç»„æ˜¯ Linux å®¹å™¨æœºåˆ¶çš„å¦ä¸€ä¸ªå…³é”®ç»„ä»¶ï¼Œè´Ÿè´£å®ç°èµ„æºçš„å®¡è®¡å’Œé™åˆ¶ã€‚ å®ƒæä¾›äº†å¾ˆå¤šç‰¹æ€§ï¼Œç¡®ä¿å“¥å“¥å®¹å™¨å¯ä»¥å…¬å¹³åœ°åˆ†äº«ä¸»æœºçš„å†…å­˜ã€CPUã€ç£ç›˜IOç­‰èµ„æºï¼›å½“ç„¶ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæ§åˆ¶ç»„ç¡®ä¿äº†å½“å®¹å™¨å†…çš„èµ„æºä½¿ç”¨äº§ç”Ÿå‹åŠ›æ—¶ä¸ä¼šè¿ç´¯ä¸»æœºç³»ç»Ÿã€‚ 8.3 å†…æ ¸èƒ½åŠ›æœºåˆ¶èƒ½åŠ›æœºåˆ¶æ˜¯ Linux å†…æ ¸çš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ï¼Œå¯ä»¥æä¾›ç»†ç²’åº¦çš„æƒé™è®¿é—®æ§åˆ¶ã€‚ å¯ä»¥ä½œç”¨åœ¨è¿›ç¨‹ä¸Šï¼Œä¹Ÿå¯ä»¥ä½œç”¨åœ¨æ–‡ä»¶ä¸Šã€‚ ä¾‹å¦‚ä¸€ä¸ªæœåŠ¡éœ€è¦ç»‘å®šä½äº 1024 çš„ç«¯å£æƒé™ï¼Œå¹¶ä¸éœ€è¦ root æƒé™ï¼Œé‚£ä¹ˆå®ƒåªéœ€è¦è¢«æˆæƒ net_bind_service èƒ½åŠ›å³å¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œ Docker å¯åŠ¨çš„å®¹å™¨è¢«ä¸¥æ ¼é™åˆ¶åªå…è®¸ä½¿ç”¨å†…æ ¸çš„ä¸€éƒ¨åˆ†èƒ½åŠ›ã€‚ ä½¿ç”¨èƒ½åŠ›æœºåˆ¶åŠ å¼º Docker å®¹å™¨çš„å®‰å…¨æœ‰å¾ˆå¤šå¥½å¤„ï¼Œå¯ä»¥æŒ‰éœ€åˆ†é…ç»™å®¹å™¨æƒé™ï¼Œè¿™æ ·ï¼Œå³ä¾¿æ”»å‡»è€…åœ¨å®¹å™¨ä¸­å–å¾—äº† root æƒé™ï¼Œä¹Ÿä¸èƒ½è·å–å®¿ä¸»æœºè¾ƒé«˜æƒé™ï¼Œèƒ½è¿›è¡Œçš„ç ´åä¹Ÿæ˜¯æœ‰é™çš„ã€‚ å‚è€ƒèµ„æ–™https://docs.docker.com/engine/reference/commandline/images/ http://www.dockerinfo.net/","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yelog.org/tags/linux/"},{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"3-hexoè¯„è®ºè®¾ç½®","slug":"3-hexo-comment","date":"2020-05-23T14:26:23.000Z","updated":"2024-07-05T11:10:22.503Z","comments":true,"path":"2020/05/23/3-hexo-comment/","permalink":"http://yelog.org/2020/05/23/3-hexo-comment/","excerpt":"","text":"å‰è¨€ç›®å‰ 3-hexo å·²ç»é›†æˆäº†è¯„è®ºç³»ç»Ÿæœ‰ gitalk ã€gitmentã€ disqus ã€æ¥å¿…åŠ›ã€utteranc ä¸€ã€gitalkgitalk æ˜¯ä¸€æ¬¾åŸºäº Github Issue å’Œ Preact å¼€å‘çš„è¯„è®ºæ’ä»¶ å®˜ç½‘: https://gitalk.github.io/ 1. ç™»å½• github ï¼Œæ³¨å†Œåº”ç”¨ç‚¹å‡»è¿›è¡Œæ³¨å†Œ ï¼Œå¦‚ä¸‹ æ³¨å†Œå®Œåï¼Œå¯å¾—åˆ° Client ID å’Œ Client Secret 2. æ–°å»ºå­˜æ”¾è¯„è®ºçš„ä»“åº“å› ä¸º gitalk æ˜¯åŸºäº Github çš„ Issue çš„ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šä¸€ä¸ªä»“åº“ï¼Œç”¨æ¥æ‰¿æ¥ gitalk çš„è¯„è®ºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ Github Page æ¥åšæˆ‘ä»¬åšå®¢çš„è¯„è®ºï¼Œæ‰€ä»¥ï¼Œæ–°å»ºä»“åº“åä¸º xxx.github.ioï¼Œå…¶ä¸­ xxx ä¸ºä½ çš„ Github ç”¨æˆ·å 3. é…ç½®ä¸»é¢˜åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­æ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼Œå¯ç”¨è¯„è®ºï¼Œå¹¶ä½¿ç”¨ gitalk ##########è¯„è®ºè®¾ç½®############# comment: on: true type: gitalk åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­æ‰¾åˆ° gitalk é…ç½®ï¼Œå°† ç¬¬1æ­¥ å¾—åˆ°çš„ Client ID å’Œ Client Secret å¤åˆ¶åˆ°å¦‚ä¸‹ä½ç½® gitalk: githubID: # å¡«ä½ çš„ github ç”¨æˆ·å repo: xxx.github.io # æ‰¿è½½è¯„è®ºçš„ä»“åº“ï¼Œä¸€èˆ¬ä½¿ç”¨ Github Page ä»“åº“ ClientID: # ç¬¬1æ­¥è·å¾— Client ID ClientSecret: # ç¬¬1æ­¥è·å¾— Client Secret adminUser: # Github ç”¨æˆ·å distractionFreeMode: true language: zh-CN perPage: 10 äºŒã€æ¥å¿…åŠ›1. åˆ›å»ºæ¥å¿…åŠ›è´¦å·ï¼Œå¹¶é€‰æ‹© City å…è´¹ç‰ˆå®˜ç½‘http://livere.com/ ï¼Œåˆ›å»ºè´¦å·ï¼Œç‚¹å‡»ä¸Šé¢çš„å®‰è£…ï¼Œé€‰æ‹© City å…è´¹ç‰ˆ å¤åˆ¶è·å–åˆ°çš„ä»£ç ä¸­çš„ data-uid 2. ä¸»é¢˜é€‰æ‹©ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåœ¨ä¸»é¢˜ä¸‹ _config.yml åœ¨æ‰¾åˆ°æ¥å¿…åŠ›é…ç½®å¦‚ä¸‹ï¼Œç¬¬ä¸€æ­¥ä¸­å¤åˆ¶çš„ data-uid ç²˜è´´åˆ°ä¸‹é¢ data_uid å¤„ livere: data_uid: xxxxxx æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼Œ å¼€å¯å¹¶é€‰æ‹© livere (æ¥å¿…åŠ›) ##########è¯„è®ºè®¾ç½®############# comment: on: true type: livere ä¸‰ã€utterancå®˜ç½‘åœ°å€ï¼šhttps://utteranc.es/ 1. å®‰è£… utterancesç‚¹æˆ‘è¿›è¡Œå®‰è£… 2. é…ç½®ä¸»é¢˜åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­æ‰¾åˆ° utteranc çš„é…ç½® ï¼Œä¿®æ”¹ repo ä¸ºè‡ªå·±çš„ä»“åº“å utteranc: repo: xxx/xxx.github.io # æ‰¿è½½è¯„è®ºçš„ä»“åº“ï¼Œå¡«ä¸Šè‡ªå·±çš„ä»“åº“ issue_term: pathname # Issue ä¸ åšå®¢æ–‡ç«  ä¹‹é—´æ˜ å°„å…³ç³» label: utteranc # åˆ›å»ºçš„ Issue æ·»åŠ çš„æ ‡ç­¾ theme: github-light # ä¸»é¢˜ï¼Œå¯é€‰ä¸»é¢˜è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ https://utteranc.es/#heading-theme # å®˜æ–¹æ–‡æ¡£ https://utteranc.es/ # ä½¿ç”¨è¯´æ˜ https://yelog.org//2020/05/23/3-hexo-comment/ åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­æ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼Œå¯ç”¨è¯„è®ºï¼Œå¹¶ä½¿ç”¨ utteranc comment: on: true type: utteranc","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"}]},{"title":"3-hexoæ”¯æŒmermaidå›¾è¡¨","slug":"3-hexo-support-mermaid","date":"2019-11-12T01:55:37.000Z","updated":"2024-07-05T11:10:22.576Z","comments":true,"path":"2019/11/12/3-hexo-support-mermaid/","permalink":"http://yelog.org/2019/11/12/3-hexo-support-mermaid/","excerpt":"","text":"ä¸€ã€è¯´æ˜å¼€å¯ å®‰è£…hexoæ’ä»¶ npm install hexo-filter-mermaid-diagrams ä¿®æ”¹themes/3-hexo/_config.yml çš„ mermaid.onï¼Œå¼€å¯ä¸»é¢˜æ”¯æŒ # Mermaid æ”¯æŒ mermaid: on: true cdn: //cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js #cdn: //cdnjs.cloudflare.com/ajax/libs/mermaid/8.3.1/mermaid.min.js options: # æ›´å¤šé…ç½®ä¿¡æ¯å¯ä»¥å‚è€ƒ https://mermaidjs.github.io/#/mermaidAPI theme: &#39;default&#39; startOnLoad: true flowchart: useMaxWidth: false htmlLabels: true åœ¨markdownä¸­ï¼Œåƒå†™ä»£ç å—ä¸€æ ·å†™å›¾è¡¨ äºŒã€ç¤ºä¾‹ä»¥ä¸‹ç¤ºä¾‹æºç å¯ä»¥åœ¨è¿™è¾¹æŸ¥çœ‹ æœ¬æ–‡æºç æ›´å¤šç¤ºä¾‹å¯ä»¥æŸ¥çœ‹å®˜ç½‘ï¼šhttps://mermaidjs.github.io 1. flowchartgraph TD; A-->B; A-->C; B-->D; C-->D; graph TB c1-->a2 subgraph one a1-->a2 end subgraph two b1-->b2 end subgraph three c1-->c2 end 2.Sequence diagramssequenceDiagram participant Alice participant Bob Alice->>John: Hello John, how are you? loop Healthcheck John->>John: Fight against hypochondria end Note right of John: Rational thoughts prevail! John-->>Alice: Great! John->>Bob: How about you? Bob-->>John: Jolly good! 3.Class diagramsclassDiagram Animal NumLockOn : EvNumLockPressed NumLockOn --> NumLockOff : EvNumLockPressed -- [*] --> CapsLockOff CapsLockOff --> CapsLockOn : EvCapsLockPressed CapsLockOn --> CapsLockOff : EvCapsLockPressed -- [*] --> ScrollLockOff ScrollLockOff --> ScrollLockOn : EvCapsLockPressed ScrollLockOn --> ScrollLockOff : EvCapsLockPressed } 5.Gantt diagramsgantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d section Documentation Describe gantt syntax :active, a1, after des1, 3d Add gantt diagram to demo page :after a1 , 20h Add another diagram to demo page :doc1, after a1 , 48h section Last section Describe gantt syntax :after doc1, 3d Add gantt diagram to demo page :20h Add another diagram to demo page :48h 6.Pie chart diagramspie \"Dogs\" : 386 \"Cats\" : 85 \"Rats\" : 15","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexo æ·»åŠ éŸ³ä¹æ’ä»¶","slug":"3-hexo-add-music","date":"2019-10-08T02:44:30.000Z","updated":"2024-07-05T11:10:22.516Z","comments":true,"path":"2019/10/08/3-hexo-add-music/","permalink":"http://yelog.org/2019/10/08/3-hexo-add-music/","excerpt":"","text":"ç½‘æ˜“äº‘éŸ³ä¹1. å¤åˆ¶ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶ä»£ç å‰å¾€ç½‘æ˜“äº‘éŸ³ä¹å®˜ç½‘ï¼Œæœç´¢ä¸€ä¸ªä½œä¸ºèƒŒæ™¯éŸ³ä¹çš„æ­Œæ›²ï¼Œå¹¶è¿›å…¥æ’­æ”¾é¡µé¢ï¼Œç‚¹å‡» ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨ è®¾ç½®å¥½æƒ³è¦æ˜¾ç¤ºçš„æ ·å¼åï¼Œå¤åˆ¶ html ä»£ç  æœ€å¥½å¤–å±‚åœ¨åŠ ä¸€ä¸ª divï¼Œå¦‚ä¸‹ï¼Œå¯ç›´æ¥å°†ä¸Šä¸€æ­¥å¤åˆ¶çš„ iframe æ›¿æ¢ä¸‹æ–¹é‡Œé¢çš„ iframe &lt;div id=&quot;musicMouseDrag&quot; style=&quot;position:fixed; z-index: 9999; bottom: 0; right: 0;&quot;&gt; &lt;div id=&quot;musicDragArea&quot; style=&quot;position: absolute; top: 0; left: 0; width: 100%;height: 10px;cursor: move; z-index: 10;&quot;&gt;&lt;/div&gt; &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;//music.163.com/outchain/player?type=2&amp;id=38592976&amp;auto=1&amp;height=66&quot;&gt;&lt;/iframe&gt; &lt;/div&gt; 2. å°†æ’ä»¶å¼•å…¥åˆ°ä¸»é¢˜ä¸­å°†ä¸Šä¸€æ­¥åŠ è¿‡ div çš„ä»£ç ç²˜è´´åˆ°ä¸»é¢˜ä¸‹ layout/_partial/footer.ejs çš„æœ€åé¢ 3. è°ƒæ•´ä½ç½®é»˜è®¤ç»™çš„æ ·å¼æ˜¯æ˜¾ç¤ºåœ¨å³ä¸‹è§’ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´ä¸Šä¸€æ­¥ç²˜è´´çš„ div çš„ style ä¸­ bottom å’Œ right æ¥è°ƒæ•´ä½ç½®ã€‚ 4. è‡ªç”±æ‹–åŠ¨å¦‚æœéœ€è¦è‡ªç”±æ‹–åŠ¨ï¼Œåœ¨åˆšæ‰æ·»åŠ çš„ä»£ç åé¢ï¼Œå†æ·»åŠ ä¸‹é¢ä»£ç å³å¯ï¼Œé¼ æ ‡å°±å¯ä»¥åœ¨éŸ³ä¹æ§ä»¶çš„ ä¸Šè¾¹æ²¿ ç‚¹å‡»æ‹–åŠ¨ &lt;!--ä»¥ä¸‹ä»£ç æ˜¯ä¸ºäº†æ”¯æŒéšæ—¶æ‹–åŠ¨éŸ³ä¹æ§ä»¶çš„ä½ç½®ï¼Œå¦‚æ²¡æœ‰éœ€æ±‚ï¼Œå¯å»æ‰ä¸‹é¢ä»£ç --&gt; &lt;script&gt; var $DOC = $(document) $(&#39;#musicMouseDrag&#39;).on(&#39;mousedown&#39;, function (e) &#123; // é˜»æ­¢æ–‡æœ¬é€‰ä¸­ $DOC.bind(&quot;selectstart&quot;, function () &#123; return false; &#125;); $(&#39;#musicDragArea&#39;).css(&#39;height&#39;, &#39;100%&#39;); var $moveTarget = $(&#39;#musicMouseDrag&#39;); $moveTarget.css(&#39;border&#39;, &#39;1px dashed grey&#39;) var div_x = e.pageX - $moveTarget.offset().left; var div_y = e.pageY - $moveTarget.offset().top; $DOC.on(&#39;mousemove&#39;, function (e) &#123; var targetX = e.pageX - div_x; var targetY = e.pageY - div_y; targetX = targetX &lt; 0 ? 0 : (targetX + $moveTarget.outerWidth() &gt;= window.innerWidth) ? window.innerWidth - $moveTarget.outerWidth() : targetX; targetY = targetY &lt; 0 ? 0 : (targetY + $moveTarget.outerHeight() &gt;= window.innerHeight) ? window.innerHeight - $moveTarget.outerHeight() : targetY; $moveTarget.css(&#123;&#39;left&#39;: targetX + &#39;px&#39;, &#39;top&#39;: targetY + &#39;px&#39;, &#39;bottom&#39;: &#39;inherit&#39;, &#39;right&#39;: &#39;inherit&#39;&#125;) &#125;).on(&#39;mouseup&#39;, function () &#123; $DOC.unbind(&quot;selectstart&quot;); $DOC.off(&#39;mousemove&#39;) $DOC.off(&#39;mouseup&#39;) $moveTarget.css(&#39;border&#39;, &#39;none&#39;) $(&#39;#musicDragArea&#39;).css(&#39;height&#39;, &#39;10px&#39;); &#125;) &#125;) &lt;/script&gt;","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoæ”¯æŒjsfiddleæ¸²æŸ“","slug":"3-hexo-jsfiddle","date":"2019-09-24T01:59:37.000Z","updated":"2024-07-05T11:10:22.525Z","comments":true,"path":"2019/09/24/3-hexo-jsfiddle/","permalink":"http://yelog.org/2019/09/24/3-hexo-jsfiddle/","excerpt":"","text":"1. canvas ç²’å­æ•ˆæœ 2. å¤é€‰æ¡†åŠ¨ç”»","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoæ–‡ç« å†…tocç”Ÿæˆ","slug":"3-hexo-toc","date":"2019-09-24T01:48:20.000Z","updated":"2024-07-05T11:10:22.580Z","comments":true,"path":"2019/09/24/3-hexo-toc/","permalink":"http://yelog.org/2019/09/24/3-hexo-toc/","excerpt":"","text":"[toc] 1. å¦‚ä½•ä½¿ç”¨1.1 å…³é”®å­—åªè¦åœ¨åœ¨æ–‡ç« ä¸­ä½¿ç”¨å¦‚ä¸‹å…³é”®å­—ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œä¾¿å¯ä»¥åœ¨ç›¸åº”ä½ç½®æ˜¾ç¤ºç›®å½•å¯¼èˆªï¼Œæ•ˆæœæ–‡ç« å¼€å¤´ 1.2 å°æ ‡é¢˜2jlksjdflksdjflksjdflksjdflkaj;sdfjka;lskdjfla;skjdf;lajsdflkjal;sdjkf;laskjdfå ä½å ä½ 1.3 å°æ ‡é¢˜å ä½å ä½å ä½ 2. æ ‡é¢˜äºŒå ä½å ä½å ä½ 2.1 å°æ ‡é¢˜å ä½å ä½ 2.2 å°æ ‡é¢˜2å ä½å ä½å ä½å ä½å ä½ æ–‡æœ«å ä½å ä½å ä½å ä½å ä½","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"[è®°]ã€ŠçŸ¥è¯†åˆ†å­çš„ä¸å¹¸ã€‹-ç‹å°æ³¢","slug":"misfortune-intellectual","date":"2019-06-09T13:31:09.000Z","updated":"2024-07-05T11:10:21.862Z","comments":true,"path":"2019/06/09/misfortune-intellectual/","permalink":"http://yelog.org/2019/06/09/misfortune-intellectual/","excerpt":"","text":"å‰è¨€è¿™ç¯‡æ–‡ç« å‘è¡¨äº1996å¹´ç¬¬äºŒæœŸã€Šä¸œæ–¹ã€‹æ‚å¿—ï¼ŒåŒæ ·æ”¶å½•äºã€Šæ²‰é»˜çš„å¤§å¤šæ•°ã€‹ä¸€ä¹¦ä¸­ã€‚ æ‰€æƒ³æ–‡ç« ä¸€å¼€å¤´å°±æŠ›å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯çŸ¥è¯†åˆ†å­æœ€å®³æ€•çš„äº‹ï¼Ÿæƒ³èµ·äº†é«˜æ™“æ¾åœ¨æ™“è¯´ä¸­æåˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæ™“æ¾è‚¯å®šæ˜¯çœ‹è¿‡è¿™ç¯‡æ–‡ç« çš„ã€‚ ç‹å°æ³¢è¯´ï¼šâ€œçŸ¥è¯†åˆ†å­æœ€æ€•æ´»åœ¨ä¸ç†æ™ºçš„å¹´ä»£ã€‚â€æ‰€è°“ä¸ç†æ™ºçš„å¹´ä»£ï¼Œå°±æ˜¯ä¼½åˆ©ç•¥ä½å¤´è®¤ç½ªï¼Œæ‰¿è®¤åœ°çƒä¸è½¬çš„å¹´ä»£ï¼Œä¹Ÿæ˜¯æ‹‰ç“¦æ–¯ä¸Šæ–­å¤´å°çš„å¹´ä»£ï¼›æ˜¯èŒ¨å¨æ ¼æœæ¯’è‡ªæ€çš„å¹´ä»£ï¼Œä¹Ÿæ˜¯è€èˆè·³å¤ªå¹³æ¹–çš„å¹´ä»£ã€‚â€œ ç‹å°æ³¢å’Œä»–çš„ç¾å›½è€å¸ˆè°ˆè®ºäº†ä¸€ä¸ªé—®é¢˜ï¼šâ€æœ‰ä¿¡ä»°æ¯”æ— ä¿¡ä»°è¦å¥½ã€‚â€œï¼Œç”±äºç‹å°æ³¢æ˜¯ç»å†è¿‡æ–‡é©çš„ï¼Œæ‰€ä»¥ç‹å°æ³¢ä¸€å¼€å§‹æ˜¯æŠµè§¦è¿™ç§æ€æƒ³çš„ï¼Œå°¤å…¶æ˜¯ è¯¾é—´ç¥·å‘Š è®©ç‹å°æ³¢æƒ³èµ·äº†æ–‡é©ä¸­çš„ æ—©è¯·ç¤ºã€‚ä½†è€å¸ˆæœ€ç»ˆè¯´æœäº†ä»–ï¼Œâ€œä¸ç®¡æ˜¯ä¿¡ç¥ï¼Œè¿˜æ˜¯è‡ªçè‡ªé‡ï¼Œäººæ´»åœ¨ä¸–ç•Œä¸Šæ€»å¾—æœ‰ç‚¹ä¿¡å¿µæ‰æˆã€‚å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œè™½æ˜¯æ— ç¥è®ºè€…ï¼Œæˆ‘ä¹Ÿæœ‰ä¸ªäººæ“å®ˆï¼Œä»ä¸é€¾è¶Šã€‚â€ å›½å†…çš„å­¦è€…ï¼Œåªæå­¦æœ¯ç ”ç©¶ï¼Œä¸ææ„è¯†å½¢æ€ï¼Œè¿™ç”±ä¸äº†è‡ªå·±ã€‚æœ‰æœä¸€æ—¥å®ƒæˆäº†æ„è¯†å½¢æ€ï¼Œä½ çš„è¯å°±æ˜¯ç½ªçŠ¶ã€‚è¨€è®ºä¸è‡ªç”±ï¼Œä¸ç†æ™ºï¼Œæ°‘æ—ç‹‚çƒ­ï¼Œè¿™ä¸å°±æ˜¯çŸ¥è¯†åˆ†å­æœ€æ€•çš„äº‹æƒ…å—ï¼Ÿ ç‹å°æ³¢å´‡æ‹œå¢¨å­ï¼šå…¶ä¸€ï¼Œä»–æ€ç»´ç¼œå¯†ï¼Œå…¶äºŒï¼Œä»–æ•¢èµ¤è£¸è£¸åœ°è°ˆåˆ©å®³ã€‚ï¼ˆæœ‰äº†ä»–ï¼Œæˆ‘ä¹Ÿæ•¢è¯´è‡ªå·±æ˜¯ä¸­åæ°‘æ—çš„èµ¤è¯šåˆ†å­ï¼Œä¸æ€•å›½å­¦å®¶è¯´æˆ‘æ˜¯å…¨ç›˜è¥¿åŒ–äº†ã€‚ï¼‰ è¥é€ æ„è¯†å½¢æ€åˆ™æ˜¯ç­ç»æ€æƒ³é¢ä¸°é¥¶ã€‚ä¸­å›½çš„äººæ–‡çŸ¥è¯†åˆ†å­ï¼Œæœ‰ç§ä»¥å¤©ä¸‹ä¸ºå·±ä»»çš„ä½¿å‘½æ„Ÿï¼Œæ€»è§‰å¾—è‡ªå·±è¯¥æå‡ºäº›è€ç™¾å§“å½“ä¿¡ä»°çš„ä¸œè¥¿ã€‚ å›½å­¦ï¼Œè¿™ç§ä¸œè¥¿å®åœ¨å‰å®³ã€‚æœ€å¯æ€•ä¹‹å¤„å°±åœ¨äºé‚£ä¸ªâ€œå›½â€å­—ã€‚é¡¶ç€è¿™ä¸ªå­—ï¼Œè°æ•¢æœ‰ä¸åŒæ„è§ï¼ŸæŠ¢åˆ°äº†è¿™ä¸ªåˆ¶é«˜ç‚¹ï¼Œå°±å¯ä»¥å‹åˆ¶ä¸€åˆ‡ä¸åŒæ„è§ï¼›æ‰€ä»¥å¾ˆå®¹æ˜“è½å…¥æ€æƒ³æµæ°“çš„æ‰‹ä¸­å˜æˆä¸€ç§å‡¶å™¨ã€‚ ç›®å‰æ­£å€¼ â€œä¸­ç¾è´¸æ˜“æˆ˜â€ï¼Œå„ç§è‡ªåª’ä½“ä¸ºäº†ç‚¹å‡»é‡ã€å…³æ³¨åº¦ã€‚ç…½åŠ¨æ°‘æ—ç‹‚çƒ­æƒ…ç»ªï¼Œå¯¼è‡´æ°‘ä¼—æ ¹æœ¬å®¹ä¸å¾—åŠç‚¹ä¸åŒæ„è§ï¼Œä¸è®²é“ç†ï¼Œâ€œç›²ç›®çˆ±å›½â€œã€‚ è®¤çœŸæ€ç´¢ï¼ŒçœŸè¯šçš„æ˜è¾¨æ˜¯éï¼Œæœ‰è¿™ç§æ€åº¦å¤§æ¦‚å°±å¯ç®—æ˜¯å–„è‰¯äº†å§ã€‚ äººæ´»åœ¨ä¸–ä¸Šï¼Œè‡ªä¼šå½¢æˆä¿¡å¿µï¼Œä¸€ç§å­¦é—®ã€ä¸€æœ¬ä¹¦ï¼Œå‡å¦‚ä¸å¯¹æˆ‘çš„ä»·å€¼è§‚å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸å€¼å¾—ä¸€å­¦ï¼Œä¸å€¼å¾—ä¸€çœ‹ã€‚","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/"},{"name":"é˜…è¯»ç¬”è®°","slug":"è¯»ä¹¦/é˜…è¯»ç¬”è®°","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"reading","slug":"reading","permalink":"http://yelog.org/tags/reading/"}]},{"title":"äººä»¬åœ¨ä¸€æœ¬å«ã€Šæ´»ç€ã€‹çš„ä¹¦ä¸­çº·çº·æ­»å»","slug":"to-live","date":"2019-05-02T09:46:16.000Z","updated":"2024-07-05T11:10:21.870Z","comments":true,"path":"2019/05/02/to-live/","permalink":"http://yelog.org/2019/05/02/to-live/","excerpt":"","text":"æœ‰é‚£ä¹ˆä¸€ä¸ªå¹´ä»£ï¼Œç¦»æˆ‘ä»¬å¾ˆè¿‘ï¼Œå®ƒè…¥é£è¡€é›¨ï¼Œè¿æ´»ç€éƒ½æ˜¯ä¸€ä»¶å¥¢ä¾ˆçš„äº‹ã€‚ åœ¨å¯Œè´µçš„ä¸€ç”Ÿä¸­ï¼Œæ¯æ¬¡å‡ºç°çœ‹ä¼¼è¢«ä¸Šå¤©çœ·é¡¾çš„ç¦æ°”åï¼ˆå¦‚æœ‰åº†é•¿è·‘ç¬¬ä¸€ã€å‡¤éœå«äº†äººå¹¶æ€€äº†å­©å­ï¼‰ï¼Œè¯»è€…è¿˜åœ¨æ›¿å¯Œè´µå¼€å¿ƒçš„æ—¶å€™ï¼Œä»–ä»¬å´ä»¥å„ç§æ–¹å¼è¿…é€Ÿæ­»å»ï¼Œæœ€ç»ˆå¯Œè´µäº²æ‰‹åŸ‹è‘¬äº†ä»–æ‰€æœ‰çš„äº²äººã€‚ ä¸€æœ¬ 12w å·¦å³çš„å°è¯´ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰åä¸½è¯è—»çš„æƒ…å†µä¸‹ï¼Œåœ¨é¡ºç•…æµåˆ©çš„å†™ä½œæ‰‹æ³•ã€è·Œå®•èµ·ä¼çš„å‰§æƒ…ã€ç¬¬ä¸€äººç§°çš„ä»£å…¥æ„Ÿä¸‹ä¸€å£æ°”è¯»å®Œäº†ã€‚æœŸé—´å¤šæ¬¡ç—›å“­æµæ¶•ï¼ˆä¸€ç‚¹å„¿æ²¡å¤¸å¼ ï¼‰ï¼Œä¸å¾—ä¸æ”¾ä¸‹ä¹¦æœ¬ï¼Œæ´—è¿‡è„¸åæ‰èƒ½ç»§ç»­é˜…è¯»ã€‚æ‰€ä»¥å·²ç»å¤šå¹´æ²¡å†™ä¹¦è¯„çš„æˆ‘ï¼Œè¿˜æ˜¯å¿ä¸ä½ä¸ºå¥¹å†™ä¸‹ä¹¦è¯„ã€‚ äººæ˜¯ä¸ºäº†æ´»ç€æœ¬èº«è€Œæ´»ç€ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ´»ç€ä¹‹å¤–çš„ä»»ä½•äº‹ç‰©æ‰€æ´»ç€ã€‚ è¿™æ˜¯ä½œè€…åœ¨ä¸­æ–‡åºè¨€ä¸­çš„ä¸€å¥è¯ï¼Œåœ¨å½“ä»Šç”Ÿæ´»ç€çš„æˆ‘ï¼Œåˆè¯»åºè¨€ä¸­çš„è¿™å¥è¯ï¼Œå¹¶æ— ä»»ä½•å…±é¸£ï¼Œç”šè‡³è¿˜è¡Œåæ§½ä¸¤å¥ã€‚éšç€å¯Œè´µå°†ä»–çš„â€ä¸€ç”Ÿâ€å¨“å¨“é“æ¥ï¼Œä½ å°±ä¼šæ˜ç™½åœ¨é‚£æ ·çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œæ´»ç€å·²ç»æ˜¯ä¸€ä»¶ä¸å®¹æ˜“çš„äº‹ã€‚ æ‰€ä»¥ä½œè€…åœ¨æ—¥æ–‡ç‰ˆåºè¨€ä¸­è¯´åˆ°ï¼š åœ¨æ—äººçœ¼ä¸­å¯Œè´µçš„ä¸€ç”Ÿæ˜¯è‹¦ç†¬çš„ä¸€ç”Ÿï¼›å¯æ˜¯å¯¹äºå¯Œè´µè‡ªå·±ï¼Œæˆ‘ç›¸ä¿¡ä»–æ›´å¤šåœ°æ„Ÿå—åˆ°äº†å¹¸ç¦ã€‚ å› ä¸ºä»–ç›¸ä¿¡è‡ªå·±çš„å¦»å­æ˜¯ä¸–ä¸Šæœ€å¥½çš„å¦»å­ï¼Œä»–ç›¸ä¿¡è‡ªå·±çš„å­å¥³ä¹Ÿæ˜¯ä¸–ä¸Šæœ€å¥½çš„å­å¥³ï¼Œè¿˜æœ‰ä»–çš„å¥³å©¿ä»–çš„å¤–å­™ï¼Œè¿˜æœ‰ä»–çš„é‚£å¤´ä¹Ÿå«å¯Œè´µçš„ç‰›ï¼Œè¿˜æœ‰ä¸€èµ·ä¸Šç«é”…çš„æœ‹å‹ä»¬ï¼Œè¿˜æœ‰ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´â€¦â€¦ å¯Œè´µçš„çœŸæ˜¯ä¸€è·¯è·Œä¸‹å»çš„ä¸€ç”Ÿï¼Œä»â€å¯Œå®¶å°‘çˆ·â€èµŒå…‰äº†å®¶äº§ã€æ°”æ­»äº†çˆ¹çˆ¹ã€‚ç”±äºæ¯äº²ç”Ÿç—…ï¼Œä¸ºæ¯äº²æ±‚åŒ»è·¯ä¸Šè¢«å›½æ°‘å…šæŠ“å£®ä¸ï¼Œè¢«ä¿˜è™åï¼Œæ”¾å›å®¶ä¸­ã€‚å´å‘ç°æ¯äº²å·²æ­»ï¼Œå¥³å„¿ä¹Ÿç”±äºç”Ÿç—…å˜æˆäº†è‹å“‘äººã€‚æœ¬æƒ³ç€å¤§éš¾ä¹‹åå¿…æœ‰åç¦ï¼Œå´åªæ˜¯æ‚²æƒ¨ä¸€ç”Ÿçš„å¼€ç«¯ã€‚å„¿å­æœ‰åº†ç”±äºå’Œå¿é•¿å¤«äººè¡€å‹åŒ¹é…ï¼Œé­æŠ½è¡€è€Œäº¡ã€å¥³å„¿å‡¤éœäº§å­å¤§å‡ºè¡€è€Œäº¡ã€å¦»å­å®¶çå¤±å»å„¿å¥³åï¼Œå¤±å»äº†æœ€åä¸ç—…é­”äº‰æ–—çš„ä¿¡å¿µï¼Œä¹Ÿèµ°äº†ã€å¥³å©¿äºŒå–œåœ¨å·¥åœ°è¢«æ°´æ³¥æ¿æ‹æ­»ã€å¤–å­™è‹¦æ ¹éš¾å¾—åƒåˆ°è±†å­ï¼Œå´è¢«è±†å­æ’‘æ­»ã€‚æœ€ååªå‰©ä¸‹è‡ªå·±å’Œä¸€ä¸ªä¹Ÿå«ä½œå¯Œè´µçš„è€ç‰›ã€‚ æ˜¥ç”Ÿæƒ³è‡ªæ€å‰ï¼Œæ‰¾åˆ°å¯Œè´µå‘Šåˆ«ï¼Œåœ¨è¢«å®¶çåŸè°…ï¼Œå¹¶ç­”åº”ä¸ä¼šè‡ªæ€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹åšæŒäº†ä¸€ä¸ªæœˆï¼Œæœ€ç»ˆè¿˜æ˜¯è‡ªæ€äº†ã€‚é‚£ç§æ—¶ä»£èƒŒæ™¯ä¸‹çš„æ— å¥ˆï¼Œé‚£ç§çª’æ¯æ„Ÿã€‚ã€‚ã€‚ å¯Œè´µçš„ä¸€ç”Ÿè·¨è¶Šäº†åœ°ä¸»ã€è§£æ”¾æˆ˜äº‰ã€äººæ°‘å…¬ç¤¾è¿åŠ¨ã€å¤§ç‚¼é’¢é“ã€è‡ªç„¶ç¾å®³å’Œæ–‡åŒ–å¤§é©å‘½ï¼Œä»ä¸€ä¸ªäººçš„è§†è§’çœ‹åˆ°æ¯ä¸ªæ—¶ä»£ä¸‹çš„ä¸€ä¸ªå°å°çš„ç¼©å½±ï¼Œä½†å´æ¯”ä»»ä½•å…¶ä»–çš„æè¿°æ›´è®©äººæ·±åˆ»äº†è§£åˆ°è¿™äº›æ—¶ä»£èƒŒæ™¯ä¸‹äººä»¬çš„ç”Ÿæ´»çŠ¶æ€ã€‚ åœ¨é‚£æ—¶ï¼Œæ´»ç€ä¸ä»…æ˜¯å¹¸è¿ï¼Œä¹Ÿæ›´éœ€è¦å‹‡æ°”ã€‚","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/"},{"name":"é˜…è¯»ç¬”è®°","slug":"è¯»ä¹¦/é˜…è¯»ç¬”è®°","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"reading","slug":"reading","permalink":"http://yelog.org/tags/reading/"},{"name":"æ´»ç€","slug":"æ´»ç€","permalink":"http://yelog.org/tags/%E6%B4%BB%E7%9D%80/"}]},{"title":"shellé€ŸæŸ¥è¡¨","slug":"shellé€ŸæŸ¥è¡¨","date":"2018-09-08T03:48:24.000Z","updated":"2024-07-05T11:10:23.074Z","comments":true,"path":"2018/09/08/shell-command/","permalink":"http://yelog.org/2018/09/08/shell-command/","excerpt":"","text":"1. å˜é‡#!/bin/bash msg=&quot;hello world&quot; echo $msg å˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚ ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚ ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚ 2. ä¼ å‚#!/bin/bash echo &quot;æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0&quot;; echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1&quot;; echo &quot;ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2&quot;; echo &quot;ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š$3&quot;; è„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸ºï¼š$nã€‚n ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š å‚æ•° è¯´æ˜ $# ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•° $* ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚&quot;$*&quot;ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1 $2 â€¦ $nâ€çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ $$ è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå· $! åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå· $@ ä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚å¦‚â€$@â€ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1â€ â€œ$2â€ â€¦ â€œ$nâ€ çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ $- æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚ $? æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚ 3. æ•°ç»„#!/bin/bash my_array=(A B &quot;C&quot; D) echo &quot;ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: $&#123;my_array[0]&#125;&quot; echo &quot;ç¬¬äºŒä¸ªå…ƒç´ ä¸º: $&#123;my_array[1]&#125;&quot; echo &quot;ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: $&#123;my_array[2]&#125;&quot; echo &quot;ç¬¬å››ä¸ªå…ƒç´ ä¸º: $&#123;my_array[3]&#125;&quot; echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[*]&#125;&quot; echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[@]&#125;&quot; echo &quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: $&#123;#my_array[*]&#125;&quot; echo &quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: $&#123;#my_array[@]&#125;&quot; æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: A ç¬¬äºŒä¸ªå…ƒç´ ä¸º: B ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: C ç¬¬å››ä¸ªå…ƒç´ ä¸º: D æ•°ç»„çš„å…ƒç´ ä¸º: A B C D æ•°ç»„çš„å…ƒç´ ä¸º: A B C D æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4 æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4 4. åŸºæœ¬è¿ç®—ç¬¦ åŸç”Ÿ bash ä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œexpr æœ€å¸¸ç”¨ã€‚ expr æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œã€‚ â‘  ç®—æ•°è¿ç®—ç¬¦#!/bin/bash echo &quot;2åŠ 2ç­‰äº&quot;`expr 2 + 2` echo &quot;2å‡2ç­‰äº&quot;`expr 2 - 2` echo &quot;2ä¹˜2ç­‰äº&quot;`expr 2 \\* 2` echo &quot;2é™¤2ç­‰äº&quot;`expr 2 / 2` echo &quot;2é™¤2å–ä½™&quot;`expr 2 % 2` â‘¡ å…³ç³»è¿ç®—ç¬¦#!/bin/bash a=10 b=20 if [ $a -eq $b ] # æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚ if [ $a -ne $b ] # æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚ if [ $a -gt $b ] # æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ if [ $a -lt $b ] # æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ if [ $a -ge $b ] # æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ if [ $a -le $b ] # æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ â‘¢ å¸ƒå°”è¿ç®—ç¬¦#!/bin/bash if [ ! false ] # éè¿ç®—ï¼Œè¿”å› true if [ true -o false ] # æˆ–è¿ç®—ï¼Œè¿”å› true if [ true -a false ] # ä¸è¿ç®—ï¼Œè¿”å› false â‘£ é€»è¾‘è¿ç®—ç¬¦#!/bin/bash a=10 b=20 if [[ $a -lt $b &amp;&amp; $a -gt $b ]] # é€»è¾‘çš„ AND, è¿”å› false if [ $a -lt $b ] &amp;&amp; [ $a -gt $b ] # é€»è¾‘çš„ AND, è¿”å› false if [[ $a -lt $b || $a -gt $b ]] # é€»è¾‘çš„ OR, è¿”å› true if [ $a -lt $b ] || [ $a -gt $b ] # é€»è¾‘çš„ OR, è¿”å› true â‘¤ å­—ç¬¦ä¸²è¿ç®—ç¬¦#!/bin/bash a=&quot;abc&quot; b=&quot;efg&quot; if [ $a = $b ] # æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚ if [ $a != $b ] # æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚ if [ -z $a ] # æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› trueã€‚ if [ -n &quot;$a&quot; ] # æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å› trueã€‚ if [ $a ] # æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚ â‘¥ æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚ æ“ä½œç¬¦ è¯´æ˜ -b file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -c file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -d file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -f file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -g file æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -k file æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -p file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -u file æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -r file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -w file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -x file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ -s file æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚ -e file æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ 5. echoâ‘  å‘½ä»¤æ ¼å¼#!/bin/bash echo &quot;It is a test&quot; echo It is a test echo &quot;\\&quot;It is a test\\&quot;&quot; # è½¬ä¹‰ name=Chris echo &quot;$name is handsome&quot; echo -e &quot;OK! \\n&quot; # æ˜¾ç¤ºæ¢è¡Œ -e å¼€å¯è½¬ä¹‰ echo &quot;It is a test&quot; &gt; myfile # æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶ echo &#39;$name\\&quot;&#39; # åŸæ ·è¾“å…¥å­—ç¬¦ä¸²ï¼Œä¸è¿›è¡Œè½¬ä¹‰æˆ–å–å˜é‡ï¼ˆä½¿ç”¨å•å¼•å·ï¼‰ echo `date` # æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æ„ â‘¡ é¢œè‰²æ˜¾ç¤ºecho -e &quot;\\033[å­—èƒŒæ™¯é¢œè‰²ï¼›æ–‡å­—é¢œè‰²må­—ç¬¦ä¸²\\033[0m&quot; echo -e â€œ\\033[30m é»‘è‰²å­— \\033[0mâ€ echo -e â€œ\\033[31m çº¢è‰²å­— \\033[0mâ€ echo -e â€œ\\033[32m ç»¿è‰²å­— \\033[0mâ€ echo -e â€œ\\033[33m é»„è‰²å­— \\033[0mâ€ echo -e â€œ\\033[34m è“è‰²å­— \\033[0mâ€ echo -e â€œ\\033[35m ç´«è‰²å­— \\033[0mâ€ echo -e â€œ\\033[36m å¤©è“å­— \\033[0mâ€ echo -e â€œ\\033[37m ç™½è‰²å­— \\033[0mâ€ echo -e â€œ\\033[40;37m é»‘åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[41;37m çº¢åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[42;37m ç»¿åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[43;37m é»„åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[44;37m è“åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[45;37m ç´«åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[46;37m å¤©è“åº•ç™½å­— \\033[0mâ€ echo -e â€œ\\033[47;30m ç™½åº•é»‘å­— \\033[0mâ€ \\33[0m å…³é—­æ‰€æœ‰å±æ€§ \\33[1m è®¾ç½®é«˜äº®åº¦ \\33[4m ä¸‹åˆ’çº¿ \\33[5m é—ªçƒ \\33[7m åæ˜¾ \\33[8m æ¶ˆéš \\33[30m â€” \\33[37m è®¾ç½®å‰æ™¯è‰² \\33[40m â€” \\33[47m è®¾ç½®èƒŒæ™¯è‰² \\33[nA å…‰æ ‡ä¸Šç§»nè¡Œ \\33[nB å…‰æ ‡ä¸‹ç§»nè¡Œ \\33[nC å…‰æ ‡å³ç§»nè¡Œ \\33[nD å…‰æ ‡å·¦ç§»nè¡Œ \\33[y;xHè®¾ç½®å…‰æ ‡ä½ç½® \\33[2J æ¸…å± \\33[K æ¸…é™¤ä»å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹ \\33[s ä¿å­˜å…‰æ ‡ä½ç½® \\33[u æ¢å¤å…‰æ ‡ä½ç½® \\33[?25l éšè—å…‰æ ‡ \\33[?25h æ˜¾ç¤ºå…‰æ ‡ 6. sprintf#!/bin/bash printf &quot;%-10s %-8s %-4s\\n&quot; å§“å æ€§åˆ« ä½“é‡kg printf &quot;%-10s %-8s %-4.2f\\n&quot; éƒ­é– ç”· 66.1234 printf &quot;%-10s %-8s %-4.2f\\n&quot; æ¨è¿‡ ç”· 48.6543 printf &quot;%-10s %-8s %-4.2f\\n&quot; éƒ­èŠ™ å¥³ 47.9876 ç»“æœï¼š å§“å æ€§åˆ« ä½“é‡kg éƒ­é– ç”· 66.12 æ¨è¿‡ ç”· 48.65 éƒ­èŠ™ å¥³ 47.99 %s %c %d %f éƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦d: Decimal åè¿›åˆ¶æ•´æ•° â€“ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯åè¿›åˆ¶æ•´æ•°ï¼Œå¦åˆ™æŠ¥é”™ï¼s: String å­—ç¬¦ä¸² â€“ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦å‹ï¼Œå¦åˆ™æŠ¥é”™ï¼c: Char å­—ç¬¦ â€“ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦å‹ï¼Œå¦åˆ™æŠ¥é”™ï¼f: Float æµ®ç‚¹ â€“ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯æ•°å­—å‹ï¼Œå¦åˆ™æŠ¥é”™ï¼%-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰,ä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚%-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚ 7. testShellä¸­çš„ test å‘½ä»¤ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•ã€‚ #!/bin/bash num1=100 num2=100 if test $[num1] -eq $[num2] 8. æµç¨‹æ§åˆ¶â‘  if-else#!/bin/bash a=10 b=20 if [ $a == $b ] then echo &quot;a ç­‰äº b&quot; elif [ $a -gt $b ] then echo &quot;a å¤§äº b&quot; elif [ $a -lt $b ] then echo &quot;a å°äº b&quot; else echo &quot;æ²¡æœ‰ç¬¦åˆçš„æ¡ä»¶&quot; fi â‘¡ for#!/bin/bash for loop in 1 2 3 4 5 do echo &quot;The value is: $loop&quot; done â‘¢ while#!/bin/bash int=1 while(( $int&lt;=5 )) do echo $int let &quot;int++&quot; done â‘£ case#!/bin/bash echo &#39;è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:&#39; echo &#39;ä½ è¾“å…¥çš„æ•°å­—ä¸º:&#39; read aNum case $aNum in 1) echo &#39;ä½ é€‰æ‹©äº† 1&#39; ;; 2) echo &#39;ä½ é€‰æ‹©äº† 2&#39; ;; 3) echo &#39;ä½ é€‰æ‹©äº† 3&#39; ;; 4) echo &#39;ä½ é€‰æ‹©äº† 4&#39; ;; *) echo &#39;ä½ æ²¡æœ‰è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—&#39; ;; esac â‘¤ breakbreakå‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚ #!/bin/bash while : do echo -n &quot;è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:&quot; read aNum case $aNum in 1|2|3|4|5) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸º $aNum!&quot; ;; *) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ&quot; break ;; esac done â‘¥ continueè·³å‡ºå½“å‰å¾ªç¯ã€‚ #!/bin/bash while : do echo -n &quot;è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—: &quot; read aNum case $aNum in 1|2|3|4|5) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸º $aNum!&quot; ;; *) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„!&quot; continue echo &quot;æ¸¸æˆç»“æŸ&quot; ;; esac done â‘¦ until#!/bin/bash a=0 until [ ! $a -lt 10 ] do echo $a a=`expr $a + 1` done 9. å‡½æ•°#!/bin/bash funWithParam()&#123; echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !&quot; echo &quot;ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !&quot; echo &quot;ç¬¬åä¸ªå‚æ•°ä¸º $10 !&quot; echo &quot;ç¬¬åä¸ªå‚æ•°ä¸º $&#123;10&#125; !&quot; echo &quot;ç¬¬åä¸€ä¸ªå‚æ•°ä¸º $&#123;11&#125; !&quot; echo &quot;å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!&quot; echo &quot;ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !&quot; &#125; funWithParam 1 2 3 4 5 6 7 8 9 34 73 ç»“æœï¼š ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 ! ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 ! ç¬¬åä¸ªå‚æ•°ä¸º 10 ! ç¬¬åä¸ªå‚æ•°ä¸º 34 ! ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 ! å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª! ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 ! 10. è¾“å…¥è¾“å‡º#!/bin/bash who &gt; today.log # æ‰§è¡Œç»“æœè¦†ç›–åˆ°æ–‡ä»¶ today.log echo &quot;èœé¸Ÿæ•™ç¨‹ï¼šwww.runoob.com&quot; &gt;&gt; today.log # æ‰§è¡Œç»“æœè¿½åŠ åˆ°æ–‡ä»¶ today.log wc -l &lt; today.log # ç»Ÿè®¡ today.log è¡Œæ•° wc -l &lt;&lt; EOF æç™½ è‹è½¼ ç‹å‹ƒ EOF 11. æ–‡ä»¶åŒ…å«test1.sh #!/bin/bash name=&quot;Chris&quot; test2.sh #!/bin/bash #ä½¿ç”¨ . å·æ¥å¼•ç”¨test1.sh æ–‡ä»¶ . ./test1.sh # æˆ–è€…ä½¿ç”¨ä»¥ä¸‹åŒ…å«æ–‡ä»¶ä»£ç  # source ./test1.sh echo $name æ³¨ï¼šè¢«åŒ…å«çš„æ–‡ä»¶ test1.sh ä¸éœ€è¦å¯æ‰§è¡Œæƒé™ã€‚ reference:[1] http://www.runoob.com/linux/linux-shell.html","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yelog.org/tags/linux/"},{"name":"shell","slug":"shell","permalink":"http://yelog.org/tags/shell/"}]},{"title":"nginxé…ç½®è®°å½•","slug":"nginxé…ç½®è®°å½•","date":"2018-02-08T01:19:09.000Z","updated":"2024-07-05T11:10:22.281Z","comments":true,"path":"2018/02/08/nginx-config/","permalink":"http://yelog.org/2018/02/08/nginx-config/","excerpt":"","text":"å¯ç”¨https1.è´­ä¹°å…è´¹è¯ä¹¦ç™»å½•é˜¿é‡Œäº‘ -&gt; æ§åˆ¶å° -&gt; å®‰å…¨ï¼ˆäº‘ç›¾ï¼‰ -&gt; CAè¯ä¹¦æœåŠ¡ -&gt; è´­ä¹°è¯ä¹¦ 2.è¡¥å…¨è¯ä¹¦ä¿¡æ¯ç‚¹å‡»è¡¥å…¨ï¼Œç»‘å®šåŸŸå 3.ä¸‹è½½å¹¶é…ç½®é€‰æ‹©ä¸‹è½½ è¯ä¹¦for nginx ä¸Šé¢è¿™ä¸ªé¡µé¢æœ‰ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œä¸‹é¢ç®€å•ä»‹ç»ï¼š â‘  å°†ä¸‹è½½æ–‡ä»¶ä¸­çš„ *.pemã€*.key, æ‹·è´åˆ° nginx ç›®å½•ä¸‹ çš„ cert , å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç›®å½•â‘¡ ä¿®æ”¹ nginx.conf server &#123; listen 443 ssl; server_name xiangzhangshugongyi.com; ssl_certificate cert/214487958220243.pem; ssl_certificate_key cert/214487958220243.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / &#123; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-Forwarded-Proto https; proxy_redirect off; proxy_connect_timeout 240; proxy_send_timeout 240; proxy_read_timeout 240; # note, there is not SSL here! plain HTTP is used proxy_pass http://127.0.0.1:8080; &#125; &#125; â‘¢ é‡å¯ nginxï¼Œé€šè¿‡ è¯ä¹¦ç»‘å®šåŸŸåè¿›è¡Œ https è®¿é—®åˆ° æœåŠ¡å™¨è·‘åœ¨ 8080 çš„æœåŠ¡","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://yelog.org/tags/nginx/"}]},{"title":"Macç¥å™¨-BTT(BetterTouchTool)ä¸å®Œå…¨æ•™ç¨‹","slug":"Mac-BetterTouchTool","date":"2017-12-13T09:04:25.000Z","updated":"2024-07-05T11:10:22.324Z","comments":true,"path":"2017/12/13/Mac-BetterTouchTool/","permalink":"http://yelog.org/2017/12/13/Mac-BetterTouchTool/","excerpt":"","text":"ä»‹ç»BetterTouchTool æ˜¯ä¸€æ¬¾ä¸“ä¸ºMacç”¨æˆ·å¼€å‘çš„ çª—å£ç®¡ç†&#x2F;Trackpad(è§¦æ§æ¿)&#x2F;Magic Mouse(è‹¹æœé¼ æ ‡)&#x2F;Keyboard(é”®ç›˜)&#x2F;TouchBar åŠŸèƒ½å¢å¼ºåˆ¶ä½œçš„è½¯ä»¶ã€‚ è¿™æ¬¾è½¯ä»¶ä¸ä½†å¯ä»¥è®¾ç½®å…¨å±€çš„ æ‰‹åŠ¿&#x2F;å¿«æ·é”®&#x2F;TouchBar ï¼Œè¿˜å¯ä»¥ç»™ä¸åŒçš„åº”ç”¨å®šä¹‰ä¸åŒçš„å§¿åŠ¿ï¼Œå†é…åˆä¸Š Alfred çš„ workflowï¼Œç®€ç›´å„ç§é«˜éš¾åº¦å§¿åŠ¿éƒ½èƒ½ç©çš„å‡ºæ¥ã€‚ æœ¬æ–‡ä¸»è¦ä»‹ç»ä»¥ä¸‹åŠŸèƒ½ï¼š çª—å£ç®¡ç† å¸® Trackpad å®šä¹‰å„ç§å§¿åŠ¿ å¸® Magic Mouse å®šä¹‰å„ç§å§¿åŠ¿ å¸® Keyboard å®šä¹‰å„ç§å§¿åŠ¿ å¸®ä»»ä½•åº”ç”¨è‡ªå®šä¹‰ TouchBar æœ¬æ–‡ä»¥ macbook pro 2017 touchbar ç‰ˆä¸ºä¾‹ 1. çª—å£ç®¡ç†è¿™ä¸ªåŠŸèƒ½æ— éœ€è¿‡å¤šé…ç½®ï¼Œé»˜è®¤é…ç½®å³å¯å¾ˆå¥½ä½¿ç”¨ï¼ˆå’Œwindowsçš„ç†å¿µç›¸ä¼¼ï¼‰ å°†çª—å£ç§»åˆ°å·¦å³è¾¹ç¼˜ï¼Œæœ€å¤§åŒ–è‡³åŠå± å°†çª—å£ç§»åˆ°ä¸Šè¾¹ç¼˜ï¼Œæœ€å¤§åŒ–è‡³å…¨å± å¦‚æœå¯¹é»˜è®¤é…ç½®ä¸æ»¡æ„ï¼Œä¹Ÿå¯ä»¥åœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ä½ç½®æ¥è°ƒæ•´çª—å£å±•ç¤ºï¼š 2. å¸® Trackpad å®šä¹‰å„ç§å§¿åŠ¿å§¿åŠ¿é€‰æ‹©åœ¨ç•Œé¢é€‰æ‹© Trackpadï¼ˆè§¦æ‘¸æ¿ï¼‰ -&gt; Add New Gestureï¼ˆæ·»åŠ ä¸€ä¸ªæ–°å§¿åŠ¿ï¼‰ å·¦è¾¹å¯ä»¥é€‰æ‹©ç”Ÿæ•ˆçš„èŒƒå›´ï¼šå…¨å±€æˆ–è€…æŸä¸ªåº”ç”¨ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå§¿åŠ¿åŒ…æ‹¬ä½†ä¸é™äºå¦‚ï¼š å•æŒ‡ï¼šå·¦ä¸‹è§’å•å‡»ã€å•æŒ‡è½»æ‹å³ä¸Šè§’ã€å•æŒ‡è½»æ‹ä¸Šè¾¹ä¸­ç‚¹ åŒæŒ‡ï¼šä¸¤ä¸ªæ‰‹æŒ‡æã€å¼ å¼€ä¸¤æŒ‡ä»¥ä¸¤æŒ‡ä¸­å¿ƒä¸ºåœ†è½´é€†æ—¶é’ˆã€ä¸­æŒ‡æ‹ä½ä¸­å¤®é£ŸæŒ‡è½»æ‹é¢æ¿ã€åŒæŒ‡ä»ä¸Šè¾¹ç¼˜ä¸‹æ»‘ ä¸‰æŒ‡ï¼šä¸‰æŒ‡è½»æ‹ã€ä¸‰æŒ‡æ‹é¡¶ç«¯ã€ä¸‰æŒ‡ç‚¹å‡»å¹¶å‘ä¸Šæ»‘ã€ä¸¤æŒ‡è½»æ‹ä½ï¼Œæ‹å·¦ã€å³äºŒæŒ‡å›ºå®šæ‹ä½ï¼Œå·¦ä¸€ä¸‹æ»‘ å››æŒ‡ï¼šå››æŒ‡åŒè½»æ‹ã€ä¸­æŒ‡æ— åå°æ‹ä½ï¼Œé£Ÿå•å‡»ã€é£Ÿä¸­æŒ‡æ— åæ‹ä½ï¼Œå°å•å‡» äº”æŒ‡ï¼šäº”æ‰‹æŒ‡è½»æ‹ã€äº”æ‰‹æŒ‡ä¸Šæ»‘ ä¸Šé¢åªæ˜¯åˆ—ä¸€äº›å…¸å‹ï¼Œæ›´å¤šå§¿åŠ¿å¯ä»¥åœ¨ä¸Šå›¾ä¸­æµè§ˆã€‚ ç»‘å®šåŠŸèƒ½ é€‰æ‹©è¿‡å§¿åŠ¿ä¹‹åï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨æŒ‰ä½æŸä¸ªåŠŸèƒ½é”®çš„æ—¶å€™æ‰èƒ½ä½¿ç”¨ï¼ˆå·¦ä¸‹è§’ï¼‰ã€‚ å³è¾¹æ˜¯ç»‘å®šåŠŸèƒ½ï¼šå¿«æ·é”®æˆ–åŠ¨ä½œã€‚ ç»‘å®šå¿«æ·é”®ä¸¾ä¾‹ï¼šæ¯”å¦‚ ç»™chrome è®¾ç½® å§¿åŠ¿ï¼ˆä¸¤æŒ‡ä»è§¦æ§æ¿ä¸‹è¾¹ç¼˜æ»‘å…¥ï¼‰ï¼Œå¼¹å‡ºå¼€å‘è€…æ¨¡å¼ï¼ˆå¿«æ·é”®ç»‘å®šï¼šcommand+option+iï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š ç»‘å®šåŠ¨ä½œä¸¾ä¾‹ï¼šè®¾ç½® åœ¨ä»»ä½•åº”ç”¨å†…ï¼Œäº”æŒ‡ä¸‹æ»‘ é”å±ï¼Œå¦‚ä¸‹å›¾ 3. å¸® Magic Mouse å®šä¹‰å„ç§å§¿åŠ¿è¿™ä¸ªåŠŸèƒ½è®¾ç½®å’Œ Trackpad è®¾ç½® å¤§åŒå°å¼‚ï¼Œæ‰€ä»¥è¿™è¾¹å°±ä¸å¤šè®²ï¼Œç›´æ¥å›¾ç¤ºå‡ ä¸ªåŠŸèƒ½ã€‚ æˆ‘å¿«æ·é”®è®¾ç½®äº† option+E é¼ æ ‡å–è¯ç¿»è¯‘ï¼ˆæ¬§é™†è¯å…¸ï¼‰ï¼Œç„¶åç»‘å®šåˆ°åŒæŒ‡è½»æ‹é¼ æ ‡ï¼Œå³å¯è§¦å‘ç¿»è¯‘ã€‚ 4. å¸® Keyboard å®šä¹‰å„ç§å§¿åŠ¿è¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œè®¾ç½®ä¸€äº› é”®ç›˜å¿«æ·é”®æˆ–å½•åˆ¶æ¡ˆä»¶åºåˆ— æ¥è§¦å‘ ä¸€äº›åŠ¨ä½œæˆ–è€…å…¶ä»–å¿«æ·é”®åŠŸèƒ½ã€‚ 5. å¸®ä»»ä½•åº”ç”¨è‡ªå®šä¹‰ TouchBarè¿™ä¸ªé‡ç£…åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä¸æ”¯æŒtouchbarçš„è½¯ä»¶å®šåˆ¶ TouchBarï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å‰å®³ã€‚ ä¸‹é¢å°±ä»¥æˆ‘ç»™ IntelliJ IDEA å®šåˆ¶ TouchBar ä¸ºä¾‹ (æ²¡æœ‰F1 ~ F12 åŠŸèƒ½é”®ï¼ŒdebugçœŸçš„å¾ˆç—›è‹¦ï¼Œè¿™ä¸ªè½¯ä»¶çœŸçš„æ˜¯é›ªä¸­é€ç‚­)ï¼Œå±•ç¤ºä¸€ä¸‹ä½¿ç”¨æ•ˆæœ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ç»™ IntelliJ IDEA æ·»åŠ äº† å››ä¸ªåŠŸèƒ½ step over&#x2F;step into&#x2F;resume&#x2F;evaluate æ·»åŠ å®Œä¹‹åï¼Œåˆ‡åˆ° IntelliJ IDEA è½¯ä»¶ä¸­æ—¶ï¼ŒTouchBar å°±æ˜¾ç¤ºæˆ‘ä»¬æ·»åŠ çš„å››ä¸ªåŠŸèƒ½é”®ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤º æœ€åBTTè¿˜æœ‰å…¶ä»–å¾ˆæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œè¿™ç›˜å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œç­‰ä¹‹åæ›´æ–°äº† Alfred çš„ workflow å¼€å‘æŒ‡å—ä¹‹åï¼Œå†ä¸€èµ·æ›´æ–°ä¸€ç¯‡æœ‰æ„æ€çš„ BTT+Alfred æ•ˆç‡æµã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"mac","slug":"mac","permalink":"http://yelog.org/tags/mac/"},{"name":"efficiency","slug":"efficiency","permalink":"http://yelog.org/tags/efficiency/"}]},{"title":"[è½¬]è°ˆè°ˆJavaä¸­çš„è¯­æ³•ç³–","slug":"è½¬-è°ˆè°ˆJavaä¸­çš„è¯­æ³•ç³–","date":"2017-11-27T14:51:45.000Z","updated":"2024-07-05T11:10:22.636Z","comments":true,"path":"2017/11/27/java-grammatical-sugar/","permalink":"http://yelog.org/2017/11/27/java-grammatical-sugar/","excerpt":"","text":"è¯­æ³•ç³–ï¼ˆSyntactic Sugarï¼‰ï¼Œä¹Ÿç§°ç³–è¡£è¯­æ³•ï¼ŒæŒ‡åœ¨è®¡ç®—æœºè¯­è¨€ä¸­æ·»åŠ çš„æŸç§è¯­æ³•ï¼Œè¿™ç§è¯­æ³•å¯¹è¯­è¨€æœ¬èº«åŠŸèƒ½æ¥è¯´æ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç¨‹åºå‘˜çš„å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚è¯´ç™½äº†ï¼Œè¯­æ³•ç³–å°±æ˜¯å¯¹ç°æœ‰è¯­æ³•çš„ä¸€ä¸ªå°è£…ã€‚ Javaä½œä¸ºä¸€ç§ä¸å¹³å°æ— å…³çš„é«˜çº§è¯­è¨€ï¼Œå½“ç„¶ä¹Ÿå«æœ‰è¯­æ³•ç³–ï¼Œè¿™äº›è¯­æ³•ç³–å¹¶ä¸è¢«è™šæ‹Ÿæœºæ‰€æ”¯æŒï¼Œåœ¨ç¼–è¯‘æˆå­—èŠ‚ç é˜¶æ®µå°±è‡ªåŠ¨è½¬æ¢æˆç®€å•å¸¸ç”¨è¯­æ³•ã€‚ä¸€èˆ¬æ¥è¯´Javaä¸­çš„è¯­æ³•ç³–ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š æ³›å‹ä¸ç±»å‹æ“¦é™¤ è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±ï¼Œå˜é•¿å‚æ•°ã€ å¢å¼ºforå¾ªç¯ å†…éƒ¨ç±»ä¸æšä¸¾ç±» æ³›å‹ä¸ç±»å‹æ“¦é™¤Javaè¯­è¨€å¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±æ”¯æŒæ³›å‹çš„ã€‚åœ¨æ—©æœŸçš„JDKä¸­ï¼Œåªèƒ½é€šè¿‡Objectç±»æ˜¯æ‰€æœ‰ç±»å‹çš„çˆ¶ç±»å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢æ¥å®ç°æ³›å‹çš„åŠŸèƒ½ã€‚å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ç¼ºç‚¹å°±æ˜¯æŠŠç¼–è¯‘æœŸé—´çš„é—®é¢˜å»¶è¿Ÿåˆ°è¿è¡Œæ—¶ï¼ŒJVMå¹¶ä¸èƒ½ä¸ºæˆ‘ä»¬æä¾›ç¼–è¯‘æœŸé—´çš„æ£€æŸ¥ã€‚ åœ¨JDK1.5ä¸­ï¼ŒJavaè¯­è¨€å¼•å…¥äº†æ³›å‹æœºåˆ¶ã€‚ä½†æ˜¯è¿™ç§æ³›å‹æœºåˆ¶æ˜¯é€šè¿‡ç±»å‹æ“¦é™¤æ¥å®ç°çš„ï¼Œå³Javaä¸­çš„æ³›å‹åªåœ¨ç¨‹åºæºä»£ç ä¸­æœ‰æ•ˆï¼ˆæºä»£ç é˜¶æ®µæä¾›ç±»å‹æ£€æŸ¥ï¼‰ï¼Œåœ¨ç¼–è¯‘åçš„å­—èŠ‚ç ä¸­è‡ªåŠ¨ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢è¿›è¡Œæ›¿ä»£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaè¯­è¨€ä¸­çš„æ³›å‹æœºåˆ¶å…¶å®å°±æ˜¯ä¸€é¢—è¯­æ³•ç³–ï¼Œç›¸è¾ƒä¸C++ã€C#ç›¸æ¯”ï¼Œå…¶æ³›å‹å®ç°å®åœ¨æ˜¯ä¸é‚£ä¹ˆä¼˜é›…ã€‚ /** * åœ¨æºä»£ç ä¸­å­˜åœ¨æ³›å‹ */ public static void main(String[] args) &#123; Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;(); map.put(&quot;hello&quot;,&quot;ä½ å¥½&quot;); String hello = map.get(&quot;hello&quot;); System.out.println(hello); &#125; å½“ä¸Šè¿°æºä»£ç è¢«ç¼–è¯‘ä¸ºclassæ–‡ä»¶åï¼Œæ³›å‹è¢«æ“¦é™¤ä¸”å¼•å…¥å¼ºåˆ¶ç±»å‹è½¬æ¢ public static void main(String[] args) &#123; HashMap map = new HashMap(); //ç±»å‹æ“¦é™¤ map.put(&quot;hello&quot;, &quot;ä½ å¥½&quot;); String hello = (String)map.get(&quot;hello&quot;);//å¼ºåˆ¶è½¬æ¢ System.out.println(hello); &#125; è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®± Javaä¸­çš„è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±æŒ‡çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ä¸ä»–ä»¬çš„åŒ…è£…ç±»å‹ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚ æˆ‘ä»¬çŸ¥é“Javaæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œåœ¨Javaä¸–ç•Œä¸­æœ‰ä¸€å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„ï¼šâ€œä¸‡ç‰©çš†å¯¹è±¡â€ã€‚ä½†æ˜¯Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹å´ä¸æ˜¯å¯¹è±¡ï¼Œä»–ä»¬ä¸éœ€è¦è¿›è¡Œnewæ“ä½œï¼Œä¹Ÿä¸èƒ½è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼Œè¿™åœ¨ä½¿ç”¨çš„æ—¶å€™æœ‰è¯¸å¤šä¸ä¾¿ã€‚å› æ­¤Javaä¸ºè¿™äº›åŸºæœ¬ç±»å‹æä¾›äº†åŒ…è£…ç±»ï¼Œå¹¶ä¸”ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæä¾›äº†è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±åŠŸèƒ½ã€‚è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå…¶å®æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå†…éƒ¨è¿˜æ˜¯è°ƒç”¨äº†ç›¸åº”çš„å‡½æ•°è¿›è¡Œè½¬æ¢ã€‚ ä¸‹é¢ä»£ç æ¼”ç¤ºäº†è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±åŠŸèƒ½ public static void main(String[] args) &#123; Integer a = 1; int b = 2; int c = a + b; System.out.println(c); &#125; ç»è¿‡ç¼–è¯‘åï¼Œä»£ç å¦‚ä¸‹ public static void main(String[] args) &#123; Integer a = Integer.valueOf(1); // è‡ªåŠ¨è£…ç®± byte b = 2; int c = a.intValue() + b;//è‡ªåŠ¨æ‹†ç®± System.out.println(c); &#125; å˜é•¿å‚æ•° æ‰€è°“å˜é•¿å‚æ•°ï¼Œå°±æ˜¯æ–¹æ³•å¯ä»¥æ¥å—é•¿åº¦ä¸å®šç¡®å®šçš„å‚æ•° å˜é•¿å‚æ•°ç‰¹æ€§æ˜¯åœ¨JDK1.5ä¸­å¼•å…¥çš„ï¼Œä½¿ç”¨å˜é•¿å‚æ•°æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼Œä¸€æ˜¯å˜é•¿çš„é‚£ä¸€éƒ¨åˆ†å‚æ•°å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼ŒäºŒæ˜¯å˜é•¿å‚æ•°å¿…é¡»ä½äºæ–¹æ³•å‚æ•°åˆ—è¡¨çš„æœ€åé¢ã€‚å˜é•¿å‚æ•°åŒæ ·æ˜¯Javaä¸­çš„è¯­æ³•ç³–ï¼Œå…¶å†…éƒ¨å®ç°æ˜¯Javaæ•°ç»„ã€‚ public class Varargs &#123; public static void print(String... args) &#123; for(String str : args)&#123; System.out.println(str); &#125; &#125; public static void main(String[] args) &#123; print(&quot;hello&quot;, &quot;world&quot;); &#125; &#125; ç¼–è¯‘ä¸ºclassæ–‡ä»¶åå¦‚ä¸‹ï¼Œä»ä¸­å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºå˜é•¿å‚æ•°å†…éƒ¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ public class Varargs &#123; public Varargs() &#123; &#125; public static void print(String... args) &#123; String[] var1 = args; int var2 = args.length; //å¢å¼ºforå¾ªç¯çš„æ•°ç»„å®ç°æ–¹å¼ for(int var3 = 0; var3 &lt; var2; ++var3) &#123; String str = var1[var3]; System.out.println(str); &#125; &#125; public static void main(String[] args) &#123; //å˜é•¿å‚æ•°è½¬æ¢ä¸ºæ•°ç»„ print(new String[]&#123;&quot;hello&quot;, &quot;world&quot;&#125;); &#125; &#125; å¢å¼ºforå¾ªç¯ å¢å¼ºforå¾ªç¯ä¸æ™®é€šforå¾ªç¯ç›¸æ¯”ï¼ŒåŠŸèƒ½æ›´å¼ºå¹¶ä¸”ä»£ç æ›´ç®€æ´ å¢å¼ºforå¾ªç¯çš„å¯¹è±¡è¦ä¹ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¦ä¹ˆå®ç°äº†Iterableæ¥å£ã€‚è¿™ä¸ªè¯­æ³•ç³–ä¸»è¦ç”¨æ¥å¯¹æ•°ç»„æˆ–è€…é›†åˆè¿›è¡Œéå†ï¼Œå…¶åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸èƒ½æ”¹å˜é›†åˆçš„å¤§å°ã€‚ public static void main(String[] args) &#123; String[] params = new String[]&#123;&quot;hello&quot;,&quot;world&quot;&#125;; //å¢å¼ºforå¾ªç¯å¯¹è±¡ä¸ºæ•°ç»„ for(String str : params)&#123; System.out.println(str); &#125; List&lt;String&gt; lists = Arrays.asList(&quot;hello&quot;,&quot;world&quot;); //å¢å¼ºforå¾ªç¯å¯¹è±¡å®ç°Iterableæ¥å£ for(String str : lists)&#123; System.out.println(str); &#125; &#125; ç¼–è¯‘åçš„classæ–‡ä»¶ä¸º public static void main(String[] args) &#123; String[] params = new String[]&#123;&quot;hello&quot;, &quot;world&quot;&#125;; String[] lists = params; int var3 = params.length; //æ•°ç»„å½¢å¼çš„å¢å¼ºforé€€åŒ–ä¸ºæ™®é€šfor for(int str = 0; str &lt; var3; ++str) &#123; String str1 = lists[str]; System.out.println(str1); &#125; List var6 = Arrays.asList(new String[]&#123;&quot;hello&quot;, &quot;world&quot;&#125;); Iterator var7 = var6.iterator(); //å®ç°Iterableæ¥å£çš„å¢å¼ºforä½¿ç”¨iteratoræ¥å£è¿›è¡Œéå† while(var7.hasNext()) &#123; String var8 = (String)var7.next(); System.out.println(var8); &#125; &#125; å†…éƒ¨ç±» å†…éƒ¨ç±»å°±æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªç±»å†…éƒ¨çš„ç±» Javaè¯­è¨€ä¸­ä¹‹æ‰€ä»¥å¼•å…¥å†…éƒ¨ç±»ï¼Œæ˜¯å› ä¸ºæœ‰äº›æ—¶å€™ä¸€ä¸ªç±»åªåœ¨å¦ä¸€ä¸ªç±»ä¸­æœ‰ç”¨ï¼Œæˆ‘ä»¬ä¸æƒ³è®©å…¶åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹è¢«ä½¿ç”¨ã€‚å†…éƒ¨ç±»ä¹‹æ‰€ä»¥æ˜¯è¯­æ³•ç³–ï¼Œæ˜¯å› ä¸ºå…¶åªæ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶çš„æ¦‚å¿µï¼Œä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œç¼–è¯‘å™¨å°±ä¼šä¸ºå†…éƒ¨ç±»ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„classæ–‡ä»¶ï¼Œåä¸ºouter$innter.classã€‚ public class Outer &#123; class Inner&#123; &#125; &#125; ä½¿ç”¨javacç¼–è¯‘åï¼Œç”Ÿæˆä¸¤ä¸ªclassæ–‡ä»¶Outer.classå’ŒOuter$Inner.classï¼Œå…¶ä¸­Outer$Inner.classçš„å†…å®¹å¦‚ä¸‹ï¼š class Outer$Inner &#123; Outer$Inner(Outer var1) &#123; this.this$0 = var1; &#125; &#125; å†…éƒ¨ç±»åˆ†ä¸ºå››ç§ï¼šæˆå‘˜å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ï¼Œæ¯ä¸€ç§éƒ½æœ‰å…¶ç”¨æ³•ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº† æšä¸¾ç±»å‹ æšä¸¾ç±»å‹å°±æ˜¯ä¸€äº›å…·æœ‰ç›¸åŒç‰¹æ€§çš„ç±»å¸¸é‡ javaä¸­ç±»çš„å®šä¹‰ä½¿ç”¨classï¼Œæšä¸¾ç±»çš„å®šä¹‰ä½¿ç”¨enumã€‚åœ¨Javaçš„å­—èŠ‚ç ç»“æ„ä¸­ï¼Œå…¶å®å¹¶æ²¡æœ‰æšä¸¾ç±»å‹ï¼Œæšä¸¾ç±»å‹åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œåœ¨ç¼–è¯‘å®Œæˆåè¢«ç¼–è¯‘æˆä¸€ä¸ªæ™®é€šçš„ç±»ã€‚è¿™ä¸ªç±»ç»§æ‰¿java.lang.Enumï¼Œå¹¶è¢«finalå…³é”®å­—ä¿®é¥°ã€‚ public enum Fruit &#123; APPLE,ORINGE &#125; ä½¿ç”¨jadå¯¹ç¼–è¯‘åçš„classæ–‡ä»¶è¿›è¡Œåç¼–è¯‘åå¾—åˆ° //ç»§æ‰¿java.lang.Enumå¹¶å£°æ˜ä¸ºfinal public final class Fruit extends Enum &#123; public static Fruit[] values() &#123; return (Fruit[])$VALUES.clone(); &#125; public static Fruit valueOf(String s) &#123; return (Fruit)Enum.valueOf(Fruit, s); &#125; private Fruit(String s, int i) &#123; super(s, i); &#125; //æšä¸¾ç±»å‹å¸¸é‡ public static final Fruit APPLE; public static final Fruit ORANGE; private static final Fruit $VALUES[];//ä½¿ç”¨æ•°ç»„è¿›è¡Œç»´æŠ¤ static &#123; APPLE = new Fruit(&quot;APPLE&quot;, 0); ORANGE = new Fruit(&quot;ORANGE&quot;, 1); $VALUES = (new Fruit[] &#123; APPLE, ORANGE &#125;); &#125; &#125;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"}]},{"title":"PostgreSQLäº‹åŠ¡åŠéš”ç¦»çº§åˆ«","slug":"PostgreSQLäº‹åŠ¡åŠéš”ç¦»çº§åˆ«","date":"2017-11-08T16:07:33.000Z","updated":"2024-07-05T11:10:22.297Z","comments":true,"path":"2017/11/09/PostgreSQLäº‹ç‰©åŠéš”ç¦»çº§åˆ«/","permalink":"http://yelog.org/2017/11/09/PostgreSQL%E4%BA%8B%E7%89%A9%E5%8F%8A%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/","excerpt":"","text":"ä»‹ç»PostgreSQLä¸­æä¾›äº†å¤šç§æ•°æ®å®Œæ•´æ€§çš„ä¿è¯æœºåˆ¶ã€‚å¦‚ï¼šçº¦æŸã€è§¦å‘å™¨ã€äº‹åŠ¡å’Œé”ç®¡ç†ç­‰ã€‚ äº‹åŠ¡ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ä¸€ç»„ç›¸å…³æ•°æ®åº“çš„æ“ä½œèƒ½å…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œä»è€Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚é”æœºåˆ¶ä¸»è¦æ˜¯æ§åˆ¶å¤šä¸ªç”¨æˆ·å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œï¼Œä½¿ç”¨é”æœºåˆ¶å¯ä»¥è§£å†³å¹¶å‘é—®é¢˜ã€‚ äº‹åŠ¡äº‹åŠ¡æ˜¯ç”¨æˆ·å¯¹ä¸€ä¸ªæ•°æ®åº“æ“ä½œçš„ä¸€ä¸ªåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åšï¼Œæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å•ä½ã€‚ äº‹åŠ¡ç®¡ç†çš„å¸¸ç”¨è¯­å¥å¦‚ä¸‹ï¼š BEGIN; SQLè¯­å¥1; SQLè¯­å¥2; ... COMMIT; äº‹åŠ¡å—æ˜¯æŒ‡åŒ…å›´åœ¨BEGINå’ŒCOMMITä¹‹é—´çš„è¯­å¥ã€‚åœ¨PostgreSQL9ä¸­ï¼Œå¸¸ç”¨çš„äº‹åŠ¡å—ç®¡ç†è¯­å¥å«ä¹‰å¦‚ä¸‹ï¼š START TRANSACTIONï¼šæ­¤å‘½ä»¤è¡¨ç¤ºå¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡å—.BEGINï¼šåˆå§‹åŒ–ä¸€ä¸ªäº‹åŠ¡å—ã€‚åœ¨BEGINå‘½ä»¤åçš„è¯­å¥éƒ½å°†åœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œé¢æ‰§è¡Œï¼ŒçŸ¥é“é‡è§COMMITæˆ–ROLLBACKã€‚å®ƒå’ŒSTART TRANSACTIONæ˜¯ä¸€æ ·çš„ã€‚COMMITï¼šæäº¤äº‹åŠ¡ã€‚ROLLBACKï¼šäº‹åŠ¡å¤±è´¥æ—¶æ‰§è¡Œå›æ»šæ“ä½œã€‚SET TRANSACTIONï¼šè®¾ç½®å½“å‰äº‹åŠ¡çš„ç‰¹æ€§ã€‚å¯¹åé¢çš„äº‹åŠ¡æ²¡æœ‰å½±å“ã€‚ äº‹åŠ¡éš”ç¦»åŠå¹¶å‘æ§åˆ¶PostgreSQLæ˜¯ä¸€ä¸ªæ”¯æŒå¤šç”¨æˆ·çš„æ•°æ®åº“ï¼Œå½“å¤šä¸ªç”¨æˆ·æ“ä½œåŒä¸€æ•°æ®åº“æ—¶ï¼Œå¹¶å‘æ§åˆ¶è¦ä¿è¯æ‰€æœ‰ç”¨æˆ·å¯ä»¥é«˜æ•ˆçš„è®¿é—®çš„åŒæ—¶ä¸ç ´åæ•°æ®çš„å®Œæ•´æ€§ã€‚ æ•°æ®åº“ä¸­æ•°æ®çš„å¹¶å‘æ“ä½œç»å¸¸å‘ç”Ÿï¼Œè€Œå¯¹æ•°æ®çš„å¹¶å‘æ“ä½œä¼šå¸¦æ¥ä¸‹é¢çš„ä¸€äº›é—®é¢˜ï¼š è„è¯»ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡å†™å…¥çš„æ•°æ®ã€‚ ä¸å¯é‡å¤è¯»ä¸€ä¸ªäº‹åŠ¡é‡æ–°è¯»å–å‰é¢è¯»å–è¿‡çš„æ•°æ®ï¼Œå‘ç°è¯¥æ•°æ®å·²ç»è¢«å¦ä¸€ä¸ªå·²ç»æäº¤çš„äº‹åŠ¡ä¿®æ”¹ã€‚ å¹»è¯»ä¸€ä¸ªäº‹åŠ¡é‡æ–°æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„è¡Œçš„é›†åˆï¼Œå‘ç°æ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„è¡Œçš„é›†åˆå› ä¸ºå…¶å®ƒæœ€è¿‘æäº¤çš„äº‹åŠ¡è€Œå‘ç”Ÿäº†æ”¹å˜ã€‚ SQLæ ‡å‡†å®šä¹‰äº†å››ä¸ªçº§åˆ«çš„äº‹åŠ¡éš”ç¦»ã€‚ | éš”ç¦»çº§åˆ« | è„è¯» | å¹»è¯» | ä¸å¯é‡å¤æ€§è¯»å– || :- | :- ||è¯»æœªæäº¤ |å¯èƒ½ |å¯èƒ½ |å¯èƒ½||è¯»å·²æäº¤ |ä¸å¯èƒ½| å¯èƒ½ |å¯èƒ½||å¯é‡å¤è¯» |ä¸å¯èƒ½ |å¯èƒ½ |ä¸å¯èƒ½||å¯ä¸²è¡Œè¯» |ä¸å¯èƒ½ |ä¸å¯èƒ½ |ä¸å¯èƒ½| åœ¨PostgreSQLä¸­ï¼Œå¯ä»¥è¯·æ±‚4ç§éš”ç¦»çº§åˆ«ä¸­çš„ä»»æ„ä¸€ç§ã€‚ä½†æ˜¯åœ¨å†…éƒ¨ï¼Œå®é™…ä¸Šåªæœ‰ä¸¤ç§ç‹¬ç«‹çš„éš”ç¦»çº§åˆ«ï¼Œåˆ†åˆ«å¯¹åº”å·²æäº¤å’Œå¯ä¸²è¡ŒåŒ–ã€‚å¦‚æœé€‰æ‹©äº†è¯»æœªæäº¤çš„çº§åˆ«ï¼Œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯è¯»å·²æäº¤ï¼Œåœ¨é€‰æ‹©å¯é‡å¤è¯»çº§åˆ«çš„æ—¶å€™ï¼Œå®é™…ä¸Šç”¨çš„æ˜¯å¯ä¸²è¡ŒåŒ–ï¼Œæ‰€ä»¥å®é™…çš„éš”ç¦»çº§åˆ«å¯èƒ½æ¯”é€‰æ‹©çš„æ›´ä¸¥æ ¼ã€‚è¿™æ˜¯SQLæ ‡å‡†å…è®¸çš„ï¼š4ç§éš”ç¦»çº§åˆ«åªå®šä¹‰äº†å“ªç§ç°è±¡ä¸èƒ½å‘ç”Ÿï¼Œä½†æ˜¯æ²¡æœ‰å®šä¹‰å“ªç§ç°è±¡ä¸€å®šå‘ç”Ÿã€‚ PostgreSQLåªæä¾›ä¸¤ç§éš”ç¦»çº§åˆ«çš„åŸå› æ˜¯ï¼Œè¿™æ˜¯æŠŠæ ‡å‡†çš„éš”ç¦»çº§åˆ«ä¸å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æ¶æ„æ˜ å°„ç›¸å…³çš„å”¯ä¸€åˆç†æ–¹æ³•ã€‚ è¯»å·²æäº¤è¿™æ˜¯PostgreSQLä¸­é»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡è¿è¡Œåœ¨è¿™ä¸ªéš”ç¦»çº§åˆ«æ—¶ï¼Œä¸€ä¸ªSELECTæŸ¥è¯¢åªèƒ½çœ‹åˆ°æŸ¥è¯¢å¼€å§‹å‰å·²æäº¤çš„æ•°æ®ï¼Œè€Œæ— æ³•çœ‹åˆ°æœªæäº¤çš„æ•°æ®æˆ–è€…åœ¨æŸ¥è¯¢æœŸé—´å…¶ä»–çš„äº‹åŠ¡å·²æäº¤çš„æ•°æ®ã€‚ å¯ä¸²è¡ŒåŒ–å¯ä¸²è¡ŒåŒ–æä¾›æœ€ä¸¥æ ¼çš„äº‹åŠ¡éš”ç¦»ã€‚è¿™ä¸ªçº§åˆ«æ¨¡æ‹Ÿä¸²è¡Œçš„äº‹åŠ¡æ‰§è¡Œï¼Œå°±å¥½åƒäº‹åŠ¡æ˜¯ä¸€ä¸ªæ¥ç€ä¸€ä¸ªä¸²è¡Œçš„æ‰§è¡Œã€‚ä¸è¿‡ï¼Œè¿™ä¸ªçº§åˆ«çš„åº”ç”¨å¿…é¡»å‡†å¤‡åœ¨ä¸²è¡ŒåŒ–å¤±è´¥çš„æ—¶å€™é‡æ–°å¯åŠ¨äº‹åŠ¡ã€‚","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yelog.org/tags/PostgreSQL/"}]},{"title":"linuxä¸‹ä¿®æ”¹æŒ‰é”®ESC<=>CAPSLOCKå’ŒControl=>ALT_R","slug":"linuxä¸‹ä¿®æ”¹æŒ‰é”®ESC-CAPSLOCKå’ŒControl-ALT-R","date":"2017-10-20T09:38:49.000Z","updated":"2024-07-05T11:10:23.056Z","comments":true,"path":"2017/10/20/linuxä¸‹ä¿®æ”¹æŒ‰é”®ESC<=>CAPSLOCKå’ŒControl=>ALT_R/","permalink":"http://yelog.org/2017/10/20/linux%E4%B8%8B%E4%BF%AE%E6%94%B9%E6%8C%89%E9%94%AEESC%3C=%3ECAPSLOCK%E5%92%8CControl=%3EALT_R/","excerpt":"","text":"ä½¿ç”¨ vim è¿‡ç¨‹ä¸­å‘ç° esc å’Œ ctrl æŒ‰é”®å¾ˆéš¾æŒ‰ï¼Œå°æ‹‡æŒ‡æ²¡æœ‰é‚£ä¹ˆé•¿å•Šï½ï½ï¼Œè€Œ caps_lock å’Œ alt_r(å³alt) å¾ˆå°‘ç”¨ã€‚ æœ¬æ•™ç¨‹å°† esc å’Œ caps_lock ä¸¤ä¸ªæŒ‰é”®äº¤æ¢ï¼Œ alt_r(å³alt) æ”¹ä¸º ctrlã€‚ ä¸€ã€ esc ä¸ caps_lock æŒ‰é”®äº¤æ¢â‘ . åˆ›å»º .xmodmaprc æ–‡ä»¶ã€‚â‘¡. åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š remove Lock = Caps_Lock add Lock = Escape keysym Caps_Lock = Escape keysym Escape = Caps_Lock â‘¢. æ‰§è¡Œ xmodmap .xmodmaprc ä½¿ä¹‹ç”Ÿæ•ˆã€‚ äºŒã€ å°† å³alt æ”¹ä¸º ctrlâ‘ . æŸ¥çœ‹éœ€è¦ä¿®æ”¹é”®ä½çš„ keysymé€šè¿‡ xev | grep keycode è·å–å³ alt çš„ keysym ä¸º Alt_Rã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â‘¡. æŸ¥çœ‹ Alt_R æ˜¯å“ªä¸ª modifier ä½¿ç”¨çš„é€šè¿‡ xmodmap -pm æŸ¥çœ‹ï¼Œå‘ç° Alt_R æ˜¯ä½œä¸º modifier mod1 ä½¿ç”¨çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â‘¢. ä¿®æ”¹ modifier xmodmap -e &#39;remove mod1 = Alt_R&#39; # è§£é™¤åŸæ¥ç»‘å®š xmodmap -e &#39;add control = Alt_R&#39; # ä½œä¸º control ä½¿ç”¨","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yelog.org/tags/linux/"},{"name":"vim","slug":"vim","permalink":"http://yelog.org/tags/vim/"},{"name":"keybord","slug":"keybord","permalink":"http://yelog.org/tags/keybord/"},{"name":"emacs","slug":"emacs","permalink":"http://yelog.org/tags/emacs/"}]},{"title":"[è½¬]å­—ç¬¦ç¼–è§£ç çš„æ•…äº‹ï¼ˆASCIIï¼ŒANSIï¼ŒUnicodeï¼ŒUtf-8åŒºåˆ«ï¼‰","slug":"è½¬-å­—ç¬¦ç¼–è§£ç çš„æ•…äº‹ï¼ˆASCIIï¼ŒANSIï¼ŒUnicodeï¼ŒUtf-8åŒºåˆ«ï¼‰","date":"2017-09-25T11:15:00.000Z","updated":"2024-07-05T11:10:23.096Z","comments":true,"path":"2017/09/25/ascii-ansi-unicode-utf-8/","permalink":"http://yelog.org/2017/09/25/ascii-ansi-unicode-utf-8/","excerpt":"","text":"å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæœ‰ä¸€ç¾¤äººï¼Œä»–ä»¬å†³å®šç”¨8ä¸ªå¯ä»¥å¼€åˆçš„æ™¶ä½“ç®¡æ¥ç»„åˆæˆä¸åŒçš„çŠ¶æ€ï¼Œä»¥è¡¨ç¤ºä¸–ç•Œä¸Šçš„ä¸‡ç‰©ã€‚ä»–ä»¬è®¤ä¸º8ä¸ªå¼€å…³çŠ¶æ€ä½œä¸ºåŸå­å•ä½å¾ˆå¥½ï¼Œäºæ˜¯ä»–ä»¬æŠŠè¿™ç§°ä¸ºâ€å­—èŠ‚â€ã€‚ å†åæ¥ï¼Œä»–ä»¬åˆåšäº†ä¸€äº›å¯ä»¥å¤„ç†è¿™äº›å­—èŠ‚çš„æœºå™¨ï¼Œæœºå™¨å¼€åŠ¨äº†ï¼Œå¯ä»¥ç”¨å­—èŠ‚æ¥ç»„åˆå‡ºæ›´å¤šçš„çŠ¶æ€ï¼ŒçŠ¶æ€å¼€å§‹å˜æ¥å˜å»ã€‚ä»–ä»¬çœ‹åˆ°è¿™æ ·æ˜¯å¥½çš„ï¼Œäºæ˜¯å®ƒä»¬å°±è¿™æœºå™¨ç§°ä¸ºâ€è®¡ç®—æœºâ€ã€‚ å¼€å§‹è®¡ç®—æœºåªåœ¨ç¾å›½ç”¨ã€‚å…«ä½çš„å­—èŠ‚ä¸€å…±å¯ä»¥ç»„åˆå‡º256ï¼ˆ2çš„8æ¬¡æ–¹ï¼‰ç§ä¸åŒçš„çŠ¶æ€ã€‚ ä»–ä»¬æŠŠå…¶ä¸­çš„ç¼–å·ä»0å¼€å§‹çš„32ç§çŠ¶æ€åˆ†åˆ«è§„å®šäº†ç‰¹æ®Šçš„ç”¨é€”ï¼Œä¸€ä½†ç»ˆç«¯è®¾å¤‡æˆ–è€…æ‰“å°æœºé‡ä¸Šè¿™äº›çº¦å®šå¥½çš„å­—èŠ‚æ—¶ï¼Œå°±è¦åšä¸€äº›çº¦å®šçš„åŠ¨ä½œã€‚é‡ä¸Š 00x10, ç»ˆç«¯å°±æ¢è¡Œï¼Œé‡ä¸Š0x07, ç»ˆç«¯å°±å‘äººä»¬å˜Ÿå˜Ÿå«ï¼Œä¾‹å¥½é‡ä¸Š0x1b, æ‰“å°æœºå°±æ‰“å°åç™½çš„å­—ï¼Œå¯¹äºç»ˆç«¯å°±ç”¨å½©è‰²æ˜¾ç¤ºå­—æ¯ã€‚ä»–ä»¬çœ‹åˆ°è¿™æ ·å¾ˆå¥½ï¼Œäºæ˜¯å°±æŠŠè¿™äº›0x20ï¼ˆåè¿›åˆ¶32ï¼‰ä»¥ä¸‹çš„å­—èŠ‚çŠ¶æ€ç§°ä¸ºâ€æ§åˆ¶ç â€ã€‚ ä»–ä»¬åˆæŠŠæ‰€æœ‰çš„ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ã€å¤§å°å†™å­—æ¯åˆ†åˆ«ç”¨è¿ç»­çš„å­—èŠ‚çŠ¶æ€è¡¨ç¤ºï¼Œä¸€ç›´ç¼–åˆ°äº†ç¬¬127å·ï¼Œè¿™æ ·è®¡ç®—æœºå°±å¯ä»¥ç”¨ä¸åŒå­—èŠ‚æ¥å­˜å‚¨è‹±è¯­çš„ æ–‡å­—äº†ã€‚å¤§å®¶çœ‹åˆ°è¿™æ ·ï¼Œéƒ½æ„Ÿè§‰å¾ˆå¥½ï¼Œäºæ˜¯å¤§å®¶éƒ½æŠŠè¿™ä¸ªæ–¹æ¡ˆå«åš ANSI çš„â€Asciiâ€ç¼–ç ï¼ˆAmerican Standard Code for Information Interchangeï¼Œç¾å›½ä¿¡æ¯äº’æ¢æ ‡å‡†ä»£ç ï¼‰ã€‚å½“æ—¶ä¸–ç•Œä¸Šæ‰€æœ‰çš„è®¡ç®—æœºéƒ½ç”¨åŒæ ·çš„ASCIIæ–¹æ¡ˆæ¥ä¿å­˜è‹±æ–‡æ–‡å­—ã€‚ åæ¥ï¼Œå°±åƒå»ºé€ å·´æ¯”ä¼¦å¡”ä¸€æ ·ï¼Œä¸–ç•Œå„åœ°çš„éƒ½å¼€å§‹ä½¿ç”¨è®¡ç®—æœºï¼Œä½†æ˜¯å¾ˆå¤šå›½å®¶ç”¨çš„ä¸æ˜¯è‹±æ–‡ï¼Œä»–ä»¬ç”¨åˆ°çš„è®¸å¤šå­—æ¯åœ¨ASCIIä¸­æ ¹æœ¬æ²¡æœ‰ï¼Œä¸ºäº†ä¹Ÿå¯ä»¥åœ¨è®¡ç®—æœºä¸­ä¿å­˜ä»–ä»¬çš„æ–‡å­—ï¼Œä»–ä»¬å†³å®šé‡‡ç”¨127å·ä¹‹åçš„ç©ºä½æ¥è¡¨ç¤ºè¿™äº›æ–°çš„å­—æ¯ã€ç¬¦å·ï¼Œè¿˜åŠ å…¥äº†å¾ˆå¤šç”»è¡¨æ ¼æ—¶éœ€è¦ç”¨ä¸‹åˆ°çš„æ¨ªçº¿ã€ç«–çº¿ã€äº¤å‰ç­‰å½¢çŠ¶ï¼Œä¸€ç›´æŠŠåºå·ç¼–åˆ°äº†æœ€åä¸€ä¸ªçŠ¶æ€255ã€‚ä»128åˆ°255è¿™ä¸€é¡µçš„å­—ç¬¦é›†è¢«ç§°â€æ‰©å±•å­—ç¬¦é›†â€ã€‚ä»æ­¤ä¹‹åï¼Œè´ªå©ªçš„äººç±»å†æ²¡æœ‰æ–°çš„çŠ¶æ€å¯ä»¥ç”¨äº†ï¼Œç¾å¸å›½ä¸»ä¹‰å¯èƒ½æ²¡æœ‰æƒ³åˆ°è¿˜æœ‰ç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„äººä»¬ä¹Ÿå¸Œæœ›å¯ä»¥ç”¨åˆ°è®¡ç®—æœºå§ï¼ ç­‰ä¸­å›½äººä»¬å¾—åˆ°è®¡ç®—æœºæ—¶ï¼Œå·²ç»æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„å­—èŠ‚çŠ¶æ€æ¥è¡¨ç¤ºæ±‰å­—ï¼Œå†µä¸”æœ‰6000å¤šä¸ªå¸¸ç”¨æ±‰å­—éœ€è¦ä¿å­˜å‘¢ã€‚ä½†æ˜¯è¿™éš¾ä¸å€’æ™ºæ…§çš„ä¸­å›½äººæ°‘ï¼Œæˆ‘ä»¬ä¸å®¢æ°”åœ°æŠŠé‚£äº›127å·ä¹‹åçš„å¥‡å¼‚ç¬¦å·ä»¬ç›´æ¥å–æ¶ˆæ‰ï¼Œå¹¶ä¸”è§„å®šï¼šä¸€ä¸ªå°äº127çš„å­—ç¬¦çš„æ„ä¹‰ä¸åŸæ¥ç›¸åŒï¼Œä½†ä¸¤ä¸ªå¤§äº127çš„å­—ç¬¦è¿åœ¨ä¸€èµ·æ—¶ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªæ±‰å­—ï¼Œå‰é¢çš„ä¸€ä¸ªå­—èŠ‚ï¼ˆä»–ç§°ä¹‹ä¸ºé«˜å­—èŠ‚ï¼‰ä»0xA1ç”¨åˆ° 0xF7ï¼Œåé¢ä¸€ä¸ªå­—èŠ‚ï¼ˆä½å­—èŠ‚ï¼‰ä»0xA1åˆ°0xFEï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç»„åˆå‡ºå¤§çº¦7000å¤šä¸ªç®€ä½“æ±‰å­—äº†ã€‚åœ¨è¿™äº›ç¼–ç é‡Œï¼Œæˆ‘ä»¬è¿˜æŠŠæ•°å­¦ç¬¦å·ã€ç½—é©¬å¸Œè…Šçš„å­—æ¯ã€æ—¥æ–‡çš„å‡åä»¬éƒ½ç¼–è¿›å»äº†ï¼Œè¿åœ¨ ASCII é‡Œæœ¬æ¥å°±æœ‰çš„æ•°å­—ã€æ ‡ç‚¹ã€å­—æ¯éƒ½ç»Ÿç»Ÿé‡æ–°ç¼–äº†ä¸¤ä¸ªå­—èŠ‚é•¿çš„ç¼–ç ï¼Œè¿™å°±æ˜¯å¸¸è¯´çš„â€å…¨è§’â€å­—ç¬¦ï¼Œè€ŒåŸæ¥åœ¨127å·ä»¥ä¸‹çš„é‚£äº›å°±å«â€åŠè§’â€å­—ç¬¦äº†ã€‚ ä¸­å›½äººæ°‘çœ‹åˆ°è¿™æ ·å¾ˆä¸é”™ï¼Œäºæ˜¯å°±æŠŠè¿™ç§æ±‰å­—æ–¹æ¡ˆå«åšâ€GB2312â€ã€‚GB2312 æ˜¯å¯¹ ASCII çš„ä¸­æ–‡æ‰©å±•ã€‚ ä½†æ˜¯ä¸­å›½çš„æ±‰å­—å¤ªå¤šäº†ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±å°±å‘ç°æœ‰è®¸å¤šäººçš„äººåæ²¡æœ‰åŠæ³•åœ¨è¿™é‡Œæ‰“å‡ºæ¥ï¼Œç‰¹åˆ«æ˜¯æŸäº›å¾ˆä¼šéº»çƒ¦åˆ«äººçš„å›½å®¶é¢†å¯¼äººï¼ˆå¦‚æœ±é••åŸºçš„â€œé••â€å­—ï¼‰ã€‚äºæ˜¯æˆ‘ä»¬ä¸å¾—ä¸ç»§ç»­æŠŠ GB2312 æ²¡æœ‰ç”¨åˆ°çš„ç ä½æ‰¾å‡ºæ¥è€å®ä¸å®¢æ°”åœ°ç”¨ä¸Šã€‚ åæ¥è¿˜æ˜¯ä¸å¤Ÿç”¨ï¼Œäºæ˜¯å¹²è„†ä¸å†è¦æ±‚ä½å­—èŠ‚ä¸€å®šæ˜¯127å·ä¹‹åçš„å†…ç ï¼Œåªè¦ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯å¤§äº127å°±å›ºå®šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ±‰å­—çš„å¼€å§‹ï¼Œä¸ç®¡åé¢è·Ÿçš„æ˜¯ä¸æ˜¯æ‰©å±•å­—ç¬¦é›†é‡Œçš„å†…å®¹ã€‚ç»“æœæ‰©å±•ä¹‹åçš„ç¼–ç æ–¹æ¡ˆè¢«ç§°ä¸º GBK æ ‡å‡†ï¼ŒGBK åŒ…æ‹¬äº† GB2312 çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒæ—¶åˆå¢åŠ äº†è¿‘20000ä¸ªæ–°çš„æ±‰å­—ï¼ˆåŒ…æ‹¬ç¹ä½“å­—ï¼‰å’Œç¬¦å·ã€‚ åæ¥å°‘æ•°æ°‘æ—ä¹Ÿè¦ç”¨ç”µè„‘äº†ï¼Œäºæ˜¯æˆ‘ä»¬å†æ‰©å±•ï¼ŒåˆåŠ äº†å‡ åƒä¸ªæ–°çš„å°‘æ•°æ°‘æ—çš„å­—ï¼ŒGBK æ‰©æˆäº† GB18030ã€‚ä»æ­¤ä¹‹åï¼Œä¸­åæ°‘æ—çš„æ–‡åŒ–å°±å¯ä»¥åœ¨è®¡ç®—æœºæ—¶ä»£ä¸­ä¼ æ‰¿äº†ã€‚ ä¸­å›½çš„ç¨‹åºå‘˜ä»¬çœ‹åˆ°è¿™ä¸€ç³»åˆ—æ±‰å­—ç¼–ç çš„æ ‡å‡†æ˜¯å¥½çš„ï¼Œäºæ˜¯é€šç§°ä»–ä»¬å«åš â€œDBCSâ€ï¼ˆDouble Byte Charecter Set åŒå­—èŠ‚å­—ç¬¦é›†ï¼‰ã€‚åœ¨DBCSç³»åˆ—æ ‡å‡†é‡Œï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ä¸¤å­—èŠ‚é•¿çš„æ±‰å­—å­—ç¬¦å’Œä¸€å­—èŠ‚é•¿çš„è‹±æ–‡å­—ç¬¦å¹¶å­˜äºåŒä¸€å¥—ç¼–ç æ–¹æ¡ˆé‡Œï¼Œå› æ­¤ä»–ä»¬å†™çš„ç¨‹åºä¸ºäº†æ”¯æŒä¸­æ–‡å¤„ç†ï¼Œå¿…é¡»è¦æ³¨æ„å­—ä¸²é‡Œçš„æ¯ä¸€ä¸ªå­—èŠ‚çš„å€¼ï¼Œå¦‚æœè¿™ä¸ªå€¼æ˜¯å¤§äº127çš„ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é›†é‡Œçš„å­—ç¬¦å‡ºç°äº†ã€‚é‚£æ—¶å€™å‡¡æ˜¯å—è¿‡åŠ æŒï¼Œä¼šç¼–ç¨‹çš„è®¡ç®—æœºåƒ§ä¾£ä»¬éƒ½è¦æ¯å¤©å¿µä¸‹é¢è¿™ä¸ªå’’è¯­æ•°ç™¾éï¼š â€œä¸€ä¸ªæ±‰å­—ç®—ä¸¤ä¸ªè‹±æ–‡å­—ç¬¦ï¼ä¸€ä¸ªæ±‰å­—ç®—ä¸¤ä¸ªè‹±æ–‡å­—ç¬¦â€¦â€¦â€ å› ä¸ºå½“æ—¶å„ä¸ªå›½å®¶éƒ½åƒä¸­å›½è¿™æ ·æå‡ºä¸€å¥—è‡ªå·±çš„ç¼–ç æ ‡å‡†ï¼Œç»“æœäº’ç›¸ä¹‹é—´è°ä¹Ÿä¸æ‡‚è°çš„ç¼–ç ï¼Œè°ä¹Ÿä¸æ”¯æŒåˆ«äººçš„ç¼–ç ï¼Œè¿å¤§é™†å’Œå°æ¹¾è¿™æ ·åªç›¸éš”äº†150æµ·é‡Œï¼Œä½¿ç”¨ç€åŒä¸€ç§è¯­è¨€çš„å…„å¼Ÿåœ°åŒºï¼Œä¹Ÿåˆ†åˆ«é‡‡ç”¨äº†ä¸åŒçš„ DBCS ç¼–ç æ–¹æ¡ˆâ€”â€”å½“æ—¶çš„ä¸­å›½äººæƒ³è®©ç”µè„‘æ˜¾ç¤ºæ±‰å­—ï¼Œå°±å¿…é¡»è£…ä¸Šä¸€ä¸ªâ€æ±‰å­—ç³»ç»Ÿâ€ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†æ±‰å­—çš„æ˜¾ç¤ºã€è¾“å…¥çš„é—®é¢˜ï¼Œä½†æ˜¯é‚£ä¸ªå°æ¹¾çš„æ„šæ˜§å°å»ºäººå£«å†™çš„ç®—å‘½ç¨‹åºå°±å¿…é¡»åŠ è£…å¦ä¸€å¥—æ”¯æŒ BIG5 ç¼–ç çš„ä»€ä¹ˆâ€å€šå¤©æ±‰å­—ç³»ç»Ÿâ€æ‰å¯ä»¥ç”¨ï¼Œè£…é”™äº†å­—ç¬¦ç³»ç»Ÿï¼Œæ˜¾ç¤ºå°±ä¼šä¹±äº†å¥—ï¼è¿™æ€ä¹ˆåŠï¼Ÿè€Œä¸”ä¸–ç•Œæ°‘æ—ä¹‹æ—ä¸­è¿˜æœ‰é‚£äº›ä¸€æ—¶ç”¨ä¸ä¸Šç”µè„‘çš„ç©·è‹¦äººæ°‘ï¼Œä»–ä»¬çš„æ–‡å­—åˆæ€ä¹ˆåŠï¼Ÿ çœŸæ˜¯è®¡ç®—æœºçš„å·´æ¯”ä¼¦å¡”å‘½é¢˜å•Šï¼ æ­£åœ¨è¿™æ—¶ï¼Œå¤§å¤©ä½¿åŠ ç™¾åˆ—åŠæ—¶å‡ºç°äº†â€”â€”ä¸€ä¸ªå« ISO ï¼ˆå›½é™…æ ‡è°åŒ–ç»„ç»‡ï¼‰çš„å›½é™…ç»„ç»‡å†³å®šç€æ‰‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä»–ä»¬é‡‡ç”¨çš„æ–¹æ³•å¾ˆç®€å•ï¼šåºŸäº†æ‰€æœ‰çš„åœ°åŒºæ€§ç¼–ç æ–¹æ¡ˆï¼Œé‡æ–°æä¸€ä¸ªåŒ…æ‹¬äº†åœ°çƒä¸Šæ‰€æœ‰æ–‡åŒ–ã€æ‰€æœ‰å­—æ¯å’Œç¬¦å·çš„ç¼–ç ï¼ä»–ä»¬æ‰“ç®—å«å®ƒâ€Universal Multiple-Octet Coded Character Setâ€ï¼Œç®€ç§° UCS, ä¿—ç§° â€œUNICODEâ€ã€‚ UNICODE å¼€å§‹åˆ¶è®¢æ—¶ï¼Œè®¡ç®—æœºçš„å­˜å‚¨å™¨å®¹é‡æå¤§åœ°å‘å±•äº†ï¼Œç©ºé—´å†ä¹Ÿä¸æˆä¸ºé—®é¢˜äº†ã€‚äºæ˜¯ ISO å°±ç›´æ¥è§„å®šå¿…é¡»ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯16ä½æ¥ç»Ÿä¸€è¡¨ç¤ºæ‰€æœ‰çš„å­—ç¬¦ï¼Œå¯¹äºasciié‡Œçš„é‚£äº›â€åŠè§’â€å­—ç¬¦ï¼ŒUNICODE åŒ…æŒå…¶åŸç¼–ç ä¸å˜ï¼Œåªæ˜¯å°†å…¶é•¿åº¦ç”±åŸæ¥çš„8ä½æ‰©å±•ä¸º16ä½ï¼Œè€Œå…¶ä»–æ–‡åŒ–å’Œè¯­è¨€çš„å­—ç¬¦åˆ™å…¨éƒ¨é‡æ–°ç»Ÿä¸€ç¼–ç ã€‚ç”±äºâ€åŠè§’â€è‹±æ–‡ç¬¦å·åªéœ€è¦ç”¨åˆ°ä½8ä½ï¼Œæ‰€ä»¥å…¶é«˜ 8ä½æ°¸è¿œæ˜¯0ï¼Œå› æ­¤è¿™ç§å¤§æ°”çš„æ–¹æ¡ˆåœ¨ä¿å­˜è‹±æ–‡æ–‡æœ¬æ—¶ä¼šå¤šæµªè´¹ä¸€å€çš„ç©ºé—´ã€‚ è¿™æ—¶å€™ï¼Œä»æ—§ç¤¾ä¼šé‡Œèµ°è¿‡æ¥çš„ç¨‹åºå‘˜å¼€å§‹å‘ç°ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šä»–ä»¬çš„strlenå‡½æ•°é ä¸ä½äº†ï¼Œä¸€ä¸ªæ±‰å­—ä¸å†æ˜¯ç›¸å½“äºä¸¤ä¸ªå­—ç¬¦äº†ï¼Œè€Œæ˜¯ä¸€ä¸ªï¼æ˜¯ çš„ï¼Œä» UNICODE å¼€å§‹ï¼Œæ— è®ºæ˜¯åŠè§’çš„è‹±æ–‡å­—æ¯ï¼Œè¿˜æ˜¯å…¨è§’çš„æ±‰å­—ï¼Œå®ƒä»¬éƒ½æ˜¯ç»Ÿä¸€çš„â€ä¸€ä¸ªå­—ç¬¦â€ï¼åŒæ—¶ï¼Œä¹Ÿéƒ½æ˜¯ç»Ÿä¸€çš„â€ä¸¤ä¸ªå­—èŠ‚â€ï¼Œè¯·æ³¨æ„â€å­—ç¬¦â€å’Œâ€å­—èŠ‚â€ä¸¤ä¸ªæœ¯è¯­çš„ä¸åŒï¼Œ â€œå­—èŠ‚â€æ˜¯ä¸€ä¸ª8ä½çš„ç‰©ç†å­˜è´®å•å…ƒï¼Œè€Œâ€å­—ç¬¦â€åˆ™æ˜¯ä¸€ä¸ªæ–‡åŒ–ç›¸å…³çš„ç¬¦å·ã€‚åœ¨UNICODE ä¸­ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸¤ä¸ªå­—èŠ‚ã€‚ä¸€ä¸ªæ±‰å­—ç®—ä¸¤ä¸ªè‹±æ–‡å­—ç¬¦çš„æ—¶ä»£å·²ç»å¿«è¿‡å»äº†ã€‚ ä»å‰å¤šç§å­—ç¬¦é›†å­˜åœ¨æ—¶ï¼Œé‚£äº›åšå¤šè¯­è¨€è½¯ä»¶çš„å…¬å¸é‡ä¸Šè¿‡å¾ˆå¤§éº»çƒ¦ï¼Œä»–ä»¬ä¸ºäº†åœ¨ä¸åŒçš„å›½å®¶é”€å”®åŒä¸€å¥—è½¯ä»¶ï¼Œå°±ä¸å¾—ä¸åœ¨åŒºåŸŸåŒ–è½¯ä»¶æ—¶ä¹ŸåŠ æŒé‚£ä¸ªåŒå­—èŠ‚å­—ç¬¦é›†å’’è¯­ï¼Œä¸ä»…è¦å¤„å¤„å°å¿ƒä¸è¦æé”™ï¼Œè¿˜è¦æŠŠè½¯ä»¶ä¸­çš„æ–‡å­—åœ¨ä¸åŒçš„å­—ç¬¦é›†ä¸­è½¬æ¥è½¬å»ã€‚UNICODE å¯¹äºä»–ä»¬æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸€æ½å­è§£å†³æ–¹æ¡ˆï¼Œäºæ˜¯ä» Windows NT å¼€å§‹ï¼ŒMS è¶æœºæŠŠå®ƒä»¬çš„æ“ä½œç³»ç»Ÿæ”¹äº†ä¸€éï¼ŒæŠŠæ‰€æœ‰çš„æ ¸å¿ƒä»£ç éƒ½æ”¹æˆäº†ç”¨ UNICODE æ–¹å¼å·¥ä½œçš„ç‰ˆæœ¬ï¼Œä»è¿™æ—¶å¼€å§‹ï¼ŒWINDOWS ç³»ç»Ÿç»ˆäºæ— éœ€è¦åŠ è£…å„ç§æœ¬åœŸè¯­è¨€ç³»ç»Ÿï¼Œå°±å¯ä»¥æ˜¾ç¤ºå…¨ä¸–ç•Œä¸Šæ‰€æœ‰æ–‡åŒ–çš„å­—ç¬¦äº†ã€‚ ä½†æ˜¯ï¼ŒUNICODE åœ¨åˆ¶è®¢æ—¶æ²¡æœ‰è€ƒè™‘ä¸ä»»ä½•ä¸€ç§ç°æœ‰çš„ç¼–ç æ–¹æ¡ˆä¿æŒå…¼å®¹ï¼Œè¿™ä½¿å¾— GBK ä¸UNICODE åœ¨æ±‰å­—çš„å†…ç ç¼–æ’ä¸Šå®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ²¡æœ‰ä¸€ç§ç®€å•çš„ç®—æœ¯æ–¹æ³•å¯ä»¥æŠŠæ–‡æœ¬å†…å®¹ä»UNICODEç¼–ç å’Œå¦ä¸€ç§ç¼–ç è¿›è¡Œè½¬æ¢ï¼Œè¿™ç§è½¬æ¢å¿…é¡»é€šè¿‡æŸ¥è¡¨æ¥è¿›è¡Œã€‚ å¦‚å‰æ‰€è¿°ï¼ŒUNICODE æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œä»–æ€»å…±å¯ä»¥ç»„åˆå‡º65535ä¸åŒçš„å­—ç¬¦ï¼Œè¿™å¤§æ¦‚å·²ç»å¯ä»¥è¦†ç›–ä¸–ç•Œä¸Šæ‰€æœ‰æ–‡åŒ–çš„ç¬¦å·ã€‚å¦‚æœè¿˜ä¸å¤Ÿä¹Ÿæ²¡æœ‰å…³ç³»ï¼ŒISOå·²ç»å‡†å¤‡äº†UCS-4æ–¹æ¡ˆï¼Œè¯´ç®€å•äº†å°±æ˜¯å››ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç»„åˆå‡º21äº¿ä¸ªä¸åŒçš„å­—ç¬¦å‡ºæ¥ï¼ˆæœ€é«˜ä½æœ‰å…¶ä»–ç”¨é€”ï¼‰ï¼Œè¿™å¤§æ¦‚å¯ä»¥ç”¨åˆ°é“¶æ²³è”é‚¦æˆç«‹é‚£ä¸€å¤©å§ï¼ UNICODE æ¥åˆ°æ—¶ï¼Œä¸€èµ·åˆ°æ¥çš„è¿˜æœ‰è®¡ç®—æœºç½‘ç»œçš„å…´èµ·ï¼ŒUNICODE å¦‚ä½•åœ¨ç½‘ç»œä¸Šä¼ è¾“ä¹Ÿæ˜¯ä¸€ä¸ªå¿…é¡»è€ƒè™‘çš„é—®é¢˜ï¼Œäºæ˜¯é¢å‘ä¼ è¾“çš„ä¼—å¤š UTFï¼ˆUCS Transfer Formatï¼‰æ ‡å‡†å‡ºç°äº†ï¼Œé¡¾åæ€ä¹‰ï¼ŒUTF8å°±æ˜¯æ¯æ¬¡8ä¸ªä½ä¼ è¾“æ•°æ®ï¼Œè€ŒUTF16å°±æ˜¯æ¯æ¬¡16ä¸ªä½ï¼Œåªä¸è¿‡ä¸ºäº†ä¼ è¾“æ—¶çš„å¯é æ€§ï¼Œä»UNICODEåˆ° UTFæ—¶å¹¶ä¸æ˜¯ç›´æ¥çš„å¯¹åº”ï¼Œè€Œæ˜¯è¦è¿‡ä¸€äº›ç®—æ³•å’Œè§„åˆ™æ¥è½¬æ¢ã€‚ å—åˆ°è¿‡ç½‘ç»œç¼–ç¨‹åŠ æŒçš„è®¡ç®—æœºåƒ§ä¾£ä»¬éƒ½çŸ¥é“ï¼Œåœ¨ç½‘ç»œé‡Œä¼ é€’ä¿¡æ¯æ—¶æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå°±æ˜¯å¯¹äºæ•°æ®é«˜ä½ä½çš„è§£è¯»æ–¹å¼ï¼Œä¸€äº›è®¡ç®—æœºæ˜¯é‡‡ç”¨ä½ä½å…ˆå‘é€çš„æ–¹æ³•ï¼Œä¾‹å¦‚æˆ‘ä»¬PCæœºé‡‡ç”¨çš„ INTEL æ¶æ„ï¼›è€Œå¦ä¸€äº›æ˜¯é‡‡ç”¨é«˜ä½å…ˆå‘é€çš„æ–¹å¼ã€‚åœ¨ç½‘ç»œä¸­äº¤æ¢æ•°æ®æ—¶ï¼Œä¸ºäº†æ ¸å¯¹åŒæ–¹å¯¹äºé«˜ä½ä½çš„è®¤è¯†æ˜¯å¦æ˜¯ä¸€è‡´çš„ï¼Œé‡‡ç”¨äº†ä¸€ç§å¾ˆç®€ä¾¿çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æ–‡æœ¬æµçš„å¼€å§‹æ—¶å‘å¯¹æ–¹å‘é€ä¸€ä¸ªæ ‡å¿—ç¬¦â€”â€”å¦‚æœä¹‹åçš„æ–‡æœ¬æ˜¯é«˜ä½åœ¨ä½ï¼Œé‚£å°±å‘é€â€FEFFâ€ï¼Œåä¹‹ï¼Œåˆ™å‘é€â€FFFEâ€ã€‚ä¸ä¿¡ä½ å¯ä»¥ç”¨äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€ä¸€ä¸ªUTF-Xæ ¼å¼çš„æ–‡ä»¶ï¼Œçœ‹çœ‹å¼€å¤´ä¸¤ä¸ªå­—èŠ‚æ˜¯ä¸æ˜¯è¿™ä¸¤ä¸ªå­—èŠ‚ï¼Ÿ ä¸‹é¢æ˜¯Unicodeå’ŒUTF-8è½¬æ¢çš„è§„åˆ™ Unicode UTF-8 0000 - 007F 0xxxxxxx 0080 - 07FF 110xxxxx 10xxxxxx 0800 - FFFF 1110xxxx 10xxxxxx 10xxxxxx ä¾‹å¦‚â€æ±‰â€å­—çš„Unicodeç¼–ç æ˜¯6C49ã€‚6C49åœ¨0800-FFFFä¹‹é—´ï¼Œæ‰€ä»¥è¦ç”¨3å­—èŠ‚æ¨¡æ¿ï¼š1110xxxx 10xxxxxx 10xxxxxxã€‚å°†6C49å†™æˆäºŒè¿›åˆ¶æ˜¯ï¼š0110 1100 0100 1001ï¼Œå°†è¿™ä¸ªæ¯”ç‰¹æµæŒ‰ä¸‰å­—èŠ‚æ¨¡æ¿çš„åˆ†æ®µæ–¹æ³•åˆ†ä¸º0110 110001 001001ï¼Œä¾æ¬¡ä»£æ›¿æ¨¡æ¿ä¸­çš„xï¼Œå¾—åˆ°ï¼š1110-0110 10-110001 10-001001ï¼Œå³E6 B1 89ï¼Œè¿™å°±æ˜¯å…¶UTF8çš„ç¼–ç ã€‚ è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å†é¡ºä¾¿è¯´è¯´ä¸€ä¸ªå¾ˆè‘—åçš„å¥‡æ€ªç°è±¡ï¼šå½“ä½ åœ¨ windows çš„è®°äº‹æœ¬é‡Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¾“å…¥â€è”é€šâ€ä¸¤ä¸ªå­—ä¹‹åï¼Œä¿å­˜ï¼Œå…³é—­ï¼Œç„¶åå†æ¬¡æ‰“å¼€ï¼Œä½ ä¼šå‘ç°è¿™ä¸¤ä¸ªå­—å·²ç»æ¶ˆå¤±äº†ï¼Œä»£ä¹‹çš„æ˜¯å‡ ä¸ªä¹±ç ï¼å‘µå‘µï¼Œæœ‰äººè¯´è¿™å°±æ˜¯è”é€šä¹‹æ‰€ä»¥æ‹¼ä¸è¿‡ç§»åŠ¨çš„åŸå› ã€‚ å…¶å®è¿™æ˜¯å› ä¸ºGB2312ç¼–ç ä¸UTF8ç¼–ç äº§ç”Ÿäº†ç¼–ç å†²æ’çš„åŸå› ã€‚ å½“ä¸€ä¸ªè½¯ä»¶æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ—¶ï¼Œå®ƒè¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å†³å®šè¿™ä¸ªæ–‡æœ¬ç©¶ç«Ÿæ˜¯ä½¿ç”¨å“ªç§å­—ç¬¦é›†çš„å“ªç§ç¼–ç ä¿å­˜çš„ã€‚è½¯ä»¶ä¸€èˆ¬é‡‡ç”¨ä¸‰ç§æ–¹å¼æ¥å†³å®šæ–‡æœ¬çš„å­—ç¬¦é›†å’Œç¼–ç ï¼š æ£€æµ‹æ–‡ä»¶å¤´æ ‡è¯†ï¼Œæç¤ºç”¨æˆ·é€‰æ‹©ï¼Œæ ¹æ®ä¸€å®šçš„è§„åˆ™çŒœæµ‹ æœ€æ ‡å‡†çš„é€”å¾„æ˜¯æ£€æµ‹æ–‡æœ¬æœ€å¼€å¤´çš„å‡ ä¸ªå­—èŠ‚ï¼Œå¼€å¤´å­—èŠ‚ Charset&#x2F;encoding,å¦‚ä¸‹è¡¨ï¼š EF BB BF UTF-8 FF FE UTF-16/UCS-2, little endian FE FF UTF-16/UCS-2, big endian FF FE 00 00 UTF-32/UCS-4, little endian. 00 00 FE FF UTF-32/UCS-4, big-endian. å½“ä½ æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œè®°äº‹æœ¬çš„ç¼–ç é»˜è®¤æ˜¯ANSIï¼ˆä»£è¡¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œåœ¨ä¸­æ–‡ç³»ç»Ÿä¸­ä¸€èˆ¬æ˜¯GBç³»åˆ—ç¼–ç ï¼‰, å¦‚æœä½ åœ¨ANSIçš„ç¼–ç è¾“å…¥æ±‰å­—ï¼Œé‚£ä¹ˆä»–å®é™…å°±æ˜¯GBç³»åˆ—çš„ç¼–ç æ–¹å¼ï¼Œåœ¨è¿™ç§ç¼–ç ä¸‹ï¼Œâ€è”é€šâ€çš„å†…ç æ˜¯ï¼š c1 1100 0001 aa 1010 1010 cd 1100 1101 a8 1010 1000 æ³¨æ„åˆ°äº†å—ï¼Ÿç¬¬ä¸€äºŒä¸ªå­—èŠ‚ã€ç¬¬ä¸‰å››ä¸ªå­—èŠ‚çš„èµ·å§‹éƒ¨åˆ†çš„éƒ½æ˜¯â€110â€å’Œâ€10â€ï¼Œæ­£å¥½ä¸UTF8è§„åˆ™é‡Œçš„ä¸¤å­—èŠ‚æ¨¡æ¿æ˜¯ä¸€è‡´çš„ï¼Œ äºæ˜¯å½“æˆ‘ä»¬å†æ¬¡æ‰“å¼€è®°äº‹æœ¬æ—¶ï¼Œè®°äº‹æœ¬å°±è¯¯è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªUTF8ç¼–ç çš„æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æŠŠç¬¬ä¸€ä¸ªå­—èŠ‚çš„110å’Œç¬¬äºŒä¸ªå­—èŠ‚çš„10å»æ‰ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†â€00001 101010â€ï¼Œå†æŠŠå„ä½å¯¹é½ï¼Œè¡¥ä¸Šå‰å¯¼çš„0ï¼Œå°±å¾—åˆ°äº†â€0000 0000 0110 1010â€ï¼Œä¸å¥½æ„æ€ï¼Œè¿™æ˜¯UNICODEçš„006Aï¼Œä¹Ÿå°±æ˜¯å°å†™çš„å­—æ¯â€jâ€ï¼Œè€Œä¹‹åçš„ä¸¤å­—èŠ‚ç”¨UTF8è§£ç ä¹‹åæ˜¯0368ï¼Œè¿™ä¸ªå­—ç¬¦ä»€ä¹ˆä¹Ÿä¸æ˜¯ã€‚è¿™å°±æ˜¯åªæœ‰â€è”é€šâ€ä¸¤ä¸ªå­—çš„æ–‡ä»¶æ²¡æœ‰åŠæ³•åœ¨è®°äº‹æœ¬é‡Œæ­£å¸¸æ˜¾ç¤ºçš„åŸå› ã€‚ è€Œå¦‚æœä½ åœ¨â€è”é€šâ€ä¹‹åå¤šè¾“å…¥å‡ ä¸ªå­—ï¼Œå…¶ä»–çš„å­—çš„ç¼–ç ä¸è§å¾—åˆæ°å¥½æ˜¯110å’Œ10å¼€å§‹çš„å­—èŠ‚ï¼Œè¿™æ ·å†æ¬¡æ‰“å¼€æ—¶ï¼Œè®°äº‹æœ¬å°±ä¸ä¼šåšæŒè¿™æ˜¯ä¸€ä¸ªutf8ç¼–ç çš„æ–‡ä»¶ï¼Œè€Œä¼šç”¨ANSIçš„æ–¹å¼è§£è¯»ä¹‹ï¼Œè¿™æ—¶ä¹±ç åˆä¸å‡ºç°äº†ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"encoding","slug":"encoding","permalink":"http://yelog.org/tags/encoding/"}]},{"title":"æ­å»ºdubbo+zookeeperå¹³å°","slug":"æ­å»ºdubbo-zookeeperå¹³å°","date":"2017-09-25T08:29:07.000Z","updated":"2024-07-05T11:10:22.689Z","comments":true,"path":"2017/09/25/æ­å»ºdubbo+zookeeperå¹³å°/","permalink":"http://yelog.org/2017/09/25/%E6%90%AD%E5%BB%BAdubbo+zookeeper%E5%B9%B3%E5%8F%B0/","excerpt":"","text":"å‰è¨€æœ¬æ–‡å°†ä»‹ç»åœ¨SpringMVC+Spring+Mybatisé¡¹ç›®ä¸­æ·»åŠ  dubbo ä½œä¸º rpc æœåŠ¡ã€‚ æ–‡æœ«æœ‰é¡¹ç›®ä»£ç åœ°å€ã€‚ ä¸€.æ­å»ºzookeeperä½¿ç”¨ docker ä¸€å¥è¯åˆ›å»ºï¼š docker run -dit --name zookeeper --hostname zookeeper-host -v /data:/data -p 2181:2181 jplock/zookeeper:latest äºŒ.å®‰è£…zkuiï¼ˆéå¿…é¡»ï¼‰è¿™ä¸ªé¡¹ç›®ä¸º zookeeper æä¾›ä¸€ä¸ª web çš„ç®¡ç†ç•Œé¢ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åœ¨zookeeperä¸­ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹ï¼Œæ‰€ä»¥æ­¤æ­¥éª¤å¯ä»¥å¿½ç•¥ åœ¨å¼€å§‹å‰éœ€è¦å®‰è£… Java ç¯å¢ƒã€Maven ç¯å¢ƒã€‚ åˆ° zkui çš„é¡¹ç›®ä¸­ä¸‹è½½ä»£ç ã€‚ git clone https://github.com/DeemOpen/zkui.git æ‰§è¡Œ mvn clean install ç”Ÿæˆjaræ–‡ä»¶ã€‚ å°†config.cfgå¤åˆ¶åˆ°ä¸Šä¸€æ­¥ç”Ÿæˆçš„jaræ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„zookeeperåœ°å€ã€‚ æ‰§è¡Œ nohup java -jar zkui-2.0-SNAPSHOT-jar-with-dependencies.jar &amp; æµ‹è¯• http://localhost:9090ï¼Œå¦‚æœèƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸã€‚ ä¸‰.ä½¿ç”¨dubbo åœ¨åŸæ¥ SpringMVC+Spring+Mybatis é¡¹ç›®ä¸­ï¼Œé™¤äº†åŸæ¥ spring ç›¸å…³ä¾èµ–å¤–ï¼Œè¿˜éœ€è¦åŠ å…¥ä»¥ä¸‹ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;2.5.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.9&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.101tec&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.2&lt;/version&gt; &lt;/dependency&gt; å®šä¹‰æœåŠ¡æ¥å£ public interface IPersonService &#123; List&lt;Person&gt; listAll(); Person getById(Integer id); Integer delById(Person person); Integer updatePerson(Person person); &#125; å®šä¹‰æœåŠ¡å®ç°ç±» @Service public class PersonService implements IPersonService &#123; @Autowired PersonMapper personMapper; public List&lt;Person&gt; listAll() &#123; return personMapper.findAll(); &#125; public Person getById(Integer id) &#123; return personMapper.findOneById(id); &#125; public Integer delById(Person person) &#123; return personMapper.del(person); &#125; public Integer updatePerson(Person person) &#123; return personMapper.update(person); &#125; &#125; é…ç½®ç”Ÿäº§è€…ï¼Œæ³¨å†ŒæœåŠ¡ä¿¡æ¯ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!--å®šä¹‰äº†æä¾›æ–¹åº”ç”¨ä¿¡æ¯ï¼Œç”¨äºè®¡ç®—ä¾èµ–å…³ç³»ï¼›--&gt; &lt;dubbo:application name=&quot;demotest-provider&quot; /&gt; &lt;!-- ä½¿ç”¨ zookeeper æ³¨å†Œä¸­å¿ƒæš´éœ²æœåŠ¡åœ°å€ --&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.0.86:2181&quot;/&gt; &lt;!-- ç”¨dubboåè®®åœ¨20880ç«¯å£æš´éœ²æœåŠ¡ --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot;/&gt; &lt;!-- å’Œæœ¬åœ°beanä¸€æ ·å®ç°æœåŠ¡ --&gt; &lt;bean id=&quot;personService&quot; class=&quot;com.ssm.service.PersonService&quot;/&gt; &lt;!-- å£°æ˜éœ€è¦æš´éœ²çš„æœåŠ¡æ¥å£ --&gt; &lt;dubbo:service interface=&quot;com.ssm.iservice.IPersonService&quot; ref=&quot;personService&quot;/&gt; &lt;/beans&gt; é…ç½®æ¶ˆè´¹è€…ï¼Œè®¢é˜…æœåŠ¡ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!-- æ¶ˆè´¹æ–¹åº”ç”¨åï¼Œç”¨äºè®¡ç®—ä¾èµ–å…³ç³»ï¼Œä¸æ˜¯åŒ¹é…æ¡ä»¶ï¼Œä¸è¦ä¸æä¾›æ–¹ä¸€æ · --&gt; &lt;dubbo:application name=&quot;demo-consumer&quot;/&gt; &lt;!-- ä½¿ç”¨ zookeeper æ³¨å†Œä¸­å¿ƒæš´éœ²å‘ç°æœåŠ¡åœ°å€ --&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.0.86:2181&quot;/&gt; &lt;!-- ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç†ï¼Œå¯ä»¥å’Œæœ¬åœ°beanä¸€æ ·ä½¿ç”¨demoService --&gt; &lt;dubbo:reference id=&quot;personService&quot; check=&quot;false&quot; interface=&quot;com.ssm.iservice.IPersonService&quot;/&gt; &lt;/beans&gt; è°ƒç”¨è¿œç¨‹æœåŠ¡é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒä½¿ç”¨æœ¬åœ° bean ä¸€æ ·ï¼Œä½¿ç”¨ rpc çš„ serviceï¼› @Controller public class IndexController &#123; @Autowired IPersonService personService; @RequestMapping(&quot;/index.html&quot;) public String index(Model model) &#123; RpcContext.getContext().setAttachment(&quot;index&quot;, &quot;1&quot;);//æµ‹è¯•ThreadLocal List&lt;Person&gt; list = personService.listAll(); model.addAttribute(&quot;command&quot;,list); return &quot;index&quot;; &#125; &#125; æœ€åè‡³æ­¤ï¼Œå•æœºè¿è¡Œçš„ rpc æœåŠ¡å·²æ­å»ºå®Œæˆã€‚ ä»£ç ä¼ é€æ–‡ ssm","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://yelog.org/tags/dubbo/"},{"name":"zookeeper","slug":"zookeeper","permalink":"http://yelog.org/tags/zookeeper/"}]},{"title":"dockeræŠ¥é”™é›†é”¦","slug":"dockeræŠ¥é”™é›†é”¦","date":"2017-09-25T02:03:50.000Z","updated":"2024-07-05T11:10:22.218Z","comments":true,"path":"2017/09/25/docker-errors/","permalink":"http://yelog.org/2017/09/25/docker-errors/","excerpt":"","text":"dockeråˆ›å»ºå®¹å™¨1. iptables failedåˆ›å»º tale å®¹å™¨æ—¶ï¼Œå¦‚ä¸‹å‘½ä»¤ï¼š docker run -d --privileged --hostname tale --name tale \\ -v /etc/localtime:/etc/localtime:ro \\ -v /home/tale:/var/tale_home -p 127.0.0.1:234:9000 \\ -m 1024m --memory-swap -1 tale:1.0 ç„¶åå°±æŠ¥äº†ä»¥ä¸‹é”™è¯¯ï¼š docker: Error response from daemon: driver failed programming external connectivity on endpoint tale (263775ff559176224428ec44dcec416a1c20e6c69198d9760b38f35849914260): iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 127.0.0.1 --dport 234 -j DNAT --to-destination 172.17.0.4:9000 ! -i docker0: iptables: No chain/target/match by that name. (exit status 1). è§£å†³åŠæ³•ï¼šé‡å¯ docker æœåŠ¡ï¼š $ service docker restart","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"HexoåŠ é€Ÿæ¸²æŸ“é€Ÿåº¦ä¹‹fragment_cache","slug":"hexo-fragment_cache","date":"2017-09-21T11:34:37.000Z","updated":"2024-07-05T11:10:22.507Z","comments":true,"path":"2017/09/21/hexo-fragment_cache/","permalink":"http://yelog.org/2017/09/21/hexo-fragment_cache/","excerpt":"","text":"å‰æ–‡ä»å¼€å‘ 3-hexo ä¸»é¢˜åˆ°ç°åœ¨å·²è¿‡å» 9 ä¸ªæœˆæ—¶é—´äº†ï¼Œç´¯è®¡åœ¨åšå®¢ä¸­å†™ 132 ç¯‡æ–‡ç« äº†ã€‚ ç°åœ¨å‘ç°äº†ä¸¥é‡çš„é—®é¢˜ï¼Œhexo generate æ¸²æŸ“çš„é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ï¼Œç°åœ¨132ç¯‡å·¦å³ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶é—´åˆ°è¾¾äº† 50+ sï¼Œç›¸å½“ä¸çˆ½ã€‚ ä»Šæ—¥æŠ½æ—¶é—´ï¼ŒæŸ¥çœ‹äº†å®˜æ–¹apiï¼Œçœ‹åˆ°äº† fragment_cache å±€éƒ¨ç¼“å­˜è¿™ä¸ªä¸œè¥¿ï¼Œè§£å†³äº†æ¸²æŸ“é€Ÿåº¦çš„é—®é¢˜ã€‚ ä½¿ç”¨å®˜æ–¹æ–‡æ¡£å±€éƒ¨ç¼“å­˜ã€‚å®ƒå‚¨å­˜å±€éƒ¨å†…å®¹ï¼Œä¸‹æ¬¡ä½¿ç”¨æ—¶å°±èƒ½ç›´æ¥ä½¿ç”¨ç¼“å­˜ã€‚ &lt;%- fragment_cache(id, fn); %&gt; æ›¿æ¢ç®€å•æ–‡æœ¬åŒºåŸŸa. æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰é¡µé¢éƒ½ä¸€æ ·çš„åŒºåŸŸï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œç¼“å­˜ä¸‹æ¥ã€‚å½“ä¸‹ä¸€ç¯‡æ–‡ç« åœ¨æ¸²æŸ“åˆ°è¿™ä¸ªä½ç½®æ—¶ï¼Œå°†ä¸å†æ¸²æŸ“ï¼Œç›´æ¥æ‹¿ç¼“å­˜æ•°æ®ã€‚ &lt;%- fragment_cache(&#39;header&#39;, function()&#123; return partial(&#39;&lt;head&gt;&lt;/head&gt;&#39;); &#125;) %&gt; b. æ–‡ç« æ¨¡å—ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼ŒåŸæ¥å…¬å…±å¼•ç”¨éƒ¨åˆ†ï¼ˆæ²¡æœ‰å’Œå½“å‰æ–‡ç« è€¦åˆçš„å†…å®¹ï¼‰ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š &lt;%- partial(&#39;_partial/header&#39;); %&gt; æ”¹è¿›ä¸ºä»¥ä¸‹ä»£ç ï¼š &lt;%- fragment_cache(&#39;header&#39;, function()&#123; return partial(&#39;_partial/header&#39;); &#125;) %&gt; æœ€åè¿™ä¸ªè¯­æ³•åªé€‚ç”¨äºæ‰€æœ‰é¡µé¢éƒ½ç›¸åŒï¼Œä¸éšæ–‡ç« å†…å®¹å˜åŒ–çš„éƒ¨åˆ†ã€‚ ä½œè€…åœ¨ 3-hexo ä¸­åŠ å…¥äº†æ­¤è¯­æ³•ï¼Œæ¸²æŸ“132ç¯‡æ–‡ç« çš„é€Ÿåº¦å·²ä» 50+s åˆ°ç°åœ¨ 3s å·¦å³äº†ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"fragment_cache","slug":"fragment-cache","permalink":"http://yelog.org/tags/fragment-cache/"}]},{"title":"[è½¬]æµè§ˆå™¨å‰è¿›/åé€€ç¼“å­˜ï¼ˆBF Cacheï¼‰","slug":"bf-cache","date":"2017-09-21T07:35:24.000Z","updated":"2024-07-05T11:10:22.424Z","comments":true,"path":"2017/09/21/bf-cache/","permalink":"http://yelog.org/2017/09/21/bf-cache/","excerpt":"","text":"[æµè§ˆå™¨å‰è¿›/åé€€ç¼“å­˜](https://developer.mozilla.org/en-US/docs/Working_with_BFCache)ï¼ˆBackward/Forward Cacheï¼ŒBF Cacheï¼‰æ˜¯æŒ‡æµè§ˆå™¨åœ¨å‰è¿›åé€€è¿‡ç¨‹ä¸­ï¼Œ ä¼šåº”ç”¨æ›´å¼ºçš„ç¼“å­˜ç­–ç•¥ï¼Œè¡¨ç°ä¸º DOMã€windowã€ç”šè‡³ JavaScript å¯¹è±¡è¢«ç¼“å­˜ï¼Œä»¥åŠåŒæ­¥ XHR ä¹Ÿè¢«ç¼“å­˜ã€‚ è¿™ä¸€ç°è±¡åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨å°¤ä¸ºå¸¸è§ï¼Œé™¤ Chrome for Androidã€Android Browser ä¹‹å¤–çš„æµè§ˆå™¨åŸºæœ¬éƒ½ä¼šè§¦å‘ã€‚ BF Cache æœ¬æ¥æ˜¯ä¸€é¡¹æµè§ˆå™¨ä¼˜åŒ–ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆæ¯”å¦‚å‰ç«¯è·¯ç”±çš„ Web Appï¼‰ä¼šå¼•èµ·å›°æƒ‘ã€‚ æœ¬æ–‡ä¸»è¦è®¨è®º BF Cache çš„è¡Œä¸ºã€å¦‚ä½•æ£€æµ‹ BF Cache ç¼“å­˜ã€ä»¥åŠå¦‚ä½• workaroundã€‚ ç¼“å­˜è¡Œä¸ºBF Cache æ˜¯ä¸€ç§æµè§ˆå™¨ä¼˜åŒ–ï¼ŒHTML æ ‡å‡†å¹¶æœªæŒ‡å®šå…¶å¦‚ä½•è¿›è¡Œç¼“å­˜ï¼Œå› æ­¤ç¼“å­˜è¡Œä¸ºæ˜¯ä¸æµè§ˆå™¨å®ç°ç›¸å…³çš„ã€‚ User agents may discard the Document objects of entries other than the current entry that are not referenced from any script, reloading the pages afresh when the user or script navigates back to such pages. This specification does not specify when user agents should discard Document objects and when they should cache them. â€“ Session history and navigation, WHATWG Desktop Chromeï¼šé˜»å¡çš„èµ„æºå’ŒåŒæ­¥å‘å‡ºçš„ XHR éƒ½ä¼šè¢«ç¼“å­˜ï¼Œä½†ä¸ç¼“å­˜æ¸²æŸ“ç»“æœã€‚å› æ­¤å¯ä»¥çœ‹åˆ°æ˜æ˜¾çš„è½½å…¥è¿‡ç¨‹ï¼Œæ­¤æ—¶è„šæœ¬ä¹Ÿä¼šé‡æ–°æ‰§è¡Œã€‚ Chrome for Androidï¼šæœ‰äº›æƒ…å†µä¸‹ä¸ä¼šç¼“å­˜ï¼Œç¼“å­˜æ—¶ä¸ Desktop Chrome è¡Œä¸ºä¸€è‡´ã€‚ Desktop Firefoxï¼šé¡µé¢ä¼šè¢« Frozenï¼Œå®šæ—¶å™¨ä¼šè¢«æš‚åœï¼ŒDOMã€Windowã€JavaScript å¯¹è±¡ä¼šè¢«ç¼“å­˜ï¼Œè¿”å›æ—¶é¡µé¢è„šæœ¬é‡æ–°å¼€å§‹è¿è¡Œã€‚ iOS Safariï¼šæ¸²æŸ“ç»“æœä¹Ÿä¼šè¢«ç¼“å­˜ï¼Œå› æ­¤æ‰èƒ½æ”¯æŒå·¦å³æ»‘åŠ¨æ‰‹åŠ¿æ¥å‰è¿›&#x2F;åé€€ã€‚ Desktop Firefox æš‚åœè®¡æ—¶å™¨çš„è¡Œä¸ºéå¸¸æœ‰è¶£ï¼Œä»¥ä¸‹ HTML ä¸­æ˜¾ç¤ºä¸€ä¸ªæ¯ç§’åŠ ä¸€çš„æ•°å­—ã€‚ å½“é¡µé¢å¯¼èˆªæ—¶å°±ä¼šæš‚åœï¼Œè¿”å›æ—¶ç»§ç»­å¢åŠ ï¼ˆå› æ­¤ç›´æ¥ä½¿ç”¨ setInterval å€’è®¡æ—¶ä¸ä»…ä¸ç²¾ç¡®ï¼Œè€Œä¸”ä¸å¯é ï¼‰ï¼š &lt;span id=&quot;timer-tick&quot;&gt;&lt;/span&gt; &lt;a href=&quot;http://harttle.com&quot;&gt;External Link&lt;/a&gt; &lt;script&gt; var i = 0 setInterval(() =&gt; document.querySelector(&#39;#timer-tick&#39;).innerHTML = i++, 1000) &lt;/script&gt; pagehide&#x2F;pageshow äº‹ä»¶ä¼šè¯ï¼ˆSessionï¼‰ä¸­çš„æŸä¸€ä¸ªé¡µé¢æ˜¾ç¤º&#x2F;éšè—æ—¶ï¼Œä¼šè§¦å‘ pagehide å’Œ pageshow äº‹ä»¶ã€‚ è¿™ä¸¤ä¸ªäº‹ä»¶éƒ½æœ‰ä¸€ä¸ª persisted å±æ€§ç”¨æ¥æŒ‡ç¤ºå½“å‰é¡µé¢æ˜¯å¦è¢« BF Cache ç¼“å­˜ã€‚ å› æ­¤å¯ä»¥é€šè¿‡ persisted å±æ€§æ¥è¾¾åˆ°ç¦ç”¨ BF Cache çš„æ•ˆæœï¼š window.onpageshow = function(event) &#123; if (event.persisted) &#123; window.location.reload() &#125; &#125;; æ³¨æ„æ— è®ºé¡µé¢æ˜¯å¦è¢«ç¼“å­˜ pageshow æ€»ä¼šè§¦å‘ï¼Œå› æ­¤éœ€è¦æ£€æµ‹å™¨ persisted å±æ€§ã€‚ å¦å¤– pageshow çš„æ—¶æœºæ€»æ˜¯åœ¨ load äº‹ä»¶ä¹‹åã€‚ è¿™ä¸€ç‚¹å¾ˆå®¹æ˜“æ£€æµ‹ï¼Œä¸‹é¢çš„ pageshow æ—¥å¿—æ€»åœ¨ load ä¹‹å‰ï¼š window.addEventListener(&#39;pageshow&#39;, function () &#123; console.log(&#39;on pageshow&#39;) &#125;) window.addEventListener(&#39;load&#39;, function () &#123; console.log(&#39;load&#39;) &#125;) XHR ç¼“å­˜åŒæ­¥ï¼ˆé˜»å¡åŠ è½½çš„ï¼‰è„šæœ¬å‘å‡ºçš„ XMLHttpRequest ä¹Ÿä¼šè¢« Chrome å¼ºåˆ¶ç¼“å­˜ï¼Œ å› æ­¤å³ä½¿åœ¨æ–­ç½‘çš„æƒ…å†µä¸‹åé€€åˆ°è®¿é—®è¿‡çš„é¡µé¢ä»ç„¶æ˜¯å¯ä»¥å®Œç¾æ¸²æŸ“çš„ã€‚ å¦‚æœé¡µé¢ä¸­æœ‰è¿™æ ·ä¸€æ®µå¤–éƒ¨è„šæœ¬ï¼š sendXHR(); function sendXHR () &#123; var xhr = new XMLHttpRequest() xhr.open(&#39;GET&#39;, &#39;/data.json&#39;) xhr.onreadystatechange = function () &#123; if (xhr.readyState === XMLHttpRequest.DONE &amp;&amp; xhr.status === 200) &#123; console.log(&#39;xhr arrived&#39;, xhr.responseText) &#125; &#125; xhr.send() &#125; è¶…é“¾æ¥è·³è½¬åå›æ¥ï¼Œè¯¥ xhr ä¹Ÿä¼šè¢«ç¼“å­˜ã€‚æ³¨æ„ä¸‹å›¾ä¸­çš„ XHR ä¸€é¡¹ size ä¸º â€œfrom disk cacheâ€ï¼š ä¸ºäº†å¼ºåˆ¶å‘é€ xhrï¼Œå¯ä»¥å°† xhr æ”¹ä¸ºå¼‚æ­¥å‘é€ï¼Œæˆ–è€…åŠ ä¸€ä¸ªä¸é‡è¦çš„ queryã€‚ setTimeout(sendXHR, 1000) è¿™æ ·å°±èƒ½çœ‹åˆ° xhr çœŸæ­£å‘é€å‡ºå»äº† :) å¼‚æ­¥ xhr ç¼“å­˜æ—¶æœºæœªç»å…¼å®¹æ€§æµ‹è¯•ï¼Œ è¿˜æ˜¯å»ºè®®è¯»è€…ä½¿ç”¨ä¸€ä¸ªéšæœºäº§ç”Ÿçš„ queryã€‚","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://yelog.org/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"},{"name":"js","slug":"js","permalink":"http://yelog.org/tags/js/"}]},{"title":"è§£å†³iphoneä¸‹åé€€ä¸æ‰§è¡Œjsçš„é—®é¢˜","slug":"è§£å†³iphoneä¸‹åé€€ä¸æ‰§è¡Œjsçš„é—®é¢˜","date":"2017-09-21T07:25:32.000Z","updated":"2024-07-05T11:10:22.420Z","comments":true,"path":"2017/09/21/iphone-bf-no-run-js/","permalink":"http://yelog.org/2017/09/21/iphone-bf-no-run-js/","excerpt":"","text":"ç›´æ¥ä¸Šè§£å†³æ–¹æ³•ä¸è®ºé¡µé¢æ˜¯å¦è¢«ç¼“å­˜ï¼Œéƒ½ä¼šè§¦å‘ pageshowï¼Œæ‰€ä»¥åé€€åéœ€è¦æ‰§è¡Œçš„æ–¹æ³•å¯ä»¥éƒ½æ”¾åœ¨ä¸‹é¢äº‹ä»¶å†…ï¼š window.addEventListener(&#39;pageshow&#39;, function () &#123; console.log(&#39;on pageshow&#39;) &#125;) æµè§ˆå™¨ç¼“å­˜è¡Œä¸º çš„è¯¦ç»†ä»‹ç»å¯ä»¥å‚è€ƒï¼š [è½¬]æµè§ˆå™¨å‰è¿›&#x2F;åé€€ç¼“å­˜ï¼ˆBF Cacheï¼‰","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"js","slug":"js","permalink":"http://yelog.org/tags/js/"}]},{"title":"CentOS7ä½¿ç”¨Firewalld","slug":"CentOS7ä½¿ç”¨Firewalld","date":"2017-09-19T01:53:53.000Z","updated":"2024-07-05T11:10:23.105Z","comments":true,"path":"2017/09/19/CentOS7ä½¿ç”¨Firewalld/","permalink":"http://yelog.org/2017/09/19/CentOS7%E4%BD%BF%E7%94%A8Firewalld/","excerpt":"","text":"ä»‹ç»FirewallD æä¾›äº†æ”¯æŒç½‘ç»œ&#x2F;é˜²ç«å¢™åŒºåŸŸ(zone)å®šä¹‰ç½‘ç»œé“¾æ¥ä»¥åŠæ¥å£å®‰å…¨ç­‰çº§çš„åŠ¨æ€é˜²ç«å¢™ç®¡ç†å·¥å…·ã€‚å®ƒæ”¯æŒ IPv4, IPv6 é˜²ç«å¢™è®¾ç½®ä»¥åŠä»¥å¤ªç½‘æ¡¥æ¥ï¼Œå¹¶ä¸”æ‹¥æœ‰è¿è¡Œæ—¶é…ç½®å’Œæ°¸ä¹…é…ç½®é€‰é¡¹ã€‚å®ƒä¹Ÿæ”¯æŒå…è®¸æœåŠ¡æˆ–è€…åº”ç”¨ç¨‹åºç›´æ¥æ·»åŠ é˜²ç«å¢™è§„åˆ™çš„æ¥å£ã€‚ å®‰è£…$ yum install firewalld # å¦‚æœéœ€è¦å›¾å½¢ç•Œé¢çš„è¯ï¼Œåˆ™å†å®‰è£… $ yum install firewall-config zoneFirewall èƒ½å°†ä¸åŒçš„ç½‘ç»œè¿æ¥å½’ç±»åˆ°ä¸åŒçš„ä¿¡ä»»çº§åˆ«ã€‚ $ firewall-cmd --list-all-zones #æŸ¥çœ‹æ‰€æœ‰zoneä¿¡æ¯ Zone æä¾›äº†ä»¥ä¸‹å‡ ä¸ªçº§åˆ«ï¼š drop: ä¸¢å¼ƒæ‰€æœ‰è¿›å…¥çš„åŒ…ï¼Œè€Œä¸ç»™å‡ºä»»ä½•å“åº” block: æ‹’ç»æ‰€æœ‰å¤–éƒ¨å‘èµ·çš„è¿æ¥ï¼Œå…è®¸å†…éƒ¨å‘èµ·çš„è¿æ¥ public: å…è®¸æŒ‡å®šçš„è¿›å…¥è¿æ¥ external: åŒä¸Šï¼Œå¯¹ä¼ªè£…çš„è¿›å…¥è¿æ¥ï¼Œä¸€èˆ¬ç”¨äºè·¯ç”±è½¬å‘ dmz: å…è®¸å—é™åˆ¶çš„è¿›å…¥è¿æ¥ work: å…è®¸å—ä¿¡ä»»çš„è®¡ç®—æœºè¢«é™åˆ¶çš„è¿›å…¥è¿æ¥ï¼Œç±»ä¼¼ workgroup home: åŒä¸Šï¼Œç±»ä¼¼ homegroup internal: åŒä¸Šï¼ŒèŒƒå›´é’ˆå¯¹æ‰€æœ‰äº’è”ç½‘ç”¨æˆ· trusted: ä¿¡ä»»æ‰€æœ‰è¿æ¥ è¿‡æ»¤è§„åˆ™ source: æ ¹æ®æºåœ°å€è¿‡æ»¤ interface: æ ¹æ®ç½‘å¡è¿‡æ»¤ service: æ ¹æ®æœåŠ¡åè¿‡æ»¤ port: æ ¹æ®ç«¯å£è¿‡æ»¤ icmp-block: icmp æŠ¥æ–‡è¿‡æ»¤ï¼ŒæŒ‰ç…§ icmp ç±»å‹é…ç½® masquerade: ip åœ°å€ä¼ªè£… forward-port: ç«¯å£è½¬å‘ rule: è‡ªå®šä¹‰è§„åˆ™ è¿‡æ»¤è§„åˆ™çš„ä¼˜å…ˆçº§éµå¾ªå¦‚ä¸‹é¡ºåº source interface firewalld.conf ä½¿ç”¨$ systemctl start firewalld # å¯åŠ¨ $ systemctl stop firewalld # å…³é—­ $ systemctl enable firewalld # å¼€æœºå¯åŠ¨ $ systemctl disable firewalld # å–æ¶ˆå¼€æœºå¯åŠ¨ å…·ä½“çš„è§„åˆ™ç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨ firewall-cmd,å…·ä½“çš„ä½¿ç”¨æ–¹æ³• $ firewall-cmd --help --zone=NAME # æŒ‡å®š zone --permanent # æ°¸ä¹…ä¿®æ”¹ï¼Œ--reload åç”Ÿæ•ˆ --timeout=seconds # æŒç»­æ•ˆæœï¼Œåˆ°æœŸåè‡ªåŠ¨ç§»é™¤ï¼Œç”¨äºè°ƒè¯•ï¼Œä¸èƒ½ä¸ --permanent åŒæ—¶ä½¿ç”¨ æŸ¥çœ‹è§„åˆ™æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ $ firewall-cmd --state æŸ¥çœ‹å·²è¢«æ¿€æ´»çš„ Zone ä¿¡æ¯ $ firewall-cmd --get-active-zones public interfaces: eth0 eth1 æŸ¥çœ‹æŒ‡å®šæ¥å£çš„ Zone ä¿¡æ¯ $ firewall-cmd --get-zone-of-interface=eth0 public æŸ¥çœ‹æŒ‡å®šçº§åˆ«çš„æ¥å£ $ firewall-cmd --zone=public --list-interfaces eth0 æŸ¥çœ‹æŒ‡å®šçº§åˆ«çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè­¬å¦‚ public $ firewall-cmd --zone=public --list-all public (default, active) interfaces: eth0 sources: services: dhcpv6-client http ssh ports: masquerade: no forward-ports: icmp-blocks: rich rules: æŸ¥çœ‹æ‰€æœ‰çº§åˆ«è¢«å…è®¸çš„ä¿¡æ¯ $ firewall-cmd --get-service æŸ¥çœ‹é‡å¯åæ‰€æœ‰ Zones çº§åˆ«ä¸­è¢«å…è®¸çš„æœåŠ¡ï¼Œå³æ°¸ä¹…æ”¾è¡Œçš„æœåŠ¡ $ firewall-cmd --get-service --permanent ç®¡ç†è§„åˆ™$ firewall-cmd --panic-on # ä¸¢å¼ƒ $ firewall-cmd --panic-off # å–æ¶ˆä¸¢å¼ƒ $ firewall-cmd --query-panic # æŸ¥çœ‹ä¸¢å¼ƒçŠ¶æ€ $ firewall-cmd --reload # æ›´æ–°è§„åˆ™ï¼Œä¸é‡å¯æœåŠ¡ $ firewall-cmd --complete-reload # æ›´æ–°è§„åˆ™ï¼Œé‡å¯æœåŠ¡ æ·»åŠ æŸæ¥å£è‡³æŸä¿¡ä»»ç­‰çº§ï¼Œè­¬å¦‚æ·»åŠ  eth0 è‡³ publicï¼Œæ°¸ä¹…ä¿®æ”¹ $ firewall-cmd --zone=public --add-interface=eth0 --permanent è®¾ç½® public ä¸ºé»˜è®¤çš„ä¿¡ä»»çº§åˆ« $ firewall-cmd --set-default-zone=public a. ç®¡ç†ç«¯å£åˆ—å‡º dmz çº§åˆ«çš„è¢«å…è®¸çš„è¿›å…¥ç«¯å£ $ firewall-cmd --zone=dmz --list-ports å…è®¸ tcp ç«¯å£ 8080 è‡³ dmz çº§åˆ« $ firewall-cmd --zone=dmz --add-port=8080/tcp å…è®¸æŸèŒƒå›´çš„ udp ç«¯å£è‡³ public çº§åˆ«ï¼Œå¹¶æ°¸ä¹…ç”Ÿæ•ˆ $ firewall-cmd --zone=public --add-port=5060-5059/udp --permanent b. ç½‘å¡æ¥å£åˆ—å‡º public zone æ‰€æœ‰ç½‘å¡ $ firewall-cmd --zone=public --list-interfaces å°† eth0 æ·»åŠ è‡³ public zoneï¼Œæ°¸ä¹… $ firewall-cmd --zone=public --permanent --add-interface=eth0 eth0 å­˜åœ¨ä¸ public zoneï¼Œå°†è¯¥ç½‘å¡æ·»åŠ è‡³ work zoneï¼Œå¹¶å°†ä¹‹ä» public zone ä¸­åˆ é™¤ $ firewall-cmd --zone=work --permanent --change-interface=eth0 åˆ é™¤ public zone ä¸­çš„ eth0ï¼Œæ°¸ä¹… $ firewall-cmd --zone=public --permanent --remove-interface=eth0 c. ç®¡ç†æœåŠ¡æ·»åŠ  smtp æœåŠ¡è‡³ work zone $ firewall-cmd --zone=work --add-service=smtp ç§»é™¤ work zone ä¸­çš„ smtp æœåŠ¡ $ firewall-cmd --zone=work --remove-service=smtp d. é…ç½® external zone ä¸­çš„ ip åœ°å€ä¼ªè£…æŸ¥çœ‹ $ firewall-cmd --zone=external --query-masquerade æ‰“å¼€ä¼ªè£… $ firewall-cmd --zone=external --add-masquerade å…³é—­ä¼ªè£… $ firewall-cmd --zone=external --remove-masquerade e. é…ç½® public zone çš„ç«¯å£è½¬å‘è¦æ‰“å¼€ç«¯å£è½¬å‘ï¼Œåˆ™éœ€è¦å…ˆ $ firewall-cmd --zone=public --add-masquerade ç„¶åè½¬å‘ tcp 22 ç«¯å£è‡³ 3753 $ firewall-cmd --zone=public --add-forward-port=port=22:proto=tcp:toport=3753 è½¬å‘ 22 ç«¯å£æ•°æ®è‡³å¦ä¸€ä¸ª ip çš„ç›¸åŒç«¯å£ä¸Š $ firewall-cmd --zone=public --add-forward-port=port=22:proto=tcp:toaddr=192.168.1.100 è½¬å‘ 22 ç«¯å£æ•°æ®è‡³å¦ä¸€ ip çš„ 2055 ç«¯å£ä¸Š $ firewall-cmd --zone=public --add-forward-port=port=22:proto=tcp:toport=2055:toaddr=192.168.1.100 f. é…ç½® public zone çš„ icmpæŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„ icmp ç±»å‹ $ firewall-cmd --get-icmptypes destination-unreachable echo-reply echo-request parameter-problem redirect router-advertisement router-solicitation source-quench time-exceeded åˆ—å‡º $ firewall-cmd --zone=public --list-icmp-blocks æ·»åŠ  echo-request å±è”½ $ firewall-cmd --zone=public --add-icmp-block=echo-request [--timeout=seconds] ç§»é™¤ echo-reply å±è”½ $ firewall-cmd --zone=public --remove-icmp-block=echo-reply g. IP å°ç¦ $ firewall-cmd --permanent --add-rich-rule=&quot;rule family=&#39;ipv4&#39; source address=&#39;222.222.222.222&#39; reject&quot; å½“ç„¶ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ ipset æ¥å°ç¦ ip å°ç¦ ip $ firewall-cmd --permanent --zone=public --new-ipset=blacklist --type=hash:ip $ firewall-cmd --permanent --zone=public --ipset=blacklist --add-entry=222.222.222.222 å°ç¦ç½‘æ®µ $ firewall-cmd --permanent --zone=public --new-ipset=blacklist --type=hash:net $ firewall-cmd --permanent --zone=public --ipset=blacklist --add-entry=222.222.222.0/24 å€’å…¥ ipset è§„åˆ™ $ firewall-cmd --permanent --zone=public --new-ipset-from-file=/path/blacklist.xml ç„¶åå°ç¦ blacklist $ firewall-cmd --permanent --zone=public --add-rich-rule=&#39;rule source ipset=blacklist drop&#39; é‡æ–°è½½å…¥ä»¥ç”Ÿæ•ˆ $ firewall-cmd --reload","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"firewall","slug":"firewall","permalink":"http://yelog.org/tags/firewall/"}]},{"title":"dockerå¤‡ä»½æ¢å¤ä¹‹saveä¸export","slug":"docker-save-ä¸-docker-export","date":"2017-09-18T14:38:52.000Z","updated":"2024-07-05T11:10:22.253Z","comments":true,"path":"2017/09/18/docker-save-export/","permalink":"http://yelog.org/2017/09/18/docker-save-export/","excerpt":"","text":"docker saveå¯¼å‡ºdocker save å‘½ä»¤ç”¨äºæŒä¹…åŒ– é•œåƒï¼Œå…ˆè·å¾—é•œåƒåç§°ï¼Œå†æ‰§è¡Œä¿å­˜ï¼š # é€šè¿‡æ­¤å‘½ä»¤æŸ¥å‡ºè¦æŒä¹…åŒ–çš„é•œåƒåç§° $ docker images # æŒä¹…åŒ–é•œåƒåä¸º image_name çš„é•œåƒï¼Œ $ docker save image_name -o ~/save.tar æ³¨æ„ï¼š å¦‚æœé•œåƒæ˜¯åœ¨è¿œç¨‹ä»“åº“ï¼Œæ‰§è¡Œä¿å­˜é•œåƒçš„æ—¶å€™å¯èƒ½ä¼šæŠ¥ Cowardly refusing to save to a terminal. Use the -o flag or redirect. çš„é”™ï¼Œå¯ä»¥é€šè¿‡ docker save image_name &gt; image_name.tar å°†é•œåƒä»è¿œç¨‹ä»“åº“æŒä¹…åŒ–åˆ°æœ¬åœ°ã€‚ å¯¼å…¥# å¯¼å…¥ save.tar $ docker load &lt; ~/save.tar # æŸ¥çœ‹é•œåƒ $ docker images images docker exportå¯¼å‡ºdocker export å‘½ä»¤ç”¨äºæŒä¹…åŒ– å®¹å™¨ï¼Œå…ˆè·å–å®¹å™¨IDï¼Œå†æ‰§è¡Œä¿å­˜ã€‚ # é€šè¿‡æ­¤å‘½ä»¤æŸ¥å‡ºè¦æŒä¹…åŒ–çš„å®¹å™¨ID $ docker ps -a # æŒä¹…åŒ–å®¹å™¨idä¸º container_id çš„å®¹å™¨ $ docker export container_id &gt; ~/export.tar å¯¼å…¥# ä» export.tar å¯¼å…¥é•œåƒ $ cat ~/export.tar | docker import - my-images:latest # æŸ¥çœ‹é•œåƒ $ sudo docker images ä¸åŒé€šè¿‡ sudo docker images --tree å¯ä»¥æŸ¥çœ‹åˆ°é•œåƒçš„æ‰€æœ‰å±‚ï¼Œå°±ä¼šå‘ç°ï¼Œ docker export ä¸¢å¤±äº†æ‰€æœ‰çš„å†å²ï¼Œè€Œdocker save åˆ™ä¼šä¿å­˜æ‰€æœ‰å†å²ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"sudoå‘½ä»¤å…å¯†ç è®¾ç½®","slug":"sudoå‘½ä»¤å…å¯†ç è®¾ç½®","date":"2017-09-11T01:30:55.000Z","updated":"2024-07-05T11:10:23.052Z","comments":true,"path":"2017/09/11/sudoå‘½ä»¤å…å¯†ç è®¾ç½®/","permalink":"http://yelog.org/2017/09/11/sudo%E5%91%BD%E4%BB%A4%E5%85%8D%E5%AF%86%E7%A0%81%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"å¦‚æœæŸå°linuxåªæœ‰è‡ªå·±åœ¨ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸ªäººç³»ç»Ÿï¼Œæ¯æ¬¡è°ƒç”¨ sudo æ—¶éƒ½éœ€è¦è¾“å…¥å¯†ç ï¼Œé•¿æœŸä¸‹æ¥ç€å®åŒçƒ¦ï¼Œå› æ­¤æœ¬æ–‡ä»‹ç»å¦‚ä½•é…ç½® sudo å‘½ä»¤ï¼Œä½¿å…¶åœ¨è¿è¡Œæ—¶ä¸éœ€è¦è¾“å…¥å¯†ç ã€‚ æ­¥éª¤ æ‰§è¡Œå‘½ä»¤ $ sudo visudo æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼Œ ä¸‹é¢çš„ sys è¡¨ç¤º sys ç»„æˆå‘˜ä¸ç”¨å¯†ç ä½¿ç”¨sudo aaronkilik ALL=(ALL) NOPASSWD: ALL %sys ALL=(ALL) NOPASSWD: ALL ç°åœ¨åœ¨ä½¿ç”¨ sudo å‘½ä»¤ï¼Œ å°†ä¸å†éœ€è¦è¾“å…¥å¯†ç ã€‚ æ‰©å±•å¦‚æœåªå…è®¸ç”¨æˆ·ä½¿ç”¨ kill å’Œ rm å‘½ä»¤æ—¶ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œè§å¦‚ä¸‹é…ç½® %sys ALL=(ALL) NOPASSWD: /bin/kill, /bin/rm","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yelog.org/tags/linux/"}]},{"title":"æ­å»ºMavenç§æœ-Nexus","slug":"æ­å»ºMavenç§æœ-Nexus","date":"2017-09-06T15:01:31.000Z","updated":"2024-07-05T11:10:23.061Z","comments":true,"path":"2017/09/06/build-Maven-Nexus/","permalink":"http://yelog.org/2017/09/06/build-Maven-Nexus/","excerpt":"","text":"Maven ç§æœï¼Œå¯ä»¥ä»£ç†è¿œç¨‹ä»“åº“å’Œéƒ¨ç½²è‡ªå·±æˆ–ç¬¬ä¸‰æ–¹æ„ä»¶ã€‚æœ¬æ–‡ä»‹ç»ä½¿ç”¨æœ€å¹¿æ³›æ­å»º Maven ç§æœçš„å·¥å…·ï¼š Sonatype Nexusã€‚ ä½œè€…ç¯å¢ƒ æœ¬æ¬¡æ­å»ºç§æœæ˜¯åœ¨å±€åŸŸç½‘çš„ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œæ“ä½œç³»ç»Ÿä¸º CentOS ã€‚ éœ€è¦éƒ¨ç½²åˆ°ç§æœçš„é¡¹ç›® soul ssm é¡¹ç›®éœ€è¦å¼•ç”¨ soul å®‰è£…Java ç¡®ä¿æœåŠ¡å™¨å·²ç»å®‰è£…äº† java ç¯å¢ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œå®‰è£…è¿‡ç¨‹è‡ªè¡Œç™¾åº¦ã€‚ å®‰è£…Nexus å®˜ç½‘ pro ç‰ˆæœ¬çš„æ˜¯éœ€è¦ä»˜è´¹çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å…è´¹çš„ OSS ç‰ˆæœ¬ï¼Œä¸‹è½½åœ°å€ (https://www.sonatype.com/download-oss-sonatype) # ä¸Šä¼ åˆ°æœåŠ¡å™¨å¹¶è§£å‹ $ tar xvf nexus-3.5.1-02-unix.tar.gz å¯åŠ¨Nexus# å¯åŠ¨æœåŠ¡ $ cd /nexus-3.5.1-02/bin/ $ ./nexus start éªŒè¯æ‰“å¼€ç½‘å€ï¼š(http://192.168.0.86:8081/) , ip ä¸ºæ­å»ºç§æœçš„æœåŠ¡å™¨ ip ã€‚ç”¨æˆ·å&#x2F;å¯†ç ï¼š admin&#x2F;admin123å‡ºç°ä¸€ä¸‹ç”»é¢ï¼Œå°±è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚ å‘å¸ƒsoulé¡¹ç›®åˆ°ç§æœåˆ›å»ºä»“åº“ åˆ›å»ºyelog-releaseä»“åº“ï¼ˆåå­—è‡ªå®šä¹‰ï¼‰, typeé€‰æ‹© ï¼š release åˆ›å»ºyelog-snapshotä»“åº“ï¼ˆåå­—è‡ªå®šä¹‰ï¼‰ï¼Œ typeé€‰æ‹© ï¼š snapshoté‡å¤ä¸Šé¢ â‘  å’Œ â‘¡ æ­¥ï¼Œæ ¹æ®ä¸‹å›¾é€‰æ‹©ç±»å‹: ä¸¤ä¸ªéƒ½åˆ›å»ºå®Œæˆåï¼Œæ•ˆæœå¦‚ä¸‹ï¼š pomä¸­æ·»åŠ éƒ¨ç½²é…ç½®url å¤åˆ¶ä¸Šå›¾ä¸­æ–°å»ºçš„ä»“åº“çš„ copy æŒ‰é’®ï¼Œå¤åˆ¶urlã€‚ &lt;distributionManagement&gt; &lt;repository&gt; &lt;id&gt;yelog-release&lt;/id&gt; &lt;name&gt;Release Repository of yelog&lt;/name&gt; &lt;url&gt;http://192.168.0.86:8081/repository/yelog-release/&lt;/url&gt; &lt;/repository&gt; &lt;snapshotRepository&gt; &lt;id&gt;yelog-snapshot&lt;/id&gt; &lt;name&gt;Snapshot Repository of yelog&lt;/name&gt; &lt;url&gt;http://192.168.0.86:8081/repository/yelog-snapshot/&lt;/url&gt; &lt;/snapshotRepository&gt; &lt;/distributionManagement&gt; åœ¨mavençš„ settings.xml ä¸­é…ç½®è¿™é‡Œé…ç½® maven çš„è´¦å·å¯†ç ï¼Œid è¦ä¸ distributionManagement ä¸­çš„idä¸€è‡´ã€‚é»˜è®¤è´¦å·&#x2F;å¯†ç ï¼šadmin&#x2F;admin123 &lt;servers&gt; &lt;server&gt; &lt;id&gt;yelog-realease&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt; &lt;server&gt; &lt;id&gt;yelog-snapshot&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt; &lt;/servers&gt; æ‰§è¡Œmavenå‘½ä»¤éƒ¨ç½²é¡¹ç›®åˆ°ç§æœä¸Šæˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨IDEçš„æ’ä»¶æ‰§è¡Œéƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥åœ¨ yelog-snapshot ä»“åº“ä¸­ï¼ŒæŸ¥çœ‹éƒ¨ç½²çš„æƒ…å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º ä»ç§æœæ‹‰å»ä¾èµ–åº“ ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»å°†é¡¹ç›® soul éƒ¨ç½²åˆ°ç§æœä¸Šäº†ï¼Œè¿™ä¸€æ­¥ä»‹ç»é¡¹ç›® ssm å¦‚ä½•ä¾èµ–å¼•ç”¨ soulã€‚ç§æœä¸­çš„ maven-central å¯ä»¥é“¾æ¥è¿œç¨‹ä»“åº“ã€‚è¿™æ ·ï¼Œå½“æœ‰ä¾èµ–åœ¨ç§æœä¸­æ‰¾ä¸åˆ°åï¼Œå°±å¯ä»¥é€šè¿‡è¿œç¨‹ä»“åº“è‡ªåŠ¨ä¸‹è½½ä¾èµ–ã€‚ pom æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½® publicåº“æˆå‘˜ä»“åº“ä¸­æ·»åŠ æˆ‘ä»¬è‡ªå®šä¹‰çš„ä»“åº“ é…ç½®è¿œç¨‹ä»“åº“ä¸ºç§æœåœ°å€ã€‚ &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;public&lt;/id&gt; &lt;name&gt;public Repository&lt;/name&gt; &lt;url&gt;http://192.168.0.86:8081/repository/maven-public/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;pluginRepositories&gt; &lt;pluginRepository&gt; &lt;id&gt;public&lt;/id&gt; &lt;name&gt;Public Repositories&lt;/name&gt; &lt;url&gt;http://192.168.0.86:8081/repository/maven-public/&lt;/url&gt; &lt;/pluginRepository&gt; &lt;/pluginRepositories&gt; å¼•å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.soul&lt;/groupId&gt; &lt;artifactId&gt;commons&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; ssmé¡¹ç›®å°±å¯ä»¥å¼•ç”¨åˆ°soulä»£ç  æœ¬æ–‡ç»“æŸã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"maven","slug":"maven","permalink":"http://yelog.org/tags/maven/"},{"name":"nexus","slug":"nexus","permalink":"http://yelog.org/tags/nexus/"}]},{"title":"Mybatiså¸¸ç”¨Mapperè¯­å¥","slug":"mybatis-Mapper","date":"2017-08-04T07:54:47.000Z","updated":"2024-07-05T11:10:22.641Z","comments":true,"path":"2017/08/04/mybatis-Mapper/","permalink":"http://yelog.org/2017/08/04/mybatis-Mapper/","excerpt":"","text":"æ’å…¥/* ç®€å•æ’å…¥ */ &lt;insert id=&quot;insertOne&quot; parameterType=&quot;Person&quot;&gt; insert into person (id, name, age) VALUES(#&#123;id&#125;, #&#123;name&#125;, #&#123;age&#125;); &lt;/insert&gt; /* æ’å…¥å¹¶è¿”å›å¯¹è±¡çš„ä¸»é”®ï¼ˆæ•°æ®åº“åºåˆ—ï¼‰ */ &lt;insert id=&quot;insertOne&quot; parameterType=&quot;Person&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; insert into person (name, age) VALUES(#&#123;name&#125;, #&#123;age&#125;); &lt;/insert&gt; æ›´æ–°/* ç®€å•æ›´æ–° */ &lt;update id=&quot;updateName&quot;&gt; update person set name = #&#123;name&#125; where id = #&#123;id&#125;; &lt;/update&gt; /* æ›´æ–°å€¼å¹¶è¿”å› */ &lt;select id=&quot;updateAge&quot; parameterType=&quot;Person&quot;&gt; update person set age = age + #&#123;age&#125; where id = #&#123;id&#125; returning age; &lt;/select&gt; æ’å…¥æˆ–æ›´æ–°è®°å½•ç©å®¶åœ¨æŸç§ç±»å‹æ¸¸æˆä¸‹çš„ç»Ÿè®¡è®°å½•ï¼š å¦‚æœæ²¡æœ‰è®°å½•ï¼Œåˆ™ä»æ’å…¥ï¼Œcountå­—æ®µä¸º1ï¼›å¦‚æœæœ‰è®°å½•ï¼Œåˆ™æ›´æ–°countå­—æ®µ+1ï¼› æ–¹å¼ä¸€ &lt;insert id=&quot;addCount&quot; parameterType=&quot;CountRecord&quot;&gt; /*å¦‚æœæœ‰è®°å½•ï¼Œåˆ™æ›´æ–°ï¼›æ— è®°å½•ï¼Œåˆ™noting*/ update count_record set &quot;count&quot; = &quot;count&quot;+1 where type_id = #&#123;typeId&#125; and user_id = #&#123;userId&#125;; /*å¦‚æœæœ‰è®°å½•ï¼Œåˆ™notingï¼›æ— è®°å½•ï¼Œåˆ™æ’å…¥*/ insert into count_record(type_id, user_id, &quot;count&quot;) select #&#123;typeId&#125;, #&#123;userId&#125;, 1 where not exists (select * from count where type_id = #&#123;typeId&#125; and user_id = #&#123;userId&#125;); &lt;/insert&gt; æ–¹å¼äºŒ /* åˆ©ç”¨ PostgreSQL çš„ conflic ç‰¹æ€§ */ &lt;insert id=&quot;addCount&quot; parameterType=&quot;CountRecord&quot;&gt; insert into count_record(type_id, user_id, &quot;count&quot;) VALUES (#&#123;typeId&#125;, #&#123;userId&#125;, #&#123;count&#125;) on conflict(type_id,user_id) do update set &quot;count&quot; = count_record.&quot;count&quot; + 1 &lt;/insert&gt;","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"mybatis","slug":"mybatis","permalink":"http://yelog.org/tags/mybatis/"}]},{"title":"MathJaxé€‚é…Pjax","slug":"MathJax-pjax","date":"2017-07-05T11:24:10.000Z","updated":"2024-07-05T11:10:22.403Z","comments":true,"path":"2017/07/05/MathJax-pjax/","permalink":"http://yelog.org/2017/07/05/MathJax-pjax/","excerpt":"","text":"hexo æ·»åŠ  MathJax çš„è¿‡ç¨‹ç½‘ä¸Šå¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸ç»†è®²ï¼Œè¿™é‡Œè´´ä¸€å¼ å†™çš„ä¸é”™çš„æ–‡ç«  Hexoåšå®¢(13)æ·»åŠ MathJaxæ•°å­¦å…¬å¼æ¸²æŸ“ ç”±äº 3-hexo è¿™ä¸ªä¸»é¢˜ä½¿ç”¨äº† pjax ï¼Œåˆ·æ–°å’Œç¬¬ä¸€æ¬¡åŠ è½½æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ç‚¹åˆ°å…¶ä»–æ–‡ç« ï¼Œå†ç‚¹å›æ¥ï¼Œæ¸²æŸ“å°±æ— æ•ˆäº†ã€‚ è¿™ä¸ªé—®é¢˜å’Œä¹‹å‰é€‚é…å¤šè¯´å’Œé«˜äº®æ—¶ï¼Œæ˜¯åŒæ ·çš„é—®é¢˜ï¼Œåªéœ€è¦åœ¨ä¸‹é¢é…ç½®å³å¯ã€‚ $(document).on(&#123; /*pjaxè¯·æ±‚å›æ¥é¡µé¢åè§¦å‘çš„äº‹ä»¶*/ &#39;pjax:end&#39;: function () &#123; /*æ¸²æŸ“MathJaxæ•°å­¦å…¬å¼*/ $.getScript(&#39;//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML&#39;,function () &#123; MathJax.Hub.Typeset(); &#125;); &#125; &#125;); è¿™æ ·å°±è§£å†³äº†pjaxçš„é€‚é…é—®é¢˜ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"mathjax","slug":"mathjax","permalink":"http://yelog.org/tags/mathjax/"},{"name":"pjax","slug":"pjax","permalink":"http://yelog.org/tags/pjax/"}]},{"title":"3-hexoé…ç½®MathJaxæ•°å­¦å…¬å¼æ¸²æŸ“","slug":"3-hexo-mathjax","date":"2017-07-05T07:09:42.000Z","updated":"2024-07-05T11:10:22.499Z","comments":true,"path":"2017/07/05/3-hexo-mathjax/","permalink":"http://yelog.org/2017/07/05/3-hexo-mathjax/","excerpt":"","text":"åœ¨ç”¨ markdown å†™æ–‡æ¡£æ—¶ï¼Œå…ä¸äº†ç¢°åˆ°æ•°å­¦å…¬å¼ã€‚ å¤„ç†hexoçš„MarkDownæ¸²æŸ“å™¨ä¸MathJaxçš„å†²çªç”±äºhexoçš„MarkDownæ¸²æŸ“å™¨ä¸MathJaxæœ‰å†²çªï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ã€‚ ç¼–è¾‘ node_modules\\marked\\lib\\marked.js è„šæœ¬ å°†451è¡Œ ï¼Œè¿™ä¸€æ­¥å–æ¶ˆäº†å¯¹ \\\\,\\&#123;,\\&#125; çš„è½¬ä¹‰(escape) escape: /^\\\\([\\\\`*&#123;&#125;\\[\\]()# +\\-.!_&gt;])/, æ”¹ä¸º escape: /^\\\\([`*\\[\\]()# +\\-.!_&gt;])/, å°†459è¡Œï¼Œè¿™ä¸€æ­¥å–æ¶ˆäº†å¯¹æ–œä½“æ ‡è®° _ çš„è½¬ä¹‰ em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, æ”¹ä¸º em:/^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, å¼€å¯MathJaxä¿®æ”¹ 3-hexo/_config.yml # MathJax æ•°å­¦å…¬å¼æ”¯æŒ mathjax: on: true #æ˜¯å¦å¯ç”¨ per_page: false # è‹¥åªæ¸²æŸ“å•ä¸ªé¡µé¢ï¼Œæ­¤é€‰é¡¹è®¾ä¸ºfalseï¼Œé¡µé¢å†…åŠ å…¥ mathjax: true è€ƒè™‘åˆ°é¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œæ”¯æŒæ¸²æŸ“å•ä¸ªé¡µé¢ã€‚ è®¾ç½® per_page: false ,åœ¨éœ€è¦æ¸²æŸ“çš„é¡µé¢å†… åŠ å…¥ mathjax: true è¿™æ ·ï¼Œå°±å¯ä»¥åœ¨é¡µé¢å†…å†™MathJaxå…¬å¼äº†ã€‚ MathJaxå…¬å¼ä¹¦å†™å…¬å¼ä¹¦å†™ä¾ç„¶æŒ‰ç…§MarkDownè¯­æ³•æ¥ï¼ŒåŸºæœ¬ä¸Šä¹Ÿå’ŒLaTeXç›¸åŒï¼Œå• $ ç¬¦å¼•ä½çš„æ˜¯è¡Œå†…å…¬å¼ï¼ŒåŒ$ç¬¦å¼•ä½çš„æ˜¯è¡Œé—´å…¬å¼ã€‚ MathJaxå…¬å¼ä¹¦å†™å‚è€ƒMathJax basic tutorial and quick reference 1.MathJaxè¡Œå†…å…¬å¼å«æœ‰ä¸‹åˆ’çº¿ _ çš„å…¬å¼ $x_mu$ ï¼š $x_mu$ å¸Œè…Šå­—ç¬¦ $\\sigma$ ï¼š $\\sigma$ åŒ \\\\ å…¬å¼å†…æ¢è¡Œ $$ f(n) = \\begin&#123;cases&#125; n/2, &amp; \\text&#123;if $n$ is even&#125; \\\\ 3n+1, &amp; \\text&#123;if $n$ is odd&#125; \\end&#123;cases&#125; $$ $$f(n) &#x3D;\\begin{cases}n&#x2F;2, &amp; \\text{if $n$ is even} \\3n+1, &amp; \\text{if $n$ is odd}\\end{cases}$$ è¡Œå†…å…¬å¼ $y=ax+b$ï¼š$y&#x3D;ax+b$ è¡Œå†…å…¬å¼ $\\cos 2\\theta = \\cos^2 \\theta - \\sin^2 \\theta = 2 \\cos^2 \\theta$ï¼š$\\cos 2\\theta &#x3D; \\cos^2 \\theta - \\sin^2 \\theta &#x3D; 2 \\cos^2 \\theta$ è¡Œå†…å…¬å¼ $M(\\beta^&#123;\\ast&#125;(D),D) \\subseteq C$ ï¼š $M(\\beta^{\\ast}(D),D) \\subseteq C$ 2.MathJaxè¡Œé—´å…¬å¼è¡Œé—´å…¬å¼$$ \\sum_&#123;i=0&#125;^n i^2 = \\frac&#123;(n^2+n)(2n+1)&#125;&#123;6&#125; $$ï¼š$$ \\sum_{i&#x3D;0}^n i^2 &#x3D; \\frac{(n^2+n)(2n+1)}{6} $$ è¡Œé—´å…¬å¼$$ x = \\dfrac&#123;-b \\pm \\sqrt&#123;b^2 - 4ac&#125;&#125;&#123;2a&#125; $$ï¼š$$ x &#x3D; \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$ 3.MathJaxå…¬å¼è‡ªåŠ¨ç¼–å·ä¹¦å†™æ—¶ä½¿ç”¨ $$ \\begin&#123;equation&#125; \\end&#123;equation&#125; $$ è¿›è¡Œå…¬å¼è‡ªåŠ¨ç¼–å·ï¼ŒåŒæ—¶ä¼šè‡ªåŠ¨è¿ç»­ç¼–å·ï¼Œä¾‹å¦‚ï¼š $$ \\begin&#123;equation&#125; \\sum_&#123;i=0&#125;^n F_i \\cdot \\phi (H, p_i) - \\sum_&#123;i=1&#125;^n a_i \\cdot ( \\tilde&#123;x_i&#125;, \\tilde&#123;y_i&#125;) + b_i \\cdot ( \\tilde&#123;x_i&#125;^2 , \\tilde&#123;y_i&#125;^2 ) \\end&#123;equation&#125; $$ $$ \\begin&#123;equation&#125; \\beta^*(D) = \\mathop&#123;argmin&#125; \\limits_&#123;\\beta&#125; \\lambda &#123;||\\beta||&#125;^2 + \\sum_&#123;i=1&#125;^n max(0, 1 - y_i f_&#123;\\beta&#125;(x_i)) \\end&#123;equation&#125; $$ $$\\begin{equation}\\sum_{i&#x3D;0}^n F_i \\cdot \\phi (H, p_i) - \\sum_{i&#x3D;1}^n a_i \\cdot ( \\tilde{x_i}, \\tilde{y_i}) + b_i \\cdot ( \\tilde{x_i}^2 , \\tilde{y_i}^2 )\\end{equation}$$$$\\begin{equation}\\beta^*(D) &#x3D; \\mathop{argmin} \\limits_{\\beta} \\lambda {||\\beta||}^2 + \\sum_{i&#x3D;1}^n max(0, 1 - y_i f_{\\beta}(x_i))\\end{equation}$$ MathJaxå…¬å¼æ‰‹åŠ¨ç¼–å·å¯ä»¥åœ¨å…¬å¼ä¹¦å†™æ—¶ä½¿ç”¨ \\tag&#123;æ‰‹åŠ¨ç¼–å·&#125; æ·»åŠ æ‰‹åŠ¨ç¼–å·ï¼Œä¾‹å¦‚ï¼š $$ \\begin&#123;equation&#125; \\sum_&#123;i=0&#125;^n F_i \\cdot \\phi (H, p_i) - \\sum_&#123;i=1&#125;^n a_i \\cdot ( \\tilde&#123;x_i&#125;, \\tilde&#123;y_i&#125;) + b_i \\cdot ( \\tilde&#123;x_i&#125;^2 , \\tilde&#123;y_i&#125;^2 ) \\tag&#123;1.2.3&#125; \\end&#123;equation&#125; $$ $$\\begin{equation}\\sum_{i&#x3D;0}^n F_i \\cdot \\phi (H, p_i) - \\sum_{i&#x3D;1}^n a_i \\cdot ( \\tilde{x_i}, \\tilde{y_i}) + b_i \\cdot ( \\tilde{x_i}^2 , \\tilde{y_i}^2 ) \\tag{1.2.3}\\end{equation}$$ ä¸åŠ  \\begin&#123;equation&#125; \\end&#123;equation&#125; ä¹Ÿå¯ä»¥ï¼Œä¾‹å¦‚ï¼š $$ \\beta^*(D) = \\mathop&#123;argmin&#125; \\limits_&#123;\\beta&#125; \\lambda &#123;||\\beta||&#125;^2 + \\sum_&#123;i=1&#125;^n max(0, 1 - y_i f_&#123;\\beta&#125;(x_i)) \\tag&#123;æˆ‘çš„å…¬å¼3&#125; $$ $$\\beta^*(D) &#x3D; \\mathop{argmin} \\limits_{\\beta} \\lambda {||\\beta||}^2 + \\sum_{i&#x3D;1}^n max(0, 1 - y_i f_{\\beta}(x_i)) \\tag{æˆ‘çš„å…¬å¼3}$$ è¡Œå†…å…¬å¼åŠ \\tag{}åä¼šè‡ªåŠ¨æˆä¸ºè¡Œé—´å…¬å¼ï¼Œä¾‹å¦‚ï¼š $z = (p_0, ..... , p_n) \\tag&#123;å…¬å¼21&#125; $$z &#x3D; (p_0, â€¦.. , p_n) \\tag{å…¬å¼21} $ 4.å…¶ä»–å…¬å¼ä¹¦å†™æŠ€å·§å¦‚ä½•å°†ä¸‹æ ‡æ”¾åˆ°æ­£ä¸‹æ–¹ï¼Ÿâ‘  å¦‚æœæ˜¯æ•°å­¦ç¬¦å·ï¼Œé‚£ä¹ˆç›´æ¥ç”¨ \\limits å‘½ä»¤æ”¾åœ¨æ­£ä¸‹æ–¹ï¼Œå¦‚Maxå‡½æ•°ä¸‹é¢çš„å–å€¼èŒƒå›´ï¼Œéœ€è¦æ”¾åœ¨Maxçš„æ­£ä¸‹æ–¹ã€‚å¯ä»¥å¦‚ä¸‹å®ç°ï¼š$ \\max \\limits_&#123;a&lt;x&lt;b&#125;\\&#123;f(x)\\&#125; $$ \\max \\limits_{a&lt;x&lt;b}{f(x)} $ â‘¡ è‹¥æ˜¯æ™®é€šç¬¦å·ï¼Œé‚£ä¹ˆè¦ç”¨ \\mathop å…ˆè½¬æˆæ•°å­¦ç¬¦å·å†ç”¨ \\limitsï¼Œå¦‚$ \\mathop&#123;a&#125;\\limits_&#123;i=1&#125; $$ \\mathop{a}\\limits_{i&#x3D;1} $ MathJaxçŸ©é˜µè¾“å…¥æ— æ‹¬å·çŸ©é˜µï¼š $$ \\begin&#123;matrix&#125; 1 &amp; x &amp; x^2 \\\\ 1 &amp; y &amp; y^2 \\\\ 1 &amp; z &amp; z^2 \\\\ \\end&#123;matrix&#125; $$ $$\\begin{matrix}1 &amp; x &amp; x^2 \\1 &amp; y &amp; y^2 \\1 &amp; z &amp; z^2 \\\\end{matrix}$$ æœ‰æ‹¬å·æœ‰ç«–çº¿çŸ©é˜µï¼š $$ \\left[ \\begin&#123;array&#125;&#123;cc|c&#125; 1&amp;2&amp;3\\\\ 4&amp;5&amp;6 \\end&#123;array&#125; \\right] $$ $$\\left[ \\begin{array}{cc|c} 1&amp;2&amp;3\\ 4&amp;5&amp;6 \\end{array}\\right]$$ è¡Œå†…å°çŸ©é˜µï¼š$\\bigl( \\begin&#123;smallmatrix&#125; a &amp; b \\\\ c &amp; d \\end&#123;smallmatrix&#125; \\bigr)$$\\bigl( \\begin{smallmatrix} a &amp; b \\ c &amp; d \\end{smallmatrix} \\bigr)$ è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œä¸Šé¢çš„å†™æ³•åœ¨çŸ©é˜µå†…æ²¡æœ‰æ¢è¡Œï¼Œæˆ‘çœ‹äº†ä¸‹æºç ï¼ŒåŒåæ–œæ \\åˆè¢«MarkDownæ¸²æŸ“å¼•æ“è½¬ä¹‰ä¸ºå•ä¸ªåæ–œæ äº†ï¼Œè§£å†³æ–¹æ³•æ˜¯å†™ä¸‰ä¸ªåæ–œæ \\\\æˆ–åœ¨åŒåæ–œæ åæ¢è¡Œå³å¯ï¼š $\\bigl( \\begin&#123;smallmatrix&#125; a &amp; b \\\\\\ c &amp; d \\end&#123;smallmatrix&#125; \\bigr)$$\\bigl( \\begin{smallmatrix} a &amp; b \\\\ c &amp; d \\end{smallmatrix} \\bigr)$ å‚è€ƒHexoåšå®¢(13)æ·»åŠ MathJaxæ•°å­¦å…¬å¼æ¸²æŸ“åœ¨Hexoä¸­æ¸²æŸ“MathJaxæ•°å­¦å…¬å¼MathJax basic tutorial and quick reference","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"mathjax","slug":"mathjax","permalink":"http://yelog.org/tags/mathjax/"}]},{"title":"CentOS7å®‰è£…é…ç½®åŒ¿åè®¿é—®Samba","slug":"CentOS7-å®‰è£…é…ç½®åŒ¿åè®¿é—®Samba","date":"2017-07-03T11:40:14.000Z","updated":"2024-07-05T11:10:23.065Z","comments":true,"path":"2017/07/03/CentOS7-anonymous-Samba/","permalink":"http://yelog.org/2017/07/03/CentOS7-anonymous-Samba/","excerpt":"","text":"ä»‹ç» Sambaï¼Œæ˜¯ç§ç”¨æ¥è®©UNIXç³»åˆ—çš„æ“ä½œç³»ç»Ÿä¸å¾®è½¯Windowsæ“ä½œç³»ç»Ÿçš„SMB&#x2F;CIFSï¼ˆServer Message Block&#x2F;Common Internet File Systemï¼‰ç½‘ç»œåè®®åšé“¾æ¥çš„è‡ªç”±è½¯ä»¶ â€“wikipedia æœ¬æ–‡å°±ä»¥ CentOS7 æ­å»º Samba åŒ¿åå®Œå…¨è®¿é—®ï¼ˆè¯»&#x2F;å†™ï¼‰ä¸ºç›®æ ‡ï¼Œå®ç°ä¸€ä¸ªå±€åŸŸç½‘å†…çš„æ–‡ä»¶å…±äº«å¹³å°ã€‚ 1.å®‰è£…SambaæœåŠ¡ä½¿ç”¨ yum å·¥å…·è¿›è¡Œå®‰è£… $ yum install samba samba-client 2.æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ$ rpm -qa | grep samba 3.é˜²ç«å¢™å¼€æ”¾ç«¯å£åœ¨ /etc/sysconfig/iptables ä¸­æ·»åŠ é…ç½® -A INPUT -p tcp -m state --state NEW -m tcp --dport 137 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 138 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 139 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 389 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 445 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 901 -j ACCEPT é‡å¯ iptables æœåŠ¡ $ service iptables restart è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ $ chkconfig --level 35 smb on 4.å…±äº«é…ç½®Samba Serverçš„éªŒè¯æ–¹å¼æœ‰å››ç§ï¼š shareï¼šåŒ¿åè®¿é—®å…±äº«ï¼Œä¸éœ€è¦æä¾›ç”¨æˆ·åå’Œå£ä»¤, å®‰å…¨æ€§èƒ½è¾ƒä½ã€‚ userï¼šå…±äº«ç›®å½•åªèƒ½è¢«æˆæƒçš„ç”¨æˆ·è®¿é—®,ç”±Samba Serverè´Ÿè´£æ£€æŸ¥è´¦å·å’Œå¯†ç çš„æ­£ç¡®æ€§ã€‚è´¦å·å’Œå¯†ç è¦åœ¨æœ¬Samba Serverä¸­å»ºç«‹ã€‚ serverï¼šä¾é å…¶ä»–Windows Serveræˆ–Samba Serveræ¥éªŒè¯ç”¨æˆ·çš„è´¦å·å’Œå¯†ç ,æ˜¯ä¸€ç§ä»£ç†éªŒè¯ã€‚æ­¤ç§å®‰å…¨æ¨¡å¼ä¸‹,ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æŠŠæ‰€æœ‰çš„Windowsç”¨æˆ·å’Œå£ä»¤é›†ä¸­åˆ°ä¸€ä¸ªServerç³»ç»Ÿä¸Š,ä½¿ç”¨ Windows Serverè¿›è¡ŒSambaè®¤è¯, è¿œç¨‹æœåŠ¡å™¨å¯ä»¥è‡ªåŠ¨è®¤è¯å…¨éƒ¨ç”¨æˆ·å’Œå£ä»¤,å¦‚æœè®¤è¯å¤±è´¥,Sambaå°†ä½¿ç”¨ç”¨æˆ·çº§å®‰å…¨æ¨¡å¼ä½œä¸ºæ›¿ä»£çš„æ–¹å¼ã€‚ domainï¼šåŸŸå®‰å…¨çº§åˆ«,ä½¿ç”¨ä¸»åŸŸæ§åˆ¶å™¨(PDC)æ¥å®Œæˆè®¤è¯ã€‚ åˆ›å»ºä¸€ä¸ªåŒ¿åå…±äº«è®¿é—®ï¼Œéœ€è¦ä½¿ç”¨shareæ¨¡å¼ï¼Œä½†åœ¨CentOSå®‰è£…çš„samba4ä¸­share å’Œ serveréªŒè¯æ–¹å¼å·²è¢«å¼ƒç”¨ é…ç½®å¦‚ä¸‹ï¼š [global] workgroup = MYGROUP server string = Samba Server Version %v log file = /var/log/samba/log.%m max log size = 50 security = user map to guest = Bad User load printers = yes cups options = raw [share] comment = share path = /home/samba directory mask = 0777 create mask = 0777 #ä¸å¯è§†ç›®å½• #browseable = yes guest ok=yes writable=yes åˆ›å»º /home/samba å…±äº«ç›®å½• $ mkdir /home/samba é‡å¯ smb æœåŠ¡ $ service smb restart æ£€æŸ¥æœåŠ¡æ˜¯å¦åœ¨è¿è¡Œ $ pgrep smbd æ£€æŸ¥é…ç½®å‚æ•° $ testparm Load smb config files from /etc/samba/smb.conf Processing section &quot;[share]&quot; Loaded services file OK. Server role: ROLE_STANDALONE Press enter to see a dump of your service definitions # Global parameters [global] server string = Samba Server Version %v workgroup = MYGROUP log file = /var/log/samba/log.%m max log size = 50 map to guest = Bad User security = USER idmap config * : backend = tdb cups options = raw [share] comment = share path = /home/samba create mask = 0777 directory mask = 0777 guest ok = Yes read only = No è®¿é—®ä»¥ä¸Šå°±é…ç½®å®Œæˆï¼Œå¦‚æœåŠ¡å™¨åœ°å€ä¸º192.168.0.87 windows ç³»ç»Ÿè®¿é—®ï¼Œç›´æ¥è¿è¡Œ \\\\192.168.0.87\\share linux ç³»ç»Ÿè®¿é—®ï¼Œ smb://192.168.0.87/share é‡åˆ°çš„é—®é¢˜ linux ç³»ç»Ÿå¯ä»¥æ­£å¸¸è¯»å†™ä¿®æ”¹ï¼Œä½† windows ç³»ç»Ÿåªå¯ä»¥è¯»å†™ï¼Œç›´æ¥æ‰“å¼€ä¿®æ”¹æ—¶å°±ï¼Œå°±ä¸ºåªè¯»æ–‡ä»¶äº†ã€‚è§£å†³åŠæ³•ï¼šä¿®æ”¹ /etc/samba/smb.conf ,åœ¨ [share] ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ create mask = 0777 è®¿é—®éƒ¨åˆ†æ–‡ä»¶å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œä½†éƒ¨åˆ†æ–‡ä»¶æ— æ³•è®¿é—®ã€‚è§£å†³æ–¹æ³•ï¼šä¿®æ”¹æ–‡ä»¶è®¿é—®æƒé™ $ chmod -R 1777 /home/samba $ chown nobody:nobody å‚è€ƒ CentOS7 å®‰è£…SambaæœåŠ¡ CentOS7 å®‰è£…é…ç½®åŒ¿åè®¿é—®Samba","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"samba","slug":"samba","permalink":"http://yelog.org/tags/samba/"}]},{"title":"å®Œç¾æ›¿ä»£å¤šè¯´-gitment","slug":"gitment","date":"2017-06-26T04:08:13.000Z","updated":"2024-07-05T11:10:22.466Z","comments":true,"path":"2017/06/26/gitment/","permalink":"http://yelog.org/2017/06/26/gitment/","excerpt":"","text":"è‡ªä»å¤šè¯´è¦åœæ­¢æœåŠ¡æ—¶ï¼Œå°±å¼€å§‹å…³æ³¨ç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿï¼Œç°åœ¨çš„è¯„è®ºç³»ç»Ÿéƒ½æœ‰è¿™æ ·æˆ–é‚£æ ·çš„é—®é¢˜ï¼Œè§ å…³äºç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿ ã€‚å¿½ç„¶çœ‹åˆ°ä½œè€… å­™å£«æƒ çš„ä¸€ç‰‡æ–‡ç«  Gitmentï¼šä½¿ç”¨ GitHub Issues æ­å»ºè¯„è®ºç³»ç»Ÿ ã€‚ ç«‹å³å°±å°† gitment é›†æˆåˆ° 3-hexo ä¸»é¢˜å†…ã€‚æœ¬ç¯‡æ–‡ç« åªè®²åœ¨ 3-hexo å†…å¦‚ä½•ä½¿ç”¨ï¼Œå¦‚æœæƒ³è‡ªå®šä¹‰ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢åŸæ–‡ã€‚ æ³¨å†Œ OAuth Applicationç‚¹å‡»æ­¤å¤„ æ¥æ³¨å†Œä¸€ä¸ªæ–°çš„ OAuth Applicationã€‚å…¶ä»–å†…å®¹å¯ä»¥éšæ„å¡«å†™ï¼Œä½†è¦ç¡®ä¿å¡«å…¥æ­£ç¡®çš„ callback URLï¼ˆä¸€èˆ¬æ˜¯è¯„è®ºé¡µé¢å¯¹åº”çš„åŸŸåï¼Œå¦‚ http://yelog.orgï¼‰ã€‚ ä½¿ç”¨ gitment è¯„è®ºç³»ç»Ÿä¿®æ”¹ä¸»é¢˜ _config.yml gitment: on: true # å¯ç”¨gitmentè¯„è®ºç³»ç»Ÿ owner: yelog # ä½ çš„githubè´¦å· repo: yelog.github.io # è¯„è®ºissueä¿å­˜çš„ä»“åº“ï¼Œæˆ‘é€‰æ‹©ä¿å­˜åœ¨blogä»“åº“ï¼Œä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªä»“åº“ client_id: d64ceca0d8a4e8b1f5c9 # ä¸Šä¸€æ­¥æ³¨å†Œåç”Ÿæˆçš„client_id client_secret: fb17d5f0aba31372f61a03df707bb20a39a73a06 # ä¸Šä¸€æ­¥æ³¨å†Œåç”Ÿæˆçš„client_secret éƒ¨ç½²å¹¶åˆå§‹åŒ–1.å‘å¸ƒ hexo $ hexo clear &amp;&amp; hexo g &amp;&amp; hexo d 2.æ‰“å¼€å‘å¸ƒçš„blogï¼Œç™»å½•githubè´¦å·ï¼Œå¹¶ç‚¹å‡» Initialize Commentsã€‚ 3.ç°åœ¨å…¶ä»–äººå°±å¯ä»¥è¿›è¡Œè¯„è®ºäº† æ„Ÿå—æ•´ä½“è¯„è®ºç³»ç»Ÿåšçš„ç®€æ´ï¼Œæ•´ä½“æ¥è¯´æ˜¯ä¸ªä¸é”™çš„ç³»ç»Ÿã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"è§£å†³ç²˜è´´åˆ°vimç¼©è¿›é”™ä¹±é—®é¢˜","slug":"è§£å†³ç²˜è´´åˆ°vimç¼©è¿›é”™ä¹±é—®é¢˜","date":"2017-06-01T11:45:24.000Z","updated":"2024-07-05T11:10:22.192Z","comments":true,"path":"2017/06/01/vim-paste/","permalink":"http://yelog.org/2017/06/01/vim-paste/","excerpt":"","text":"é‡è§å½“æˆ‘ä½¿ç”¨vimï¼Œæƒ³è¦ç²˜è´´ä¸‹é¢è¿™æ®µè„šæœ¬åˆ° xx.sh æ–‡ä»¶ä¸­ #!/bin/bash if [ $1 ] then if [ $1 == &quot;help&quot; ]; then echo -e &quot;\\033[37m pay å‚æ•°1 [å‚æ•°2] \\033[0m&quot; else if [ $2 ]; then filename = $2 fi fi else echo -e &quot;\\033[37m ç¼ºå°‘å…³é”®è¯ï¼Œé€šè¿‡&#39;pay help&#39;æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ \\033[0m&quot; fi å´å‡ºç°äº†é”™ä¹±,å¦‚ä¸‹å›¾æ‰€ç¤º åˆ†ævim æ²¡æœ‰ç›¸åº”çš„ç¨‹åºæ¥å¤„ç†è¿™ä¸ªä»å…¶ä»–åº”ç”¨å¤åˆ¶ç²˜è´´çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥Vimé€šè¿‡æ’å…¥é”®ç›˜è¾“å…¥çš„bufferæ¥æ¨¡æ‹Ÿè¿™ä¸ªç²˜è´´çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™Vimä¼šä»¥ä¸ºè¿™æ˜¯ç”¨æˆ·è¾“å…¥çš„ã€‚ æ‰€ä»¥é—®é¢˜æ˜¯ï¼šå½“ä¸Šä¸€è¡Œç»“æŸï¼Œå…‰æ ‡è¿›å…¥ä¸‹ä¸€è¡Œæ—¶Vimä¼šè‡ªåŠ¨ä»¥ä¸Šä¸€è¡Œçš„çš„ç¼©è¿›ä¸ºåˆå§‹ä½ç½®ã€‚è¿™æ ·å°±ä¼šç ´ååŸå§‹æ–‡ä»¶çš„ç¼©è¿›ã€‚ è§£å†³é—®é¢˜ç»è¿‡ä¸€ç•ªgoogleï¼Œå‘ç°vimæä¾›äº† paste é€‰é¡¹ï¼Œè¿›å…¥ paste æ¨¡å¼åï¼Œå°±å¯ä»¥æ­£å¸¸ç¼©è¿›äº†ã€‚ # è¿›å…¥ paste æ¨¡å¼ :set paste # é€€å‡º paste æ¨¡å¼ :set nopaste å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥åœ¨ ï½/.vimrc ä¸­æ·»åŠ ä¸€è¡Œé…ç½® set pastetoggle=&lt;F12&gt; ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡F12å¿«é€Ÿåœ¨pasteæ¨¡å¼ä¸­åˆ‡æ¢ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"vim","slug":"vim","permalink":"http://yelog.org/tags/vim/"}]},{"title":"è¿›å…¥dockerå®¹å™¨å‘½ä»¤åˆ¶ä½œ","slug":"è¿›å…¥dockerå®¹å™¨å‘½ä»¤åˆ¶ä½œ","date":"2017-06-01T09:25:11.000Z","updated":"2024-07-05T11:10:23.070Z","comments":true,"path":"2017/06/01/entering-docker/","permalink":"http://yelog.org/2017/06/01/entering-docker/","excerpt":"","text":"é€šè¿‡attachè¿›å…¥å®¹å™¨# è¿›å…¥å®¹å™¨ï¼ˆDockerè‡ªå¸¦çš„å‘½ä»¤ï¼‰ $ sudo docker attach [name] é€šè¿‡è¿™å‘½ä»¤è¿›å…¥å®¹å™¨åï¼Œæ‰§è¡Œctrl+dé€€å‡ºå®¹å™¨åå‘ç°å®¹å™¨ä¹Ÿåœæ­¢äº†ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡ å…ˆæŒ‰ï¼Œctrl+p å†æŒ‰ï¼Œctrl+q é€€å‡º åˆ¶ä½œè¿›å…¥å®¹å™¨çš„å‘½ä»¤æ—¢ç„¶attaché€€å‡ºå¾ˆéº»çƒ¦ï¼Œä¸€ä¸å°å¿ƒå®¹å™¨å°±downæ‰äº† é€šè¿‡ docker exec è¿›å…¥å®¹å™¨æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯å‘½ä»¤è¿‡é•¿ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢æ“ä½œï¼Œç®€åŒ–å‘½ä»¤ 1.åˆ›å»ºæ–‡ä»¶ /usr/bin/ctn,å†…å®¹å¦‚ä¸‹ docker exec -it $1 /bin/bash 2.æ£€æŸ¥ç¯å¢ƒå˜é‡æœ‰æ²¡æœ‰é…ç½®ç›®å½• /usr/bin $PATH bash: /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games: No such file or directory é…ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼è‡ªè¡Œç™¾åº¦ 3.å®Œæˆä¸Šé¢ä¸¤æ­¥å³å¯é€šè¿‡å‘½ä»¤ ctn è¿›å…¥å®¹å™¨ $ ctn [name] æ³¨æ„ï¼šå¦‚æœæ˜¯ä½¿ç”¨érootè´¦å·åˆ›å»ºçš„å‘½ä»¤ï¼Œè€Œdockerå‘½ä»¤æ˜¯rootæƒé™ï¼Œå¯èƒ½ä¼šå­˜åœ¨æƒé™é—®é¢˜å¯ä»¥è®¾ç½® chmod 777 /usr/bin/ctn è®¾ç½®æƒé™ä½¿ç”¨ sudo ctn [name] å³å¯è¿›å…¥å®¹å™¨ 4.è‡ªåŠ¨è¡¥å…¨dockeråä½¿ç”¨ä¸Šé¢å‘½ä»¤æ—¶ï¼Œdockerçš„åå­—éƒ½æ˜¯æ‰‹åŠ¨è¾“å…¥ï¼Œå¾ˆéº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚ æˆ‘ä»¬å¯ä»¥å€ŸåŠ©completeå‘½ä»¤ï¼Œæ¥è¡¥å…¨dockerä¿¡æ¯ã€‚ åœ¨~&#x2F;.bashrc(ä½œç”¨äºå½“å‰ç”¨æˆ·ï¼Œå¦‚æœæ‰€æœ‰ç”¨æˆ·ï¼Œä¿®æ”¹&#x2F;etc&#x2F;bashrc)æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œ # ctn auto complete complete -W &quot;$(docker ps --format &quot;&#123;&#123;.Names&#125;&#125;&quot;)&quot; ctn å†æ‰§è¡Œ source .bashrc ä½¿ä¹‹ç”Ÿæ•ˆã€‚ è¿™æ ·æˆ‘ä»¬è¾“å…¥ ctn åï¼ŒæŒ‰ Tab å°±ä¼šæç¤ºæˆ–è‡ªåŠ¨è¡¥å…¨äº†ã€‚ æ³¨æ„ï¼š ç”±äºæç¤ºçš„dockeråæ˜¯ .bashrc ç”Ÿæ•ˆæ—¶çš„åˆ—è¡¨ï¼Œæ‰€ä»¥å¦‚æœä¹‹ådockeråˆ—è¡¨æœ‰å˜åŠ¨ï¼Œéœ€é‡æ–°æ‰§è¡Œ source .bashrc ä½¿ä¹‹æ›´æ–°æç¤ºåˆ—è¡¨","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"taleåšå®¢æ­å»ºåŠä½“éªŒ","slug":"tale-build-experience","date":"2017-05-24T03:29:30.000Z","updated":"2024-07-05T11:10:22.462Z","comments":true,"path":"2017/05/24/tale-build-experience/","permalink":"http://yelog.org/2017/05/24/tale-build-experience/","excerpt":"","text":"ä¸ä¹…ä¹‹å‰åœ¨é€›blogæ—¶ï¼Œå‘ç°äº†è¿™æ¬¾taleï¼Œä»Šå¤©æŠ½ç©ºæ­å»ºäº†ä¸€ä¸‹ï¼Œå°†æ­å»ºè¿‡ç¨‹å†™äºæ­¤ã€‚demo websiteï¼šhttps://tale.biezhi.me æ­å»ºæ€è·¯çœ‹äº†taleä½œè€…çš„(github)[https://github.com/otale] å‘ç°æœ‰å»ºå¥½dockerï¼Œæ‰€ä»¥æœæ–­ä½¿ç”¨dockeræ­å»ºtaleçš„ç¯å¢ƒ æ„å»ºdockeré•œåƒä¸‹è½½tale-dockeråˆ°æœ¬åœ°ã€‚ # ä¸‹è½½å®˜æ–¹Dockerfile $ git clone https://github.com/otale/tale-docker.git # æ„å»º tale é•œåƒ $ docker build -t tale:1.0 . ä¸‹è½½taleåšå®¢æ–‡ä»¶# ä¸‹è½½å‹ç¼©åŒ… $ sudo wget http://7xls9k.dl1.z0.glb.clouddn.com/tale.zip # è®²è§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹ç§»å…¥homeç›®å½• $ unzip tale.zip $ mv tale /home æ„å»ºtaleé•œåƒdocker run -d --privileged --hostname tale --name tale \\ -v /etc/localtime:/etc/localtime:ro \\ -v /home/tale:/var/tale_home -p 80:9000 \\ -m 1024m --memory-swap -1 tale:1.0 è®¿é—®æµè§ˆå™¨è¿›å…¥ 127.0.0.1 å³å¯è®¿é—® ä½“éªŒç®¡ç†åå° æ–‡ç« æ”¯æŒMarkdownå’Œå¯Œæ–‡æœ¬ã€‚ æ–‡ç« &#x2F;è¯„è®º&#x2F;å‹é“¾&#x2F;æ ‡ç­¾ç®¡ç†&#x2F;ä¸»é¢˜ï¼Œè®¾ç½®ç®€å•ï¼Œä¸€ç›®äº†ç„¶ æ”¯æŒæ’ä»¶æ‰©å±• åšå®¢ ä¸»é¢˜ç®€æ´ï¼ˆå½“ç„¶æ”¯æŒåˆ‡æ¢ä¸»é¢˜ï¼‰ ä½¿ç”¨ instantclick ï¼Œé¡µé¢åˆ‡æ¢æµç•… è¯„è®ºç³»ç»Ÿï¼Œç®€æ´æ˜“ç”¨ æœç´¢åªæ”¯æŒæ–‡ç« æ ‡é¢˜ æ•´ä½“ ç®¡ç†ç®€å•æ–¹ä¾¿ ä½¿ç”¨dockeråï¼Œè¿ç§»æ•°æ®ä¹Ÿæ–¹ä¾¿ ä¸»é¢˜è¿˜ä¸æ˜¯å¾ˆå¤š å¯¹äºå¸¸å¹´ä½¿ç”¨é™æ€blogï¼Œæ‰‹åŠ¨æ¸²æŸ“&#x2F;å‘å¸ƒï¼Œä½¿ç”¨è¿™ä¸ªä¹‹åè¿˜æœ‰ç‚¹å°æ¸…æ–°ã€‚ æœ€åtaleæ•´ä½“ä¸é”™ï¼Œå€¼å¾—å…¥æ‰‹ã€‚ ä¸è¿‡ç›®å‰æ²¡æœ‰ç¬”è€…å–œæ¬¢çš„ä¸»é¢˜ï¼ˆå½“ç„¶é»˜è®¤ä¸»é¢˜ä¹Ÿä¸é”™ï¼‰ï¼Œæš‚æ—¶ä¸æ‰“ç®—æ›´æ¢blogï¼Œç¬”è€…ä¹Ÿæ‰“ç®—è¿‡ä¸€æ®µæ—¶é—´å¼€å‘ä¸€ä¸ªtaleçš„ä¸»é¢˜ï¼Œç„¶åæ­£å¼è¿å…¥taleã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"tale","slug":"tale","permalink":"http://yelog.org/tags/tale/"}]},{"title":"dockeræ•°æ®ç®¡ç†","slug":"dockeræ•°æ®ç®¡ç†","date":"2017-05-23T13:43:06.000Z","updated":"2024-07-05T11:10:22.227Z","comments":true,"path":"2017/05/23/docker-data-manager/","permalink":"http://yelog.org/2017/05/23/docker-data-manager/","excerpt":"","text":"æ•°æ®å·æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ æ³¨æ„ï¼šæ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰ï¼Œèƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å·ã€‚ åˆ›å»ºä¸€ä¸ªæ•°æ®å·åœ¨ç”¨ docker run å‘½ä»¤çš„æ—¶å€™ï¼Œä½¿ç”¨ -v æ ‡è®°æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·å¹¶æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚åœ¨ä¸€æ¬¡ run ä¸­å¤šæ¬¡ä½¿ç”¨å¯ä»¥æŒ‚è½½å¤šä¸ªæ•°æ®å·ã€‚ ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º web çš„å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ªæ•°æ®å·åˆ°å®¹å™¨çš„ &#x2F;webapp ç›®å½•ã€‚ $ sudo docker run -d -P --name web -v /webapp training/webapp python app.py æ³¨æ„ï¼šä¹Ÿå¯ä»¥åœ¨ Dockerfile ä¸­ä½¿ç”¨ VOLUME æ¥æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–°çš„å·åˆ°ç”±è¯¥é•œåƒåˆ›å»ºçš„ä»»æ„å®¹å™¨ã€‚ åˆ é™¤æ•°æ®å·æ•°æ®å·æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼ŒDockerä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤æ•°æ®å·ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„æ•°æ®å·ã€‚å¦‚æœéœ€è¦åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ç§»é™¤æ•°æ®å·ã€‚å¯ä»¥åœ¨åˆ é™¤å®¹å™¨çš„æ—¶å€™ä½¿ç”¨ docker rm -v è¿™ä¸ªå‘½ä»¤ã€‚æ— ä¸»çš„æ•°æ®å·å¯èƒ½ä¼šå æ®å¾ˆå¤šç©ºé—´ï¼Œè¦æ¸…ç†ä¼šå¾ˆéº»çƒ¦ã€‚Dockerå®˜æ–¹æ­£åœ¨è¯•å›¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç›¸å…³å·¥ä½œçš„è¿›åº¦å¯ä»¥æŸ¥çœ‹è¿™ä¸ªPRã€‚ æŒ‚è½½ä¸€ä¸ªä¸»æœºç›®å½•ä½œä¸ºæ•°æ®å·ä½¿ç”¨ -v æ ‡è®°ä¹Ÿå¯ä»¥æŒ‡å®šæŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºçš„ç›®å½•åˆ°å®¹å™¨ä¸­å»ã€‚ $ sudo docker run -d -P --name web -v /src/webapp:/opt/webapp training/webapp python app.py ä¸Šé¢çš„å‘½ä»¤åŠ è½½ä¸»æœºçš„ &#x2F;src&#x2F;webapp ç›®å½•åˆ°å®¹å™¨çš„ &#x2F;opt&#x2F;webapp ç›®å½•ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ååˆ†æ–¹ä¾¿ï¼Œæ¯”å¦‚ç”¨æˆ·å¯ä»¥æ”¾ç½®ä¸€äº›ç¨‹åºåˆ°æœ¬åœ°ç›®å½•ä¸­ï¼Œæ¥æŸ¥çœ‹å®¹å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚æœ¬åœ°ç›®å½•çš„è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ Docker ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºå®ƒã€‚ æ³¨æ„ï¼šDockerfile ä¸­ä¸æ”¯æŒè¿™ç§ç”¨æ³•ï¼Œè¿™æ˜¯å› ä¸º Dockerfile æ˜¯ä¸ºäº†ç§»æ¤å’Œåˆ†äº«ç”¨çš„ã€‚ç„¶è€Œï¼Œä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„æ ¼å¼ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ç›®å‰è¿˜ä¸èƒ½æ”¯æŒã€‚ Docker æŒ‚è½½æ•°æ®å·çš„é»˜è®¤æƒé™æ˜¯è¯»å†™ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡ :ro æŒ‡å®šä¸ºåªè¯»ã€‚ $ sudo docker run -d -P --name web -v /src/webapp:/opt/webapp:ro training/webapp python app.py åŠ äº† :ro ä¹‹åï¼Œå°±æŒ‚è½½ä¸ºåªè¯»äº†ã€‚ æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯åœ¨ä¸»æœºé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®šå®¹å™¨çš„ä¿¡æ¯ $ docker inspect web åœ¨è¾“å‡ºçš„å†…å®¹ä¸­æ‰¾åˆ°å…¶ä¸­å’Œæ•°æ®å·ç›¸å…³çš„éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®å·éƒ½æ˜¯åˆ›å»ºåœ¨ä¸»æœºçš„&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;ä¸‹é¢çš„ &quot;Volumes&quot;: &#123; &quot;/webapp&quot;: &quot;/var/lib/docker/volumes/fac362...80535&quot; &#125;, &quot;VolumesRW&quot;: &#123; &quot;/webapp&quot;: true &#125; ... æ³¨ï¼šä»Docker 1.8.0èµ·ï¼Œæ•°æ®å·é…ç½®åœ¨â€Mountsâ€Keyä¸‹é¢ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®å·éƒ½æ˜¯åˆ›å»ºåœ¨ä¸»æœºçš„&#x2F;mnt&#x2F;sda1&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;â€¦.ä¸‹é¢äº†ã€‚ &quot;Mounts&quot;: [ &#123; &quot;Name&quot;: &quot;b53ebd40054dae599faf7c9666acfe205c3e922fc3e8bc3f2fd178ed788f1c29&quot;, &quot;Source&quot;: &quot;/mnt/sda1/var/lib/docker/volumes/b53ebd40054dae599faf7c9666acfe205c3e922fc3e8bc3f2fd178ed788f1c29/_data&quot;, &quot;Destination&quot;: &quot;/webapp&quot;, &quot;Driver&quot;: &quot;local&quot;, &quot;Mode&quot;: &quot;&quot;, &quot;RW&quot;: true, &quot;Propagation&quot;: &quot;&quot; &#125; ] ... æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºæ–‡ä»¶ä½œä¸ºæ•°æ®å·-v æ ‡è®°ä¹Ÿå¯ä»¥ä»ä¸»æœºæŒ‚è½½å•ä¸ªæ–‡ä»¶åˆ°å®¹å™¨ä¸­ $ sudo docker run --rm -it -v ~/.bash_history:/.bash_history ubuntu /bin/bash è¿™æ ·å°±å¯ä»¥è®°å½•åœ¨å®¹å™¨è¾“å…¥è¿‡çš„å‘½ä»¤äº†ã€‚ æ³¨æ„ï¼šå¦‚æœç›´æ¥æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œå¾ˆå¤šæ–‡ä»¶ç¼–è¾‘å·¥å…·ï¼ŒåŒ…æ‹¬ vi æˆ–è€… sed --in-placeï¼Œå¯èƒ½ä¼šé€ æˆæ–‡ä»¶ inode çš„æ”¹å˜ï¼Œä» Docker 1.1 .0èµ·ï¼Œè¿™ä¼šå¯¼è‡´æŠ¥é”™è¯¯ä¿¡æ¯ã€‚æ‰€ä»¥æœ€ç®€å•çš„åŠæ³•å°±ç›´æ¥æŒ‚è½½æ–‡ä»¶çš„çˆ¶ç›®å½•ã€‚ æ•°æ®å·å®¹å™¨å¦‚æœä½ æœ‰ä¸€äº›æŒç»­æ›´æ–°çš„æ•°æ®éœ€è¦åœ¨å®¹å™¨ä¹‹é—´å…±äº«ï¼Œæœ€å¥½åˆ›å»ºæ•°æ®å·å®¹å™¨ã€‚ æ•°æ®å·å®¹å™¨ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å®¹å™¨ï¼Œä¸“é—¨ç”¨æ¥æä¾›æ•°æ®å·ä¾›å…¶å®ƒå®¹å™¨æŒ‚è½½çš„ã€‚ é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º dbdata çš„æ•°æ®å·å®¹å™¨ï¼š $ sudo docker run -d -v /dbdata --name dbdata training/postgres echo Data-only container for postgres ç„¶åï¼Œåœ¨å…¶ä»–å®¹å™¨ä¸­ä½¿ç”¨ â€“volumes-from æ¥æŒ‚è½½ dbdata å®¹å™¨ä¸­çš„æ•°æ®å·ã€‚ $ sudo docker run -d --volumes-from dbdata --name db1 training/postgres $ sudo docker run -d --volumes-from dbdata --name db2 training/postgres å¯ä»¥ä½¿ç”¨è¶…è¿‡ä¸€ä¸ªçš„ --volumes-from å‚æ•°æ¥æŒ‡å®šä»å¤šä¸ªå®¹å™¨æŒ‚è½½ä¸åŒçš„æ•°æ®å·ã€‚ ä¹Ÿå¯ä»¥ä»å…¶ä»–å·²ç»æŒ‚è½½äº†æ•°æ®å·çš„å®¹å™¨æ¥çº§è”æŒ‚è½½æ•°æ®å·ã€‚ $ sudo docker run -d --name db3 --volumes-from db1 training/postgres æ³¨æ„ï¼šä½¿ç”¨ â€“volumes-from å‚æ•°æ‰€æŒ‚è½½æ•°æ®å·çš„å®¹å™¨è‡ªå·±å¹¶ä¸éœ€è¦ä¿æŒåœ¨è¿è¡ŒçŠ¶æ€ã€‚ å¦‚æœåˆ é™¤äº†æŒ‚è½½çš„å®¹å™¨ï¼ˆåŒ…æ‹¬ dbdataã€db1 å’Œ db2ï¼‰ï¼Œæ•°æ®å·å¹¶ä¸ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚å¦‚æœè¦åˆ é™¤ä¸€ä¸ªæ•°æ®å·ï¼Œå¿…é¡»åœ¨åˆ é™¤æœ€åä¸€ä¸ªè¿˜æŒ‚è½½ç€å®ƒçš„å®¹å™¨æ—¶ä½¿ç”¨ docker rm -v å‘½ä»¤æ¥æŒ‡å®šåŒæ—¶åˆ é™¤å…³è”çš„å®¹å™¨ã€‚ è¿™å¯ä»¥è®©ç”¨æˆ·åœ¨å®¹å™¨ä¹‹é—´å‡çº§å’Œç§»åŠ¨æ•°æ®å·ã€‚å…·ä½“çš„æ“ä½œå°†åœ¨ä¸‹ä¸€èŠ‚ä¸­è¿›è¡Œè®²è§£ã€‚ åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥å¤‡ä»½ã€æ¢å¤ã€è¿ç§»æ•°æ®å·å¯ä»¥åˆ©ç”¨æ•°æ®å·å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œè¿›è¡Œå¤‡ä»½ã€æ¢å¤å’Œè¿ç§»ã€‚ å¤‡ä»½é¦–å…ˆä½¿ç”¨ â€“volumes-from æ ‡è®°æ¥åˆ›å»ºä¸€ä¸ªåŠ è½½ dbdata å®¹å™¨å·çš„å®¹å™¨ï¼Œå¹¶ä»ä¸»æœºæŒ‚è½½å½“å‰ç›®å½•åˆ°å®¹å™¨çš„ &#x2F;backup ç›®å½•ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š $ sudo docker run --volumes-from dbdata -v $(pwd):/backup ubuntu tar cvf /backup/backup.tar /dbdata å®¹å™¨å¯åŠ¨åï¼Œä½¿ç”¨äº† tar å‘½ä»¤æ¥å°† dbdata å·å¤‡ä»½ä¸ºå®¹å™¨ä¸­ &#x2F;backup&#x2F;backup.tar æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸»æœºå½“å‰ç›®å½•ä¸‹çš„åä¸º backup.tar çš„æ–‡ä»¶ã€‚ æ¢å¤å¦‚æœè¦æ¢å¤æ•°æ®åˆ°ä¸€ä¸ªå®¹å™¨ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç©ºæ•°æ®å·çš„å®¹å™¨ dbdata2ã€‚ $ sudo docker run -v /dbdata --name dbdata2 ubuntu /bin/bash ç„¶ååˆ›å»ºå¦ä¸€ä¸ªå®¹å™¨ï¼ŒæŒ‚è½½ dbdata2 å®¹å™¨å·ä¸­çš„æ•°æ®å·ï¼Œå¹¶ä½¿ç”¨ untar è§£å‹å¤‡ä»½æ–‡ä»¶åˆ°æŒ‚è½½çš„å®¹å™¨å·ä¸­ã€‚ $ sudo docker run --volumes-from dbdata2 -v $(pwd):/backup busybox tar xvf /backup/backup.tar ä¸ºäº†æŸ¥çœ‹&#x2F;éªŒè¯æ¢å¤çš„æ•°æ®ï¼Œå¯ä»¥å†å¯åŠ¨ä¸€ä¸ªå®¹å™¨æŒ‚è½½åŒæ ·çš„å®¹å™¨å·æ¥æŸ¥çœ‹ $ sudo docker run --volumes-from dbdata2 busybox /bin/ls /dbdata","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"dockerå®¹å™¨","slug":"dockerå®¹å™¨","date":"2017-05-23T13:29:38.000Z","updated":"2024-07-05T11:10:22.231Z","comments":true,"path":"2017/05/23/docker-container/","permalink":"http://yelog.org/2017/05/23/docker-container/","excerpt":"","text":"å®¹å™¨é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚ å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ å‘½ä»¤# åˆ›å»ºä¸€ä¸ªåä¸ºmyubuntuçš„å®¹å™¨ # -t:åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ -i:è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ $ docker run --name=myubuntu -t -i ubuntu /bin/bash # åˆ›å»ºä¸€ä¸ªåä¸ºwebserver çš„nginxå®¹å™¨ï¼Œä½¿ç”¨å·æ˜ å°„æœ¬æœº/home/faker/myspace/nginxç›®å½•åˆ°dockerç›®å½•/usr/share/nginx/html $ docker run --name=webserver -d -v /home/faker/myspace/nginx:/usr/share/nginx/html -p 80:80 nginx # æŸ¥çœ‹å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼ˆæ‰“å°ä¿¡æ¯ï¼Œå¦‚ echoï¼‰ # runçš„æ—¶å€™ï¼Œä½¿ç”¨-då°†ä¼šä¸å±•ç¤ºåœ¨å®¿ä¸»æœºä¸Šï¼Œå¯é€šè¿‡ä¸‹é¢å‘½ä»¤æŸ¥çœ‹æ‰“å°ä¿¡æ¯ $ docker run -d ubuntu:14.04 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot; $ docker logs [container ID or NAMES] # å¯åŠ¨å®¹å™¨ myubuntu $ docker start myubuntu # å…³é—­å®¹å™¨ myubuntu $ docker stop myubuntu # æŸ¥çœ‹å·²å¯åŠ¨çš„å®¹å™¨ -a:æŸ¥çœ‹åŒ…æ‹¬æœªå¯åŠ¨çš„å®¹å™¨åœ¨å†…çš„æ‰€æœ‰å®¹å™¨ $ docker ps [-a] # è¿›å…¥å®¹å™¨ï¼ˆDockerè‡ªå¸¦çš„å‘½ä»¤ï¼‰ $ docker attach [name] # è¿›å…¥å®¹å™¨ï¼ˆé€šè¿‡execï¼‰ $ docker exec -it [name] /bin/bash # å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶ $ docker export [container id] &gt; ubuntu.tar # å°†å®¹å™¨å¿«ç…§å¯¼å…¥ä¸ºé•œåƒ $ cat ubuntu.tar | docker import - test/ubuntu:v1.0 # ä»åˆ¶å®š URL æˆ–è€…æŸä¸ªç›®å½•å¯¼å…¥ $ docker import http://example.com/exampleimage.tgz example/imagerepo # åˆ é™¤å®¹å™¨ -f:åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨ $ docker [-f] rm myubuntu # åˆ é™¤æ‰€æœ‰å·²å…³é—­çš„å®¹å™¨ $ docker rm $(docker ps -a -q) # æŸ¥è¯¢å„å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ $ docker stats $(docker ps --format=&#123;&#123;.Names&#125;&#125;)","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"dockerä»“åº“","slug":"dockerä»“åº“","date":"2017-05-23T13:15:52.000Z","updated":"2024-07-05T11:10:22.214Z","comments":true,"path":"2017/05/23/docker-registry/","permalink":"http://yelog.org/2017/05/23/docker-registry/","excerpt":"","text":"Docker Hubç›®å‰ Docker å®˜æ–¹ç»´æŠ¤äº†ä¸€ä¸ªå…¬å…±ä»“åº“ Docker Hubï¼Œå…¶ä¸­å·²ç»åŒ…æ‹¬äº†è¶…è¿‡ 15,000 çš„é•œåƒã€‚å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œéƒ½å¯ä»¥é€šè¿‡åœ¨ Docker Hub ä¸­ç›´æ¥ä¸‹è½½é•œåƒæ¥å®ç°ã€‚ ç™»å½•å¯ä»¥é€šè¿‡æ‰§è¡Œ docker login å‘½ä»¤æ¥è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±æ¥å®Œæˆæ³¨å†Œå’Œç™»å½•ã€‚ æ³¨å†ŒæˆåŠŸåï¼Œæœ¬åœ°ç”¨æˆ·ç›®å½•çš„ .dockercfg ä¸­å°†ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚ åŸºæœ¬æ“ä½œç”¨æˆ·æ— éœ€ç™»å½•å³å¯é€šè¿‡ docker search å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼Œå¹¶åˆ©ç”¨ docker pull å‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ°ã€‚ ä¾‹å¦‚ä»¥ centos ä¸ºå…³é”®è¯è¿›è¡Œæœç´¢ï¼š $ sudo docker search centos NAME DESCRIPTION STARS OFFICIAL AUTOMATED centos The official build of CentOS. 465 [OK] tianon/centos CentOS 5 and 6, created using rinse instea... 28 blalor/centos Bare-bones base CentOS 6.5 image 6 [OK] saltstack/centos-6-minimal 6 [OK] tutum/centos-6.4 DEPRECATED. Use tutum/centos:6.4 instead. ... 5 [OK] ... å¯ä»¥çœ‹åˆ°è¿”å›äº†å¾ˆå¤šåŒ…å«å…³é”®å­—çš„é•œåƒï¼Œå…¶ä¸­åŒ…æ‹¬é•œåƒåå­—ã€æè¿°ã€æ˜Ÿçº§ï¼ˆè¡¨ç¤ºè¯¥é•œåƒçš„å—æ¬¢è¿ç¨‹åº¦ï¼‰ã€æ˜¯å¦å®˜æ–¹åˆ›å»ºã€æ˜¯å¦è‡ªåŠ¨åˆ›å»ºã€‚ å®˜æ–¹çš„é•œåƒè¯´æ˜æ˜¯å®˜æ–¹é¡¹ç›®ç»„åˆ›å»ºå’Œç»´æŠ¤çš„ï¼Œautomated èµ„æºå…è®¸ç”¨æˆ·éªŒè¯é•œåƒçš„æ¥æºå’Œå†…å®¹ã€‚ æ ¹æ®æ˜¯å¦æ˜¯å®˜æ–¹æä¾›ï¼Œå¯å°†é•œåƒèµ„æºåˆ†ä¸ºä¸¤ç±»ã€‚ ä¸€ç§æ˜¯ç±»ä¼¼ centos è¿™æ ·çš„åŸºç¡€é•œåƒï¼Œè¢«ç§°ä¸ºåŸºç¡€æˆ–æ ¹é•œåƒã€‚è¿™äº›åŸºç¡€é•œåƒæ˜¯ç”± Docker å…¬å¸åˆ›å»ºã€éªŒè¯ã€æ”¯æŒã€æä¾›ã€‚è¿™æ ·çš„é•œåƒå¾€å¾€ä½¿ç”¨å•ä¸ªå•è¯ä½œä¸ºåå­—ã€‚ è¿˜æœ‰ä¸€ç§ç±»å‹ï¼Œæ¯”å¦‚ tianon&#x2F;centos é•œåƒï¼Œå®ƒæ˜¯ç”± Docker çš„ç”¨æˆ·åˆ›å»ºå¹¶ç»´æŠ¤çš„ï¼Œå¾€å¾€å¸¦æœ‰ç”¨æˆ·åç§°å‰ç¼€ã€‚å¯ä»¥é€šè¿‡å‰ç¼€ user_name&#x2F; æ¥æŒ‡å®šä½¿ç”¨æŸä¸ªç”¨æˆ·æä¾›çš„é•œåƒï¼Œæ¯”å¦‚ tianon ç”¨æˆ·ã€‚ å¦å¤–ï¼Œåœ¨æŸ¥æ‰¾çš„æ—¶å€™é€šè¿‡ -s N å‚æ•°å¯ä»¥æŒ‡å®šä»…æ˜¾ç¤ºè¯„ä»·ä¸º N æ˜Ÿä»¥ä¸Šçš„é•œåƒã€‚ ä¸‹è½½å®˜æ–¹ centos é•œåƒåˆ°æœ¬åœ°ã€‚ $ sudo docker pull centos Pulling repository centos 0b443ba03958: Download complete 539c0211cd76: Download complete 511136ea3c5a: Download complete 7064731afe90: Download complete ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ç™»å½•åé€šè¿‡ docker push å‘½ä»¤æ¥å°†é•œåƒæ¨é€åˆ° Docker Hubã€‚ ç§æœ‰ä»“åº“å®‰è£… docker-registryå®¹å™¨è¿è¡Œåœ¨å®‰è£…äº† Docker åï¼Œå¯ä»¥é€šè¿‡è·å–å®˜æ–¹ registry é•œåƒæ¥è¿è¡Œã€‚ $ sudo docker run -d -p 5000:5000 registry è¿™å°†ä½¿ç”¨å®˜æ–¹çš„ registry é•œåƒæ¥å¯åŠ¨æœ¬åœ°çš„ç§æœ‰ä»“åº“ã€‚ ç”¨æˆ·å¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°æ¥é…ç½®ç§æœ‰ä»“åº“ä½ç½®ï¼Œä¾‹å¦‚é…ç½®é•œåƒå­˜å‚¨åˆ° Amazon S3 æœåŠ¡ã€‚ $ sudo docker run \\ -e SETTINGS_FLAVOR=s3 \\ -e AWS_BUCKET=acme-docker \\ -e STORAGE_PATH=/registry \\ -e AWS_KEY=AKIAHSHB43HS3J92MXZ \\ -e AWS_SECRET=xdDowwlK7TJajV1Y7EoOZrmuPEJlHYcNP2k4j49T \\ -e SEARCH_BACKEND=sqlalchemy \\ -p 5000:5000 \\ registry æ­¤å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šæœ¬åœ°è·¯å¾„ï¼ˆå¦‚ &#x2F;home&#x2F;user&#x2F;registry-conf ï¼‰ä¸‹çš„é…ç½®æ–‡ä»¶ã€‚ $ sudo docker run -d -p 5000:5000 -v /home/user/registry-conf:/registry-conf -e DOCKER_REGISTRY_CONFIG=/registry-conf/config.yml registry é»˜è®¤æƒ…å†µä¸‹ï¼Œä»“åº“ä¼šè¢«åˆ›å»ºåœ¨å®¹å™¨çš„ &#x2F;tmp&#x2F;registry ä¸‹ã€‚å¯ä»¥é€šè¿‡ -v å‚æ•°æ¥å°†é•œåƒæ–‡ä»¶å­˜æ”¾åœ¨æœ¬åœ°çš„æŒ‡å®šè·¯å¾„ã€‚ ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­å°†ä¸Šä¼ çš„é•œåƒæ”¾åˆ° &#x2F;opt&#x2F;data&#x2F;registry ç›®å½•ã€‚ $ sudo docker run -d -p 5000:5000 -v /opt/data/registry:/tmp/registry registry æœ¬åœ°å®‰è£…å¯¹äº Ubuntu æˆ– CentOS ç­‰å‘è¡Œç‰ˆï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æºå®‰è£…ã€‚1.Ubuntu $ sudo apt-get install -y build-essential python-dev libevent-dev python-pip liblzma-dev $ sudo pip install docker-registry 2.CentOS $ sudo yum install -y python-devel libevent-devel python-pip gcc xz-devel $ sudo python-pip install docker-registry 3.æºç å®‰è£… $ sudo apt-get install build-essential python-dev libevent-dev python-pip libssl-dev liblzma-dev libffi-dev $ git clone https://github.com/docker/docker-registry.git $ cd docker-registry $ sudo python setup.py install ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸»è¦ä¿®æ”¹ dev æ¨¡æ¿æ®µçš„ storage_path åˆ°æœ¬åœ°çš„å­˜å‚¨ä»“åº“çš„è·¯å¾„ã€‚ $ cp config/config_sample.yml config/config.yml ä¹‹åå¯åŠ¨ Web æœåŠ¡ã€‚ $ sudo gunicorn -c contrib/gunicorn.py docker_registry.wsgi:application æˆ–è€… $ sudo gunicorn --access-logfile - --error-logfile - -k gevent -b 0.0.0.0:5000 -w 4 --max-requests 100 docker_registry.wsgi:application æ­¤æ—¶ä½¿ç”¨ curl è®¿é—®æœ¬åœ°çš„ 5000 ç«¯å£ï¼Œçœ‹åˆ°è¾“å‡º docker-registry çš„ç‰ˆæœ¬ä¿¡æ¯è¯´æ˜è¿è¡ŒæˆåŠŸã€‚ æ³¨ï¼šconfig&#x2F;config_sample.yml æ–‡ä»¶æ˜¯ç¤ºä¾‹é…ç½®æ–‡ä»¶ã€‚ åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€ä¸‹è½½ã€æœç´¢é•œåƒåˆ›å»ºå¥½ç§æœ‰ä»“åº“ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ docker tag æ¥æ ‡è®°ä¸€ä¸ªé•œåƒï¼Œç„¶åæ¨é€å®ƒåˆ°ä»“åº“ï¼Œåˆ«çš„æœºå™¨ä¸Šå°±å¯ä»¥ä¸‹è½½ä¸‹æ¥äº†ã€‚ä¾‹å¦‚ç§æœ‰ä»“åº“åœ°å€ä¸º 192.168.7.26:5000ã€‚ å…ˆåœ¨æœ¬æœºæŸ¥çœ‹å·²æœ‰çš„é•œåƒã€‚ $ sudo docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE ubuntu latest ba5877dc9bec 6 weeks ago 192.7 MB ubuntu 14.04 ba5877dc9bec 6 weeks ago 192.7 MB ä½¿ç”¨docker tag å°† ba58 è¿™ä¸ªé•œåƒæ ‡è®°ä¸º 192.168.7.26:5000&#x2F;testï¼ˆæ ¼å¼ä¸º docker tag IMAGE[:TAG] [REGISTRYHOST&#x2F;][USERNAME&#x2F;]NAME[:TAG]ï¼‰ã€‚ $ sudo docker tag ba58 192.168.7.26:5000/test root ~ # docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE ubuntu 14.04 ba5877dc9bec 6 weeks ago 192.7 MB ubuntu latest ba5877dc9bec 6 weeks ago 192.7 MB 192.168.7.26:5000/test latest ba5877dc9bec 6 weeks ago 192.7 MB ä½¿ç”¨ docker push ä¸Šä¼ æ ‡è®°çš„é•œåƒã€‚ $ sudo docker push 192.168.7.26:5000/test The push refers to a repository [192.168.7.26:5000/test] (len: 1) Sending image list Pushing repository 192.168.7.26:5000/test (1 tags) Image 511136ea3c5a already pushed, skipping Image 9bad880da3d2 already pushed, skipping Image 25f11f5fb0cb already pushed, skipping Image ebc34468f71d already pushed, skipping Image 2318d26665ef already pushed, skipping Image ba5877dc9bec already pushed, skipping Pushing tag for rev [ba5877dc9bec] on &#123;http://192.168.7.26:5000/v1/repositories/test/tags/latest&#125; ç”¨ curl æŸ¥çœ‹ä»“åº“ä¸­çš„é•œåƒã€‚ $ curl http://192.168.7.26:5000/v1/search &#123;&quot;num_results&quot;: 7, &quot;query&quot;: &quot;&quot;, &quot;results&quot;: [&#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/miaxis_j2ee&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/tomcat&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/ubuntu&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/ubuntu_office&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/desktop_ubu&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;dockerfile/ubuntu&quot;&#125;, &#123;&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/test&quot;&#125;]&#125; è¿™é‡Œå¯ä»¥çœ‹åˆ° {â€œdescriptionâ€: â€œâ€, â€œnameâ€: â€œlibrary&#x2F;testâ€}ï¼Œè¡¨æ˜é•œåƒå·²ç»è¢«æˆåŠŸä¸Šä¼ äº†ã€‚ ç°åœ¨å¯ä»¥åˆ°å¦å¤–ä¸€å°æœºå™¨å»ä¸‹è½½è¿™ä¸ªé•œåƒã€‚ $ sudo docker pull 192.168.7.26:5000/test Pulling repository 192.168.7.26:5000/test ba5877dc9bec: Download complete 511136ea3c5a: Download complete 9bad880da3d2: Download complete 25f11f5fb0cb: Download complete ebc34468f71d: Download complete 2318d26665ef: Download complete $ sudo docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE 192.168.7.26:5000/test latest ba5877dc9bec 6 weeks ago 192.7 MB å¯ä»¥ä½¿ç”¨ è¿™ä¸ªè„šæœ¬ æ‰¹é‡ä¸Šä¼ æœ¬åœ°çš„é•œåƒåˆ°æ³¨å†ŒæœåŠ¡å™¨ä¸­ï¼Œé»˜è®¤æ˜¯æœ¬åœ°æ³¨å†ŒæœåŠ¡å™¨ 127.0.0.1:5000ã€‚ä¾‹å¦‚ï¼š $ wget https://github.com/yeasy/docker_practice/raw/master/_local/push_images.sh; sudo chmod a+x push_images.sh $ ./push_images.sh ubuntu:latest centos:centos7 The registry server is 127.0.0.1 Uploading ubuntu:latest... The push refers to a repository [127.0.0.1:5000/ubuntu] (len: 1) Sending image list Pushing repository 127.0.0.1:5000/ubuntu (1 tags) Image 511136ea3c5a already pushed, skipping Image bfb8b5a2ad34 already pushed, skipping Image c1f3bdbd8355 already pushed, skipping Image 897578f527ae already pushed, skipping Image 9387bcc9826e already pushed, skipping Image 809ed259f845 already pushed, skipping Image 96864a7d2df3 already pushed, skipping Pushing tag for rev [96864a7d2df3] on &#123;http://127.0.0.1:5000/v1/repositories/ubuntu/tags/latest&#125; Untagged: 127.0.0.1:5000/ubuntu:latest Done Uploading centos:centos7... The push refers to a repository [127.0.0.1:5000/centos] (len: 1) Sending image list Pushing repository 127.0.0.1:5000/centos (1 tags) Image 511136ea3c5a already pushed, skipping 34e94e67e63a: Image successfully pushed 70214e5d0a90: Image successfully pushed Pushing tag for rev [70214e5d0a90] on &#123;http://127.0.0.1:5000/v1/repositories/centos/tags/centos7&#125; Untagged: 127.0.0.1:5000/centos:centos7 Done ä»“åº“é…ç½®æ–‡ä»¶Docker çš„ Registry åˆ©ç”¨é…ç½®æ–‡ä»¶æä¾›äº†ä¸€äº›ä»“åº“çš„æ¨¡æ¿ï¼ˆflavorï¼‰ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬æ¥è¿›è¡Œå¼€å‘æˆ–ç”Ÿäº§éƒ¨ç½²ã€‚ æ¨¡æ¿åœ¨ config_sample.yml æ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›ç°æˆçš„æ¨¡æ¿æ®µï¼š commonï¼šåŸºç¡€é…ç½® localï¼šå­˜å‚¨æ•°æ®åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ s3ï¼šå­˜å‚¨æ•°æ®åˆ° AWS S3 ä¸­ devï¼šä½¿ç”¨ local æ¨¡æ¿çš„åŸºæœ¬é…ç½® testï¼šå•å…ƒæµ‹è¯•ä½¿ç”¨ prodï¼šç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆåŸºæœ¬ä¸Šè·Ÿs3é…ç½®ç±»ä¼¼ï¼‰ gcsï¼šå­˜å‚¨æ•°æ®åˆ° Google çš„äº‘å­˜å‚¨ swiftï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Swift æœåŠ¡ glanceï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Glance æœåŠ¡ï¼Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸ºåå¤‡ glance-swiftï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Glance æœåŠ¡ï¼ŒSwift ä¸ºåå¤‡ ellipticsï¼šå­˜å‚¨æ•°æ®åˆ° Elliptics key&#x2F;value å­˜å‚¨ ç”¨æˆ·ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„æ¨¡ç‰ˆæ®µã€‚ é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ¨¡æ¿æ˜¯ devï¼Œè¦ä½¿ç”¨æŸä¸ªæ¨¡æ¿ä½œä¸ºé»˜è®¤å€¼ï¼Œå¯ä»¥æ·»åŠ  SETTINGS_FLAVOR åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä¾‹å¦‚ export SETTINGS_FLAVOR=dev å¦å¤–ï¼Œé…ç½®æ–‡ä»¶ä¸­æ”¯æŒä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½å€¼ï¼Œè¯­æ³•æ ¼å¼ä¸º _env:VARIABLENAME[:DEFAULT]ã€‚ ç¤ºä¾‹é…ç½®common: loglevel: info search_backend: &quot;_env:SEARCH_BACKEND:&quot; sqlalchemy_index_database: &quot;_env:SQLALCHEMY_INDEX_DATABASE:sqlite:////tmp/docker-registry.db&quot; prod: loglevel: warn storage: s3 s3_access_key: _env:AWS_S3_ACCESS_KEY s3_secret_key: _env:AWS_S3_SECRET_KEY s3_bucket: _env:AWS_S3_BUCKET boto_bucket: _env:AWS_S3_BUCKET storage_path: /srv/docker smtp_host: localhost from_addr: docker@myself.com to_addr: my@myself.com dev: loglevel: debug storage: local storage_path: /home/myself/docker test: storage: local storage_path: /tmp/tmpdockertmp","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"},{"name":"dockerä»“åº“","slug":"dockerä»“åº“","permalink":"http://yelog.org/tags/docker%E4%BB%93%E5%BA%93/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ58ï¼‰: sort","slug":"linux-command-58-sort","date":"2017-05-23T03:44:12.000Z","updated":"2024-07-05T11:10:23.047Z","comments":true,"path":"2017/05/23/linux-command-57-sort/","permalink":"http://yelog.org/2017/05/23/linux-command-57-sort/","excerpt":"","text":"sortæ˜¯åœ¨Linuxé‡Œéå¸¸å¸¸ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œç®¡æ’åºçš„ã€‚ 1.å·¥ä½œåŸç†sortå°†æ–‡ä»¶çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå•ä½ï¼Œç›¸äº’æ¯”è¾ƒï¼Œæ¯”è¾ƒåŸåˆ™æ˜¯ä»é¦–å­—ç¬¦å‘åï¼Œä¾æ¬¡æŒ‰ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºè¾“å‡ºã€‚ $ cat seq.txt apple allow photo bowl peal check cheese $ sort seq.txt allow apple bowl check cheese peal photo 2.sortçš„-ué€‰é¡¹å®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨è¾“å‡ºè¡Œä¸­å»é™¤é‡å¤è¡Œã€‚ 3.sortçš„-ré€‰é¡¹sorté»˜è®¤çš„æ’åºæ–¹å¼æ˜¯å‡åºï¼Œå¦‚æœæƒ³æ”¹æˆé™åºï¼Œå°±åŠ ä¸ª-rå°±æå®šäº†ã€‚ 4.sortçš„-oé€‰é¡¹ç”±äºsorté»˜è®¤æ˜¯æŠŠç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæ‰€ä»¥éœ€è¦ç”¨é‡å®šå‘æ‰èƒ½å°†ç»“æœå†™å…¥æ–‡ä»¶ï¼Œå½¢å¦‚sort filename &gt; newfileã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æŠŠæ’åºç»“æœè¾“å‡ºåˆ°åŸæ–‡ä»¶ä¸­ï¼Œç”¨é‡å®šå‘å¯å°±ä¸è¡Œäº†ã€‚ [rocrocket@rocrocket programming]$ sort -r number.txt &gt; number.txt [rocrocket@rocrocket programming]$ cat number.txt [rocrocket@rocrocket programming]$ çœ‹ï¼Œç«Ÿç„¶å°†numberæ¸…ç©ºäº†ã€‚ å°±åœ¨è¿™ä¸ªæ—¶å€™ï¼Œ-oé€‰é¡¹å‡ºç°äº†ï¼Œå®ƒæˆåŠŸçš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè®©ä½ æ”¾å¿ƒçš„å°†ç»“æœå†™å…¥åŸæ–‡ä»¶ã€‚è¿™æˆ–è®¸ä¹Ÿæ˜¯-oæ¯”é‡å®šå‘çš„å”¯ä¸€ä¼˜åŠ¿æ‰€åœ¨ã€‚ 5.sortçš„-né€‰é¡¹ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡10æ¯”2å°çš„æƒ…å†µã€‚æˆ‘åæ­£é‡åˆ°è¿‡ã€‚å‡ºç°è¿™ç§æƒ…å†µæ˜¯ç”±äºæ’åºç¨‹åºå°†è¿™äº›æ•°å­—æŒ‰å­—ç¬¦æ¥æ’åºäº†ï¼Œæ’åºç¨‹åºä¼šå…ˆæ¯”è¾ƒ1å’Œ2ï¼Œæ˜¾ç„¶1å°ï¼Œæ‰€ä»¥å°±å°†10æ”¾åœ¨2å‰é¢å–½ã€‚è¿™ä¹Ÿæ˜¯sortçš„ä¸€è´¯ä½œé£ã€‚ æˆ‘ä»¬å¦‚æœæƒ³æ”¹å˜è¿™ç§ç°çŠ¶ï¼Œå°±è¦ä½¿ç”¨-né€‰é¡¹ï¼Œæ¥å‘Šè¯‰sortï¼Œâ€œè¦ä»¥æ•°å€¼æ¥æ’åºâ€ï¼ 6.sortçš„-té€‰é¡¹å’Œ-ké€‰é¡¹å¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜¯è¿™æ ·ï¼š [rocrocket@rocrocket programming]$ cat facebook.txt banana:30:5.5 apple:10:2.5 pear:90:2.3 orange:20:3.4 è¿™ä¸ªæ–‡ä»¶æœ‰ä¸‰åˆ—ï¼Œåˆ—ä¸åˆ—ä¹‹é—´ç”¨å†’å·éš”å¼€äº†ï¼Œç¬¬ä¸€åˆ—è¡¨ç¤ºæ°´æœç±»å‹ï¼Œç¬¬äºŒåˆ—è¡¨ç¤ºæ°´æœæ•°é‡ï¼Œç¬¬ä¸‰åˆ—è¡¨ç¤ºæ°´æœä»·æ ¼ã€‚ é‚£ä¹ˆæˆ‘æƒ³ä»¥æ°´æœæ•°é‡æ¥æ’åºï¼Œä¹Ÿå°±æ˜¯ä»¥ç¬¬äºŒåˆ—æ¥æ’åºï¼Œå¦‚ä½•åˆ©ç”¨sortå®ç°ï¼Ÿ å¹¸å¥½ï¼Œsortæä¾›äº†-té€‰é¡¹ï¼Œåé¢å¯ä»¥è®¾å®šé—´éš”ç¬¦ã€‚ï¼ˆæ˜¯ä¸æ˜¯æƒ³èµ·äº†cutå’Œpasteçš„-dé€‰é¡¹ï¼Œå…±é¸£ï½ï½ï¼‰ æŒ‡å®šäº†é—´éš”ç¬¦ä¹‹åï¼Œå°±å¯ä»¥ç”¨-kæ¥æŒ‡å®šåˆ—æ•°äº†ã€‚ [rocrocket@rocrocket programming]$ sort -n -k 2 -t : facebook.txt apple:10:2.5 orange:20:3.4 banana:30:5.5 pear:90:2.3 æˆ‘ä»¬ä½¿ç”¨å†’å·ä½œä¸ºé—´éš”ç¬¦ï¼Œå¹¶é’ˆå¯¹ç¬¬äºŒåˆ—æ¥è¿›è¡Œæ•°å€¼å‡åºæ’åºï¼Œç»“æœå¾ˆä»¤äººæ»¡æ„ã€‚ 7.å…¶ä»–çš„sortå¸¸ç”¨é€‰é¡¹-fä¼šå°†å°å†™å­—æ¯éƒ½è½¬æ¢ä¸ºå¤§å†™å­—æ¯æ¥è¿›è¡Œæ¯”è¾ƒï¼Œäº¦å³å¿½ç•¥å¤§å°å†™ -cä¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²æ’å¥½åºï¼Œå¦‚æœä¹±åºï¼Œåˆ™è¾“å‡ºç¬¬ä¸€ä¸ªä¹±åºçš„è¡Œçš„ç›¸å…³ä¿¡æ¯ï¼Œæœ€åè¿”å›1 -Cä¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²æ’å¥½åºï¼Œå¦‚æœä¹±åºï¼Œä¸è¾“å‡ºå†…å®¹ï¼Œä»…è¿”å›1 -Mä¼šä»¥æœˆä»½æ¥æ’åºï¼Œæ¯”å¦‚JANå°äºFEBç­‰ç­‰ -bä¼šå¿½ç•¥æ¯ä¸€è¡Œå‰é¢çš„æ‰€æœ‰ç©ºç™½éƒ¨åˆ†ï¼Œä»ç¬¬ä¸€ä¸ªå¯è§å­—ç¬¦å¼€å§‹æ¯”è¾ƒã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"CentOSä¿®æ”¹DNS/GW/IP","slug":"CentOSä¿®æ”¹DNS-GW-IP","date":"2017-05-23T01:53:52.000Z","updated":"2024-07-05T11:10:23.083Z","comments":true,"path":"2017/05/23/CentOS-DNS-GW-IP/","permalink":"http://yelog.org/2017/05/23/CentOS-DNS-GW-IP/","excerpt":"","text":"1.ä¿®æ”¹DNSè§£å†³æ–¹æ¡ˆä¸€ï¼šä¿®æ”¹ç½‘å¡çš„DNSçš„é…ç½®æ–‡ä»¶ $ vim /etc/resolv.conf æ·»åŠ ä»¥ä¸‹å†…å®¹,è®¾ç½®ä¸¤æ¡dns nameserver 8.8.8.8 #googleåŸŸåæœåŠ¡å™¨ nameserver 8.8.4.4 #googleåŸŸåæœåŠ¡å™¨ è‹¥æœªç”Ÿæ•ˆï¼Œå¯æ‰§è¡Œ chattr +i /etc/resolv.conf è®¾ç½®æ–‡ä»¶å±æ€§åªæœ‰rootç”¨æˆ·æ‰èƒ½ä¿®æ”¹ç„¶åæ‰§è¡Œ service NetworkManager restart è§£å†³æ–¹æ¡ˆäºŒï¼šå¯¹æ¥å£æ·»åŠ dnsä¿¡æ¯ï¼›ç¼–è¾‘&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-xxxï¼Œxxxä¸ºä½ çš„ç½‘å¡åï¼Œä½†ä¸€èˆ¬æ˜¯ifcfg-eth0çš„ï¼Œå…·ä½“çš„xxxæ ¹æ®ä½ çš„ç½‘å¡ç¡®å®šï¼Œåœ¨æœ€ä¸‹é¢æ·»åŠ ï¼š DNS1=8.8.8.8 #google dnsæœåŠ¡å™¨, æ ¹æ®å®é™…æƒ…å†µæ›´æ¢ DNS2=8.8.4.4 #google dnsæœåŠ¡å™¨, æ ¹æ®å®é™…æƒ…å†µæ›´æ¢ ä¿å­˜åé‡å¯ç½‘ç»œ $ service network restart 2.ä¿®æ”¹ç½‘å…³ä¿®æ”¹ç½‘å…³çš„é…ç½®æ–‡ä»¶(ç¬¬3éƒ¨åˆ†ä¹Ÿå¯ä»¥è®¾ç½®) $ vim /etc/sysconfig/network ä¿®æ”¹ä¸ºä¸€ä¸‹å†…å®¹ NETWORKING=yes(è¡¨ç¤ºç³»ç»Ÿæ˜¯å¦ä½¿ç”¨ç½‘ç»œï¼Œä¸€èˆ¬è®¾ç½®ä¸ºyesã€‚å¦‚æœè®¾ä¸ºnoï¼Œåˆ™ä¸èƒ½ä½¿ç”¨ç½‘ç»œï¼Œè€Œä¸”å¾ˆå¤šç³»ç»ŸæœåŠ¡ç¨‹åºå°†æ— æ³•å¯åŠ¨) HOSTNAME=centos(è®¾ç½®æœ¬æœºçš„ä¸»æœºåï¼Œè¿™é‡Œè®¾ç½®çš„ä¸»æœºåè¦å’Œ/etc/hostsä¸­è®¾ç½®çš„ä¸»æœºåå¯¹åº”) GATEWAY=192.168.1.1(è®¾ç½®æœ¬æœºè¿æ¥çš„ç½‘å…³çš„IPåœ°å€ã€‚ä¾‹å¦‚ï¼Œç½‘å…³ä¸º10.0.0.2) 3.ä¿®æ”¹ipä¿®æ”¹å¯¹åº”çš„ç½‘å¡çš„IPåœ°å€çš„é…ç½®æ–‡ä»¶ $ vim /etc/sysconfig/network-scripts/ifcfg-eth0 ä¿®æ”¹ä¸ºä¸€ä¸‹å†…å®¹ DEVICE=eth0 #æè¿°ç½‘å¡å¯¹åº”çš„è®¾å¤‡åˆ«åï¼Œä¾‹å¦‚ifcfg-eth0çš„æ–‡ä»¶ä¸­å®ƒä¸ºeth0 BOOTPROTO=static #è®¾ç½®ç½‘å¡è·å¾—ipåœ°å€çš„æ–¹å¼ï¼Œå¯èƒ½çš„é€‰é¡¹ä¸ºstaticï¼Œdhcpæˆ–bootpï¼Œåˆ†åˆ«å¯¹åº”é™æ€æŒ‡å®šçš„ ipåœ°å€ï¼Œé€šè¿‡dhcpåè®®è·å¾—çš„ipåœ°å€ï¼Œé€šè¿‡bootpåè®®è·å¾—çš„ipåœ°å€ BROADCAST=192.168.0.255 #å¯¹åº”çš„å­ç½‘å¹¿æ’­åœ°å€ HWADDR=00:07:E9:05:E8:B4 #å¯¹åº”çš„ç½‘å¡ç‰©ç†åœ°å€ IPADDR=12.168.1.2 #å¦‚æœè®¾ç½®ç½‘å¡è·å¾— ipåœ°å€çš„æ–¹å¼ä¸ºé™æ€æŒ‡å®šï¼Œæ­¤å­—æ®µå°±æŒ‡å®šäº†ç½‘å¡å¯¹åº”çš„ipåœ°å€ IPV6INIT=no IPV6_AUTOCONF=no NETMASK=255.255.255.0 #ç½‘å¡å¯¹åº”çš„ç½‘ç»œæ©ç  NETWORK=192.168.1.0 #ç½‘å¡å¯¹åº”çš„ç½‘ç»œåœ°å€ ONBOOT=yes #ç³»ç»Ÿå¯åŠ¨æ—¶æ˜¯å¦è®¾ç½®æ­¤ç½‘ç»œæ¥å£ï¼Œè®¾ç½®ä¸ºyesæ—¶ï¼Œç³»ç»Ÿå¯åŠ¨æ—¶æ¿€æ´»æ­¤è®¾å¤‡","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/tags/%E8%BF%90%E7%BB%B4/"},{"name":"centos","slug":"centos","permalink":"http://yelog.org/tags/centos/"}]},{"title":"DockerfileæŒ‡ä»¤è¯¦è§£","slug":"DockerfileæŒ‡ä»¤è¯¦è§£","date":"2017-05-22T11:11:42.000Z","updated":"2024-07-05T11:10:22.222Z","comments":true,"path":"2017/05/22/Dockerfile/","permalink":"http://yelog.org/2017/05/22/Dockerfile/","excerpt":"","text":"Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶å†…åŒ…å«äº†ä¸€æ¡æ¡çš„æŒ‡ä»¤(Instruction)ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚ï¼Œå› æ­¤æ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹ï¼Œå°±æ˜¯æè¿°è¯¥å±‚åº”å½“å¦‚ä½•æ„å»ºã€‚ æ„å»ºé•œåƒå‘½ä»¤æ ¼å¼ï¼š $ docker build [é€‰é¡¹] &lt;ä¸Šä¸‹æ–‡è·¯å¾„/URL/-&gt; ç¤ºä¾‹ï¼š # æ„å»ºä¸€ä¸ªåä¸º nginx:v3 çš„é•œåƒ $ docker build -t nginx:v3 . RUN æ‰§è¡Œå‘½ä»¤ shellæ ¼å¼ï¼šRUN &lt;å‘½ä»¤&gt;ï¼Œå°±åƒç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥çš„å‘½ä»¤ä¸€æ ·ã€‚åˆšæ‰å†™çš„ Dockrfile ä¸­çš„ RUN æŒ‡ä»¤å°±æ˜¯è¿™ç§æ ¼å¼ã€‚ RUN echo &#39;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#39; &gt; /usr/share/nginx/html/index.html execæ ¼å¼ï¼šRUN [â€œå¯æ‰§è¡Œæ–‡ä»¶â€, â€œå‚æ•°1â€, â€œå‚æ•°2â€]ï¼Œè¿™æ›´åƒæ˜¯å‡½æ•°è°ƒç”¨ä¸­çš„æ ¼å¼ã€‚ COPY å¤åˆ¶æ–‡ä»¶æ ¼å¼ï¼š COPY &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt; COPY [&quot;&lt;æºè·¯å¾„1&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;]å’Œ RUN æŒ‡ä»¤ä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§ç±»ä¼¼äºå‘½ä»¤è¡Œï¼Œä¸€ç§ç±»ä¼¼äºå‡½æ•°è°ƒç”¨ã€‚COPY æŒ‡ä»¤å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­ &lt;æºè·¯å¾„&gt; çš„æ–‡ä»¶&#x2F;ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„ &lt;ç›®æ ‡è·¯å¾„&gt; ä½ç½®ã€‚æ¯”å¦‚ï¼š COPY package.json /usr/src/app/ &lt;æºè·¯å¾„&gt; å¯ä»¥æ˜¯å¤šä¸ªï¼Œç”šè‡³å¯ä»¥æ˜¯é€šé…ç¬¦ï¼Œå…¶é€šé…ç¬¦è§„åˆ™è¦æ»¡è¶³ Go çš„ filepath.Match è§„åˆ™ï¼Œå¦‚ï¼š COPY hom* /mydir/ COPY hom?.txt /mydir/ &lt;ç›®æ ‡è·¯å¾„&gt; å¯ä»¥æ˜¯å®¹å™¨å†…çš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼ˆå·¥ä½œç›®å½•å¯ä»¥ç”¨ WORKDIR æŒ‡ä»¤æ¥æŒ‡å®šï¼‰ã€‚ç›®æ ‡è·¯å¾„ä¸éœ€è¦äº‹å…ˆåˆ›å»ºï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šåœ¨å¤åˆ¶æ–‡ä»¶å‰å…ˆè¡Œåˆ›å»ºç¼ºå¤±ç›®å½•ã€‚ æ­¤å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œæºæ–‡ä»¶çš„å„ç§å…ƒæ•°æ®éƒ½ä¼šä¿ç•™ã€‚æ¯”å¦‚è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€æ–‡ä»¶å˜æ›´æ—¶é—´ç­‰ã€‚è¿™ä¸ªç‰¹æ€§å¯¹äºé•œåƒå®šåˆ¶å¾ˆæœ‰ç”¨ã€‚ç‰¹åˆ«æ˜¯æ„å»ºç›¸å…³æ–‡ä»¶éƒ½åœ¨ä½¿ç”¨ Git è¿›è¡Œç®¡ç†çš„æ—¶å€™ã€‚ ADDæ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶ADD æŒ‡ä»¤å’Œ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›åŠŸèƒ½ã€‚ æ¯”å¦‚ &lt;æºè·¯å¾„&gt; å¯ä»¥æ˜¯ä¸€ä¸ª URLï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“ä¼šè¯•å›¾å»ä¸‹è½½è¿™ä¸ªé“¾æ¥çš„æ–‡ä»¶æ”¾åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; å»ã€‚ä¸‹è½½åçš„æ–‡ä»¶æƒé™è‡ªåŠ¨è®¾ç½®ä¸º 600ï¼Œå¦‚æœè¿™å¹¶ä¸æ˜¯æƒ³è¦çš„æƒé™ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¢åŠ é¢å¤–çš„ä¸€å±‚ RUN è¿›è¡Œæƒé™è°ƒæ•´ï¼Œå¦å¤–ï¼Œå¦‚æœä¸‹è½½çš„æ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œéœ€è¦è§£å‹ç¼©ï¼Œä¹Ÿä¸€æ ·è¿˜éœ€è¦é¢å¤–çš„ä¸€å±‚ RUN æŒ‡ä»¤è¿›è¡Œè§£å‹ç¼©ã€‚æ‰€ä»¥ä¸å¦‚ç›´æ¥ä½¿ç”¨ RUN æŒ‡ä»¤ï¼Œç„¶åä½¿ç”¨ wget æˆ–è€… curl å·¥å…·ä¸‹è½½ï¼Œå¤„ç†æƒé™ã€è§£å‹ç¼©ã€ç„¶åæ¸…ç†æ— ç”¨æ–‡ä»¶æ›´åˆç†ã€‚å› æ­¤ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®å¹¶ä¸å®ç”¨ï¼Œè€Œä¸”ä¸æ¨èä½¿ç”¨ã€‚ å¦‚æœ &lt;æºè·¯å¾„&gt; ä¸ºä¸€ä¸ª tar å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; å»ã€‚ åœ¨ Docker å®˜æ–¹çš„æœ€ä½³å®è·µæ–‡æ¡£ä¸­è¦æ±‚ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ COPY ã€‚ å› æ­¤åœ¨ COPY å’Œ ADD æŒ‡ä»¤ä¸­é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥éµå¾ªè¿™æ ·çš„åŸåˆ™ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶å‡ä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œä»…åœ¨éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆä½¿ç”¨ ADDã€‚ CMD å®¹å™¨å¯åŠ¨å‘½ä»¤CMD æŒ‡ä»¤çš„æ ¼å¼å’Œ RUN ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸¤ç§æ ¼å¼ï¼š1ï¼‰ shell æ ¼å¼ï¼šCMD &lt;å‘½ä»¤&gt;2ï¼‰ exec æ ¼å¼ï¼šCMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]3ï¼‰ å‚æ•°åˆ—è¡¨æ ¼å¼ï¼šCMD [&quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]ã€‚åœ¨æŒ‡å®šäº† ENTRYPOINT æŒ‡ä»¤åï¼Œç”¨ CMD æŒ‡å®šå…·ä½“çš„å‚æ•°ã€‚ Docker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œå®¹å™¨å°±æ˜¯è¿›ç¨‹ã€‚æ—¢ç„¶æ˜¯è¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šæ‰€è¿è¡Œçš„ç¨‹åºåŠå‚æ•°ã€‚CMD æŒ‡ä»¤å°±æ˜¯ç”¨äºæŒ‡å®šé»˜è®¤çš„å®¹å™¨ä¸»è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤çš„ã€‚ åœ¨è¿è¡Œæ—¶å¯ä»¥æŒ‡å®šæ–°çš„å‘½ä»¤æ¥æ›¿ä»£é•œåƒè®¾ç½®ä¸­çš„è¿™ä¸ªé»˜è®¤å‘½ä»¤ï¼Œæ¯”å¦‚ï¼Œubuntu é•œåƒé»˜è®¤çš„ CMD æ˜¯ &#x2F;bin&#x2F;bashï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ docker run -it ubuntu çš„è¯ï¼Œä¼šç›´æ¥è¿›å…¥ bashã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶æŒ‡å®šè¿è¡Œåˆ«çš„å‘½ä»¤ï¼Œå¦‚ docker run -it ubuntu cat &#x2F;etc&#x2F;os-releaseã€‚è¿™å°±æ˜¯ç”¨ cat &#x2F;etc&#x2F;os-release å‘½ä»¤æ›¿æ¢äº†é»˜è®¤çš„ &#x2F;bin&#x2F;bash å‘½ä»¤äº†ï¼Œè¾“å‡ºäº†ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯ã€‚ åœ¨æŒ‡ä»¤æ ¼å¼ä¸Šï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ exec æ ¼å¼ï¼Œè¿™ç±»æ ¼å¼åœ¨è§£ææ—¶ä¼šè¢«è§£æä¸º JSON æ•°ç»„ï¼Œå› æ­¤ä¸€å®šè¦ä½¿ç”¨åŒå¼•å· â€œï¼Œè€Œä¸è¦ä½¿ç”¨å•å¼•å·ã€‚ ENTRYPOINT å…¥å£ç‚¹ENTRYPOINT çš„ç›®çš„å’Œ CMD ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°ã€‚ENTRYPOINT åœ¨è¿è¡Œæ—¶ä¹Ÿå¯ä»¥æ›¿ä»£ï¼Œä¸è¿‡æ¯” CMD è¦ç•¥æ˜¾ç¹çï¼Œéœ€è¦é€šè¿‡ docker run çš„å‚æ•° â€“entrypoint æ¥æŒ‡å®šã€‚ å½“æŒ‡å®šäº† ENTRYPOINT åï¼ŒCMD çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† CMD çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINT æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®é™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š &lt;ENTRYPOINT&gt; &quot;&lt;CMD&gt;&quot; åœºæ™¯ä¸€ï¼šè®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨ FROM ubuntu:16.04 RUN apt-get update \\ &amp;&amp; apt-get install -y curl \\ &amp;&amp; rm -rf /var/lib/apt/lists/* ENTRYPOINT [ &quot;curl&quot;, &quot;-s&quot;, &quot;http://ip.cn&quot; ] $ docker run myip -i è¿™æ˜¯å› ä¸ºå½“å­˜åœ¨ ENTRYPOINT åï¼ŒCMD çš„å†…å®¹å°†ä¼šä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINTï¼Œè€Œè¿™é‡Œ -i å°±æ˜¯æ–°çš„ CMDï¼Œå› æ­¤ä¼šä½œä¸ºå‚æ•°ä¼ ç»™ curlï¼Œä»è€Œè¾¾åˆ°äº†æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœã€‚ åœºæ™¯äºŒï¼šåº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œå¯ä»¥å†™ä¸€ä¸ªè„šæœ¬ï¼Œç„¶åæ”¾å…¥ ENTRYPOINT ä¸­å»æ‰§è¡Œï¼Œè€Œè¿™ä¸ªè„šæœ¬ä¼šå°†æ¥åˆ°çš„å‚æ•°ï¼ˆä¹Ÿå°±æ˜¯ ï¼‰ä½œä¸ºå‘½ä»¤ï¼Œåœ¨è„šæœ¬æœ€åæ‰§è¡Œã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ redis ä¸­å°±æ˜¯è¿™ä¹ˆåšçš„ï¼š FROM alpine:3.4 ... RUN addgroup -S redis &amp;&amp; adduser -S -G redis redis ... ENTRYPOINT [&quot;docker-entrypoint.sh&quot;] EXPOSE 6379 CMD [ &quot;redis-server&quot; ] å¯ä»¥çœ‹åˆ°å…¶ä¸­ä¸ºäº† redis æœåŠ¡åˆ›å»ºäº† redis ç”¨æˆ·ï¼Œå¹¶åœ¨æœ€åæŒ‡å®šäº† ENTRYPOINT ä¸º docker-entrypoint.sh è„šæœ¬ã€‚ #!/bin/sh ... # allow the container to be started with `--user` if [ &quot;$1&quot; = &#39;redis-server&#39; -a &quot;$(id -u)&quot; = &#39;0&#39; ]; then chown -R redis . exec su-exec redis &quot;$0&quot; &quot;$@&quot; fi exec &quot;$@&quot; è¯¥è„šæœ¬çš„å†…å®¹å°±æ˜¯æ ¹æ® CMD çš„å†…å®¹æ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ redis-server çš„è¯ï¼Œåˆ™åˆ‡æ¢åˆ° redis ç”¨æˆ·èº«ä»½å¯åŠ¨æœåŠ¡å™¨ï¼Œå¦åˆ™ä¾æ—§ä½¿ç”¨ root èº«ä»½æ‰§è¡Œã€‚æ¯”å¦‚ï¼š $ docker run -it redis id uid=0(root) gid=0(root) groups=0(root) ENV è®¾ç½®ç¯å¢ƒå˜é‡æ ¼å¼æœ‰ä¸¤ç§ï¼š ENV &lt;key&gt; &lt;value&gt; ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;... è¿™ä¸ªæŒ‡ä»¤å¾ˆç®€å•ï¼Œå°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡è€Œå·²ï¼Œæ— è®ºæ˜¯åé¢çš„å…¶å®ƒæŒ‡ä»¤ï¼Œå¦‚ RUNï¼Œè¿˜æ˜¯è¿è¡Œæ—¶çš„åº”ç”¨ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™é‡Œå®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚ ENV VERSION=1.0 DEBUG=on \\ NAME=&quot;Happy Feet&quot; è¿™ä¸ªä¾‹å­ä¸­æ¼”ç¤ºäº†å¦‚ä½•æ¢è¡Œï¼Œä»¥åŠå¯¹å«æœ‰ç©ºæ ¼çš„å€¼ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„åŠæ³•ï¼Œè¿™å’Œ Shell ä¸‹çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚ å®šä¹‰äº†ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆåœ¨åç»­çš„æŒ‡ä»¤ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚æ¯”å¦‚åœ¨å®˜æ–¹ node é•œåƒ Dockerfile ä¸­ï¼Œå°±æœ‰ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š ENV NODE_VERSION 7.2.0 RUN curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.tar.xz&quot; \\ &amp;&amp; curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc&quot; \\ &amp;&amp; gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc \\ &amp;&amp; grep &quot; node-v$NODE_VERSION-linux-x64.tar.xz\\$&quot; SHASUMS256.txt | sha256sum -c - \\ &amp;&amp; tar -xJf &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; -C /usr/local --strip-components=1 \\ &amp;&amp; rm &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; SHASUMS256.txt.asc SHASUMS256.txt \\ &amp;&amp; ln -s /usr/local/bin/node /usr/local/bin/nodejs åœ¨è¿™é‡Œå…ˆå®šä¹‰äº†ç¯å¢ƒå˜é‡ NODE_VERSIONï¼Œå…¶åçš„ RUN è¿™å±‚é‡Œï¼Œå¤šæ¬¡ä½¿ç”¨ $NODE_VERSION æ¥è¿›è¡Œæ“ä½œå®šåˆ¶ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå°†æ¥å‡çº§é•œåƒæ„å»ºç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªéœ€è¦æ›´æ–° 7.2.0 å³å¯ï¼ŒDockerfile æ„å»ºç»´æŠ¤å˜å¾—æ›´è½»æ¾äº†ã€‚ ä¸‹åˆ—æŒ‡ä»¤å¯ä»¥æ”¯æŒç¯å¢ƒå˜é‡å±•å¼€ï¼š ADDã€COPYã€ENVã€EXPOSEã€LABELã€USERã€WORKDIRã€VOLUMEã€STOPSIGNALã€ONBUILDã€‚ å¯ä»¥ä»è¿™ä¸ªæŒ‡ä»¤åˆ—è¡¨é‡Œæ„Ÿè§‰åˆ°ï¼Œç¯å¢ƒå˜é‡å¯ä»¥ä½¿ç”¨çš„åœ°æ–¹å¾ˆå¤šï¼Œå¾ˆå¼ºå¤§ã€‚é€šè¿‡ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥è®©ä¸€ä»½ Dockerfile åˆ¶ä½œæ›´å¤šçš„é•œåƒï¼Œåªéœ€ä½¿ç”¨ä¸åŒçš„ç¯å¢ƒå˜é‡å³å¯ã€‚ ARG æ„å»ºå‚æ•°æ ¼å¼ï¼šARG &lt;å‚æ•°å&gt;[=&lt;é»˜è®¤å€¼&gt;] æ„å»ºå‚æ•°å’Œ ENV çš„æ•ˆæœä¸€æ ·ï¼Œéƒ½æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼ŒARG æ‰€è®¾ç½®çš„æ„å»ºç¯å¢ƒçš„ç¯å¢ƒå˜é‡ï¼Œåœ¨å°†æ¥å®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå­˜åœ¨è¿™äº›ç¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯ä¸è¦å› æ­¤å°±ä½¿ç”¨ ARG ä¿å­˜å¯†ç ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå› ä¸º docker history è¿˜æ˜¯å¯ä»¥çœ‹åˆ°æ‰€æœ‰å€¼çš„ã€‚ Dockerfile ä¸­çš„ ARG æŒ‡ä»¤æ˜¯å®šä¹‰å‚æ•°åç§°ï¼Œä»¥åŠå®šä¹‰å…¶é»˜è®¤å€¼ã€‚è¯¥é»˜è®¤å€¼å¯ä»¥åœ¨æ„å»ºå‘½ä»¤ docker build ä¸­ç”¨ â€“build-arg &lt;å‚æ•°å&gt;&#x3D;&lt;å€¼&gt; æ¥è¦†ç›–ã€‚ åœ¨ 1.13 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¦æ±‚ â€“build-arg ä¸­çš„å‚æ•°åï¼Œå¿…é¡»åœ¨ Dockerfile ä¸­ç”¨ ARG å®šä¹‰è¿‡äº†ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ â€“build-arg æŒ‡å®šçš„å‚æ•°ï¼Œå¿…é¡»åœ¨ Dockerfile ä¸­ä½¿ç”¨äº†ã€‚å¦‚æœå¯¹åº”å‚æ•°æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œåˆ™ä¼šæŠ¥é”™é€€å‡ºæ„å»ºã€‚ä» 1.13 å¼€å§‹ï¼Œè¿™ç§ä¸¥æ ¼çš„é™åˆ¶è¢«æ”¾å¼€ï¼Œä¸å†æŠ¥é”™é€€å‡ºï¼Œè€Œæ˜¯æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ï¼Œå¹¶ç»§ç»­æ„å»ºã€‚è¿™å¯¹äºä½¿ç”¨ CI ç³»ç»Ÿï¼Œç”¨åŒæ ·çš„æ„å»ºæµç¨‹æ„å»ºä¸åŒçš„ Dockerfile çš„æ—¶å€™æ¯”è¾ƒæœ‰å¸®åŠ©ï¼Œé¿å…æ„å»ºå‘½ä»¤å¿…é¡»æ ¹æ®æ¯ä¸ª Dockerfile çš„å†…å®¹ä¿®æ”¹ã€‚ VOLUME å®šä¹‰åŒ¿åå·æ ¼å¼ä¸ºï¼š VOLUME [&quot;&lt;è·¯å¾„1&gt;&quot;, &quot;&lt;è·¯å¾„2&gt;&quot;...] VOLUME &lt;è·¯å¾„&gt; ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œå®¹å™¨è¿è¡Œæ—¶åº”è¯¥å°½é‡ä¿æŒå®¹å™¨å­˜å‚¨å±‚ä¸å‘ç”Ÿå†™æ“ä½œï¼Œå¯¹äºæ•°æ®åº“ç±»éœ€è¦ä¿å­˜åŠ¨æ€æ•°æ®çš„åº”ç”¨ï¼Œå…¶æ•°æ®åº“æ–‡ä»¶åº”è¯¥ä¿å­˜äºå·(volume)ä¸­ï¼Œåé¢çš„ç« èŠ‚æˆ‘ä»¬ä¼šè¿›ä¸€æ­¥ä»‹ç» Docker å·çš„æ¦‚å¿µã€‚ä¸ºäº†é˜²æ­¢è¿è¡Œæ—¶ç”¨æˆ·å¿˜è®°å°†åŠ¨æ€æ–‡ä»¶æ‰€ä¿å­˜ç›®å½•æŒ‚è½½ä¸ºå·ï¼Œåœ¨ Dockerfile ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆæŒ‡å®šæŸäº›ç›®å½•æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œè¿™æ ·åœ¨è¿è¡Œæ—¶å¦‚æœç”¨æˆ·ä¸æŒ‡å®šæŒ‚è½½ï¼Œå…¶åº”ç”¨ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¸ä¼šå‘å®¹å™¨å­˜å‚¨å±‚å†™å…¥å¤§é‡æ•°æ®ã€‚ VOLUME /data è¿™é‡Œçš„ &#x2F;data ç›®å½•å°±ä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œä»»ä½•å‘ &#x2F;data ä¸­å†™å…¥çš„ä¿¡æ¯éƒ½ä¸ä¼šè®°å½•è¿›å®¹å™¨å­˜å‚¨å±‚ï¼Œä»è€Œä¿è¯äº†å®¹å™¨å­˜å‚¨å±‚çš„æ— çŠ¶æ€åŒ–ã€‚å½“ç„¶ï¼Œè¿è¡Œæ—¶å¯ä»¥è¦†ç›–è¿™ä¸ªæŒ‚è½½è®¾ç½®ã€‚æ¯”å¦‚ï¼š $ docker run -d -v mydata:/data xxxx åœ¨è¿™è¡Œå‘½ä»¤ä¸­ï¼Œå°±ä½¿ç”¨äº† mydata è¿™ä¸ªå‘½åå·æŒ‚è½½åˆ°äº† &#x2F;data è¿™ä¸ªä½ç½®ï¼Œæ›¿ä»£äº† Dockerfile ä¸­å®šä¹‰çš„åŒ¿åå·çš„æŒ‚è½½é…ç½®ã€‚ EXPOSE å£°æ˜ç«¯å£æ ¼å¼ä¸º EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]ã€‚ EXPOSE æŒ‡ä»¤æ˜¯å£°æ˜è¿è¡Œæ—¶å®¹å™¨æä¾›æœåŠ¡ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚åœ¨ Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ docker run -P æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ EXPOSE çš„ç«¯å£ã€‚ æ­¤å¤–ï¼Œåœ¨æ—©æœŸ Docker ç‰ˆæœ¬ä¸­è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç”¨å¤„ã€‚ä»¥å‰æ‰€æœ‰å®¹å™¨éƒ½è¿è¡Œäºé»˜è®¤æ¡¥æ¥ç½‘ç»œä¸­ï¼Œå› æ­¤æ‰€æœ‰å®¹å™¨äº’ç›¸ä¹‹é—´éƒ½å¯ä»¥ç›´æ¥è®¿é—®ï¼Œè¿™æ ·å­˜åœ¨ä¸€å®šçš„å®‰å…¨æ€§é—®é¢˜ã€‚äºæ˜¯æœ‰äº†ä¸€ä¸ª Docker å¼•æ“å‚æ•° â€“icc&#x3D;falseï¼Œå½“æŒ‡å®šè¯¥å‚æ•°åï¼Œå®¹å™¨é—´å°†é»˜è®¤æ— æ³•äº’è®¿ï¼Œé™¤éäº’ç›¸é—´ä½¿ç”¨äº† â€“links å‚æ•°çš„å®¹å™¨æ‰å¯ä»¥äº’é€šï¼Œå¹¶ä¸”åªæœ‰é•œåƒä¸­ EXPOSE æ‰€å£°æ˜çš„ç«¯å£æ‰å¯ä»¥è¢«è®¿é—®ã€‚è¿™ä¸ª â€“icc&#x3D;false çš„ç”¨æ³•ï¼Œåœ¨å¼•å…¥äº† docker network åå·²ç»åŸºæœ¬ä¸ç”¨äº†ï¼Œé€šè¿‡è‡ªå®šä¹‰ç½‘ç»œå¯ä»¥å¾ˆè½»æ¾çš„å®ç°å®¹å™¨é—´çš„äº’è”ä¸éš”ç¦»ã€‚ è¦å°† EXPOSE å’Œåœ¨è¿è¡Œæ—¶ä½¿ç”¨ -p &lt;å®¿ä¸»ç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt; åŒºåˆ†å¼€æ¥ã€‚-pï¼Œæ˜¯æ˜ å°„å®¿ä¸»ç«¯å£å’Œå®¹å™¨ç«¯å£ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†å®¹å™¨çš„å¯¹åº”ç«¯å£æœåŠ¡å…¬å¼€ç»™å¤–ç•Œè®¿é—®ï¼Œè€Œ EXPOSE ä»…ä»…æ˜¯å£°æ˜å®¹å™¨æ‰“ç®—ä½¿ç”¨ä»€ä¹ˆç«¯å£è€Œå·²ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨åœ¨å®¿ä¸»è¿›è¡Œç«¯å£æ˜ å°„ã€‚ WORKDIR æŒ‡å®šå·¥ä½œç›®å½•æ ¼å¼ä¸º WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;ã€‚ ä½¿ç”¨ WORKDIR æŒ‡ä»¤å¯ä»¥æ¥æŒ‡å®šå·¥ä½œç›®å½•ï¼ˆæˆ–è€…ç§°ä¸ºå½“å‰ç›®å½•ï¼‰ï¼Œä»¥åå„å±‚çš„å½“å‰ç›®å½•å°±è¢«æ”¹ä¸ºæŒ‡å®šçš„ç›®å½•ï¼Œå¦‚è¯¥ç›®å½•ä¸å­˜åœ¨ï¼ŒWORKDIR ä¼šå¸®ä½ å»ºç«‹ç›®å½•ã€‚ ä¹‹å‰æåˆ°ä¸€äº›åˆå­¦è€…å¸¸çŠ¯çš„é”™è¯¯æ˜¯æŠŠ Dockerfile ç­‰åŒäº Shell è„šæœ¬æ¥ä¹¦å†™ï¼Œè¿™ç§é”™è¯¯çš„ç†è§£è¿˜å¯èƒ½ä¼šå¯¼è‡´å‡ºç°ä¸‹é¢è¿™æ ·çš„é”™è¯¯ï¼š RUN cd /app RUN echo &quot;hello&quot; &gt; world.txt å¦‚æœå°†è¿™ä¸ª Dockerfile è¿›è¡Œæ„å»ºé•œåƒè¿è¡Œåï¼Œä¼šå‘ç°æ‰¾ä¸åˆ° &#x2F;app&#x2F;world.txt æ–‡ä»¶ï¼Œæˆ–è€…å…¶å†…å®¹ä¸æ˜¯ helloã€‚åŸå› å…¶å®å¾ˆç®€å•ï¼Œåœ¨ Shell ä¸­ï¼Œè¿ç»­ä¸¤è¡Œæ˜¯åŒä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œç¯å¢ƒï¼Œå› æ­¤å‰ä¸€ä¸ªå‘½ä»¤ä¿®æ”¹çš„å†…å­˜çŠ¶æ€ï¼Œä¼šç›´æ¥å½±å“åä¸€ä¸ªå‘½ä»¤ï¼›è€Œåœ¨ Dockerfile ä¸­ï¼Œè¿™ä¸¤è¡Œ RUN å‘½ä»¤çš„æ‰§è¡Œç¯å¢ƒæ ¹æœ¬ä¸åŒï¼Œæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å®¹å™¨ã€‚è¿™å°±æ˜¯å¯¹ Dokerfile æ„å»ºåˆ†å±‚å­˜å‚¨çš„æ¦‚å¿µä¸äº†è§£æ‰€å¯¼è‡´çš„é”™è¯¯ã€‚ ä¹‹å‰è¯´è¿‡æ¯ä¸€ä¸ª RUN éƒ½æ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€æ‰§è¡Œå‘½ä»¤ã€ç„¶åæäº¤å­˜å‚¨å±‚æ–‡ä»¶å˜æ›´ã€‚ç¬¬ä¸€å±‚ RUN cd &#x2F;app çš„æ‰§è¡Œä»…ä»…æ˜¯å½“å‰è¿›ç¨‹çš„å·¥ä½œç›®å½•å˜æ›´ï¼Œä¸€ä¸ªå†…å­˜ä¸Šçš„å˜åŒ–è€Œå·²ï¼Œå…¶ç»“æœä¸ä¼šé€ æˆä»»ä½•æ–‡ä»¶å˜æ›´ã€‚è€Œåˆ°ç¬¬äºŒå±‚çš„æ—¶å€™ï¼Œå¯åŠ¨çš„æ˜¯ä¸€ä¸ªå…¨æ–°çš„å®¹å™¨ï¼Œè·Ÿç¬¬ä¸€å±‚çš„å®¹å™¨æ›´å®Œå…¨æ²¡å…³ç³»ï¼Œè‡ªç„¶ä¸å¯èƒ½ç»§æ‰¿å‰ä¸€å±‚æ„å»ºè¿‡ç¨‹ä¸­çš„å†…å­˜å˜åŒ–ã€‚ å› æ­¤å¦‚æœéœ€è¦æ”¹å˜ä»¥åå„å±‚çš„å·¥ä½œç›®å½•çš„ä½ç½®ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨ WORKDIR æŒ‡ä»¤ã€‚ USER æŒ‡å®šå½“å‰ç”¨æˆ·æ ¼å¼ï¼šUSER &lt;ç”¨æˆ·å&gt; USER æŒ‡ä»¤å’Œ WORKDIR ç›¸ä¼¼ï¼Œéƒ½æ˜¯æ”¹å˜ç¯å¢ƒçŠ¶æ€å¹¶å½±å“ä»¥åçš„å±‚ã€‚WORKDIR æ˜¯æ”¹å˜å·¥ä½œç›®å½•ï¼ŒUSER åˆ™æ˜¯æ”¹å˜ä¹‹åå±‚çš„æ‰§è¡Œ RUN, CMD ä»¥åŠ ENTRYPOINT è¿™ç±»å‘½ä»¤çš„èº«ä»½ã€‚ å½“ç„¶ï¼Œå’Œ WORKDIR ä¸€æ ·ï¼ŒUSER åªæ˜¯å¸®åŠ©ä½ åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·è€Œå·²ï¼Œè¿™ä¸ªç”¨æˆ·å¿…é¡»æ˜¯äº‹å…ˆå»ºç«‹å¥½çš„ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢ã€‚ RUN groupadd -r redis &amp;&amp; useradd -r -g redis redis USER redis RUN [ &quot;redis-server&quot; ] å¦‚æœä»¥ root æ‰§è¡Œçš„è„šæœ¬ï¼Œåœ¨æ‰§è¡ŒæœŸé—´å¸Œæœ›æ”¹å˜èº«ä»½ï¼Œæ¯”å¦‚å¸Œæœ›ä»¥æŸä¸ªå·²ç»å»ºç«‹å¥½çš„ç”¨æˆ·æ¥è¿è¡ŒæŸä¸ªæœåŠ¡è¿›ç¨‹ï¼Œä¸è¦ä½¿ç”¨ su æˆ–è€… sudoï¼Œè¿™äº›éƒ½éœ€è¦æ¯”è¾ƒéº»çƒ¦çš„é…ç½®ï¼Œè€Œä¸”åœ¨ TTY ç¼ºå¤±çš„ç¯å¢ƒä¸‹ç»å¸¸å‡ºé”™ã€‚å»ºè®®ä½¿ç”¨ gosuï¼Œå¯ä»¥ä»å…¶é¡¹ç›®ç½‘ç«™çœ‹åˆ°è¿›ä¸€æ­¥çš„ä¿¡æ¯ï¼šhttps://github.com/tianon/gosu # å»ºç«‹ redis ç”¨æˆ·ï¼Œå¹¶ä½¿ç”¨ gosu æ¢å¦ä¸€ä¸ªç”¨æˆ·æ‰§è¡Œå‘½ä»¤ RUN groupadd -r redis &amp;&amp; useradd -r -g redis redis # ä¸‹è½½ gosu RUN wget -O /usr/local/bin/gosu &quot;https://github.com/tianon/gosu/releases/download/1.7/gosu-amd64&quot; \\ &amp;&amp; chmod +x /usr/local/bin/gosu \\ &amp;&amp; gosu nobody true # è®¾ç½® CMDï¼Œå¹¶ä»¥å¦å¤–çš„ç”¨æˆ·æ‰§è¡Œ CMD [ &quot;exec&quot;, &quot;gosu&quot;, &quot;redis&quot;, &quot;redis-server&quot; ] HEALTHCHECK å¥åº·æ£€æŸ¥æ ¼å¼ï¼š HEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt;ï¼šè®¾ç½®æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶å†µçš„å‘½ä»¤ HEALTHCHECK NONEï¼šå¦‚æœåŸºç¡€é•œåƒæœ‰å¥åº·æ£€æŸ¥æŒ‡ä»¤ï¼Œä½¿ç”¨è¿™è¡Œå¯ä»¥å±è”½æ‰å…¶å¥åº·æ£€æŸ¥æŒ‡ä»¤ HEALTHCHECK æŒ‡ä»¤æ˜¯å‘Šè¯‰ Docker åº”è¯¥å¦‚ä½•è¿›è¡Œåˆ¤æ–­å®¹å™¨çš„çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œè¿™æ˜¯ Docker 1.12 å¼•å…¥çš„æ–°æŒ‡ä»¤ã€‚ åœ¨æ²¡æœ‰ HEALTHCHECK æŒ‡ä»¤å‰ï¼ŒDocker å¼•æ“åªå¯ä»¥é€šè¿‡å®¹å™¨å†…ä¸»è¿›ç¨‹æ˜¯å¦é€€å‡ºæ¥åˆ¤æ–­å®¹å™¨æ˜¯å¦çŠ¶æ€å¼‚å¸¸ã€‚å¾ˆå¤šæƒ…å†µä¸‹è¿™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœç¨‹åºè¿›å…¥æ­»é”çŠ¶æ€ï¼Œæˆ–è€…æ­»å¾ªç¯çŠ¶æ€ï¼Œåº”ç”¨è¿›ç¨‹å¹¶ä¸é€€å‡ºï¼Œä½†æ˜¯è¯¥å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†ã€‚åœ¨ 1.12 ä»¥å‰ï¼ŒDocker ä¸ä¼šæ£€æµ‹åˆ°å®¹å™¨çš„è¿™ç§çŠ¶æ€ï¼Œä»è€Œä¸ä¼šé‡æ–°è°ƒåº¦ï¼Œå¯¼è‡´å¯èƒ½ä¼šæœ‰éƒ¨åˆ†å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†å´è¿˜åœ¨æ¥å—ç”¨æˆ·è¯·æ±‚ã€‚ è€Œè‡ª 1.12 ä¹‹åï¼ŒDocker æä¾›äº† HEALTHCHECK æŒ‡ä»¤ï¼Œé€šè¿‡è¯¥æŒ‡ä»¤æŒ‡å®šä¸€è¡Œå‘½ä»¤ï¼Œç”¨è¿™è¡Œå‘½ä»¤æ¥åˆ¤æ–­å®¹å™¨ä¸»è¿›ç¨‹çš„æœåŠ¡çŠ¶æ€æ˜¯å¦è¿˜æ­£å¸¸ï¼Œä»è€Œæ¯”è¾ƒçœŸå®çš„ååº”å®¹å™¨å®é™…çŠ¶æ€ã€‚ å½“åœ¨ä¸€ä¸ªé•œåƒæŒ‡å®šäº† HEALTHCHECK æŒ‡ä»¤åï¼Œç”¨å…¶å¯åŠ¨å®¹å™¨ï¼Œåˆå§‹çŠ¶æ€ä¼šä¸º startingï¼Œåœ¨ HEALTHCHECK æŒ‡ä»¤æ£€æŸ¥æˆåŠŸåå˜ä¸º healthyï¼Œå¦‚æœè¿ç»­ä¸€å®šæ¬¡æ•°å¤±è´¥ï¼Œåˆ™ä¼šå˜ä¸º unhealthyã€‚ HEALTHCHECK æ”¯æŒä¸‹åˆ—é€‰é¡¹ï¼š --interval=&lt;é—´éš”&gt;ï¼šä¸¤æ¬¡å¥åº·æ£€æŸ¥çš„é—´éš”ï¼Œé»˜è®¤ä¸º 30 ç§’ï¼› --timeout=&lt;æ—¶é•¿&gt;ï¼šå¥åº·æ£€æŸ¥å‘½ä»¤è¿è¡Œè¶…æ—¶æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œæœ¬æ¬¡å¥åº·æ£€æŸ¥å°±è¢«è§†ä¸ºå¤±è´¥ï¼Œé»˜è®¤ 30 ç§’ï¼›3)--retries=&lt;æ¬¡æ•°&gt;ï¼šå½“è¿ç»­å¤±è´¥æŒ‡å®šæ¬¡æ•°åï¼Œåˆ™å°†å®¹å™¨çŠ¶æ€è§†ä¸º unhealthyï¼Œé»˜è®¤ 3 æ¬¡ã€‚ å’Œ CMD, ENTRYPOINT ä¸€æ ·ï¼ŒHEALTHCHECK åªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼Œå¦‚æœå†™äº†å¤šä¸ªï¼Œåªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚ åœ¨ HEALTHCHECK [é€‰é¡¹] CMD åé¢çš„å‘½ä»¤ï¼Œæ ¼å¼å’Œ ENTRYPOINT ä¸€æ ·ï¼Œåˆ†ä¸º shell æ ¼å¼ï¼Œå’Œ exec æ ¼å¼ã€‚å‘½ä»¤çš„è¿”å›å€¼å†³å®šäº†è¯¥æ¬¡å¥åº·æ£€æŸ¥çš„æˆåŠŸä¸å¦ï¼š0ï¼šæˆåŠŸï¼›1ï¼šå¤±è´¥ï¼›2ï¼šä¿ç•™ï¼Œä¸è¦ä½¿ç”¨è¿™ä¸ªå€¼ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸ªé•œåƒæ˜¯ä¸ªæœ€ç®€å•çš„ Web æœåŠ¡ï¼Œæˆ‘ä»¬å¸Œæœ›å¢åŠ å¥åº·æ£€æŸ¥æ¥åˆ¤æ–­å…¶ Web æœåŠ¡æ˜¯å¦åœ¨æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ curl æ¥å¸®åŠ©åˆ¤æ–­ï¼Œå…¶ Dockerfile çš„ HEALTHCHECK å¯ä»¥è¿™ä¹ˆå†™ï¼š FROM nginx RUN apt-get update &amp;&amp; apt-get install -y curl &amp;&amp; rm -rf /var/lib/apt/lists/* HEALTHCHECK --interval=5s --timeout=3s \\ CMD curl -fs http://localhost/ || exit 1 è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº†æ¯ 5 ç§’æ£€æŸ¥ä¸€æ¬¡ï¼ˆè¿™é‡Œä¸ºäº†è¯•éªŒæ‰€ä»¥é—´éš”éå¸¸çŸ­ï¼Œå®é™…åº”è¯¥ç›¸å¯¹è¾ƒé•¿ï¼‰ï¼Œå¦‚æœå¥åº·æ£€æŸ¥å‘½ä»¤è¶…è¿‡ 3 ç§’æ²¡å“åº”å°±è§†ä¸ºå¤±è´¥ï¼Œå¹¶ä¸”ä½¿ç”¨ curl -fs http://localhost/ || exit 1 ä½œä¸ºå¥åº·æ£€æŸ¥å‘½ä»¤ã€‚ ä½¿ç”¨ docker build æ¥æ„å»ºè¿™ä¸ªé•œåƒï¼š $ docker build -t myweb:v1 . æ„å»ºå¥½äº†åï¼Œæˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼š $ docker run -d --name web -p 80:80 myweb:v1 å½“è¿è¡Œè¯¥é•œåƒåï¼Œå¯ä»¥é€šè¿‡ docker ps çœ‹åˆ°æœ€åˆçš„çŠ¶æ€ä¸º (health: starting)ï¼š $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 03e28eb00bd0 myweb:v1 &quot;nginx -g &#39;daemon off&quot; 3 seconds ago Up 2 seconds (health: starting) 80/tcp, 443/tcp web åœ¨ç­‰å¾…å‡ ç§’é’Ÿåï¼Œå†æ¬¡ docker psï¼Œå°±ä¼šçœ‹åˆ°å¥åº·çŠ¶æ€å˜åŒ–ä¸ºäº† (healthy)ï¼š $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 03e28eb00bd0 myweb:v1 &quot;nginx -g &#39;daemon off&quot; 18 seconds ago Up 16 seconds (healthy) 80/tcp, 443/tcp web å¦‚æœå¥åº·æ£€æŸ¥è¿ç»­å¤±è´¥è¶…è¿‡äº†é‡è¯•æ¬¡æ•°ï¼ŒçŠ¶æ€å°±ä¼šå˜ä¸º (unhealthy)ã€‚ ä¸ºäº†å¸®åŠ©æ’éšœï¼Œå¥åº·æ£€æŸ¥å‘½ä»¤çš„è¾“å‡ºï¼ˆåŒ…æ‹¬ stdout ä»¥åŠ stderrï¼‰éƒ½ä¼šè¢«å­˜å‚¨äºå¥åº·çŠ¶æ€é‡Œï¼Œå¯ä»¥ç”¨ docker inspect æ¥æŸ¥çœ‹ã€‚ $ docker inspect --format &#39;&#123;&#123;json .State.Health&#125;&#125;&#39; web | python -m json.tool &#123; &quot;FailingStreak&quot;: 0, &quot;Log&quot;: [ &#123; &quot;End&quot;: &quot;2016-11-25T14:35:37.940957051Z&quot;, &quot;ExitCode&quot;: 0, &quot;Output&quot;: &quot;&lt;!DOCTYPE html&gt;\\n&lt;html&gt;\\n&lt;head&gt;\\n&lt;title&gt;Welcome to nginx!&lt;/title&gt;\\n&lt;style&gt;\\n body &#123;\\n width: 35em;\\n margin: 0 auto;\\n font-family: Tahoma, Verdana, Arial, sans-serif;\\n &#125;\\n&lt;/style&gt;\\n&lt;/head&gt;\\n&lt;body&gt;\\n&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;\\n&lt;p&gt;If you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.&lt;/p&gt;\\n\\n&lt;p&gt;For online documentation and support please refer to\\n&lt;a href=\\&quot;http://nginx.org/\\&quot;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;\\nCommercial support is available at\\n&lt;a href=\\&quot;http://nginx.com/\\&quot;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;\\n\\n&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n&quot;, &quot;Start&quot;: &quot;2016-11-25T14:35:37.780192565Z&quot; &#125; ], &quot;Status&quot;: &quot;healthy&quot; &#125; ONBUILD ä¸ºä»–äººåšå«è¡£è£³æ ¼å¼ï¼šONBUILD &lt;å…¶å®ƒæŒ‡ä»¤&gt;ã€‚ ONBUILD æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡ä»¤ï¼Œå®ƒåé¢è·Ÿçš„æ˜¯å…¶å®ƒæŒ‡ä»¤ï¼Œæ¯”å¦‚ RUN, COPY ç­‰ï¼Œè€Œè¿™äº›æŒ‡ä»¤ï¼Œåœ¨å½“å‰é•œåƒæ„å»ºæ—¶å¹¶ä¸ä¼šè¢«æ‰§è¡Œã€‚åªæœ‰å½“ä»¥å½“å‰é•œåƒä¸ºåŸºç¡€é•œåƒï¼Œå»æ„å»ºä¸‹ä¸€çº§é•œåƒçš„æ—¶å€™æ‰ä¼šè¢«æ‰§è¡Œã€‚ Dockerfile ä¸­çš„å…¶å®ƒæŒ‡ä»¤éƒ½æ˜¯ä¸ºäº†å®šåˆ¶å½“å‰é•œåƒè€Œå‡†å¤‡çš„ï¼Œå”¯æœ‰ ONBUILD æ˜¯ä¸ºäº†å¸®åŠ©åˆ«äººå®šåˆ¶è‡ªå·±è€Œå‡†å¤‡çš„ã€‚ å‡è®¾æˆ‘ä»¬è¦åˆ¶ä½œ Node.js æ‰€å†™çš„åº”ç”¨çš„é•œåƒã€‚æˆ‘ä»¬éƒ½çŸ¥é“ Node.js ä½¿ç”¨ npm è¿›è¡ŒåŒ…ç®¡ç†ï¼Œæ‰€æœ‰ä¾èµ–ã€é…ç½®ã€å¯åŠ¨ä¿¡æ¯ç­‰ä¼šæ”¾åˆ° package.json æ–‡ä»¶é‡Œã€‚åœ¨æ‹¿åˆ°ç¨‹åºä»£ç åï¼Œéœ€è¦å…ˆè¿›è¡Œ npm install æ‰å¯ä»¥è·å¾—æ‰€æœ‰éœ€è¦çš„ä¾èµ–ã€‚ç„¶åå°±å¯ä»¥é€šè¿‡ npm start æ¥å¯åŠ¨åº”ç”¨ã€‚å› æ­¤ï¼Œä¸€èˆ¬æ¥è¯´ä¼šè¿™æ ·å†™ Dockerfileï¼š FROM node:slim RUN &quot;mkdir /app&quot; WORKDIR /app COPY ./package.json /app RUN [ &quot;npm&quot;, &quot;install&quot; ] COPY . /app/ CMD [ &quot;npm&quot;, &quot;start&quot; ] æŠŠè¿™ä¸ª Dockerfile æ”¾åˆ° Node.js é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ„å»ºå¥½é•œåƒåï¼Œå°±å¯ä»¥ç›´æ¥æ‹¿æ¥å¯åŠ¨å®¹å™¨è¿è¡Œã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬è¿˜æœ‰ç¬¬äºŒä¸ª Node.js é¡¹ç›®ä¹Ÿå·®ä¸å¤šå‘¢ï¼Ÿå¥½å§ï¼Œé‚£å°±å†æŠŠè¿™ä¸ª Dockerfile å¤åˆ¶åˆ°ç¬¬äºŒä¸ªé¡¹ç›®é‡Œã€‚é‚£å¦‚æœæœ‰ç¬¬ä¸‰ä¸ªé¡¹ç›®å‘¢ï¼Ÿå†å¤åˆ¶ä¹ˆï¼Ÿæ–‡ä»¶çš„å‰¯æœ¬è¶Šå¤šï¼Œç‰ˆæœ¬æ§åˆ¶å°±è¶Šå›°éš¾ï¼Œè®©æˆ‘ä»¬ç»§ç»­çœ‹è¿™æ ·çš„åœºæ™¯ç»´æŠ¤çš„é—®é¢˜ã€‚ å¦‚æœç¬¬ä¸€ä¸ª Node.js é¡¹ç›®åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°è¿™ä¸ª Dockerfile é‡Œå­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚æ•²é”™å­—äº†ã€æˆ–è€…éœ€è¦å®‰è£…é¢å¤–çš„åŒ…ï¼Œç„¶åå¼€å‘äººå‘˜ä¿®å¤äº†è¿™ä¸ª Dockerfileï¼Œå†æ¬¡æ„å»ºï¼Œé—®é¢˜è§£å†³ã€‚ç¬¬ä¸€ä¸ªé¡¹ç›®æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªé¡¹ç›®å‘¢ï¼Ÿè™½ç„¶æœ€åˆ Dockerfile æ˜¯å¤åˆ¶ã€ç²˜è´´è‡ªç¬¬ä¸€ä¸ªé¡¹ç›®çš„ï¼Œä½†æ˜¯å¹¶ä¸ä¼šå› ä¸ºç¬¬ä¸€ä¸ªé¡¹ç›®ä¿®å¤äº†ä»–ä»¬çš„ Dockerfileï¼Œè€Œç¬¬äºŒä¸ªé¡¹ç›®çš„ Dockerfile å°±ä¼šè¢«è‡ªåŠ¨ä¿®å¤ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥åšä¸€ä¸ªåŸºç¡€é•œåƒï¼Œç„¶åå„ä¸ªé¡¹ç›®ä½¿ç”¨è¿™ä¸ªåŸºç¡€é•œåƒå‘¢ï¼Ÿè¿™æ ·åŸºç¡€é•œåƒæ›´æ–°ï¼Œå„ä¸ªé¡¹ç›®ä¸ç”¨åŒæ­¥ Dockerfile çš„å˜åŒ–ï¼Œé‡æ–°æ„å»ºåå°±ç»§æ‰¿äº†åŸºç¡€é•œåƒçš„æ›´æ–°ï¼Ÿå¥½å§ï¼Œå¯ä»¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™æ ·çš„ç»“æœã€‚é‚£ä¹ˆä¸Šé¢çš„è¿™ä¸ª Dockerfile å°±ä¼šå˜ä¸ºï¼š FROM node:slim RUN &quot;mkdir /app&quot; WORKDIR /app CMD [ &quot;npm&quot;, &quot;start&quot; ] è¿™é‡Œæˆ‘ä»¬æŠŠé¡¹ç›®ç›¸å…³çš„æ„å»ºæŒ‡ä»¤æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°å­é¡¹ç›®é‡Œå»ã€‚å‡è®¾è¿™ä¸ªåŸºç¡€é•œåƒçš„åå­—ä¸º my-node çš„è¯ï¼Œå„ä¸ªé¡¹ç›®å†…çš„è‡ªå·±çš„ Dockerfile å°±å˜ä¸ºï¼š FROM my-node COPY ./package.json /app RUN [ &quot;npm&quot;, &quot;install&quot; ] COPY . /app/ åŸºç¡€é•œåƒå˜åŒ–åï¼Œå„ä¸ªé¡¹ç›®éƒ½ç”¨è¿™ä¸ª Dockerfile é‡æ–°æ„å»ºé•œåƒï¼Œä¼šç»§æ‰¿åŸºç¡€é•œåƒçš„æ›´æ–°ã€‚ é‚£ä¹ˆï¼Œé—®é¢˜è§£å†³äº†ä¹ˆï¼Ÿæ²¡æœ‰ã€‚å‡†ç¡®è¯´ï¼Œåªè§£å†³äº†ä¸€åŠã€‚å¦‚æœè¿™ä¸ª Dockerfile é‡Œé¢æœ‰äº›ä¸œè¥¿éœ€è¦è°ƒæ•´å‘¢ï¼Ÿæ¯”å¦‚ npm install éƒ½éœ€è¦åŠ ä¸€äº›å‚æ•°ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿè¿™ä¸€è¡Œ RUN æ˜¯ä¸å¯èƒ½æ”¾å…¥åŸºç¡€é•œåƒçš„ï¼Œå› ä¸ºæ¶‰åŠåˆ°äº†å½“å‰é¡¹ç›®çš„ .&#x2F;package.jsonï¼Œéš¾é“åˆè¦ä¸€ä¸ªä¸ªä¿®æ”¹ä¹ˆï¼Ÿæ‰€ä»¥è¯´ï¼Œè¿™æ ·åˆ¶ä½œåŸºç¡€é•œåƒï¼Œåªè§£å†³äº†åŸæ¥çš„ Dockerfile çš„å‰4æ¡æŒ‡ä»¤çš„å˜åŒ–é—®é¢˜ï¼Œè€Œåé¢ä¸‰æ¡æŒ‡ä»¤çš„å˜åŒ–åˆ™å®Œå…¨æ²¡åŠæ³•å¤„ç†ã€‚ ONBUILD å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬ç”¨ ONBUILD é‡æ–°å†™ä¸€ä¸‹åŸºç¡€é•œåƒçš„ Dockerfile: FROM node:slim RUN &quot;mkdir /app&quot; WORKDIR /app ONBUILD COPY ./package.json /app ONBUILD RUN [ &quot;npm&quot;, &quot;install&quot; ] ONBUILD COPY . /app/ CMD [ &quot;npm&quot;, &quot;start&quot; ] è¿™æ¬¡æˆ‘ä»¬å›åˆ°åŸå§‹çš„ Dockerfileï¼Œä½†æ˜¯è¿™æ¬¡å°†é¡¹ç›®ç›¸å…³çš„æŒ‡ä»¤åŠ ä¸Š ONBUILDï¼Œè¿™æ ·åœ¨æ„å»ºåŸºç¡€é•œåƒçš„æ—¶å€™ï¼Œè¿™ä¸‰è¡Œå¹¶ä¸ä¼šè¢«æ‰§è¡Œã€‚ç„¶åå„ä¸ªé¡¹ç›®çš„ Dockerfile å°±å˜æˆäº†ç®€å•åœ°ï¼š FROM my-node æ˜¯çš„ï¼Œåªæœ‰è¿™ä¹ˆä¸€è¡Œã€‚å½“åœ¨å„ä¸ªé¡¹ç›®ç›®å½•ä¸­ï¼Œç”¨è¿™ä¸ªåªæœ‰ä¸€è¡Œçš„ Dockerfile æ„å»ºé•œåƒæ—¶ï¼Œä¹‹å‰åŸºç¡€é•œåƒçš„é‚£ä¸‰è¡Œ ONBUILD å°±ä¼šå¼€å§‹æ‰§è¡Œï¼ŒæˆåŠŸçš„å°†å½“å‰é¡¹ç›®çš„ä»£ç å¤åˆ¶è¿›é•œåƒã€å¹¶ä¸”é’ˆå¯¹æœ¬é¡¹ç›®æ‰§è¡Œ npm installï¼Œç”Ÿæˆåº”ç”¨é•œåƒã€‚ ReferenceDockerâ€“ä»å…¥é—¨åˆ°å®è·µ: https://yeasy.gitbooks.io/docker_practice/content/Dockerfie å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.docker.com/engine/reference/builder/Dockerfile æœ€ä½³å®è·µæ–‡æ¡£ï¼šhttps://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"dockeré•œåƒ","slug":"dockeré•œåƒ","date":"2017-05-19T08:47:33.000Z","updated":"2024-07-05T11:10:22.236Z","comments":true,"path":"2017/05/19/docker-image/","permalink":"http://yelog.org/2017/05/19/docker-image/","excerpt":"","text":"WhatDocker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ å› ä¸ºé•œåƒåŒ…å«æ“ä½œç³»ç»Ÿå®Œæ•´çš„ root æ–‡ä»¶ç³»ç»Ÿï¼Œå…¶ä½“ç§¯å¾€å¾€æ˜¯åºå¤§çš„ï¼Œå› æ­¤åœ¨ Docker è®¾è®¡æ—¶ï¼Œå°±å……åˆ†åˆ©ç”¨ Union FS çš„æŠ€æœ¯ï¼Œå°†å…¶è®¾è®¡ä¸ºåˆ†å±‚å­˜å‚¨çš„æ¶æ„ã€‚æ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼Œé•œåƒå¹¶éæ˜¯åƒä¸€ä¸ª ISO é‚£æ ·çš„æ‰“åŒ…æ–‡ä»¶ï¼Œé•œåƒåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå…¶å®é™…ä½“ç°å¹¶éç”±ä¸€ä¸ªæ–‡ä»¶ç»„æˆï¼Œè€Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œæˆ–è€…è¯´ï¼Œç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚ å®‰è£…# å®˜æ–¹ çš„å®‰è£…è„šæœ¬ $ curl -sSL https://get.docker.com/ | sh # é˜¿é‡Œäº‘ çš„å®‰è£…è„šæœ¬ $ curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh - # DaoCloud çš„å®‰è£…è„šæœ¬ $ curl -sSL https://get.daocloud.io/docker | sh é•œåƒ# è·å–é•œåƒï¼Œregistryä¸ºç©ºé»˜è®¤ä»Docker Hubä¸Šè·å– docker pull [é€‰é¡¹] [Docker Registryåœ°å€]&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt; # äº¤äº’å¼è¿è¡Œï¼Œé€€å‡ºåˆ é™¤: -i:äº¤äº’å¼ ,-t:ç»ˆç«¯,--rm é€€å‡ºåˆ é™¤ ,bash å¯åŠ¨bashçª—å£ $ docker run -it --rm ubuntu:14.04 bash # åˆ—å‡ºå·²ä¸‹è½½çš„é•œåƒï¼ˆåªæ˜¾ç¤ºé¡¶å±‚é•œåƒï¼‰ -a:æ˜¾ç¤ºæ‰€æœ‰é•œåƒ image_name:æŒ‡å®šåˆ—å‡ºæŸä¸ªé•œåƒ $ docker images [-a] [image_name] # åªæ˜¾ç¤ºè™šæ‚¬é•œåƒ(dangling image) -f:--filter è¿‡æ»¤ $ docker images -f dangling=true # è¿‡æ»¤ä»mongo:3.2å»ºç«‹ä¹‹åçš„é•œåƒ $ docker images -f since=mongo:3.2 # é€šè¿‡labelè¿‡æ»¤ $ docker images -f label=com.example.version=0.1 # åªæ˜¾ç¤ºé•œåƒid $ docker images -q # åªåŒ…å«é•œåƒIDå’Œä»“åº“å $ docker images --format &quot;&#123;&#123;.ID&#125;&#125;: &#123;&#123;.Repository&#125;&#125;&quot; # ä»¥è¡¨æ ¼ç­‰è·æ˜¾ç¤º æœ‰æ ‡é¢˜è¡Œï¼Œå’Œé»˜è®¤ä¸€æ ·ï¼Œä¸è¿‡è‡ªå·±å®šä¹‰åˆ— $ docker images --format &quot;table &#123;&#123;.ID&#125;&#125;\\t&#123;&#123;.Repository&#125;&#125;\\t&#123;&#123;.Tag&#125;&#125;&quot; # åˆ é™¤é•œåƒIDä¸ºimage_idçš„é•œåƒ $ docker rmi &lt;image_id&gt; # åˆ é™¤è™šæ‚¬é•œåƒ $ docker rmi $(docker images -q -f dangling=true) # å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ $ docker commit [é€‰é¡¹] &lt;å®¹å™¨IDæˆ–å®¹å™¨å&gt; [&lt;ä»“åº“å&gt;[:&lt;æ ‡ç­¾&gt;]] # å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ $ docker commit \\ --author &quot;Tao Wang &lt;twang2218@gmail.com&gt;&quot; \\ --message &quot;ä¿®æ”¹äº†é»˜è®¤ç½‘é¡µ&quot; \\ webserver \\ nginx:v2 $ docker history nginx:v2","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"dockeråˆä½“éªŒ","slug":"dockeråˆä½“éªŒ","date":"2017-05-19T08:32:23.000Z","updated":"2024-07-05T11:10:22.240Z","comments":true,"path":"2017/05/19/docker-first/","permalink":"http://yelog.org/2017/05/19/docker-first/","excerpt":"","text":"å®‰è£…ç¬”è€…ç¯å¢ƒæ“ä½œç³»ç»Ÿï¼šdeepin 15.4 Desktop 64Bit å®‰è£…# å®˜æ–¹ çš„å®‰è£…è„šæœ¬ $ curl -sSL https://get.docker.com/ | sh # é˜¿é‡Œäº‘ çš„å®‰è£…è„šæœ¬ $ curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh - # DaoCloud çš„å®‰è£…è„šæœ¬ $ curl -sSL https://get.daocloud.io/docker | sh è·å–é•œåƒDocker Hub ä¸Šæœ‰å¤§é‡çš„é«˜è´¨é‡çš„é•œåƒå¯ä»¥ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬å°±è¯´ä¸€ä¸‹æ€ä¹ˆè·å–è¿™äº›é•œåƒå¹¶è¿è¡Œã€‚ä» Docker Registry è·å–é•œåƒçš„å‘½ä»¤æ˜¯ docker pullã€‚å…¶å‘½ä»¤æ ¼å¼ä¸ºï¼š $ docker pull [é€‰é¡¹] [Docker Registryåœ°å€]&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt; å…·ä½“çš„é€‰é¡¹å¯ä»¥é€šè¿‡ docker pull --help å‘½ä»¤çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬è¯´ä¸€ä¸‹é•œåƒåç§°çš„æ ¼å¼ã€‚ Docker Registryåœ°å€ï¼šåœ°å€çš„æ ¼å¼ä¸€èˆ¬æ˜¯ &lt;åŸŸå/IP&gt;[:ç«¯å£å·]ã€‚é»˜è®¤åœ°å€æ˜¯ Docker Hubã€‚ ä»“åº“åï¼šå¦‚ä¹‹å‰æ‰€è¯´ï¼Œè¿™é‡Œçš„ä»“åº“åæ˜¯ä¸¤æ®µå¼åç§°ï¼Œæ—¢ &lt;ç”¨æˆ·å&gt;/&lt;è½¯ä»¶å&gt;ã€‚å¯¹äº Docker Hubï¼Œå¦‚æœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º libraryï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚ $ sudo docker pull ubuntu è¿è¡Œæœ‰äº†é•œåƒåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»¥è¿™ä¸ªé•œåƒä¸ºåŸºç¡€å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ¥è¿è¡Œã€‚ä»¥ä¸Šé¢çš„ ubuntu ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬æ‰“ç®—å¯åŠ¨é‡Œé¢çš„ bash å¹¶ä¸”è¿›è¡Œäº¤äº’å¼æ“ä½œçš„è¯ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ $ sudo docker run -it --rm ubuntu root@0ae011f7b5be:/# cat /etc/os-release NAME=&quot;Ubuntu&quot; VERSION=&quot;16.04.2 LTS (Xenial Xerus)&quot; ID=ubuntu ID_LIKE=debian PRETTY_NAME=&quot;Ubuntu 16.04.2 LTS&quot; VERSION_ID=&quot;16.04&quot; HOME_URL=&quot;http://www.ubuntu.com/&quot; SUPPORT_URL=&quot;http://help.ubuntu.com/&quot; BUG_REPORT_URL=&quot;http://bugs.launchpad.net/ubuntu/&quot; VERSION_CODENAME=xenial UBUNTU_CODENAME=xenial docker run å°±æ˜¯è¿è¡Œå®¹å™¨çš„å‘½ä»¤ -itï¼šè¿™æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ -iï¼šäº¤äº’å¼æ“ä½œï¼Œä¸€ä¸ªæ˜¯ -t ç»ˆç«¯ã€‚æˆ‘ä»¬è¿™é‡Œæ‰“ç®—è¿›å…¥ bash æ‰§è¡Œä¸€äº›å‘½ä»¤å¹¶æŸ¥çœ‹è¿”å›ç»“æœï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº¤äº’å¼ç»ˆç«¯ã€‚ --rmï¼šè¿™ä¸ªå‚æ•°æ˜¯è¯´å®¹å™¨é€€å‡ºåéšä¹‹å°†å…¶åˆ é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ’éšœéœ€æ±‚ï¼Œé€€å‡ºçš„å®¹å™¨å¹¶ä¸ä¼šç«‹å³åˆ é™¤ï¼Œé™¤éæ‰‹åŠ¨ docker rmã€‚æˆ‘ä»¬è¿™é‡Œåªæ˜¯éšä¾¿æ‰§è¡Œä¸ªå‘½ä»¤ï¼Œçœ‹çœ‹ç»“æœï¼Œä¸éœ€è¦æ’éšœå’Œä¿ç•™ç»“æœï¼Œå› æ­¤ä½¿ç”¨ â€“rm å¯ä»¥é¿å…æµªè´¹ç©ºé—´ã€‚ ubuntuï¼šè¿™æ˜¯æŒ‡ç”¨ ubuntu é•œåƒä¸ºåŸºç¡€æ¥å¯åŠ¨å®¹å™¨ã€‚ bashï¼šæ”¾åœ¨é•œåƒååçš„æ˜¯å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯ bashã€‚ è¿›å…¥å®¹å™¨åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Shell ä¸‹æ“ä½œï¼Œæ‰§è¡Œä»»ä½•æ‰€éœ€çš„å‘½ä»¤ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æ‰§è¡Œäº† cat /etc/os-releaseï¼Œè¿™æ˜¯ Linux å¸¸ç”¨çš„æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬çš„å‘½ä»¤ï¼Œä»è¿”å›çš„ç»“æœå¯ä»¥çœ‹åˆ°å®¹å™¨å†…æ˜¯ Ubuntu 16.04.2 LTS ç³»ç»Ÿã€‚ æœ€åé€šè¿‡ exit é€€å‡ºäº†è¿™ä¸ªå®¹å™¨ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"}]},{"title":"linuxæ— æŸè°ƒæ•´åˆ†åŒºå¤§å°","slug":"linuxæ— æŸè°ƒæ•´åˆ†åŒºå¤§å°","date":"2017-05-17T14:00:42.000Z","updated":"2024-07-05T11:10:23.078Z","comments":true,"path":"2017/05/17/linuxæ— æŸè°ƒæ•´åˆ†åŒºå¤§å°/","permalink":"http://yelog.org/2017/05/17/linux%E6%97%A0%E6%8D%9F%E8%B0%83%E6%95%B4%E5%88%86%E5%8C%BA%E5%A4%A7%E5%B0%8F/","excerpt":"","text":"summary ç³»ç»Ÿç¯å¢ƒ: Red Hat 4.8.5-11 æƒ…å†µï¼š homeï¼š500G rootï¼š50G rootåˆ†åŒºä¸å¤Ÿç”¨ æ€è·¯ï¼šæŠŠhomeåˆ†åŒºçš„ç©ºé—´åˆ’ä¸€éƒ¨åˆ†åˆ°rootåˆ†åŒº # è®¾ç½®homeåˆ†åŒºå¤§å°ä¸º200Gï¼Œé‡Šæ”¾300Gç©ºé—´ $ lvreduce -L 200G /dev/centos/home # å°†ç©ºé—²ç©ºé—´æ‰©å±•åˆ°rootåˆ†åŒº $ lvextend -l +100%FREE /dev/centos/root # ä½¿ç”¨XFSæ–‡ä»¶ç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤é›†å¢åŠ åˆ†åŒºç©ºé—´ $ xfs_growfs /dev/mapper/centos-root å®ä¾‹situationæŒ‚è½½åœ¨æ ¹ç›®å½•çš„åˆ†åŒº /dev/mapper/centos-root çˆ†æ»¡ï¼Œå ç”¨100% $ df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/centos-root 50G 50G 19M 100% / devtmpfs 32G 0 32G 0% /dev tmpfs 32G 0 32G 0% /dev/shm tmpfs 32G 2.5G 29G 8% /run tmpfs 32G 0 32G 0% /sys/fs/cgroup /dev/mapper/centos-home 476G 33M 476G 1% /home /dev/sda1 497M 238M 259M 48% /boot tmpfs 6.3G 0 6.3G 0% /run/user/0 analyzeæŒ‚è½½åœ¨æ ¹ç›®å½•çš„åˆ†åŒºç©ºé—´å¤ªå°ï¼Œåªæœ‰50Gï¼Œè€ŒæœåŠ¡å™¨ home ç›®å½•ä¸ºéå¸¸ç”¨ç›®å½•ï¼ŒæŒ‚åœ¨äº†è¿‘500Gçš„ç©ºé—´ã€‚ æ€è·¯ï¼šä» centos-home åˆ†åŒºåˆ’å‡º300Gç©ºé—´åˆ° centos-root åˆ†åŒºã€‚ operation1.æŸ¥çœ‹å„åˆ†åŒºä¿¡æ¯$ lvdisplay --- Logical volume --- LV Path /dev/centos/home LV Name home VG Name centos LV UUID 1fAt1E-bQsa-1HXR-MCE2-5VZ1-xzBz-iI1SLv LV Write Access read/write LV Creation host, time localhost, 2016-10-26 17:23:47 +0800 LV Status available # open 0 LV Size 475.70 GiB Current LE 121778 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 253:2 --- Logical volume --- LV Path /dev/centos/root LV Name root VG Name centos LV UUID lD64zY-yc3Z-SZaB-dAjK-03YM-2gM8-pfj4oo LV Write Access read/write LV Creation host, time localhost, 2016-10-26 17:23:48 +0800 LV Status available # open 1 LV Size 50.00 GiB Current LE 12800 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 253:0 2.å‡å°‘&#x2F;homeåˆ†åŒºç©ºé—´# é‡Šæ”¾ /dev/centos/home åˆ†åŒº 300G çš„ç©ºé—´ # å‘½ä»¤è®¾ç½® /dev/centos/home åˆ†åŒº 200Gç©ºé—´ $ lvreduce -L 200G /dev/centos/home WARNING: Reducing active logical volume to 200.00 GiB. THIS MAY DESTROY YOUR DATA (filesystem etc.) Do you really want to reduce centos/home? [y/n]: y Size of logical volume centos/home changed from 475.70 GiB (121778 extents) to 200.00 GiB (51200 extents). Logical volume centos/home successfully resized. 3.å¢åŠ &#x2F;rootåˆ†åŒºç©ºé—´$ lvextend -l +100%FREE /dev/centos/root Size of logical volume centos/root changed from 50.06 GiB (12816 extents) to 325.76 GiB (83394 extents). Logical volume centos/root successfully resized. 4.æ‰©å±•XFSæ–‡ä»¶ç©ºé—´å¤§å°$ xfs_growfs /dev/mapper/centos-root meta-data=/dev/mapper/centos-root isize=256 agcount=4, agsize=3276800 blks = sectsz=512 attr=2, projid32bit=1 = crc=0 finobt=0 spinodes=0 data = bsize=4096 blocks=13107200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0 ftype=0 log =internal bsize=4096 blocks=6400, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 data blocks changed from 13107200 to 85395456 å®Œæˆ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/tags/%E8%BF%90%E7%BB%B4/"},{"name":"ç£ç›˜åˆ†åŒº","slug":"ç£ç›˜åˆ†åŒº","permalink":"http://yelog.org/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"}]},{"title":"Gitç»Ÿè®¡æ“ä½œ","slug":"git-log","date":"2017-05-16T01:26:11.000Z","updated":"2024-07-05T11:10:22.612Z","comments":true,"path":"2017/05/16/git-log/","permalink":"http://yelog.org/2017/05/16/git-log/","excerpt":"","text":"æŒ‰commitç»Ÿè®¡# ç»Ÿè®¡å½“å‰ä½œè€…ä»Šå¤©ï¼ˆä»å‡Œæ™¨1ç‚¹å¼€å§‹ï¼‰æäº¤æ¬¡æ•° $ git log --author=&quot;$(git config --get user.name)&quot; --no-merges --since=1am --stat # æŒ‰æäº¤ä½œè€…ç»Ÿè®¡ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº $ git shortlog -sn $ git shortlog --numbered --summary # åªçœ‹æŸä½œè€…æäº¤çš„commitæ•° $ git log --author=&quot;faker&quot; --oneline --shortstat # æŒ‰æäº¤ä½œè€…ç»Ÿè®¡ï¼Œæäº¤æ•°é‡æ’åå‰5ï¼ˆçœ‹å…¨éƒ¨ï¼Œå»æ‰headç®¡é“å³å¯ï¼‰ $ git log --pretty=&#39;%aN&#39; | sort | uniq -c | sort -k1 -n -r | head -n 5 # æŒ‰æäº¤è€…é‚®ç®±ç»Ÿè®¡ï¼Œæäº¤æ•°é‡æ’åå‰5 $ git log --pretty=format:%ae | gawk -- &#39;&#123; ++c[$0]; &#125; END &#123; for(cc in c) printf &quot;%5d %s\\n&quot;,c[cc],cc; &#125;&#39; | sort -u -n -r | head -n 5 # ç»Ÿè®¡è´¡çŒ®è€…æ•°é‡ $ git log --pretty=&#39;%aN&#39; | sort -u | wc -l # ç»Ÿè®¡æäº¤æ•°é‡ $ git log --oneline | wc -l æŒ‰ä»£ç è¡Œæ•°ç»Ÿè®¡# ç»Ÿè®¡æŒ‡å®šä½œè€…å¢åˆ è¡Œæ•° $ git log --author=&quot;faker&quot; --pretty=tformat: --numstat | awk &#39;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\\n&quot;, add, subs, loc &#125;&#39; - # ç»Ÿè®¡å½“å‰ä½œè€…å¢åˆ è¡Œæ•° $ git log --author=&quot;$(git config --get user.name)&quot; --pretty=tformat: --numstat | gawk &#39;&#123; add += $1 ; subs += $2 ; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s removed lines : %s total lines: %s\\n&quot;,add,subs,loc &#125;&#39; - # ç»Ÿè®¡æ‰€æœ‰é‚®ç®±å‰ç¼€çš„å¢åˆ è¡Œæ•° -è‹±æ–‡ç‰ˆ $ git log --shortstat --pretty=&quot;%cE&quot; | sed &#39;s/\\(.*\\)@.*/\\1/&#39; | grep -v &quot;^$&quot; | awk &#39;BEGIN &#123; line=&quot;&quot;; &#125; !/^ / &#123; if (line==&quot;&quot; || !match(line, $0)) &#123;line = $0 &quot;,&quot; line &#125;&#125; /^ / &#123; print line &quot; # &quot; $0; line=&quot;&quot;&#125;&#39; | sort | sed -E &#39;s/# //;s/ files? changed,//;s/([0-9]+) ([0-9]+ deletion)/\\1 0 insertions\\(+\\), \\2/;s/\\(\\+\\)$/\\(\\+\\), 0 deletions\\(-\\)/;s/insertions?\\(\\+\\), //;s/ deletions?\\(-\\)//&#39; | awk &#39;BEGIN &#123;name=&quot;&quot;; files=0; insertions=0; deletions=0;&#125; &#123;if ($1 != name &amp;&amp; name != &quot;&quot;) &#123; print name &quot;: &quot; files &quot; files changed, &quot; insertions &quot; insertions(+), &quot; deletions &quot; deletions(-), &quot; insertions-deletions &quot; net&quot;; files=0; insertions=0; deletions=0; name=$1; &#125; name=$1; files+=$2; insertions+=$3; deletions+=$4&#125; END &#123;print name &quot;: &quot; files &quot; files changed, &quot; insertions &quot; insertions(+), &quot; deletions &quot; deletions(-), &quot; insertions-deletions &quot; net&quot;;&#125;&#39; # ç»Ÿè®¡æ‰€æœ‰é‚®ç®±å‰ç¼€çš„å¢åˆ è¡Œæ•° -ä¸­æ–‡ç‰ˆ $ git log --shortstat --pretty=&quot;%cE&quot; | sed &#39;s/\\(.*\\)@.*/\\1/&#39; | grep -v &quot;^$&quot; | awk &#39;BEGIN &#123; line=&quot;&quot;; &#125; !/^ / &#123; if (line==&quot;&quot; || !match(line, $0)) &#123;line = $0 &quot;,&quot; line &#125;&#125; /^ / &#123; print line &quot; # &quot; $0; line=&quot;&quot;&#125;&#39; | sort | sed -E &#39;s/# //;s/ files? changed,//;s/([0-9]+) ([0-9]+ deletion)/\\1 0 insertions\\(+\\), \\2/;s/\\(\\+\\)$/\\(\\+\\), 0 deletions\\(-\\)/;s/insertions?\\(\\+\\), //;s/ deletions?\\(-\\)//&#39; | awk &#39;BEGIN &#123;name=&quot;&quot;; files=0; insertions=0; deletions=0;&#125; &#123;if ($1 != name &amp;&amp; name != &quot;&quot;) &#123; print name &quot;: &quot; files &quot; ä¸ªæ–‡ä»¶è¢«æ”¹å˜, &quot; insertions &quot; è¡Œè¢«æ’å…¥(+), &quot; deletions &quot; è¡Œè¢«åˆ é™¤(-), &quot; insertions-deletions &quot; è¡Œå‰©ä½™&quot;; files=0; insertions=0; deletions=0; name=$1; &#125; name=$1; files+=$2; insertions+=$3; deletions+=$4&#125; END &#123;print name &quot;: &quot; files &quot; ä¸ªæ–‡ä»¶è¢«æ”¹å˜, &quot; insertions &quot; è¡Œè¢«æ’å…¥(+), &quot; deletions &quot; è¡Œè¢«åˆ é™¤(-), &quot; insertions-deletions &quot; è¡Œå‰©ä½™&quot;;&#125;&#39; # ç»Ÿè®¡æ‰€æœ‰ä½œè€…å¢åˆ è¡Œæ•° --è‹±æ–‡ç‰ˆ $ git log --format=&#39;%aN&#39; | sort -u | while read name; do echo -en &quot;$name\\t&quot;; git log --author=&quot;$name&quot; --pretty=tformat: --numstat | awk &#39;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\\n&quot;, add, subs, loc &#125;&#39; -; done # ç»Ÿè®¡æ‰€æœ‰ä½œè€…å¢åˆ è¡Œæ•° --ä¸­æ–‡ç‰ˆ $ git log --format=&#39;%aN&#39; | sort -u | while read name; do echo -en &quot;$name\\t&quot;; git log --author=&quot;$name&quot; --pretty=tformat: --numstat | awk &#39;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;æ·»åŠ è¡Œæ•°: %s, åˆ é™¤è¡Œæ•°: %s, æ€»è¡Œæ•°: %s\\n&quot;, add, subs, loc &#125;&#39; -; done git log è¯´æ˜ git log å‚æ•°è¯´æ˜ï¼š--author æŒ‡å®šä½œè€…--stat æ˜¾ç¤ºæ¯æ¬¡æ›´æ–°çš„æ–‡ä»¶ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯ï¼Œä¼šåˆ—å‡ºå…·ä½“æ–‡ä»¶åˆ—è¡¨--shortstat ç»Ÿè®¡æ¯ä¸ªcommit çš„æ–‡ä»¶ä¿®æ”¹è¡Œæ•°ï¼ŒåŒ…æ‹¬å¢åŠ ï¼Œåˆ é™¤ï¼Œä½†ä¸åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼š--numstat ç»Ÿè®¡æ¯ä¸ªcommit çš„æ–‡ä»¶ä¿®æ”¹è¡Œæ•°ï¼ŒåŒ…æ‹¬å¢åŠ ï¼Œåˆ é™¤ï¼Œå¹¶åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼š -p é€‰é¡¹å±•å¼€æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚ï¼Œç”¨ -2 åˆ™ä»…æ˜¾ç¤ºæœ€è¿‘çš„ä¸¤æ¬¡æ›´æ–° ä¾‹å¦‚ï¼šgit log -p -2--name-only ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•--name-status æ˜¾ç¤ºæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ¸…å•--abbrev-commit ä»…æ˜¾ç¤º SHA-1 çš„å‰å‡ ä¸ªå­—ç¬¦ï¼Œè€Œéæ‰€æœ‰çš„ 40 ä¸ªå­—ç¬¦--relative-date ä½¿ç”¨è¾ƒçŸ­çš„ç›¸å¯¹æ—¶é—´æ˜¾ç¤ºï¼ˆæ¯”å¦‚ï¼Œâ€œ2 weeks agoâ€ï¼‰--graph æ˜¾ç¤º ASCII å›¾å½¢è¡¨ç¤ºçš„åˆ†æ”¯åˆå¹¶å†å²--pretty ä½¿ç”¨å…¶ä»–æ ¼å¼æ˜¾ç¤ºå†å²æäº¤ä¿¡æ¯ã€‚å¯ç”¨çš„é€‰é¡¹åŒ…æ‹¬ onelineï¼Œshortï¼Œfullï¼Œfuller å’Œ formatï¼ˆåè·ŸæŒ‡å®šæ ¼å¼ï¼‰ ä¾‹å¦‚ï¼š git log --pretty=oneline ; git log --pretty=short ; git log --pretty=full ; git log â€“pretty&#x3D;fuller--pretty&#x3D;tformat: å¯ä»¥å®šåˆ¶è¦æ˜¾ç¤ºçš„è®°å½•æ ¼å¼ï¼Œè¿™æ ·çš„è¾“å‡ºä¾¿äºåæœŸç¼–ç¨‹æå–åˆ†æ ä¾‹å¦‚ï¼š git log --pretty=format:&quot;&quot;%h - %an, %ar : %s&quot;&quot; ä¸‹é¢åˆ—å‡ºäº†å¸¸ç”¨çš„æ ¼å¼å ä½ç¬¦å†™æ³•åŠå…¶ä»£è¡¨çš„æ„ä¹‰ã€‚ é€‰é¡¹ è¯´æ˜ %H æäº¤å¯¹è±¡ï¼ˆcommitï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %h æäº¤å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %T æ ‘å¯¹è±¡ï¼ˆtreeï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %t æ ‘å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %P çˆ¶å¯¹è±¡ï¼ˆparentï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸² %p çˆ¶å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸² %an ä½œè€…ï¼ˆauthorï¼‰çš„åå­— %ae ä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€ %ad ä½œè€…ä¿®è®¢æ—¥æœŸï¼ˆå¯ä»¥ç”¨ -date&#x3D; é€‰é¡¹å®šåˆ¶æ ¼å¼ï¼‰ %ar ä½œè€…ä¿®è®¢æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º %cn æäº¤è€…(committer)çš„åå­— %ce æäº¤è€…çš„ç”µå­é‚®ä»¶åœ°å€ %cd æäº¤æ—¥æœŸ %cr æäº¤æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º %s æäº¤è¯´æ˜--since é™åˆ¶æ˜¾ç¤ºè¾“å‡ºçš„èŒƒå›´ï¼Œ ä¾‹å¦‚ï¼š git log --since=2.weeks æ˜¾ç¤ºæœ€è¿‘ä¸¤å‘¨çš„æäº¤ é€‰é¡¹ è¯´æ˜ -(n) ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ --since, --after ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ã€‚ --until, --before ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ã€‚ --author ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤ã€‚ --committer ä»…æ˜¾ç¤ºæŒ‡å®šæäº¤è€…ç›¸å…³çš„æäº¤ã€‚ ä¸€äº›ä¾‹å­ï¼šgit log --until=1.minute.ago &#x2F;&#x2F; ä¸€åˆ†é’Ÿä¹‹å‰çš„æ‰€æœ‰ loggit log --since=1.day.ago &#x2F;&#x2F;ä¸€å¤©ä¹‹å†…çš„loggit log --since=1.hour.ago &#x2F;&#x2F;ä¸€ä¸ªå°æ—¶ä¹‹å†…çš„ loggit log --since=1.month.ago --until=2.weeks.ago &#x2F;&#x2F;ä¸€ä¸ªæœˆä¹‹å‰åˆ°åŠä¸ªæœˆä¹‹å‰çš„loggit log --since ==2013-08.01 --until=2013-09-07 &#x2F;&#x2F;æŸä¸ªæ—¶é—´æ®µçš„ loggit blame çœ‹çœ‹æŸä¸€ä¸ªæ–‡ä»¶çš„ç›¸å…³å†å²è®°å½•ä¾‹å¦‚ï¼šgit blame index.html --date short","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"git","slug":"git","permalink":"http://yelog.org/tags/git/"}]},{"title":"è§£å†³linuxä¸‹zipæ–‡ä»¶è§£å‹ä¹±ç ","slug":"è§£å†³linuxä¸‹zipæ–‡ä»¶è§£å‹ä¹±ç ","date":"2017-04-25T01:10:40.000Z","updated":"2024-07-05T11:10:23.092Z","comments":true,"path":"2017/04/25/è§£å†³linuxä¸‹zipæ–‡ä»¶è§£å‹ä¹±ç /","permalink":"http://yelog.org/2017/04/25/%E8%A7%A3%E5%86%B3linux%E4%B8%8Bzip%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E4%B9%B1%E7%A0%81/","excerpt":"","text":"åŸå› ç”±äºzipæ ¼å¼å¹¶æ²¡æœ‰æŒ‡å®šç¼–ç æ ¼å¼ï¼ŒWindowsä¸‹ç”Ÿæˆçš„zipæ–‡ä»¶ä¸­çš„ç¼–ç æ˜¯GBK&#x2F;GB2312ç­‰ï¼Œå› æ­¤ï¼Œå¯¼è‡´è¿™äº›zipæ–‡ä»¶åœ¨Linuxä¸‹è§£å‹æ—¶å‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºLinuxä¸‹çš„é»˜è®¤ç¼–ç æ˜¯UTF8ã€‚ è§£å†³æ–¹æ¡ˆä½¿ç”¨7zè§£å‹ã€‚ å®‰è£…p7zipå’Œconvmv # fedora $ su -c &#39;yum install p7zip convmv&#39; # ubuntu $ sudo apt-get install p7zip convmv æ‰§è¡Œä¸€ä¸‹å‘½ä»¤è§£å‹ç¼© # ä½¿ç”¨7zè§£å‹ç¼© $ LANG=C 7za x your-zip-file.zip # é€’å½’è½¬ç  $ convmv -f GBK -t utf8 --notest -r .","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"åŠ å¯†ç®—æ³•ç®€ä»‹","slug":"åŠ å¯†ç®—æ³•ç®€ä»‹","date":"2017-04-22T01:30:41.000Z","updated":"2024-07-05T11:10:22.672Z","comments":true,"path":"2017/04/22/encryption-algorithm/","permalink":"http://yelog.org/2017/04/22/encryption-algorithm/","excerpt":"","text":"ä¸€ã€å¯¹ç§°å¯†é’¥ç®—æ³•æ¦‚è¿°å¯¹ç§°åŠ å¯†ï¼ˆSymmetric-key algorithmï¼‰æ˜¯æŒ‡åŠ è§£å¯†ç”¨åŒä¸€ä¸ªå¯†é’¥çš„ç®—æ³•ï¼Œæ ¹æ®å…·ä½“å®ç°åˆ†ä¸ºæµåŠ å¯†å’Œåˆ†ç»„åŠ å¯†ä¸¤ç§ç±»å‹ï¼š æµåŠ å¯†ï¼ˆStream cipherï¼‰æ˜¯å¯¹ç§°åŠ å¯†å¸¸ç”¨çš„ä¸€ç§å®ç°æ–¹æ³•ï¼ŒåŠ å¯†å’Œè§£å¯†åŒæ–¹ä½¿ç”¨ç›¸åŒä¼ªéšæœºåŠ å¯†æ•°æ®æµï¼Œä¸€èˆ¬éƒ½æ˜¯é€ä½å¼‚æˆ–éšæœºå¯†ç æœ¬çš„å†…å®¹ã€‚ åˆ†ç»„åŠ å¯†åŠ å¯†ï¼ˆBlock cipherï¼‰ï¼Œä¹Ÿå«å—åŠ å¯†ï¼Œå°†æ˜æ–‡åˆ†æˆå¤šä¸ªç­‰é•¿çš„æ¨¡å—ï¼ˆblockï¼‰ï¼Œä½¿ç”¨ç¡®å®šçš„ç®—æ³•å’Œå¯¹ç§°å¯†é’¥å¯¹æ¯ç»„åˆ†åˆ«åŠ å¯†è§£å¯†ã€‚ç°ä»£åˆ†ç»„åŠ å¯†å»ºç«‹åœ¨è¿­ä»£çš„æ€æƒ³ä¸Šäº§ç”Ÿå¯†æ–‡ã€‚è¿­ä»£äº§ç”Ÿçš„å¯†æ–‡åœ¨æ¯ä¸€è½®åŠ å¯†ä¸­ä½¿ç”¨ä¸åŒçš„å­å¯†é’¥ï¼Œè€Œå­å¯†é’¥ç”Ÿæˆè‡ªåŸå§‹å¯†é’¥ã€‚ å¯¹ç§°åŠ å¯†æ™®éæ¯”éå¯¹ç§°åŠ å¯†é€Ÿåº¦è¦å¿«ï¼Œå®ç°æ›´ç®€å•ï¼Œé€‚åˆå¤§é‡å†…å®¹çš„åŠ å¯† DESDES (Data Encryption Standard) æ˜¯ä¸€ç§åˆ†ç»„åŠ å¯†ç®—æ³• DESç®—æ³•çš„å…¥å£å‚æ•°æœ‰ä¸‰ä¸ª:Key,Data,Modeï¼ŒKeyæ˜¯å¯†é’¥å¯†é’¥å 7ä¸ªå­—èŠ‚56ä½ï¼ˆ64ä½é‡Œå¦å¤–8ä½æ˜¯ç”¨æ¥æ ¡éªŒçš„ï¼‰ï¼ŒDataæ˜¯åŠ å¯†å†…å®¹ï¼Œå 8ä¸ªå­—èŠ‚64ä½ï¼ŒModeæ˜¯åŠ å¯†è¿˜æ˜¯è§£å¯†ã€‚ DESç®—æ³•äº1976è¢«ç¡®å®šï¼Œç°åœ¨å·²ç»è¢«è®¤ä¸ºä¸å¤Ÿå®‰å…¨ï¼Œä¸»è¦åŸå› æ˜¯56ä½çš„å¯†é’¥è¿‡çŸ­ã€‚æ®è¯´è¿™ä¸ªç®—æ³•å› ä¸ºåŒ…å«ä¸€äº›æœºå¯†è®¾è®¡å…ƒç´ ï¼Œè¢«æ€€ç–‘å†…å«ç¾å›½å›½å®¶å®‰å…¨å±€ï¼ˆNSAï¼‰çš„åé—¨ã€‚ DESç®—æ³•æœ‰ä¸ªæ‹“å±•ç®—æ³•å«3DESï¼Œå°±æ˜¯å¯¹æ•°æ®å—è¿›è¡Œä¸‰æ¬¡DESåŠ å¯†ï¼Œå¢åŠ çˆ†ç ´æˆæœ¬ï¼Œä½†æœ¬è´¨ä¸Šä¹Ÿä¸å¤Ÿå®‰å…¨ã€‚ RC4RC4 (Rivest Cipher 4) æ˜¯ä¸€ç§æµåŠ å¯†ç®—æ³• RC4èµ·æºäº1987å¹´ï¼Œç°åœ¨å·²ç»è¢«è®¤ä¸ºä¸å¤Ÿå®‰å…¨ã€‚RC4ç”±ä¼ªéšæœºæ•°ç”Ÿæˆå™¨å’Œå¼‚æˆ–è¿ç®—ç»„æˆã€‚RC4çš„å¯†é’¥é•¿åº¦å¯å˜ï¼ŒèŒƒå›´æ˜¯[1,255]ã€‚RC4ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚åœ°åŠ è§£å¯†ã€‚ç»™å®šä¸€ä¸ªå¯†é’¥ï¼Œä¼ªéšæœºæ•°ç”Ÿæˆå™¨æ¥å—å¯†é’¥å¹¶äº§ç”Ÿä¸€ä¸ªSç›’ã€‚Sç›’ç”¨æ¥åŠ å¯†æ•°æ®ï¼Œè€Œä¸”åœ¨åŠ å¯†è¿‡ç¨‹ä¸­Sç›’ä¼šå˜åŒ–ã€‚ ç”±äºå¼‚æˆ–è¿ç®—çš„å¯¹åˆæ€§ï¼ŒRC4åŠ å¯†è§£å¯†ä½¿ç”¨åŒä¸€å¥—ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•å®ç°èµ·æ¥å¾ˆç®€å•ï¼Œåªç”¨äº†æœ€åŸºæœ¬çš„åŠ ã€å¼‚æˆ–ã€å¾ªç¯ï¼Œè¯è¯´æˆ‘å¤§å­¦æ—¶æŸä¸ªè¯¾ç¨‹è®¾è®¡çš„åšçš„åŠ å¯†ç®—æ³•å°±æ˜¯ç®€åŒ–ç‰ˆçš„RC4ã€‚ ä¹‹åè¿˜å‡ºç°äº†RC5ã€RC6åŠ å¯†ç®—æ³•ï¼Œä½†RC5å’ŒRC6éƒ½æ˜¯åˆ†ç»„åŠ å¯†ï¼Œå’ŒRC4åŸç†å¹¶ä¸ä¸€æ ·ã€‚ RC5RC5 ï¼ˆRivest Cipher 5ï¼‰ æ˜¯ä¸€ç§åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå®ƒå’ŒRC2ï¼ŒRC4ï¼ŒRC6éƒ½æ˜¯åŒä¸€ä¸ªå«Ronald Rivestçš„äººè®¾è®¡çš„ã€‚ ç›¸æ¯”RC4ï¼ŒRC5çš„å¯†é’¥æˆäº†128ä½ï¼Œä½†RC5ä»ç„¶åªéœ€è¦åŸºç¡€çš„åŠ ã€å¼‚æˆ–ã€å¾ªç¯è¿ç®—ï¼Œå¯ä»¥åœ¨å¾ˆå¤šç¡¬ä»¶ä¸Šå®ç°ã€‚RC5æœ‰ä¸‰ä¸ªå‚æ•°ï¼šå­—çš„å¤§å°ï¼Œå¾ªç¯è½®æ•°ï¼ˆroundï¼‰ï¼Œå¯†é’¥ä¸­çš„8ä½å­—èŠ‚ä¸ªæ•°ï¼Œæ‰€ä»¥å¯ä»¥è¯´RC5æ˜¯ä¸€ç§å¯å˜åŠ å¯†ç®—æ³•ã€‚å®é™…ä¸Šå¾ªç¯è½®æ•°12è½®ä»¥ä¸‹çš„RC5éƒ½è¢«è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„ï¼Œä¼šè¢«å·®åˆ†åˆ†ææ³•ï¼ˆDifferential cryptanalysisï¼‰æ”»å‡»ï¼Œ18-20è½®æ‰è¶³å¤Ÿå®‰å…¨ã€‚ ç›®å‰æ¥è¯´ï¼ŒRC5è¿˜æ˜¯æŒºå®‰å…¨çš„ï¼Œå› ä¸ºå®ç°ç®€å•ï¼Œæ¶ˆè€—èµ„æºå°‘ï¼Œåœ¨ä¸€äº›ä¼ æ„Ÿå™¨ã€åµŒå…¥å¼è®¾å¤‡ä¸Šä½¿ç”¨å¾ˆåˆé€‚ã€‚ RC6RC6 ï¼ˆRivest Cipher 6ï¼‰ æ˜¯RC5çš„åŠ å¼ºç‰ˆï¼Œä¹Ÿå±äºåˆ†ç»„åŠ å¯†ç®—æ³•ã€‚ RC6ç®—æ³•åœ¨RC5ç®—æ³•åŸºç¡€ä¹‹ä¸Šé’ˆå¯¹RC5ç®—æ³•ä¸­çš„æ¼æ´ï¼Œä¸»è¦æ˜¯å¾ªç¯ç§»ä½çš„ä½ç§»é‡å¹¶ä¸å–å†³äºè¦ç§»åŠ¨æ¬¡æ•°çš„æ‰€æœ‰æ¯”ç‰¹ï¼Œé€šè¿‡é‡‡ç”¨å¼•å…¥ä¹˜æ³•è¿ç®—æ¥å†³å®šå¾ªç¯ç§»ä½æ¬¡æ•°çš„æ–¹æ³•ï¼Œå¯¹RC5ç®—æ³•è¿›è¡Œäº†æ”¹è¿›ï¼Œä»è€Œå¤§å¤§æé«˜äº†RC6ç®—æ³•çš„å®‰å…¨æ€§ã€‚ RC6æ›¾ä½œä¸ºAESï¼ˆé«˜çº§åŠ å¯†æ ‡å‡†ï¼‰å¤‡é€‰ç®—æ³•ä¹‹ä¸€ï¼Œä½†æœ€ç»ˆAESé€‰æ‹©äº†Rijndaelç®—æ³•ã€‚ AESæœ€åå‹è½´å‡ºåœºçš„æ˜¯æœ€è‘—åçš„å•å¯†é’¥å¯¹ç§°åŠ å¯†ç®—æ³•AES (Rijndael)ï¼ŒAESæ˜¯Advanced Encryption Standardçš„ç¼©å†™ï¼Œæ˜¯ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢2001å¹´å‘å¸ƒçš„æ–°åŠ å¯†æ ‡å‡†ã€‚ AESç°åœ¨å°±æ˜¯æŒ‡çš„é™å®šäº†åŒºå—é•¿åº¦å’Œå¯†é’¥é•¿åº¦çš„Rijndaelç®—æ³•ï¼ŒåŒæ ·å±äºåˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œè¯¥ç®—æ³•æ˜¯ä¸¤ä½æ¯”åˆ©æ—¶å­¦è€…1998å¹´å‘å¸ƒçš„ã€‚èµ·åˆè¿˜æœ‰å¾ˆå¤šç®—æ³•å‚ä¸äº†AESç”„é€‰ï¼Œæœ€ç»ˆRijndaelå‡­å€Ÿé«˜å®‰å…¨æ€§å’Œæ¸…æ™°çš„æ•°å­¦ç»“æ„è€Œè¢«é€‰ç”¨ã€‚ AESå°†Rijndaelç®—æ³•çš„åŒºå—é•¿åº¦å›ºå®šä¸º128ä½ï¼Œå¯†é’¥é•¿åº¦å¯é€‰128ï¼Œ192æˆ–256æ¯”ç‰¹ï¼ˆRijndaelåŸç‰ˆæ”¯æŒ128-256ï¼Œn*32çš„åŒºå—é•¿åº¦å’Œå¯†é’¥é•¿åº¦ï¼‰ã€‚ AESç®—æ³•åŒ…æ‹¬4ä¸ªæ­¥éª¤ï¼š AddRoundKeyâ€”çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½ä¸è¯¥æ¬¡å›åˆå¯†é’¥ï¼ˆround keyï¼‰åšXORè¿ç®—ï¼›æ¯ä¸ªå­å¯†é’¥ç”±å¯†é’¥ç”Ÿæˆæ–¹æ¡ˆäº§ç”Ÿã€‚ SubBytesâ€”é€šè¿‡ä¸€ä¸ªéçº¿æ€§çš„æ›¿æ¢å‡½æ•°ï¼Œç”¨æŸ¥æ‰¾è¡¨çš„æ–¹å¼æŠŠæ¯ä¸ªå­—èŠ‚æ›¿æ¢æˆå¯¹åº”çš„å­—èŠ‚ã€‚ ShiftRowsâ€”å°†çŸ©é˜µä¸­çš„æ¯ä¸ªæ¨ªåˆ—è¿›è¡Œå¾ªç¯å¼ç§»ä½ã€‚ MixColumnsâ€”ä¸ºäº†å……åˆ†æ··åˆçŸ©é˜µä¸­å„ä¸ªç›´è¡Œçš„æ“ä½œã€‚è¿™ä¸ªæ­¥éª¤ä½¿ç”¨çº¿æ€§è½¬æ¢æ¥æ··åˆæ¯å†…è”çš„å››ä¸ªå­—èŠ‚ã€‚æœ€åä¸€ä¸ªåŠ å¯†å¾ªç¯ä¸­çœç•¥MixColumnsæ­¥éª¤ï¼Œè€Œä»¥å¦ä¸€ä¸ªAddRoundKeyæ›¿æ¢ã€‚ æˆªæ­¢ç°åœ¨ï¼ˆ2016ï¼‰ï¼ŒAESåœ¨ç®—æ³•å±‚é¢ä¸Šæ˜¯å®‰å…¨çš„ã€‚2005å¹´æœ‰äººå…¬å¸ƒè¿‡ä¸€ç§ç¼“å­˜æ—¶åºæ”»å‡»æ³•ï¼Œä½†ä½¿ç”¨åœºæ™¯éå¸¸æç«¯ã€‚ äºŒã€éå¯¹ç§°ç§˜é’¥ç®—æ³•æ¦‚è¿°å…¬é’¥åŠ å¯†çš„æ€æƒ³äº1974å¹´è¢«æå‡ºï¼Œç›¸æ¯”å¯¹ç§°åŠ å¯†æ— éœ€å…±äº«å¯†é’¥ï¼Œæ›´åŠ å®‰å…¨ã€‚ä½†æ˜¯æ²¡æ³•åŠ å¯†å¤§é‡æ•°æ®ï¼Œä¸€èˆ¬ç”¨æ¥åŠ å¯†å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œè€Œç”¨å¯¹ç§°åŠ å¯†åŠ å¯†å¤§é‡æ•°æ®ã€‚éå¯¹ç§°åŠ å¯†çš„åŸç†å¦‚ä¸‹ï¼š æ¶ˆæ¯å‘é€æ–¹Aåœ¨æœ¬åœ°æ„å»ºå¯†é’¥å¯¹ï¼Œå…¬é’¥å’Œç§é’¥ï¼› æ¶ˆæ¯å‘é€æ–¹Aå°†äº§ç”Ÿçš„å…¬é’¥å‘é€ç»™æ¶ˆæ¯æ¥æ”¶æ–¹Bï¼› Bå‘Aå‘é€æ•°æ®æ—¶ï¼Œé€šè¿‡å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼ŒAæ¥æ”¶åˆ°æ•°æ®åé€šè¿‡ç§é’¥è¿›è¡Œè§£å¯†ï¼Œå®Œæˆä¸€æ¬¡é€šä¿¡ï¼› åä¹‹ï¼ŒAå‘Bå‘é€æ•°æ®æ—¶ï¼Œé€šè¿‡ç§é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ŒBæ¥æ”¶åˆ°æ•°æ®åé€šè¿‡å…¬é’¥è¿›è¡Œè§£å¯†ã€‚ RSARSAç®—æ³•æ˜¯æœ€è‘—åçš„éå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚RSAæ˜¯1977å¹´æå‡ºçš„ï¼Œåå­—æ¥æºäºRivestã€Shmirå’ŒAdlemanä¸‰ä½ä½œè€…ã€‚æˆ‘ä»¬å¹³æ—¶ç”¨åˆ°çš„SSLåè®®ï¼ŒTLSåè®®éƒ½é‡‡ç”¨äº†è¯¥ç®—æ³•åŠ å¯†ï¼ŒSSHï¼ˆSecure Shellï¼‰ä¹Ÿæ˜¯åŸºäºRSAå®ç°çš„ã€‚ RSAçš„æ•°å­¦åŸºç¡€æ˜¯æå¤§æ•´æ•°çš„å› æ•°åˆ†è§£ï¼Œå…·ä½“å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š éšæ„é€‰æ‹©ä¸¤ä¸ªå¤§çš„è´¨æ•°på’Œqï¼Œpä¸ç­‰äºqï¼Œè®¡ç®—N&#x3D;pqã€‚ æ ¹æ®æ¬§æ‹‰å‡½æ•°ï¼Œæ±‚å¾—r&#x3D;varphi (N) &#x3D; varphi(p) * varphi(q)&#x3D;(p-1)(q-1) é€‰æ‹©ä¸€ä¸ªå°äºrçš„æ•´æ•°eï¼Œä½¿eä¸räº’è´¨ã€‚å¹¶æ±‚å¾—eå…³äºrçš„æ¨¡åå…ƒç´ ï¼Œå‘½åä¸ºdã€‚ (N,e)æ˜¯å…¬é’¥ï¼Œ(N,d)æ˜¯ç§é’¥ã€‚ åŠ å¯†æ—¶ï¼ŒåŠ å¯†çš„å— n^e â‰¡ c(MOD N)ï¼Œå¾—åˆ°çš„cå°±æ˜¯å¯†æ–‡ã€‚è§£å¯†æ—¶ï¼Œc^d â‰¡ n(MOD N)ã€‚ è¦ç ´è§£RSAè¦è§£å†³æ€ä¹ˆæŠŠä¸€ä¸ªæå¤§æ•°åˆ†è§£ä¸ºä¸¤ä¸ªè´¨æ•°på’Œqï¼Œç„¶åé€šè¿‡æ¬§æ‹‰å‡½æ•°å†å¾—åˆ°å…¬é’¥å’Œç§é’¥ã€‚ä½†æå¤§æ•°å› æ•°åˆ†è§£ç›®å‰è¿˜æ²¡ä»€ä¹ˆå¥½åŠæ³•ï¼Œæ‰€ä»¥åªè¦Nè¶³å¤Ÿå¤§ï¼ŒRSAåœ¨ç®—æ³•å±‚é¢ä¸Šå°±æ˜¯å®‰å…¨çš„ã€‚ å½“Nçš„é•¿åº¦ä¸º256æ—¶ï¼Œç”¨æ™®é€šç”µè„‘èŠ±å‡ å°æ—¶å³å¯ä»¥åˆ†è§£ï¼Œå½“Né•¿åº¦ä¸º512æ—¶éœ€è¦èŠ±æ•°æœˆæ—¶é—´åˆ†è§£ï¼Œ1024æ—¶éœ€è¦å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿæ‰èƒ½åˆ†è§£ï¼Œé•¿åº¦åˆ°2046åˆ™å¯ä»¥ç¡®ä¿æ˜¯å®Œå…¨å®‰å…¨çš„ã€‚ç›®å‰å·²æœ‰è®°å½•é‡Œï¼Œè¢«åˆ†è§£çš„æå¤§æ•°æœ€å¤§ä½æ•°æ˜¯768ä½ï¼Œäº2009å¹´è¢«åˆ†è§£ã€‚ RSAä¹Ÿå¸¸è¢«ç”¨æ¥åšæ•°å­—ç­¾åï¼Œåœ¨æ¶ˆæ¯å†…é™„åŠ ä¸€ä¸ªç§é’¥åŠ å¯†è¿‡çš„æ•£åˆ—å€¼ï¼ˆMessage digestï¼‰ï¼Œä»¥æ­¤æ¥ç¡®ä¿æ¶ˆæ¯å‘é€äººæ˜¯å¯é çš„ã€‚å…¬é’¥ç§é’¥å¯¹ç”Ÿæˆ # 1.è¯¥å‘½ä»¤ä¼šç”Ÿæˆ1024ä½çš„ç§é’¥,æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥åœ¨å½“å‰è·¯å¾„ä¸‹çœ‹åˆ°rsa_private_key.pemæ–‡ä»¶äº†. genrsa -out rsa_private_key.pem 1024 # 2.ç”Ÿæˆçš„å¯†é’¥ä¸æ˜¯pcs8æ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦è½¬æˆpkcs8æ ¼å¼ pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt # 3.ç”Ÿæˆ rsa å…¬é’¥ rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem æ¤­åœ†æ›²çº¿ç®—æ³•æ¤­åœ†æ›²çº¿ç®—æ³•ï¼ˆElliptic curve cryptographyï¼‰ä¹Ÿæ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œäº1985å¹´è¢«æå‡ºï¼Œä»¥ä¸‹ç®€ç§°ECCã€‚ç›¸æ¯”RSAï¼ŒåŒç­‰ç ´è§£éš¾åº¦æ—¶ECCçš„ç§˜é’¥æ›´çŸ­ã€‚å¦å¤–ï¼ŒECCå¯å®šä¹‰æ¤­åœ†æ›²çº¿ç¾¤çš„åŒçº¿æ€§æ˜ å°„ï¼Œè¯¥ç‰¹æ€§å¯èƒ½å°†æ¥è¢«ç”¨æ¥å®ç°èº«ä»½åŸºåŠ å¯†ä½“åˆ¶ï¼ˆIdentity-Based Encryptionï¼ŒIBEï¼‰ã€‚ ECCçš„æ•°å­¦åŸºç¡€æ˜¯æ±‚æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°é—®é¢˜ã€‚å®ç°æ¯”è¾ƒå¤æ‚æˆ‘å°±ä¸å†™äº†ï¼Œå› ä¸ºæˆ‘ä¹Ÿçœ‹ä¸æ‡‚(âŠ™ï¹âŠ™)bã€‚ ä¹Ÿæ­£å› ä¸ºå®ç°å¤æ‚ï¼ŒECCçš„åŠ è§£å¯†é€Ÿåº¦æ…¢ï¼Œæ¶ˆè€—èµ„æºä¹Ÿæ›´å¤šã€‚ ECCä¹ŸåŒæ ·å¯ä»¥å®ç°æ•°å­—ç­¾åï¼Œå«åšECDSAã€‚ ECCçš„ç§˜é’¥é•¿åº¦æœ€å°è¦æ±‚æ˜¯160ä½ï¼Œå»ºè®®æ˜¯163ä½ã€‚ç›®å‰å·²æœ‰çš„ç ´è§£è®°å½•æ˜¯109ä½ï¼Œä¸€ä¸‡å°æœºå™¨ç ´è§£äº†ä¸€å¹´åŠã€‚æ‰€ä»¥ECCåœ¨ç®—æ³•å±‚é¢æ˜¯å¯ä»¥ä¿è¯å®‰å…¨çš„ã€‚ ElGamalElGamalåŠ å¯†ç®—æ³•æ˜¯ä¸€ç§ç”¨äºå¯¹é‡‡ç”¨Diff-Hellmanæ–¹å¼è¿›è¡Œäº¤æ¢çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œå¸¸è¢«ç”¨äºæ•°å­—ç­¾åå’Œå¯†é’¥åŠ å¯†çš„ç®—æ³•ï¼ŒElGamalçš„æ•°å­¦åŸºç¡€æ˜¯æœ‰é™åŸŸä¸Šçš„ç¦»æ•£å¯¹æ•°é—®é¢˜ã€‚ é€‰æ‹©ä¸€ä¸ªç´ æ•°på’Œä¸¤ä¸ªéšæœºæ•°g ã€x ï¼ˆgã€ x &lt; p ï¼‰ï¼Œè®¡ç®— y â‰¡ g^xï¼ˆ mod p ï¼‰ ï¼Œåˆ™å…¶å…¬é’¥ä¸º y, g å’Œp ï¼Œç§é’¥æ˜¯x ï¼Œgå’Œpå¯ç”±ä¸€ç»„ç”¨æˆ·å…±äº«ã€‚ ElGamalæ–¹æ³•ä¸­ä¸€ä¸ªæ˜æ–‡å¯¹åº”ä¸¤ä¸ªåŠ å¯†ç»“æœ(g^aå’Œg^b)ï¼Œå› æ­¤å¯†æ–‡ç©ºé—´çš„å¤§å°æ˜¯æ˜æ–‡ç©ºé—´å¤§å°çš„ä¸¤å€ï¼Œä¹Ÿå°±æ˜¯è¯´çºµè§‚æ•´ä¸ªé€šä¿¡è¿‡ç¨‹ï¼Œæ”¶å‘å¯†æ–‡çš„å¤§å°æ˜¯å®é™…æ˜æ–‡å¤§å°çš„ä¸¤å€ã€‚ ä¸‰ã€å“ˆå¸Œç®—æ³•æ¦‚è¿°æˆ‘ä»¬ç»å¸¸è¯´MD5åŠ å¯†ï¼Œä½†è¿½æ ¹ç©¶åº•çš„è¯ï¼ŒMD5åº”è¯¥æ˜¯å“ˆå¸Œå‡½æ•°ï¼ˆHash Functionï¼‰ï¼Œè€Œå“ˆå¸Œå‡½æ•°å¹¶ä¸ç­‰åŒäºåŠ å¯†ï¼ˆEncryptï¼‰ï¼Œä¸è¿‡æˆ‘ä»¬å¹³å¸¸ä¹ŸæŠŠå“ˆå¸Œå«åšåŠ å¯†ã€‚å“ˆå¸Œå‡½æ•°ä¹Ÿå«æ•£åˆ—å‡½æ•°ï¼Œæ•£åˆ—å‡½æ•°æŠŠæ¶ˆæ¯æˆ–æ•°æ®å‹ç¼©æˆæ‘˜è¦ï¼Œä½¿å¾—æ•°æ®é‡å˜å°ï¼Œå°†æ•°æ®çš„æ ¼å¼å›ºå®šä¸‹æ¥ã€‚è¯¥å‡½æ•°å°†æ•°æ®æ‰“ä¹±æ··åˆï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªå«åšæ•£åˆ—å€¼ï¼ˆhash valuesï¼Œhash codesï¼Œhash sumsï¼Œæˆ–hashesï¼‰çš„æŒ‡çº¹ã€‚æ•£åˆ—å€¼é€šå¸¸ç”¨æ¥ä»£è¡¨ä¸€ä¸ªçŸ­çš„éšæœºå­—æ¯å’Œæ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ã€‚ è¯´äººè¯å°±æ˜¯å“ˆå¸Œï¼ˆHashï¼‰æ˜¯å°†ç›®æ ‡æ–‡æœ¬è½¬æ¢æˆå…·æœ‰ç›¸åŒé•¿åº¦çš„ã€ä¸å¯é€†çš„æ‚å‡‘å­—ç¬¦ä¸²ï¼Œè€ŒåŠ å¯†ï¼ˆEncryptï¼‰æ˜¯å°†ç›®æ ‡æ–‡æœ¬è½¬æ¢æˆå…·æœ‰ä¸åŒé•¿åº¦çš„ã€å¯é€†çš„å¯†æ–‡ã€‚ å“ˆå¸Œä¸»è¦ç”¨æ¥æ ¡éªŒèº«ä»½ï¼Œé”™è¯¯æ£€æŸ¥ï¼Œå®Œæ•´æ€§æ£€æŸ¥ã€‚ MD5MD5ï¼ˆMessage-Digest5 Algorithmï¼‰å³æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼Œæ˜¯æœ€è‘—åã€åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§å“ˆå¸Œç®—æ³•ï¼Œäº1992å¹´è¢«å…¬å¼€ã€‚MD5ä¹‹å‰è¿˜æœ‰MD4ã€MD3ã€MD2ç­‰å“¥å“¥ç®—æ³•ï¼ŒMD5æ˜¯æœ€ç»ˆçš„æ”¹è¿›ç‰ˆã€‚ MD5è¾“å…¥ä¸å®šé•¿åº¦ä¿¡æ¯ï¼Œè¾“å‡ºå›ºå®šé•¿åº¦ä¸º128-bitsçš„æ•£åˆ— æœªå®Œ å¾…è¡¥å……REFERENCEå¸¸è§åŠ å¯†ç®—æ³•ç®€ä»‹","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"encryption","slug":"encryption","permalink":"http://yelog.org/tags/encryption/"}]},{"title":"JSPæ“ä½œè®°å½•","slug":"JSPæ“ä½œè®°å½•","date":"2017-04-21T03:22:12.000Z","updated":"2024-07-05T11:10:22.368Z","comments":true,"path":"2017/04/21/jsp-use-record/","permalink":"http://yelog.org/2017/04/21/jsp-use-record/","excerpt":"","text":"é—®é¢˜ELè¡¨è¾¾å¼å¤±æ•ˆ&lt;!-- jspæ¸²æŸ“å™¨ä¸è¯†åˆ«elè¡¨è¾¾å¼ï¼Œç»“æœé¡µé¢å±•ç¤ºæ•ˆæœå¦‚ä¸‹ --&gt; &#123;person.id&#125; &#123;person.name&#125; è§£å†³æ–¹æ³•ï¼šåœ¨é¡µé¢å†…åŠ å…¥ä¸‹é¢ä»£ç å³å¯ &lt;%@ page isELIgnored=&quot;false&quot; %&gt; Mapéå†&lt;c:forEach items=&quot;$&#123;map&#125;&quot; var=&quot;entry&quot;&gt; &lt;c:out value=&quot;$&#123;entry.key&#125;&quot; /&gt; &lt;c:out value=&quot;$&#123;entry.value&#125;&quot; /&gt; &lt;/c:forEach&gt; å–å€¼&lt;c:out value=&quot;$&#123;map[key]&#125;&quot; /&gt;","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"jsp","slug":"jsp","permalink":"http://yelog.org/tags/jsp/"},{"name":"jstl","slug":"jstl","permalink":"http://yelog.org/tags/jstl/"}]},{"title":"[è½¬]SpringMVCæ‰§è¡Œæµç¨‹åŠæºç è§£æ","slug":"è½¬-SpringMVCæ‰§è¡Œæµç¨‹åŠæºç è§£æ","date":"2017-04-15T02:22:05.000Z","updated":"2024-07-05T11:10:22.679Z","comments":true,"path":"2017/04/15/SpringMVC-implementation-process/","permalink":"http://yelog.org/2017/04/15/SpringMVC-implementation-process/","excerpt":"","text":"åœ¨SpringMVCä¸­ä¸»è¦æ˜¯å›´ç»•ç€DispatcherServletæ¥è®¾è®¡ï¼Œå¯ä»¥æŠŠå®ƒå½“åšæŒ‡æŒ¥ä¸­å¿ƒã€‚è¿™é‡Œå…ˆè¯´æ˜ä¸€ä¸‹SpringMVCæ–‡æ¡£ç»™å‡ºçš„æ‰§è¡Œæµç¨‹ï¼Œç„¶åæ˜¯æˆ‘ä»¬ç¨å¾®å…·ä½“çš„æ‰§è¡Œæµç¨‹ï¼Œæœ€åæ˜¯æµç¨‹å¤§è‡´çš„æºç è·Ÿè¸ªã€‚å…³äºå¾ˆå¾ˆå¾ˆè¯¦ç»†çš„æºç è§£æï¼Œè¿™é‡Œæš‚å…ˆä¸åšã€‚ å®˜æ–¹æ–‡æ¡£ä¸­çš„æµç¨‹é¦–å…ˆçœ‹ä¸‹SpringMVCæ–‡æ¡£ä¸Šç»™çš„æµç¨‹å›¾ï¼šè¿™å¼ å›¾ç‰‡ç»™äº†æˆ‘ä»¬å¤§æ¦‚çš„æ‰§è¡Œæµç¨‹ï¼š ç”¨æˆ·è¯·æ±‚é¦–å…ˆå‘é€åˆ°å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼ŒDispatcherServletæ ¹æ®è¯·æ±‚çš„ä¿¡æ¯æ¥å†³å®šä½¿ç”¨å“ªä¸ªé¡µé¢æ§åˆ¶å™¨Controllerï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸ç¼–å†™çš„Controllerï¼‰æ¥å¤„ç†è¯¥è¯·æ±‚ã€‚æ‰¾åˆ°æ§åˆ¶å™¨ä¹‹åï¼ŒDispatcherServletå°†è¯·æ±‚å§”æ‰˜ç»™æ§åˆ¶å™¨å»å¤„ç†ã€‚ æ¥ä¸‹æ¥é¡µé¢æ§åˆ¶å™¨å¼€å§‹å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œé¡µé¢æ§åˆ¶å™¨ä¼šæ ¹æ®è¯·æ±‚ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œè°ƒç”¨ä¸šåŠ¡å±‚ç­‰ç­‰ï¼Œå¤„ç†å®Œæˆä¹‹åï¼Œä¼šæŠŠç»“æœå°è£…æˆä¸€ä¸ªModelAndViewè¿”å›ç»™DispatcherServletã€‚ å‰ç«¯æ§åˆ¶å™¨DispatcherServletæ¥åˆ°é¡µé¢æ§åˆ¶å™¨çš„è¿”å›ç»“æœåï¼Œæ ¹æ®è¿”å›çš„è§†å›¾åé€‰æ‹©ç›¸åº”çš„è¯•å›¾æ¨¡æ¿ï¼Œå¹¶æ ¹æ®è¿”å›çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ã€‚ æœ€åå‰ç«¯æ§åˆ¶å™¨DispatcherServletå°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ æ›´å…·ä½“çš„æµç¨‹ä¸Šé¢åªæ˜¯æ€»ä½“æµç¨‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç¨å¾®æ·±å…¥ä¸€ç‚¹ï¼Œçœ‹ä¸‹æ›´å…·ä½“çš„æµç¨‹ï¼Œè¿™é‡Œæ²¡æœ‰å›¾ï¼Œåªæœ‰æ­¥éª¤è§£æï¼š ç”¨æˆ·è¯·æ±‚å‘é€åˆ°å‰ç«¯æ§åˆ¶å™¨DispatcherServletã€‚ å‰ç«¯æ§åˆ¶å™¨DispatcherServletæ¥æ”¶åˆ°è¯·æ±‚åï¼ŒDispatcherServletä¼šä½¿ç”¨HandlerMappingæ¥å¤„ç†ï¼ŒHandlerMappingä¼šæŸ¥æ‰¾åˆ°å…·ä½“è¿›è¡Œå¤„ç†è¯·æ±‚çš„Handlerå¯¹è±¡ã€‚ HandlerMappingæ‰¾åˆ°å¯¹åº”çš„Handlerä¹‹åï¼Œå¹¶ä¸æ˜¯è¿”å›ä¸€ä¸ªHandleråŸå§‹å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªHandleræ‰§è¡Œé“¾ï¼Œåœ¨è¿™ä¸ªæ‰§è¡Œé“¾ä¸­åŒ…æ‹¬äº†æ‹¦æˆªå™¨å’Œå¤„ç†è¯·æ±‚çš„Handlerã€‚HandlerMappingè¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾ç»™DispatcherServletã€‚ DispatcherServletæ¥æ”¶åˆ°æ‰§è¡Œé“¾ä¹‹åï¼Œä¼šè°ƒç”¨Handleré€‚é…å™¨å»æ‰§è¡ŒHandlerã€‚ Handleré€‚é…å™¨æ‰§è¡Œå®ŒæˆHandlerï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™çš„Controllerï¼‰ä¹‹åä¼šå¾—åˆ°ä¸€ä¸ªModelAndViewï¼Œå¹¶è¿”å›ç»™DispatcherServletã€‚ DispatcherServletæ¥æ”¶åˆ°Handleré€‚é…å™¨è¿”å›çš„ModelAndViewä¹‹åï¼Œä¼šæ ¹æ®å…¶ä¸­çš„è§†å›¾åè°ƒç”¨è§†å›¾è§£æå™¨ã€‚ è§†å›¾è§£æå™¨æ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆä¸€ä¸ªçœŸæ­£çš„Viewè§†å›¾ï¼Œå¹¶è¿”å›ç»™DispatcherServletã€‚ DispatcherServletæ¥æ”¶åˆ°è§†å›¾ä¹‹åï¼Œä¼šæ ¹æ®ä¸Šé¢çš„ModelAndViewä¸­çš„modelæ¥è¿›è¡Œè§†å›¾ä¸­æ•°æ®çš„å¡«å……ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„è§†å›¾æ¸²æŸ“ã€‚ æ¸²æŸ“å®Œæˆä¹‹åï¼ŒDispatcherServletå°±å¯ä»¥å°†ç»“æœè¿”å›ç»™ç”¨æˆ·äº†ã€‚ æºç DispatcherServletæ˜¯ä¸€ä¸ªServletï¼Œæˆ‘ä»¬çŸ¥é“åœ¨Servletåœ¨å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„æ—¶å€™ä¼šäº¤ç»™serviceæ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œä¹Ÿä¸ä¾‹å¤–ï¼ŒDispatcherServletç»§æ‰¿äº†FrameworkServletï¼Œé¦–å…ˆè¿›å…¥FrameworkServletçš„serviceæ–¹æ³•ï¼š protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; //è¯·æ±‚æ–¹æ³• String method = request.getMethod(); //PATCHæ–¹æ³•å•ç‹¬å¤„ç† if (method.equalsIgnoreCase(RequestMethod.PATCH.name())) &#123; processRequest(request, response); &#125; else &#123;//å…¶ä»–çš„è¯·æ±‚ç±»å‹çš„æ–¹æ³•ç»ç”±çˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯HttpServletå¤„ç† super.service(request, response); &#125; &#125; HttpServletä¸­ä¼šæ ¹æ®è¯·æ±‚ç±»å‹çš„ä¸åŒåˆ†åˆ«è°ƒç”¨doGetæˆ–è€…doPostç­‰æ–¹æ³•ï¼ŒFrameworkServletä¸­å·²ç»é‡å†™äº†è¿™äº›æ–¹æ³•ï¼Œåœ¨è¿™äº›æ–¹æ³•ä¸­ä¼šè°ƒç”¨processRequestè¿›è¡Œå¤„ç†ï¼Œåœ¨processRequestä¸­ä¼šè°ƒç”¨doServiceæ–¹æ³•ï¼Œè¿™ä¸ªdoServiceæ–¹æ³•å°±æ˜¯åœ¨DispatcherServletä¸­å®ç°çš„ã€‚ä¸‹é¢å°±çœ‹ä¸‹DispatcherServletä¸­çš„doServiceæ–¹æ³•çš„å®ç°ã€‚ è¯·æ±‚åˆ°è¾¾DispatcherServletdoServiceæ–¹æ³•ï¼š protected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; //ç»™requestä¸­çš„å±æ€§åšä¸€ä»½å¿«ç…§ Map&lt;String, Object&gt; attributesSnapshot = null; if (WebUtils.isIncludeRequest(request)) &#123; logger.debug(&quot;Taking snapshot of request attributes before include&quot;); attributesSnapshot = new HashMap&lt;String, Object&gt;(); Enumeration&lt;?&gt; attrNames = request.getAttributeNames(); while (attrNames.hasMoreElements()) &#123; String attrName = (String) attrNames.nextElement(); if (this.cleanupAfterInclude || attrName.startsWith(&quot;org.springframework.web.servlet&quot;)) &#123; attributesSnapshot.put(attrName, request.getAttribute(attrName)); &#125; &#125; &#125; //å¦‚æœæˆ‘ä»¬æ²¡æœ‰é…ç½®ç±»ä¼¼æœ¬åœ°åŒ–æˆ–è€…ä¸»é¢˜çš„å¤„ç†å™¨ä¹‹ç±»çš„ //SpringMVCä¼šä½¿ç”¨é»˜è®¤çš„å€¼ //é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯DispatcherServlet.properties request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext()); request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver); request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver); request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource()); FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response); if (inputFlashMap != null) &#123; request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap)); &#125; request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap()); request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager); try &#123; //å¼€å§‹å¤„ç† doDispatch(request, response); &#125; finally &#123; if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123; return; &#125; // Restore the original attribute snapshot, in case of an include. if (attributesSnapshot != null) &#123; restoreAttributesAfterInclude(request, attributesSnapshot); &#125; &#125; &#125; DispatcherServletå¼€å§‹çœŸæ­£çš„å¤„ç†ï¼ŒdoDispatchæ–¹æ³•ï¼š protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; HttpServletRequest processedRequest = request; HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false; //SpringMVCä¸­å¼‚æ­¥è¯·æ±‚çš„ç›¸å…³çŸ¥è¯†ï¼Œæš‚å…ˆä¸è§£é‡Š WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request); try &#123; ModelAndView mv = null; Exception dispatchException = null; try &#123; //å…ˆæ£€æŸ¥æ˜¯ä¸æ˜¯Multipartç±»å‹çš„ï¼Œæ¯”å¦‚ä¸Šä¼ ç­‰ //å¦‚æœæ˜¯Multipartç±»å‹çš„ï¼Œåˆ™è½¬æ¢ä¸ºMultipartHttpServletRequestç±»å‹ processedRequest = checkMultipart(request); multipartRequestParsed = processedRequest != request; //è·å–å½“å‰è¯·æ±‚çš„Handler mappedHandler = getHandler(processedRequest, false); if (mappedHandler == null || mappedHandler.getHandler() == null) &#123; noHandlerFound(processedRequest, response); return; &#125; //è·å–å½“å‰è¯·æ±‚çš„Handleré€‚é…å™¨ HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler()); // å¯¹äºheaderä¸­last-modifiedçš„å¤„ç† String method = request.getMethod(); boolean isGet = &quot;GET&quot;.equals(method); if (isGet || &quot;HEAD&quot;.equals(method)) &#123; long lastModified = ha.getLastModified(request, mappedHandler.getHandler()); if (new ServletWebRequest(request, response).checkNotModified(lastModified) &amp;&amp; isGet) &#123; return; &#125; &#125; //æ‹¦æˆªå™¨çš„preHandleæ–¹æ³•è¿›è¡Œå¤„ç† if (!mappedHandler.applyPreHandle(processedRequest, response)) &#123; return; &#125; try &#123; //çœŸæ­£è°ƒç”¨Handlerçš„åœ°æ–¹ mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); &#125; finally &#123; if (asyncManager.isConcurrentHandlingStarted()) &#123; return; &#125; &#125; //å¤„ç†æˆé»˜è®¤è§†å›¾åï¼Œå°±æ˜¯æ·»åŠ å‰ç¼€å’Œåç¼€ç­‰ applyDefaultViewName(request, mv); //æ‹¦æˆªå™¨postHandleæ–¹æ³•è¿›è¡Œå¤„ç† mappedHandler.applyPostHandle(processedRequest, response, mv); &#125; catch (Exception ex) &#123; dispatchException = ex; &#125; //å¤„ç†æœ€åçš„ç»“æœï¼Œæ¸²æŸ“ä¹‹ç±»çš„éƒ½åœ¨è¿™é‡Œ processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); &#125; catch (Exception ex) &#123; triggerAfterCompletion(processedRequest, response, mappedHandler, ex); &#125; catch (Error err) &#123; triggerAfterCompletionWithError(processedRequest, response, mappedHandler, err); &#125; finally &#123; if (asyncManager.isConcurrentHandlingStarted()) &#123; // Instead of postHandle and afterCompletion mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response); return; &#125; // Clean up any resources used by a multipart request. if (multipartRequestParsed) &#123; cleanupMultipart(processedRequest); &#125; &#125; &#125; å¯ä»¥çœ‹åˆ°å¤§æ¦‚çš„æ­¥éª¤è¿˜æ˜¯æŒ‰ç…§æˆ‘ä»¬ä¸Šé¢åˆ†æçš„èµ°çš„ã€‚ æŸ¥æ‰¾è¯·æ±‚å¯¹åº”çš„Handlerå¯¹è±¡å¯¹åº”ç€è¿™å¥ä»£ç  mappedHandler = getHandler(processedRequest, false);ï¼Œçœ‹ä¸‹å…·ä½“çš„getHandleræ–¹æ³•ï¼š protected HandlerExecutionChain getHandler(HttpServletRequest request, boolean cache) throws Exception &#123; return getHandler(request); &#125; ç»§ç»­å¾€ä¸‹çœ‹getHandlerï¼š protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception &#123; //éå†æ‰€æœ‰çš„handlerMappingsè¿›è¡Œå¤„ç† //handlerMappingsæ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™é¢„å…ˆæ³¨å†Œå¥½çš„ for (HandlerMapping hm : this.handlerMappings) &#123; HandlerExecutionChain handler = hm.getHandler(request); if (handler != null) &#123; return handler; &#125; &#125; return null; &#125; ç»§ç»­å¾€ä¸‹çœ‹getHandlerï¼Œåœ¨AbstractHandlerMappingç±»ä¸­ï¼š public final HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception &#123; //æ ¹æ®requestè·å–handler Object handler = getHandlerInternal(request); if (handler == null) &#123; //å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±ä½¿ç”¨é»˜è®¤çš„handler handler = getDefaultHandler(); &#125; if (handler == null) &#123; return null; &#125; //å¦‚æœHandleræ˜¯Stringï¼Œè¡¨æ˜æ˜¯ä¸€ä¸ªbeanåç§° //éœ€è¦è¶…ç…§å¯¹åº”bean if (handler instanceof String) &#123; String handlerName = (String) handler; handler = getApplicationContext().getBean(handlerName); &#125; //å°è£…Handleræ‰§è¡Œé“¾ return getHandlerExecutionChain(handler, request); &#125; æ ¹æ®requrstè·å–handleré¦–å…ˆçœ‹ä¸‹æ ¹æ®requrstè·å–handleræ­¥éª¤getHandlerInternalæ–¹æ³•ï¼Œåœ¨AbstractHandlerMethodMappingä¸­ï¼š protected HandlerMethod getHandlerInternal(HttpServletRequest request) throws Exception &#123; //è·å–requestä¸­çš„urlï¼Œç”¨æ¥åŒ¹é…handler String lookupPath = getUrlPathHelper().getLookupPathForRequest(request); //æ ¹æ®è·¯å¾„å¯»æ‰¾Handler HandlerMethod handlerMethod = lookupHandlerMethod(lookupPath, request); //æ ¹æ®handlerMethodä¸­çš„beanæ¥å®ä¾‹åŒ–Handlerå¹¶æ·»åŠ è¿›HandlerMethod return (handlerMethod != null) ? handlerMethod.createWithResolvedBean() : null; &#125; çœ‹ä¸‹æ ¹æ®è·¯å¾„å¯»æ‰¾handlerçš„æ–¹æ³•lookupHandlerMethodï¼š protected HandlerMethod lookupHandlerMethod(String lookupPath, HttpServletRequest request) throws Exception &#123; List&lt;Match&gt; matches = new ArrayList&lt;Match&gt;(); //ç›´æ¥åŒ¹é… List&lt;T&gt; directPathMatches = this.urlMap.get(lookupPath); //å¦‚æœæœ‰åŒ¹é…çš„ï¼Œå°±æ·»åŠ è¿›åŒ¹é…åˆ—è¡¨ä¸­ if (directPathMatches != null) &#123; addMatchingMappings(directPathMatches, matches, request); &#125; //è¿˜æ²¡æœ‰åŒ¹é…çš„ï¼Œå°±éå†æ‰€æœ‰çš„å¤„ç†æ–¹æ³•æŸ¥æ‰¾ if (matches.isEmpty()) &#123; // No choice but to go through all mappings addMatchingMappings(this.handlerMethods.keySet(), matches, request); &#125; //æ‰¾åˆ°äº†åŒ¹é…çš„ if (!matches.isEmpty()) &#123; Comparator&lt;Match&gt; comparator = new MatchComparator(getMappingComparator(request)); Collections.sort(matches, comparator); //æ’åºä¹‹åï¼Œè·å–ç¬¬ä¸€ä¸ª Match bestMatch = matches.get(0); //å¦‚æœæœ‰å¤šä¸ªåŒ¹é…çš„ï¼Œä¼šæ‰¾åˆ°ç¬¬äºŒä¸ªæœ€åˆé€‚çš„è¿›è¡Œæ¯”è¾ƒä¸€ä¸‹ if (matches.size() &gt; 1) &#123; Match secondBestMatch = matches.get(1); if (comparator.compare(bestMatch, secondBestMatch) == 0) &#123; Method m1 = bestMatch.handlerMethod.getMethod(); Method m2 = secondBestMatch.handlerMethod.getMethod(); throw new IllegalStateException( &quot;Ambiguous handler methods mapped for HTTP path &#39;&quot; + request.getRequestURL() + &quot;&#39;: &#123;&quot; + m1 + &quot;, &quot; + m2 + &quot;&#125;&quot;); &#125; &#125; //è®¾ç½®requestå‚æ•° handleMatch(bestMatch.mapping, lookupPath, request); //è¿”å›åŒ¹é…çš„urlçš„å¤„ç†çš„æ–¹æ³• return bestMatch.handlerMethod; &#125; else &#123;//æœ€åè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›null return handleNoMatch(handlerMethods.keySet(), lookupPath, request); &#125; &#125; è·å–é»˜è®¤Handlerå¦‚æœä¸Šé¢æ²¡æœ‰è·å–åˆ°Handlerï¼Œå°±ä¼šè·å–é»˜è®¤çš„Handlerã€‚å¦‚æœè¿˜è·å–ä¸åˆ°å°±è¿”å›nullã€‚ å¤„ç†Stringç±»å‹çš„Handlerå¦‚æœä¸Šé¢å¤„ç†å®Œçš„Handleræ˜¯Stringç±»å‹çš„ï¼Œå°±ä¼šæ ¹æ®è¿™ä¸ªhandlerNameè·å–beanã€‚ å°è£…Handleræ‰§è¡Œé“¾ä¸Šé¢è·å–å®ŒHandlerï¼Œå°±å¼€å§‹å°è£…æ‰§è¡Œé“¾äº†ï¼Œå°±æ˜¯å°†æˆ‘ä»¬é…ç½®çš„æ‹¦æˆªå™¨åŠ å…¥åˆ°æ‰§è¡Œé“¾ä¸­å»ï¼ŒgetHandlerExecutionChainï¼š protected HandlerExecutionChain getHandlerExecutionChain(Object handler, HttpServletRequest request) &#123; //å¦‚æœå½“å‰Handlerä¸æ˜¯æ‰§è¡Œé“¾ç±»å‹ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªæ–°çš„æ‰§è¡Œé“¾å®ä¾‹å°è£…èµ·æ¥ HandlerExecutionChain chain = (handler instanceof HandlerExecutionChain) ? (HandlerExecutionChain) handler : new HandlerExecutionChain(handler); //å…ˆè·å–é€‚é…ç±»å‹çš„æ‹¦æˆªå™¨æ·»åŠ è¿›å»æ‹¦æˆªå™¨é“¾ chain.addInterceptors(getAdaptedInterceptors()); //å½“å‰çš„url String lookupPath = urlPathHelper.getLookupPathForRequest(request); //éå†æ‹¦æˆªå™¨ï¼Œæ‰¾åˆ°è·Ÿå½“å‰urlå¯¹åº”çš„ï¼Œæ·»åŠ è¿›æ‰§è¡Œé“¾ä¸­å» for (MappedInterceptor mappedInterceptor : mappedInterceptors) &#123; if (mappedInterceptor.matches(lookupPath, pathMatcher)) &#123; chain.addInterceptor(mappedInterceptor.getInterceptor()); &#125; &#125; return chain; &#125; è·å–å¯¹åº”è¯·æ±‚çš„Handleré€‚é…å™¨getHandlerAdapterï¼š protected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException &#123; //éå†æ‰€æœ‰çš„HandlerAdapterï¼Œæ‰¾åˆ°å’Œå½“å‰HandleråŒ¹é…çš„å°±è¿”å› //æˆ‘ä»¬è¿™é‡Œä¼šåŒ¹é…åˆ°RequestMappingHandlerAdapter for (HandlerAdapter ha : this.handlerAdapters) &#123; if (ha.supports(handler)) &#123; return ha; &#125; &#125; &#125; ç¼“å­˜çš„å¤„ç†ä¹Ÿå°±æ˜¯å¯¹last-modifiedçš„å¤„ç† æ‰§è¡Œæ‹¦æˆªå™¨çš„preHandleæ–¹æ³•å°±æ˜¯éå†æ‰€æœ‰çš„æˆ‘ä»¬å®šä¹‰çš„interceptorï¼Œæ‰§è¡ŒpreHandleæ–¹æ³• ä½¿ç”¨Handleré€‚é…å™¨æ‰§è¡Œå½“å‰çš„Handlerha.handleæ‰§è¡Œå½“å‰Handlerï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯RequestMappingHandlerAdapterï¼Œé¦–å…ˆä¼šè¿›å…¥AbstractHandlerMethodAdapterçš„handleæ–¹æ³•ï¼š public final ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; return handleInternal(request, response, (HandlerMethod) handler); &#125; handleInternalæ–¹æ³•ï¼Œåœ¨RequestMappingHandlerAdapterä¸­ï¼š protected final ModelAndView handleInternal(HttpServletRequest request, HttpServletResponse response, HandlerMethod handlerMethod) throws Exception &#123; if (getSessionAttributesHandler(handlerMethod).hasSessionAttributes()) &#123; // Always prevent caching in case of session attribute management. checkAndPrepare(request, response, this.cacheSecondsForSessionAttributeHandlers, true); &#125; else &#123; // Uses configured default cacheSeconds setting. checkAndPrepare(request, response, true); &#125; // Execute invokeHandlerMethod in synchronized block if required. if (this.synchronizeOnSession) &#123; HttpSession session = request.getSession(false); if (session != null) &#123; Object mutex = WebUtils.getSessionMutex(session); synchronized (mutex) &#123; return invokeHandleMethod(request, response, handlerMethod); &#125; &#125; &#125; //æ‰§è¡Œæ–¹æ³•ï¼Œå°è£…ModelAndView return invokeHandleMethod(request, response, handlerMethod); &#125; ç»„è£…é»˜è®¤è§†å›¾åç§°å‰ç¼€å’Œåç¼€åéƒ½åŠ ä¸Š æ‰§è¡Œæ‹¦æˆªå™¨çš„postHandleæ–¹æ³•éå†intercepterçš„postHandleæ–¹æ³•ã€‚ å¤„ç†æœ€åçš„ç»“æœï¼Œæ¸²æŸ“ä¹‹ç±»çš„processDispatchResultæ–¹æ³•ï¼š private void processDispatchResult(HttpServletRequest request, HttpServletResponse response, HandlerExecutionChain mappedHandler, ModelAndView mv, Exception exception) throws Exception &#123; boolean errorView = false; if (exception != null) &#123; if (exception instanceof ModelAndViewDefiningException) &#123; mv = ((ModelAndViewDefiningException) exception).getModelAndView(); &#125; else &#123; Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null); mv = processHandlerException(request, response, handler, exception); errorView = (mv != null); &#125; &#125; // Did the handler return a view to render? if (mv != null &amp;&amp; !mv.wasCleared()) &#123; //æ¸²æŸ“ render(mv, request, response); if (errorView) &#123; WebUtils.clearErrorRequestAttributes(request); &#125; &#125; else &#123; &#125; if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123; // Concurrent handling started during a forward return; &#125; if (mappedHandler != null) &#123; mappedHandler.triggerAfterCompletion(request, response, null); &#125; &#125; é‡ç‚¹çœ‹ä¸‹renderæ–¹æ³•ï¼Œè¿›è¡Œæ¸²æŸ“ï¼š protected void render(ModelAndView mv, HttpServletRequest request, HttpServletResponse response) throws Exception &#123; //è®¾ç½®æœ¬åœ°åŒ– Locale locale = this.localeResolver.resolveLocale(request); response.setLocale(locale); View view; if (mv.isReference()) &#123; //è§£æè§†å›¾åï¼Œå¾—åˆ°è§†å›¾ view = resolveViewName(mv.getViewName(), mv.getModelInternal(), locale, request); &#125; else &#123; // No need to lookup: the ModelAndView object contains the actual View object. view = mv.getView(); if (view == null) &#123; throw new ServletException(&quot;ModelAndView [&quot; + mv + &quot;] neither contains a view name nor a &quot; + &quot;View object in servlet with name &#39;&quot; + getServletName() + &quot;&#39;&quot;); &#125; &#125; //å§”æ‰˜ç»™è§†å›¾è¿›è¡Œæ¸²æŸ“ view.render(mv.getModelInternal(), request, response); &#125; view.renderå°±æ˜¯è¿›è¡Œè§†å›¾çš„æ¸²æŸ“ï¼Œç„¶åè·³è½¬é¡µé¢ç­‰å¤„ç†ã€‚ åˆ°è¿™é‡Œå¤§æ¦‚çš„æµç¨‹å°±èµ°å®Œäº†ã€‚å…¶ä¸­æ¶‰åŠåˆ°çš„ä¸œè¥¿è¿˜æœ‰å¾ˆå¤šï¼Œæš‚å…ˆä¸åšè¯¦ç»†å¤„ç†ã€‚ åŸæ–‡ï¼šSpringMVCæ‰§è¡Œæµç¨‹åŠæºç è§£æ","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"spring","slug":"spring","permalink":"http://yelog.org/tags/spring/"},{"name":"springmvc","slug":"springmvc","permalink":"http://yelog.org/tags/springmvc/"}]},{"title":"PostgreSQLå¸¸ç”¨SQLæ“ä½œ","slug":"PostgreSQLå¸¸ç”¨SQLæ“ä½œ","date":"2017-04-14T08:37:24.000Z","updated":"2024-07-05T11:10:22.289Z","comments":true,"path":"2017/04/14/postgres-sql-use/","permalink":"http://yelog.org/2017/04/14/postgres-sql-use/","excerpt":"","text":"è¯´æ˜ï¼šæ–‡ç« ä¸­å®ä¾‹å‡åœ¨ PostgreSQL ç¯å¢ƒæ“ä½œã€‚ DDLæ•°æ®å®šä¹‰è¯­è¨€æ•°æ®åº“&#x2F;è§’è‰²&#x2F;schema-- åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ç”¨æˆ· create role &quot;sp-boss&quot; createdb createrole login password &#39;sp-boss&#39;; -- ä½¿ç”¨ä¸Šé¢è§’è‰²ç™»å½• postgres æ•°æ®åº“ psql -U sp-boss -d postgres -- åˆ›å»ºè‡ªå·±çš„æ•°æ®åº“ create database &quot;sp-boss&quot; -- ç™»å½•è‡ªå·±çš„æ•°æ®åº“ psql -U sp-boss -- åˆ›å»ºä¸€ä¸ªå…¶ä»–ç”¨æˆ· create role &quot;sp-manager&quot; login password &#39;sp-manager&#39;; -- èµ‹äºˆ create æƒé™ grant create on database &quot;sp-boss&quot; to &quot;sp-manager&quot;; -- ä½¿ç”¨ æ–°ç”¨æˆ· ç™»å½•æ•°æ®åº“ psql -U sp-manager -d sp-boss -- åˆ›å»ºè‡ªå·±çš„ schema create schema &quot;sp-manager&quot;; è¡¨--åˆ›å»ºè¡¨ create table user_info ( id serial primary key, name varchar(20), age integer, create_time timestamp, type integer, display boolean default true, unique (name, type) ); --åˆ é™¤è¡¨ drop table exists user_info; --é‡å‘½åè¡¨ alter table user_info rename to user_infos; å­—æ®µï¼ˆåˆ—ï¼‰--æ·»åŠ ä¸€åˆ— alter table user_info add [column] username varchar(50); --åˆ é™¤ä¸€åˆ— alter table user_info drop [column] username; --é‡å‘½ååˆ— alter table user_info rename [column] username to name; --ä¿®æ”¹ç»“æ„ alter table user_info alter [column] username set not null; -- å”¯ä¸€çº¦æŸ-- æ·»åŠ åä¸º uk_name çš„è”åˆå”¯ä¸€çº¦æŸï¼Œç»„åˆåˆ—ä¸ºcolumn1å’Œcolumn2 alter table sys_theme add constraint uk_name unique(column1,column2); -- åˆ é™¤åä¸º uk_name çš„çº¦æŸ alter table sys_theme drop constraint uk_name; DMLæ•°æ®åº“æ“ä½œè¯­è¨€SELECTæŸ¥è¯¢åŒ…å«jsonæ ¼å¼çš„textç±»å‹çš„æ•°æ®postgres=# select * from person; id | name | other ----+--------+---------------------------------------------------------- 1 | faker | &#123;&quot;gender&quot;:&quot;male&quot;,&quot;address&quot;:&quot;xiamen&quot;,&quot;college&quot;:&quot;xmut&quot;&#125; 2 | watson | &#123;&quot;gender&quot;:&quot;male&quot;,&quot;address&quot;:&quot;shenzhen&quot;,&quot;college&quot;:&quot;szu&quot;&#125; 3 | lance | &#123;&quot;gender&quot;:&quot;male&quot;,&quot;address&quot;:&quot;shenzhen&quot;,&quot;college&quot;:&quot;xmut&quot;&#125; 4 | jine | &#123;&quot;gender&quot;:&quot;female&quot;,&quot;address&quot;:&quot;xiamen&quot;,&quot;college&quot;:&quot;xmut&quot;&#125; 5 | jobs | &#123;&quot;gender&quot;:&quot;male&quot;,&quot;address&quot;:&quot;beijing&quot;,&quot;college&quot;:&quot;xmu&quot;&#125; 6 | yak | &#123;&quot;gender&quot;:&quot;female&quot;,&quot;address&quot;:&quot;xiamen&quot;,&quot;college&quot;:&quot;xmut&quot;&#125; 7 | alice | &#123;&quot;gender&quot;:&quot;female&quot;,&quot;address&quot;:&quot;shanghai&quot;,&quot;college&quot;:&quot;thu&quot;&#125; 8 | anita | &#123;&quot;gender&quot;:&quot;female&quot;,&quot;address&quot;:&quot;xiongan&quot;,&quot;college&quot;:&quot;hku&quot;&#125; (8 è¡Œè®°å½•) -- æŸ¥è¯¢æ·±åœ³å­¦ç”Ÿçš„é«˜æ ¡åˆ†éƒ¨æƒ…å†µ select other::json-&gt;&gt;&#39;college&#39; college, count(1) from person where other::json-&gt;&gt;&#39;address&#39;=&#39;shenzhen&#39; group by other::json-&gt;&gt;&#39;college&#39;; ___________________________ college | count ---------+------- szu | 1 xmut | 1 (1 è¡Œè®°å½•) --- ç»“æœå¯å¾—æ·±åœ³ä¸€å…±æœ‰ä¸¤ä¸ªå­¦ç”Ÿï¼Œ --- åœ¨æ·±åœ³å¤§å­¦å’Œå¦é—¨ç†å·¥å­¦é™¢å„ä¸€ä¸ªã€‚","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"postgres","slug":"postgres","permalink":"http://yelog.org/tags/postgres/"},{"name":"sql","slug":"sql","permalink":"http://yelog.org/tags/sql/"}]},{"title":"deepinç³»ç»Ÿä½¿ç”¨è®°å½•","slug":"deepin-linux","date":"2017-03-30T10:58:50.000Z","updated":"2024-07-05T11:10:23.087Z","comments":true,"path":"2017/03/30/deepin-linux/","permalink":"http://yelog.org/2017/03/30/deepin-linux/","excerpt":"","text":"ä¼ é€é—¨ å®˜ç½‘ è®ºå› deepinâ€™wiki Deepinåº”ç”¨åˆ—è¡¨ è¾“å…¥æ³•å®‰è£…è¾“å…¥æ³•ï¼Œé™¤äº†å•†åº—ä¸‹è½½ï¼ˆå¥½å¤šè¾“å…¥æ³•æ²¡æœ‰è¢«æ”¶å½•è¿›deepinå•†åº—ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨fcitxå®‰è£…ã€‚å¦‚å®‰è£…googleæ‹¼éŸ³è¾“å…¥æ³•ï¼š $ sudo aptitude install fcitx fcitx-googlepinyin å¦‚æœå½“å‰åœ¨ä½¿ç”¨ibusï¼Œè€Œä¸æ˜¯fcitxçš„è¯ï¼Œçœ‹ä¸‹é¢1ï¼‰å®‰è£…fcitxï¼Œå¹¶å®‰è£…googleæ‹¼éŸ³ $ sudo apt-get install fcitx fcitx-googlepinyin im-config 2ï¼‰æ‰“å¼€è¾“å…¥æ³•é…ç½® $ im-config ä¾æ¬¡ï¼šok-&gt;yes,é€‰æ‹©fcitxä¸ºé»˜è®¤è¾“å…¥æ³•æ¡†æ¶,ok-&gt;ok åˆ¶ä½œå¯åŠ¨å™¨å›¾æ ‡ä»¥åˆ›å»º atom è¿™æ¬¾ç¼–è¾‘å™¨çš„å¯åŠ¨å™¨å›¾æ ‡ä¸ºä¾‹ã€‚1ï¼‰è¿›å…¥ /usr/share/applications/ ç›®å½•ï¼Œåˆ›å»º atom.desktop æ–‡ä»¶2ï¼‰ç¼–è¾‘ atom.desktop æ–‡ä»¶ [Desktop Entry] Name=Atom Comment=A hackable text editor for the 21st century Exec=/opt/atom/atom %F Icon=/opt/atom/atom.png Type=Application StartupNotify=true Categories=TextEditor;Development;Utility; MimeType=text/plain; è§£é‡Šï¼šNameï¼šåˆ›å»ºçš„å›¾æ ‡åç§°Commentï¼šå¤‡æ³¨ï¼Œéšä¾¿å¡«Execï¼šå¯åŠ¨æ–‡ä»¶çš„ä½ç½®Iconï¼šå›¾æ ‡ä½ç½®Typeï¼šç±»å‹ï¼Œå¯åŠ¨ç¨‹åºå°±å¡«ApplicationStartupNotify: å¯åŠ¨é€šçŸ¥ï¼Œå¡«trueå°±è¡Œäº†ã€‚è¯¦ç»†å¯æŸ¥ Startup notificationCategoriesï¼š åˆ†ç±»ï¼Œéšä¾¿å¡«ï¼Œæ¯”å¦‚ï¼šApplication;MimeTypeï¼š æ‰“å¼€æ–‡ä»¶ç±»å‹ ä¿®æ”¹aptæºä¿®æ”¹ /etc/apt/sources.listé»˜è®¤çš„æº deb [by-hash=force] http://packages.deepin.com/deepin/ unstable main contrib non-free é˜¿é‡Œäº‘çš„æº deb [by-hash=force] http://mirrors.aliyun.com/deepin unstable main contrib non-free æ›´æ¢æ–‡ä»¶ç®¡ç†å™¨Nautilus æ·±åº¦å•†åº—ä¸‹è½½å®‰è£… Nautilus2ï¼‰å¸è½½æ·±åº¦ä»»åŠ¡ç®¡ç†å™¨ $ sudo apt remove dde-file-manager Nautilus å¸¸ç”¨çš„å¿«æ·é”® å¿«æ·é”® ä½œç”¨ F2 é‡å‘½å Ctrl + 1 å›¾æ ‡è§†å›¾ Ctrl + 2 åˆ—è¡¨è§†å›¾ Ctrl + T æ–°å»ºæ ‡ç­¾é¡µ Ctrl + W å…³é—­æ ‡ç­¾é¡µ Alt + æ•°å­— åˆ‡æ¢åˆ°æŒ‡å®šæ ‡ç­¾é¡µ Ctrl + D æ”¶è—åˆ°å½“å‰æ–‡ä»¶å¤¹åˆ°ä¹¦ç­¾ Shift + F10 æ‰“å¼€é¼ æ ‡å³é”®èœå• Alt + å·¦æ–¹å‘é”® åé€€ Alt + å³æ–¹å‘é”® å‰è¿› Ctrl + Q é€€å‡º","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/tags/%E8%BF%90%E7%BB%B4/"},{"name":"deepin","slug":"deepin","permalink":"http://yelog.org/tags/deepin/"}]},{"title":"hexoæŠ¥é”™åˆé›†","slug":"hexo-error-collection","date":"2017-03-27T11:40:42.000Z","updated":"2024-07-05T11:10:22.553Z","comments":true,"path":"2017/03/27/hexo-error-collection/","permalink":"http://yelog.org/2017/03/27/hexo-error-collection/","excerpt":"","text":"hexo serveræ—¶æŠ¥é”™FATAL watch â€¦ ENOSPCæ—¥å¿—ï¼š2017-03-27 æ‰§è¡Œ hexo server åæŠ¥é”™ã€‚å¦‚å›¾ï¼šåˆ†æé—®é¢˜ï¼šnode.js ä¸­ watch çš„æ–‡ä»¶æ•°æ˜¯æœ‰é™åˆ¶çš„ã€‚è§£å†³é—®é¢˜ï¼š $ echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoå¿«æ·é”®è¯´æ˜","slug":"3-hexo-shortcuts","date":"2017-03-24T08:45:31.000Z","updated":"2024-07-05T11:10:22.540Z","comments":true,"path":"2017/03/24/3-hexo-shortcuts/","permalink":"http://yelog.org/2017/03/24/3-hexo-shortcuts/","excerpt":"","text":"ä»Šæ—¥å…¬å¸æ–­ç½‘äº†åŠä¸ªå°æ—¶ï¼Œå°±åˆ©ç”¨è¿™æ®µæ—¶é—´ç»™ä¸»é¢˜æ·»åŠ äº†å¿«æ·é”®æ“ä½œï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚ å¿«æ·é”®ä¸ºvimé£æ ¼çš„ã€‚æŒ‰é”®å¯èƒ½ä¸vimiumï¼ˆchromeæ’ä»¶ï¼‰çš„å¿«æ·é”®æœ‰å†²çªï¼Œæ’ä»¶è®¾ç½®å±è”½æ‰æ­¤ç«™çš„å¿«æ·é”®å³å¯ å¦‚æœæœ‰æ¯”è¾ƒå¥½çš„å»ºè®®ï¼Œæ¬¢è¿éªšæ‰°ã€‚ è¯´æ˜å…¨å±€ Key Descption s&#x2F;S å…¨å±&#x2F;å–æ¶ˆå…¨å± w&#x2F;W æ‰“å¼€&#x2F;å…³é—­æ–‡ç« ç›®å½• i&#x2F;I è·å–æœç´¢æ¡†ç„¦ç‚¹ j&#x2F;J å‘ä¸‹æ»‘åŠ¨ k&#x2F;K å‘ä¸Šæ»‘åŠ¨ gg&#x2F;GG åˆ°æœ€é¡¶ç«¯ shift+G&#x2F;g åˆ°æœ€ä¸‹ç«¯ æœç´¢æ¡† Key Descption ESC 1.å¦‚æœè¾“å…¥æ¡†æœ‰å†…å®¹ï¼Œæ¸…é™¤å†…å®¹2.å¦‚æœè¾“å…¥æ¡†æ— å†…å®¹ï¼Œå¤±å»ç„¦ç‚¹ ä¸‹ å‘ä¸‹é€‰æ‹©æ–‡ç«  ä¸Š å‘ä¸Šé€‰æ‹©æ–‡ç«  å›è½¦ æ‰“å¼€å½“å‰é€‰ä¸­çš„æ–‡ç« ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™é»˜è®¤æ‰“å¼€ç¬¬ä¸€ä¸ª å…³é—­å¿«æ·é”®åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­ æ‰¾åˆ° shortcutKey è®¾ä¸º false shortcutKey: false","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoä½¿ç”¨è¯´æ˜","slug":"3-hexo-instruction","date":"2017-03-23T07:13:47.000Z","updated":"2024-07-05T11:10:22.512Z","comments":true,"path":"2017/03/23/3-hexo-instruction/","permalink":"http://yelog.org/2017/03/23/3-hexo-instruction/","excerpt":"","text":"ä¸‹é¢å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œ _config.yml éƒ½æŒ‡ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œå³ 3-hexo ç›®å½•ä¸‹ ä¸€ã€åˆå§‹åŒ–åšå®¢ä¸‹ _config.yml1.1 å›½é™…åŒ–language: zh-CN #æ”¯æŒ zh-CNã€en 1.2 å…³æ‰ hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜å†…ç½®äº†ä¸»é¢˜é«˜äº®ï¼Œæ‰€ä»¥éœ€è¦ç¦ç”¨ hexo è‡ªå¸¦çš„é«˜äº® æ ¹æ® hexo ç‰ˆæœ¬, ç¦ç”¨çš„æ–¹å¼å‘ç”Ÿäº†å˜åŒ– ç¦ç”¨é«˜äº® below v7.0.0 # _config.yaml highlight: enable: false 7.0.0+ # _config.yml syntax_highlighter: # empty äºŒã€åŠŸèƒ½ç›¸å…³2.1 è‡ªå®šä¹‰é¦–é¡µå¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š 3-hexoé…ç½®é¦–é¡µ 2.3 blogå¿«æ·é”®å¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š 3-hexoå¿«æ·é”®è¯´æ˜ 2.4 å¤šä½œè€…æ¨¡å¼å¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š 3-hexoå¤šä½œè€…æ¨¡å¼ 2.5 å¼€å¯å…³äºé¡µé¢ åœ¨ hexo æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹ï¼Œåˆ›å»º å…³äº é¡µé¢ hexo new page &quot;about&quot; ä½ç½®ï¼š source/aoubt/index.md ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œç¼–è¾‘ã€‚ åœ¨ä¸»é¢˜ä¸­å¼€å¯æ˜¾ç¤ºï¼šä¿®æ”¹ä¸»é¢˜æ ¹ç›®å½• _config.yml ä¸­çš„ about çš„ on ä¸º trueï¼Œå¦‚ä¸‹æ‰€ç¤º menu: about: # &#39;å…³äº&#39; æŒ‰é’® on: true # æ˜¯å¦æ˜¾ç¤º url: /about # è·³è½¬é“¾æ¥ type: 1 # è·³è½¬ç±»å‹ 1ï¼šç«™å†…å¼‚æ­¥è·³è½¬ 2ï¼šå½“å‰é¡µé¢è·³è½¬ 3ï¼šæ‰“å¼€æ–°çš„tabé¡µ 2.6 æ·»åŠ éŸ³ä¹æ’ä»¶3-hexo æ·»åŠ éŸ³ä¹æ’ä»¶ 2.7 é…ç½®è¯„è®ºç³»ç»Ÿ3-hexoè¯„è®ºè®¾ç½® ä¸‰ã€æ ·å¼è®¾ç½®3.1 ä»£ç é«˜äº®é¦–å…ˆè¦å…³é—­hexoæ ¹ç›®å½•ä¸‹_config.ymlä¸­çš„é«˜äº®è®¾ç½®ï¼š highlight: enable: false é…ç½®ä¸»é¢˜ä¸‹_config.ymlä¸­çš„é«˜äº®è®¾ç½®ï¼šå¯ä»¥æ ¹æ®æç¤ºï¼Œé…ç½®å–œæ¬¢çš„é«˜äº®ä¸»é¢˜ highlight: on: true # trueå¼€å¯ä»£ç é«˜äº® lineNum: true # trueæ˜¾ç¤ºè¡Œå· theme: darcula # ä»£ç é«˜äº®ä¸»é¢˜,æ•ˆæœå¯ä»¥æŸ¥çœ‹ https://highlightjs.org/static/demo/ # æ”¯æŒä¸»é¢˜ï¼š # sublime : å‚è€ƒsublimeçš„é«˜äº®ä¸»é¢˜ # darcula : å‚è€ƒideaä¸­çš„darculaçš„ä¸»é¢˜ # atom-dark : å‚è€ƒAtomçš„darkä¸»é¢˜ # atom-light : å‚è€ƒAtomçš„lightä¸»é¢˜ # github : å‚è€ƒGitHubç‰ˆçš„é«˜äº®ä¸»é¢˜ # github-gist : GitHub-Gistä¸»é¢˜ # brown-paper : ç‰›çš®çº¸æ•ˆæœ # gruvbox-light : gruvboxçš„lightä¸»é¢˜ # gruvbox-dark ï¼š gruvboxçš„darkä¸»é¢˜ # rainbow : # railscasts : # sunburst : # kimbie-dark : # kimbie-light : # school-book : çº¸å¼ æ•ˆæœ 3.2 MathJaxæ•°å­¦å…¬å¼ä¿®æ”¹ _config.yml # MathJax æ•°å­¦å…¬å¼æ”¯æŒ mathjax: on: true #æ˜¯å¦å¯ç”¨ per_page: false # è‹¥åªæ¸²æŸ“å•ä¸ªé¡µé¢ï¼Œæ­¤é€‰é¡¹è®¾ä¸ºfalseï¼Œé¡µé¢å†…åŠ å…¥ mathjax: true è€ƒè™‘åˆ°é¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œæ”¯æŒæ¸²æŸ“å•ä¸ªé¡µé¢ã€‚è®¾ç½® per_page: false ,åœ¨éœ€è¦æ¸²æŸ“çš„é¡µé¢å†… åŠ å…¥ mathjax: true æ³¨æ„: ç”±äºhexoçš„MarkDownæ¸²æŸ“å™¨ä¸MathJaxæœ‰å†²çªï¼Œå¯èƒ½ä¼šé€ æˆçŸ©é˜µç­‰ä½¿ç”¨ä¸æ­£å¸¸ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ç¼–è¾‘ node_modules\\marked\\lib\\marked.js è„šæœ¬ å°†451è¡Œ ï¼Œè¿™ä¸€æ­¥å–æ¶ˆäº†å¯¹ \\\\,\\&#123;,\\&#125; çš„è½¬ä¹‰(escape) escape: /^\\\\([\\\\`*&#123;&#125;\\[\\]()# +\\-.!_&gt;])/, æ”¹ä¸º escape: /^\\\\([`*\\[\\]()# +\\-.!_&gt;])/, å°†459è¡Œï¼Œè¿™ä¸€æ­¥å–æ¶ˆäº†å¯¹æ–œä½“æ ‡è®° _ çš„è½¬ä¹‰ em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, æ”¹ä¸º em:/^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, 3.3 è¡¨æ ¼æ ·å¼ç›®å‰æä¾›äº†3ä¸­æ ·å¼ï¼Œä¿®æ”¹ _config.yml table: green_title # table çš„æ ·å¼ # ä¸ºç©ºæ—¶ç±»ä¼¼githubçš„tableæ ·å¼ # green ç»¿è‰²æ ·å¼ # green_title å¤´éƒ¨ä¸ºé’è‰²çš„tableæ ·å¼ 3.4 æ–‡ç« åˆ—è¡¨çš„hoveræ ·å¼é¼ æ ‡ç§»å…¥çš„èƒŒæ™¯è‰²å’Œæ–‡å­—é¢œè‰²å˜åŠ¨ï¼Œè®¾ç½® _config.yml #æ–‡ç« åˆ—è¡¨ é¼ æ ‡ç§»ä¸Šå»çš„æ ·å¼, ä¸ºç©ºæ—¶ä½¿ç”¨é»˜è®¤æ•ˆæœ article_list: hover: background: &#39;#e2e0e0&#39; # èƒŒæ™¯è‰²:æä¾›å‡ ç§ï¼š&#39;#c1bfc1&#39; &#39;#fbf4a8&#39; color: # æ–‡å­—é¢œè‰² æä¾›å‡ ç§ï¼š&#39;#ffffff&#39; # æ³¨æ„ï¼šç”±äºé¢œè‰²å¦‚æœåŒ…å«#ï¼Œä½¿ç”¨å•å¼•å· &#39; å¼•èµ·æ¥ 3.5 å¼€å¯å­—æ•°ç»Ÿè®¡ å¼€å¯æ­¤åŠŸèƒ½éœ€å…ˆå®‰è£…æ’ä»¶ï¼Œåœ¨ hexoæ ¹ç›®å½• æ‰§è¡Œ npm i hexo-wordcount --save ä¿®æ”¹ _config.yml word_count: true 3.6 æ›´æ¢å¤´åƒä¸¤ç§æ–¹å¼ï¼š æ›¿æ¢ source/img/avatar.jpg å›¾ç‰‡ã€‚ ä¿®æ”¹ _config.yml ä¸­å¤´åƒçš„é…ç½®è®°å½• # ä½ çš„å¤´åƒurl avatar: /img/avatar.jpg favicon: /img/avatar.jpg 3.7 è®¾ç½®é“¾æ¥å›¾æ ‡ å¦‚æœéœ€è¦è‡ªå®šä¹‰å›¾æ ‡å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  3-hexoæ·»åŠ è‡ªå®šä¹‰å›¾æ ‡ å¦‚ä¸‹ï¼Œå¦‚æœæ²¡æœ‰è¿æ¥ï¼Œåˆ™ä¸å±•ç¤ºå›¾æ ‡ã€‚ #é“¾æ¥å›¾æ ‡ï¼Œé“¾æ¥ä¸ºç©ºåˆ™ä¸æ˜¾ç¤º link: rss: /atom.xml github: https://github.com/yelog facebook: https://www.facebook.com/faker.tops twitter: linkedin: instagram: reddit: https://www.reddit.com/user/yelog/ weibo: http://weibo.com/u/2307534817 email: jaytp@qq.com å››ã€æ’åºåŠç½®é¡¶4.1 åˆ†ç±»æ’åºé»˜è®¤æŒ‰ç…§é¦–å­—æ¯æ­£åºæ’åºï¼Œç”±äºä¸­æ–‡åœ¨ nodejs ç¯å¢ƒä¸‹ä¸èƒ½æŒ‰ç…§æ‹¼éŸ³é¦–å­—æ¯æ’åºï¼Œæ‰€ä»¥æ·»åŠ äº†è‡ªå®šä¹‰æ’åºæ–¹å¼ï¼Œåœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­æ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼Œcategory.sortåˆ™æ˜¯å®šä¹‰åˆ†ç±»é¡ºåºçš„ã€‚ è§„åˆ™ï¼šåœ¨ sortä¸­å®šä¹‰çš„ category æ¯” æ²¡æœ‰åœ¨ sort ä¸­å®šä¹‰çš„æ›´é å‰ # æ–‡ç« åˆ†ç±»è®¾ç½® category: num: true # åˆ†ç±»æ˜¾ç¤ºæ–‡ç« æ•° sub: true # å¼€å¯å¤šçº§åˆ†ç±» sort: - è¯»ä¹¦ - å¤§å‰ç«¯ - åç«¯ - æ•°æ®åº“ - å·¥å…· - è¿ç»´ 4.2 æ–‡ç« æ’åº 2020-05-20 æ›´æ–°ï¼šæ— éœ€å®‰è£…æ’ä»¶æˆ–ä¿®æ”¹æºç ï¼Œä¸»é¢˜å·²ç»å†…ç½®æ’åºç®—æ³• æ–‡ç« åˆ—è¡¨é»˜è®¤æŒ‰ç…§åˆ›å»ºæ—¶é—´ï¼ˆå¦‚ä¸‹æ–‡ç« å†…å®šä¹‰çš„dateï¼‰å€’åºã€‚ ä½¿ç”¨ top å°†ä¼šç½®é¡¶æ–‡ç« ï¼Œå¤šä¸ªç½®é¡¶æ–‡ç« æ—¶ï¼Œtop å®šä¹‰çš„å€¼è¶Šå¤§ï¼Œè¶Šé å‰ã€‚ --- title: æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ date: 2017-01-23 11:41:48 top: 1 categories: - è¿ç»´ tags: - linuxå‘½ä»¤ --- äº”ã€å…³äºå†™æ–‡ç« 5.1 å¦‚ä½•å†™æ¯ç¯‡æ–‡ç« æœ€å¥½å†™ä¸Šæ–‡é›†å’Œæ ‡ç­¾ï¼Œæ–¹ä¾¿ç­›é€‰å’ŒæŸ¥çœ‹ã€‚ä¸€èˆ¬æ¨èä¸€ç¯‡æ–‡ç« è®¾ç½®ä¸€ä¸ªæ–‡é›†ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾categories:æ–‡é›†ï¼Œä¸ºå·¦ä¾§åˆ—è¡¨tags:æ ‡ç­¾ï¼Œé€šè¿‡#æ¥ç­›é€‰ä¾‹å¦‚ æœ¬ç¯‡æ–‡ç« çš„è®¾ç½® --- title: 3-hexoä½¿ç”¨è¯´æ˜ date: 2017-03-23 15:13:47 categories: - å·¥å…· tags: - hexo - 3-hexo --- 5.2 å†™ä½œ1.è®¾ç½®æ¨¡æ¿ï¼Œblogæ ¹ç›®å½• scaffolds/post.mdåŠ å…¥categories,tagsç­‰ï¼Œè¿™æ ·ä»¥åé€šè¿‡ hexo new ç”Ÿæˆçš„æ¨¡æ¿å°±ä¸ç”¨å†™è¿™ä¸¤ä¸ªå•è¯äº†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å†™å…¥ä»»ä½•ä½ æ¯ä¸ªæ–‡ç« ä¸­éƒ½ä¼šæœ‰çš„éƒ¨åˆ†ã€‚ --- title: &#123;&#123; title &#125;&#125; date: &#123;&#123; date &#125;&#125; categories: tags: --- å…­ã€æŠ€å·§6.1 å¿«æ·å‘½ä»¤å…¶å®å°±é€šè¿‡aliasï¼Œè§¦å‘ä¸€äº›å‘½ä»¤çš„é›†åˆåœ¨ ~/.bashrc æ–‡ä»¶ä¸­æ·»åŠ  alias hs=&#39;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&#39; #å¯åŠ¨æœ¬åœ°æœåŠ¡ alias hd=&#39;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d&#39; #éƒ¨ç½²åšå®¢ ç”šè‡³ä½ ä¹Ÿå¯ä»¥åŠ å…¥å¤‡ä»½æ–‡ç« çš„å‘½ä»¤ï¼Œå¯ä»¥è‡ªç”±å‘æŒ¥ã€‚ 6.3 åšå®¢å¤‡ä»½ï¼ˆå¿«æ·å‘½ä»¤å‡çº§ç‰ˆï¼‰ä¸ºäº†ä¿è¯æˆ‘ä»¬å†™çš„æ–‡ç« ä¸ä¸¢å¤±ã€å¿«é€Ÿè¿ç§»åšå®¢ï¼Œéƒ½éœ€è¦å¤‡ä»½æˆ‘ä»¬çš„blogã€‚ åšå®¢æ ¹ç›®å½•ï¼Œæ‰§è¡Œ git init åˆ›å»º git ä»“åº“ã€‚ åœ¨ githubï¼ˆæˆ–å…¶ä»–æ‰˜ç®¡å¹³å°ã€è‡ªå»ºè¿œç¨‹ä»“åº“ç­‰ï¼‰ åˆ›å»ºä»“åº“å¹¶å’Œæœ¬åœ°ä»“åº“å»ºç«‹è”ç³»ã€‚ åœ¨ ~/.bashrc æ–‡ä»¶ä¸­æ·»åŠ  alias hs=&#39;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&#39; alias hd=&#39;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; git add . &amp;&amp; git commit -m &quot;update&quot; &amp;&amp; git push -f&#39; è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ hd è¿›è¡Œéƒ¨ç½²æ—¶ï¼Œå°±ä¸€åŒå°†åšå®¢è¿›è¡Œå¤‡ä»½äº†","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"å…³äºç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿ","slug":"the-third-comment","date":"2017-03-23T03:59:50.000Z","updated":"2024-07-05T11:10:22.470Z","comments":true,"path":"2017/03/23/the-third-comment/","permalink":"http://yelog.org/2017/03/23/the-third-comment/","excerpt":"","text":"å‰è¨€æ˜¨å¤©ç™»é™†blogçœ‹åˆ°äº†å¤šè¯´çš„é€šçŸ¥ï¼šå°†äº2017å¹´6æœˆ1æ—¥æ­£å¼å…³åœæœåŠ¡ï¼Œå…¶å®å¹¶æ²¡æœ‰å¤ªå¤§çš„æ„å¤–ã€‚ è‡ªä»å»å¹´9æœˆä»½disqusè¢«GFWè®¤è¯åï¼Œè¢«è¿«è½¬ç§»åˆ°å¤šè¯´ï¼Œä¸€çœ‹å°±æ˜¯å¾ˆä¹…æ²¡æœ‰ç»´æŠ¤äº†ï¼Œæ„Ÿè§‰å…³é—­å°±æ˜¯è¿Ÿæ—©çš„äº‹ï¼Œæ²¡æƒ³åˆ°åˆšç”¨5ä¸ªæœˆã€‚ã€‚ ä¸èƒ½ç”¨disqusä¸å¼€å¿ƒï¼Œç„¶åå°±åˆå¼€å§‹è°ƒæŸ¥ç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿã€‚ å‹è¨€ç‰¹ç‚¹ ç•Œé¢æŒºåƒdisqusçš„ æŸ¥è¯¢æœ€è¿‘çš„è¯„è®ºï¼Œéœ€è¦æ‰“å¼€æ–°çš„é¡µé¢ æ”¯æŒè¡¨æƒ…ï¼Œä¸æ”¯æŒå›¾ç‰‡ æ”¯æŒè‡ªå®šä¹‰ç•Œé¢ æ³¨å†Œå³ç”¨ ç½‘æ˜“äº‘è·Ÿå¸–ç‰¹ç‚¹ ç•Œé¢ç®€æ´ ç½‘æ˜“ä½œä¸ºåå°ï¼Œä¸å®¹æ˜“å€’ ä¸æ”¯æŒè¡¨æƒ…ï¼Œä¸æ”¯æŒå›¾ç‰‡ æ”¯æŒè‡ªå®šä¹‰ç•Œé¢ æˆ‘åœ¨å›½å¤–åŠ è½½å·¨æ…¢ï¼Œä¸è¿‡æŸ¥äº†å›½å†…çš„å»¶è¿Ÿï¼Œå¹³å‡20mså·¦å³ã€‚ æ³¨å†Œå³ç”¨ ç•…è¨€ç‰¹ç‚¹ ç•Œé¢ç®€ä»‹ æ‰“å°è®°çš„åŠŸèƒ½ æ”¯æŒè¡¨æƒ…å’Œå›¾ç‰‡ æ”¯æŒè·å–è¯„è®ºæ•° éœ€è¦ICPå¤‡æ¡ˆ æœ€åæƒ³è¦å°è¯•ä¸€ä¸‹ç•…è¨€ï¼ŒåŠŸèƒ½ç¬¦åˆæˆ‘çš„é¢„æœŸï¼Œä¸è¿‡è¦ICPå¤‡æ¡ˆï¼Œæœ€è¿‘ç”±äºæƒ³è¦å¼€å¯å›½å†…CDNåŠ é€Ÿï¼Œä¹Ÿéœ€è¦å¤‡æ¡ˆã€‚ è›‹å››ï¼ï¼ æˆ‘åœ¨å›½å¤–ï¼Œç­‰å›å›½çš„æ—¶å€™å†å¤‡æ¡ˆå§ï¼Œæš‚æ—¶ç°ä½¿ç”¨ disqus,å¦‚æœæƒ³è¯„è®ºï¼Œå›½å†…åªèƒ½ç¿»å¢™äº†ã€‚â•®ï¼ˆâ•¯ï¼¿â•°ï¼‰â•­ æœ€åï¼Œå¤šè¯´ä¸€è·¯èµ°å¥½ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"windowsç¯å¢ƒä¸‹ä½¿ç”¨hexoæ­å»ºblogå¹³å°","slug":"windows-hexo","date":"2017-03-17T06:02:55.000Z","updated":"2024-07-05T11:10:22.521Z","comments":true,"path":"2017/03/17/windows-hexo/","permalink":"http://yelog.org/2017/03/17/windows-hexo/","excerpt":"","text":"ä¹‹å‰å·²ç»å‡ºè¿‡å‡ æœŸæ­å»º hexo çš„æ–‡ç« ï¼Œä½†æ˜¯æœ‰ä¸å°‘æœ‹å‹ç§ä¿¡è¯´ç³»ç»Ÿæ˜¯windowsçš„ï¼Œå¸Œæœ›å‡ºä¸€æœŸwindowsç¯å¢ƒä¸‹çš„hexoæ­å»ºæ–‡ç« ã€‚ ä¸ºæ­¤ï¼Œç¡®ä¿å¯ç”¨æ€§ï¼Œç¬”è€…åœ¨linuxï¼ˆç¬”è€…çš„ç³»ç»Ÿç¯å¢ƒï¼‰ç¯å¢ƒä¸‹å®‰è£…äº†windowsè™šæ‹Ÿæœºé‡æ–°æ¼”ç»ƒäº†ä¸€è¾¹ï¼Œç¡®ä¿æ²¡æœ‰ä»€ä¹ˆæ¼æ´ï¼Œæ‰å†™ä¸‹äº†æ­¤æ–‡ã€‚ æœ¬æ–‡ä¼šéå¸¸è¯¦ç»†ï¼Œä»¥ç¡®ä¿æ²¡æœ‰è®¡ç®—æœºèƒŒæ™¯çš„å°ç™½ä¹Ÿå¯ä»¥è½»æ¾ä¸Šæ‰‹ ç¯å¢ƒæ­å»ºå®‰è£…git1).ä¸‹è½½ï¼šä»å®˜ç½‘ä¸‹è½½windowsç‰ˆæœ¬çš„git,åœ°å€åœ¨ä¸‹æ–¹ã€‚https://git-scm.com/download/win2).å®‰è£…ï¼šåŒå‡»å®‰è£…ï¼Œä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯ å®‰è£…node.js1).ä¸‹è½½ï¼šä»å®˜ç½‘ä¸‹è½½windowsç‰ˆæœ¬çš„node.jså®‰è£…åŒ…ï¼ˆ.msiåç¼€ï¼‰ï¼Œåœ°å€ä¸‹æ–¹https://nodejs.org/zh-cn/download/2).å®‰è£…ï¼šåŒå‡»å®‰è£…ï¼Œä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯ å®‰è£…hexoåœ¨ä»»æ„ç›®å½•å¦‚æ¡Œé¢ï¼Œç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©Git Bash Hereè¿™ä¸€é¡¹ï¼Œæ‰“å¼€git bashå‘½ä»¤æ¡†ï¼ˆå‰ææ˜¯gitå®‰è£…æˆåŠŸï¼‰ï¼Œå¦‚ä¸‹å›¾åœ¨æ‰“å¼€çš„å‘½ä»¤çª—å†…è¾“å…¥ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£… npm install hexo-cli -g å®‰è£…è¿‡åï¼Œè¾“å…¥ hexo -vï¼Œå‡ºç°ä¸‹é¢ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ $ hexo -v hexo-cli: 1.0.2 os: Windows_NT 6.1.7601 win32 x64 http_parser: 2.7.0 node: 6.10.0 v8: 5.1.281.93 uv: 1.9.1 zlib: 1.2.8 ares: 1.10.1-DEV icu: 58.2 modules: 48 openssl: 1.0.2k åˆå§‹åŒ–blogè¿›å…¥å‡†å¤‡åˆ›å»ºblogçš„ç›®å½•ï¼ŒåŒæ ·ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œæ‰“å¼€git bashå‘½ä»¤æ¡†ï¼Œæ‰§è¡Œä¸€ä¸‹å‘½ä»¤è¿›è¡Œåˆå§‹åŒ– $ hexo init myblog å°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåå­—ä¸ºmyblogç›®å½•ï¼Œè¿™æ—¶æœ¬åœ°blogå°±å·²ç»åˆ›å»ºå¥½äº†ã€‚è¿›å…¥blogç›®å½•ï¼Œå¯åŠ¨ blog $ cd myblog $ hexo server åœ¨æµè§ˆå™¨è¾“å…¥ 127.0.0.1:4000å°±å¯ä»¥è®¿é—®åˆ°åˆšåˆšåˆ›å»ºå¥½çš„blogäº†ã€‚ æ¢çš®è‚¤å¦‚æœè§‰çš„è‡ªå¸¦çš„çš®è‚¤å¤ªéš¾çœ‹ã€‚å¯ä»¥æ ¹æ®ä»¥ä¸‹æ­¥å¥æ›´æ¢çš®è‚¤åœ¨å®˜ç½‘ å¯ä»¥æŸ¥çœ‹å„ç§å„æ ·çš„çš®è‚¤ï¼ŒæŒ‘é€‰è‡ªå·±å–œæ¬¢çš„çš®è‚¤ è¿™é‡Œä»¥ 3-hexo è¿™æ¬¾çš®è‚¤ä¸ºä¾‹ï¼ˆè¿™æ¬¾çš®è‚¤æ˜¯ç¬”è€…å†™çš„ï¼Œæ•ˆæœå¯æŸ¥çœ‹ yelog.orgï¼‰1ï¼‰è¿›å…¥çš®è‚¤çš„ github å®˜ç½‘ï¼Œå¦‚3-hexoçš„ç½‘å€æ‰¾åˆ° clone or download ,å¤åˆ¶å®ƒçš„urlï¼šhttps://github.com/yelog/hexo-theme-3-hexo.git 2ï¼‰è¿›å…¥ myblog ç›®å½•ï¼Œæ‰“å¼€ git bash å‘½ä»¤æ¡†ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†çš®è‚¤ä¸‹è½½åˆ°themesç›®å½•ä¸‹ $ git clone https://github.com/yelog/hexo-theme-3-hexo.git themes/3-hexo ä¿®æ”¹ myblog/_config.yml ä¸­çš„ theme: landscape ä¸º theme: 3-hexo å¦‚æœä½¿ç”¨ 3-hexo ä¸»é¢˜çš„è¯ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸¤ç‚¹â‘ å› ä¸ºä¸»é¢˜ä½¿ç”¨äº†è‡ªå·±çš„é«˜äº®æ•ˆæœï¼Œè¿˜éœ€è¦ä¿®æ”¹ highlight enable: true çš„ true æ”¹ä¸º falseã€‚â‘¡ç”±äºä¸»é¢˜å¯ç”¨äº†æ–‡ç« å­—æ•°ç»Ÿè®¡åŠŸèƒ½ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨ myblog ç›®å½•ä¸‹ï¼Œæ‰“å¼€ git bash å‘½ä»¤æ¡†ï¼Œæ‰§è¡Œ npm i --save hexo-wordcount å³å¯ é‡æ–°æ¸²æŸ“ï¼Œå¯åŠ¨æœåŠ¡å™¨ $ hexo clean &amp;&amp; hexo g &amp;&amp; hexo s æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœï¼Œæ¢è‚¤æˆåŠŸ å¦‚ä½•å†™æ–‡ç« æ–‡ç« åœ¨ myblog/source/_posts/ ä¸‹ï¼Œä»¥markdownæ ¼å¼å†™æˆï¼Œç¬”è€…æ¨èä½¿ç”¨atomä½œä¸ºå†™ä½œå·¥å…·ã€‚å¯ä»¥é€šè¿‡ hexo new æ–‡ç« å æ¥åˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ _posts ç›®å½•ä¸‹ç›´æ¥æ–°å»º.mdæ–‡ä»¶ã€‚æ‰§è¡Œå‘½ä»¤ ä»æ˜¯åœ¨ myblog ç›®å½•ä¸‹ï¼Œæ‰“å¼€ git bash å‘½ä»¤æ¡†ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨å‘½ä»¤ï¼Œå…¶ä»–å¯ä»¥æŸ¥é˜…å®˜ç½‘ã€‚ # åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ä¸ºâ€œgitæ•™ç¨‹â€çš„æ–‡ç«  $ hexo new &quot;gitæ•™ç¨‹&quot; # æ¸…é™¤æ‰€æœ‰æ¸²æŸ“çš„é¡µé¢ $ hexo clean # å°†markdownæ¸²æŸ“æˆé¡µé¢ $ hexo g # å¯åŠ¨hexo $ hexo s å‘å¸ƒåˆ°ç½‘ä¸Šå¦‚æœæƒ³è¦åœ¨githubä¸Šæ­å»ºblogï¼Œæˆ–è€…åœ¨è‡ªå·±çš„è´­ä¹°çš„æœåŠ¡å™¨ä¸Šæ­å»ºblogå¯ä»¥æŸ¥çœ‹ç¬”è€…çš„å¾€æœŸæ–‡ç«  ä»Šå¤©çš„æ•™ç¨‹å°±åˆ°è¿™é‡Œï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"npmä½¿ç”¨ä»‹ç»","slug":"npmä½¿ç”¨ä»‹ç»","date":"2017-03-16T12:09:48.000Z","updated":"2024-07-05T11:10:22.390Z","comments":true,"path":"2017/03/16/npm/","permalink":"http://yelog.org/2017/03/16/npm/","excerpt":"","text":"Whatnpmï¼ˆå…¨ç§°Node Package Managerï¼Œå³nodeåŒ…ç®¡ç†å™¨ï¼‰æ˜¯Node.jsé»˜è®¤çš„ã€ä»¥JavaScriptç¼–å†™çš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿã€‚ä½œè€…ï¼šè‰¾è¨å…‹Â·æ–½å•ç‰¹ï¼ˆIsaac Z. Schlueterï¼‰ å®‰è£…npm æ˜¯éšåŒnode.jsä¸€èµ·å®‰è£…çš„ï¼Œæ‰€ä»¥å®‰è£…node.jså³å¯ã€‚ ä½¿ç”¨# æŸ¥çœ‹ç‰ˆæœ¬ $ npm -v # å‡çº§ $ sudo npm install npm -g # å®‰è£…æ¨¡å— $ npm install &lt;Module Name&gt; #æœ¬åœ°å®‰è£… # æœ¬åœ°å®‰è£…ï¼šå®‰è£…åˆ°./node_modules(å‘½ä»¤è¿è¡Œç›®å½•) $ npm install &lt;Module Name&gt; -g #å…¨å±€å®‰è£… # å…¨å±€å®‰è£…ï¼šæ”¾åœ¨ /usr/local ä¸‹æˆ–è€…ä½  node çš„å®‰è£…ç›®å½•ã€‚ # å¸è½½æ¨¡å— $ npm uninstall &lt;Module Name&gt; # æ›´æ–°æ¨¡å— $ npm update &lt;Module Name&gt; # æŸ¥çœ‹æ‰€æœ‰å®‰è£…çš„æ¨¡å— $ npm ls #æ‰€æœ‰æœ¬åœ°æ¨¡å— $ npm ls -g #æ‰€æœ‰å…¨å±€æ¨¡å— # æœç´¢æ¨¡å— $ npm search &lt;Module Name&gt;","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"node","slug":"node","permalink":"http://yelog.org/tags/node/"}]},{"title":"ä¸ºHexoæ·»åŠ RSSå’ŒSitemap","slug":"Hexo-RSS-Sitemap","date":"2017-03-14T01:44:29.000Z","updated":"2024-07-05T11:10:22.567Z","comments":true,"path":"2017/03/14/Hexo-RSS-Sitemap/","permalink":"http://yelog.org/2017/03/14/Hexo-RSS-Sitemap/","excerpt":"","text":"æ·»åŠ RSSä½¿ç”¨RSSæ˜¯ä¸ºè‡ªå·±çš„blogæä¾›è®¢é˜…åŠŸèƒ½ã€‚ 1.ç”¨npmå®‰è£…æ’ä»¶$ npm install hexo-generator-feed --save 2.é…ç½®æ ¹ç›®å½•_config.yml# Extensions ## Plugins: http://hexo.io/plugins/ #RSSè®¢é˜… plugin: - hexo-generator-feed #Feed Atom feed: type: atom path: atom.xml limit: 20 3.éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸæ‰§è¡Œ hexo gï¼ŒæŸ¥çœ‹ä¸€ä¸‹publicç›®å½•ä¸‹ï¼Œå¦‚æœæœ‰ atom.xml æ–‡ä»¶ï¼Œåˆ™è¡¨æ˜é…ç½®æˆåŠŸã€‚ 4.æ˜¾ç¤ºRSSå›¾æ ‡è¿™é‡Œä»¥3-hexoä¸»é¢˜ä¸ºä¾‹ï¼Œç»™rssæ·»åŠ é“¾æ¥/atom.xmlä¿®æ”¹/themes/3-hexo/_config.yml link: rss: /atom.xml 5.æ•ˆæœé“¾æ¥å›¾æ ‡ï¼šé“¾æ¥åœ°å€æ•ˆæœ æ·»åŠ SitemapSitemapï¼Œç½‘ç«™åœ°å›¾ï¼Œæ˜¯ç½‘ç«™ä¼˜åŒ–ä¸­é‡è¦çš„ä¸€ç¯ï¼Œæ— è®ºæ˜¯å¯¹äºè®¿é—®è€…è¿˜æ˜¯å¯¹äºæœç´¢å¼•æ“ã€‚ 1.ç”¨npmå®‰è£…æ’ä»¶$ npm install hexo-generator-sitemap --save 2.é…ç½®æ ¹ç›®å½•_config.ymlplugin: - hexo-generator-feed - hexo-generator-sitemap 3.éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸæ‰§è¡Œ hexo gï¼ŒæŸ¥çœ‹ä¸€ä¸‹publicç›®å½•ä¸‹ï¼Œå¦‚æœæœ‰ sitemap.xml æ–‡ä»¶ï¼Œåˆ™è¡¨æ˜é…ç½®æˆåŠŸã€‚ 4.æ•ˆæœè®¿é—® &#x2F;sitemap.xml å°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„ç«™ç‚¹åœ°å›¾äº†","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoå¼€å‘æ—¥å¿—-æŒç»­æ›´æ–°","slug":"3-hexo-logs","date":"2017-03-13T07:44:57.000Z","updated":"2024-07-05T11:10:22.530Z","comments":true,"path":"2017/03/13/3-hexo-logs/","permalink":"http://yelog.org/2017/03/13/3-hexo-logs/","excerpt":"","text":"2024å¹´1æœˆ01-05 fix ä¿®å¤ä»£ç å—çš„è¡Œå·é”™ä½é—®é¢˜ 2023å¹´11æœˆ11-22 fix ä¿®å¤ä»£ç å—, å¤åˆ¶æ—¶ä¸¢å¤±ç¼©è¿›å’Œç©ºæ ¼é—®é¢˜ ç¯å¢ƒ - æ”¹ä¸ºå®ä¾‹ 2023å¹´6æœˆ06-16 fix ä¿®å¤æ–‡ç« åˆ†ç±»å±‚çº§ä¸èƒ½æ— é™é€’å½’çš„é—®é¢˜ 06-02 fix ä¿®å¤ç”±äºå±‚çº§ä¸è¿ç»­ï¼Œå¯¼è‡´çš„ toc è·å–ä¸å®Œæ•´çš„é—®é¢˜ 2023å¹´5æœˆ05-23 fix ä¿®å¤è®¾ç½®å®½åº¦åï¼ŒèƒŒæ™¯ä¸å…¨ fixes #123 05-19 fix ä¿®å¤éšè—æ–‡ç« å, å·¦ä¾§åˆ†ç±»ä¸Šçš„æ–‡ç« æ•°é‡ä¸å¯¹çš„é—®é¢˜ 2022å¹´6æœˆ06-27 add æ·»åŠ éšè—æ–‡ç« å‚æ•° hidden, è®¾ç½®ä¸º true å°†æ–‡ç« ä»åˆ—è¡¨ä¸­éšè— 2022å¹´2æœˆ02-22 fix jquery dom selector contains special symbols cause errors fix Script could run successfully in the case of errors synchronizing TOC 02-16 fix ä¿®å¤é¦–é¡µä½¿ç”¨è‡ªå®šä¹‰ html æ ‡é¢˜æ—¶ï¼Œå¤§çº²å’Œæ–‡ç« å…³è”å…³ç³»ä¸¢å¤±æŠ¥é”™çš„é—®é¢˜ 2021å¹´9æœˆ09-26 fix ä¿®å¤ gitalk ä»£ç†èŠ‚ç‚¹çš„é—®é¢˜ï¼Œå¹¶å‡çº§ä¸ºå®˜æ–¹æœ€æ–°çš„ä»£ç  2021å¹´2æœˆ02-22 enhance æŒ‰æ ‡é¢˜æœç´¢æ”¯æŒå­—ç¬¦çº§åˆ«æ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¹¶é«˜äº®æ˜¾ç¤º 2020å¹´12æœˆ12-28 fix ä¿®å¤äº†å³ä¸‹è§’æŒ‰é’®é”™ä½é—®é¢˜ enhance ä¼˜åŒ–å›¾æ ‡æ ·å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å¼•å…¥ change åˆ†ç±»è¶…å‡ºéšè— 2020å¹´8æœˆ08-09 fix ä¿®å¤äº†åˆ‡æ¢å¤§çº²æ—¶ï¼Œæœªå…³é—­å…¨å±€æœç´¢æ¡†(in:) çš„é—®é¢˜2. add ä»£ç å—æ–°å¢æ˜¾ç¤ºä»£ç ç±»å‹å’Œå¤åˆ¶ä»£ç åŠŸèƒ½ fixåˆ†ç±»æ”¯æŒ \\/#.[]() ç‰¹æ®Šå­—ç¬¦ fix å¤§çº²æ”¯æŒURI ç¼–ç ï¼Œå…¼å®¹ hexo5+ 2020å¹´5æœˆ05-29 fix ä¿®å¤äº†æ—§ç‰ˆ hexo æŠ¥é”™çš„é—®é¢˜ 05-23 change ç”±äº cloudflare å›½å†…è®¿é—®ä¸ç¨³å®šï¼Œæ•… cdn åˆ‡æ¢åˆ° jsdelivr fix ä¿®å¤æ–‡ç« å¤§çº²ä¸ºç©ºæ—¶ï¼ŒåŒæ­¥å¤§çº²æŠ¥é”™çš„é—®é¢˜ change æ–‡ç« å†… toc ç”Ÿæˆä» @ã€tocã€‘ æ”¹ä¸º ã€tocã€‘ enhance å¿«æ·é”®æ”¯æŒå…³é—­ shortcutKey: false add æ·»åŠ ç¬¬ä¸‰æ–¹è¯„è®º æ¥å¿…åŠ› å’Œ utteranc remove ç§»é™¤ç½‘æ˜“äº‘è¯„è®º 05-21 add æ·»åŠ å¤‡æ¡ˆå·é…ç½® 05-20 enhance å†…ç½®æ–‡ç« æ’åºï¼Œæ— éœ€å†å¼•å…¥æ’åºæ’ä»¶æˆ–ä¿®æ”¹æºä»£ç  enhance æ”¯æŒè‡ªå®šä¹‰åˆ†ç±»çš„é¡ºåºï¼Œ å…·ä½“å¯ä»¥æŸ¥çœ‹ 3-hexoä½¿ç”¨è¯´æ˜ ä¸­çš„æ’åºç›¸å…³å†…å®¹ 05-19 change é‡åšäº†æ–‡ç« å¤§çº² change é‡åšäº†æœç´¢&#x2F;æ ‡ç­¾é¡µ style ä¼˜åŒ–äº†æ•´ä½“ç•Œé¢é£æ ¼ fixä¿®å¤äº†è¯¸å¦‚ åˆ†ç±»é€‰ä¸­åŠ¨ç”»é—ªçƒ ç­‰ç»†èŠ‚é—®é¢˜ 2020å¹´2æœˆ02-041.fix: ä¿®å¤ gitalk ä½¿ç”¨ app API query parameter å¼ƒç”¨çš„é—®é¢˜ 2019å¹´11æœˆ11-121.fix: ä¿®å¤ hexo4.0 ç‰ˆæœ¬é“¾æ¥å¤–è·³çš„é—®é¢˜2.add: æ”¯æŒ mermaid 3-hexoæ”¯æŒmermaidå›¾è¡¨ 09-241.add: æ”¯æŒæ–‡ç« å†… toc ç”Ÿæˆ 3-hexoæ–‡ç« å†…tocç”Ÿæˆ 09-051.fix: pjax å…¼å®¹ jsfiddle çš„æ¸²æŸ“ 3-hexoæ”¯æŒjsfiddleæ¸²æŸ“ 2019å¹´8æœˆ08-201.fix: å·¦ä¸‹è§’èœå•ä¸ªæ•°ä¸ºä¸€ä¸ªæ—¶ï¼Œåœ¨ç§»åŠ¨ç«¯å‡ºç°çš„ä½ç½®é”™ä¹±çš„é—®é¢˜ 08-13 add æ·»åŠ è‡ªå®šä¹‰å·¦ä¾§åˆ†ç±»æ å®½åº¦ category.widthï¼Œè¯¦æƒ…è§ _config.yml 08-01 fix ä¿®å¤ å‹é“¾ åŒºåŸŸè¶…å‡ºä¸æ»šåŠ¨çš„é—®é¢˜ 2019å¹´7æœˆ07-22 add æ–°å¢ä¿®æ”¹æ–‡ç« åˆ—è¡¨é¢œè‰²çš„å‚æ•° 07-15 fix ä¿®å¤ gitalk ç”±äºä½œè€…åœæ­¢äº†è·¨åŸŸçš„æœåŠ¡ï¼Œå€Ÿç”¨å…¶ä»–äººçš„è·¨åŸŸæœåŠ¡è§£å†³é—®é¢˜ 07-12 add æ–°å¢å›¾æ ‡ï¼šqqã€é…·ç‹—ã€ç½‘æ˜“äº‘éŸ³ä¹ fix ä¿®å¤æ–‡æœ«å£°æ˜è·¨è¡Œçš„é—®é¢˜ 2019å¹´6æœˆ06-09 fix ä¿®å¤äº†æ ‡ç­¾æŒ‰é’®åœ¨æŸäº›åˆ†è¾¨ç‡ä¸‹é”™ä½é—®é¢˜ã€‚ fix ä¿®å¤äº†ä»£ç è¡Œæ•°è¶…ç™¾è¡Œæ—¶ï¼Œè¡Œå·æº¢å‡ºçš„é—®é¢˜ 2019å¹´5æœˆ05-21 add æ–‡ç« åˆ†ç±»å¯ä»¥æ˜¾ç¤ºæ–‡ç« æ•° category&gt;num add æ–‡ç« åˆ†ç±»æ”¯æŒå¤šçº§æ˜¾ç¤º category&gt;sub fix ä¿®å¤gitalkæ˜¾ç¤ºè¯„è®ºæ•°é”™è¯¯çš„é—®é¢˜ æ·»åŠ èƒŒæ™¯å›¾è®¾ç½®ï¼š â‘  _config.xml é…ç½®é»˜è®¤èƒŒæ™¯å›¾ç‰‡ é¦–é¡µèƒŒæ™¯å›¾ï¼š index_bg_img: xxx.jpg æ–‡ç« é¡µé¢èƒŒæ™¯å›¾ï¼šother_bg_img: xxx.jpg â‘¡ æˆ‘ä»¬è¿˜å¯ä»¥å•ç‹¬ç»™æŸç¯‡æ–‡ç« è®¾ç½®èƒŒæ™¯å›¾ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰ title: 3-hexoå¼€å‘æ—¥å¿—-æŒç»­æ›´æ–° bgImg: xxx.jpg #è®¾ç½®è¿™ç¯‡æ–‡ç« çš„èƒŒæ™¯å›¾ 05-05 add æ·»åŠ ä»£ç æ®µé«˜äº®æ ·å¼é…ç½®ï¼Œå¯¹åº” markdown è¯­æ³• `` ï¼Œä½ç½®ï¼š_config.yml å…³é”®å­— code 2019å¹´1æœˆ01-05 fix ä¿®å¤Firefoxä¸‹ï¼ŒTags å›¾æ ‡å¤±æ•ˆé—®é¢˜ 2018å¹´11æœˆ11-30 add åº”ç”¨å½©è‰²å›¾æ ‡ï¼Œæ–°å¢ç®€ä¹¦ã€çŸ¥ä¹ã€csdnã€oschinaç­‰å›¾æ ‡ fix ä¿®å¤ gitment ç™»å½•æŠ¥é”™çš„é—®é¢˜ enhance å‡çº§gitalkæ’ä»¶ï¼Œå¹¶è·Ÿéšå®˜æ–¹ç‰ˆæœ¬ 2018å¹´8æœˆ08-08 ä¿®å¤ fix : ä¿®å¤å·¦ä¾§æ å‡ºç°æ»šåŠ¨æ¡çš„é—®é¢˜ 2018å¹´4æœˆ04-18 ä¿®å¤ fix : è°ƒæ•´åŸæ–‡åœ°å€keyï¼Œè§£å†³å’Œ encrypt çš„å†²çª 2017å¹´12æœˆ12-31 ä¼˜åŒ– enhance : å…³é—­æ‰“èµï¼Œåˆ™å±è”½ç›¸å…³ä»£ç ã€‚ 12-28 æ·»åŠ è‡ªå®šä¹‰èœå•åŠŸèƒ½ add : æ·»åŠ è‡ªå®šä¹‰èœå•åŠŸèƒ½ï¼Œè§é…ç½®æ–‡ä»¶ menu: ç›¸å…³ fix : ä¿®å¤ photoSwipe ä¸€äº›é—®é¢˜ï¼šæ‰‹æœºç«¯å³ä¸Šè§’å›¾æ ‡é®æŒ¡ã€é¦–é¡µå›¾ç‰‡æ¸²æŸ“å¤±è´¥ã€CDNå¼•å…¥é…ç½®æ–‡ä»¶ 12-27 æ’ä»¶æ·»åŠ  add : å¼•å…¥ photoSwipe å›¾ç‰‡ç›¸å†Œï¼Œå¯åœ¨ _config ä¸­ é…ç½® img_resize: photoSwipe fix : å·¦ä¾§åˆ†ç±»åˆ—è¡¨è¿‡å¤šï¼Œåˆ™æ˜¾ç¤ºæ»šåŠ¨æ¡ change : ç”±äºcdnjsæœ€è¿‘åœ¨å›½å†…ç½‘ç»œæ³¢åŠ¨è¾ƒå¤§ï¼Œå°†é»˜è®¤CDNæ”¹åˆ°bootcdn 12-26 åŠŸèƒ½ä¼˜åŒ– enhance : å…¨æ–‡æ£€ç´¢æ”¯æŒé€šè¿‡æ–¹å‘é”®é€‰æ‹©æ–‡ç« ï¼Œå›è½¦è·³è½¬ 12-24 åŠŸèƒ½æ·»åŠ  add : æ·»åŠ å…¨æ–‡æ£€ç´¢åŠŸèƒ½ï¼Œ è¾“å…¥in:å¼€å¤´å³å¯å¼€å§‹æ£€ç´¢ 2017å¹´10æœˆ10-21 æ ·å¼è°ƒæ•´ enhance : ä¼˜åŒ–äº†é«˜äº®æ ·å¼ atom-light 10-20 æ ·å¼è°ƒæ•´ä¸æ·»åŠ  add : æ·»åŠ åˆ—è¡¨æ ·å¼ thread add : æ·»åŠ å¼•ç”¨å—æ ·å¼ bracket add : æ–‡ç« åˆ—è¡¨å¯åŠ å…¥èƒŒæ™¯å›¾ 10-07 add : åŠ å…¥å…³äº&#x2F;å‹é“¾é¡µé¢ 2017å¹´9æœˆ09-21 polish : å¼•å…¥fragment_cacheå±€éƒ¨ç¼“å­˜ï¼Œå¤§å¹…ç¼©å‡æ¸²æŸ“(hexo g)çš„æ—¶é—´ HexoåŠ é€Ÿæ¸²æŸ“é€Ÿåº¦ä¹‹fragment_cache enhance : åŠ å…¥ SEO ï¼Œtagè½¬keywords , titleè½¬description add : æ·»åŠ æ–‡æœ«è¯´æ˜å‚æ•° lit : å¤´åƒè·³è½¬é¦–é¡µçš„è¯·æ±‚ä¹Ÿå¤„ç†ä¸º pjax 2017å¹´7æœˆ07-05 æ·»åŠ MathJaxæ•°å­¦å…¬å¼æ”¯æŒ add : æ·»åŠ MathJaxæ•°å­¦å…¬å¼æ”¯æŒ 3-hexoé…ç½®MathJaxæ•°å­¦å…¬å¼æ¸²æŸ“ 2017å¹´6æœˆ06-26 æ·»åŠ gitmentè¯„è®ºç³»ç»Ÿ add : æ·»åŠ gitmentè¯„è®ºç³»ç»Ÿï¼Œå…·ä½“å¯å‚è€ƒ å®Œç¾æ›¿ä»£å¤šè¯´-gitment 2017å¹´4æœˆ04-27 è°ƒæ•´æ ·å¼ changeï¼šè°ƒæ•´å¼•ç”¨å—å†…pçš„æ ·å¼ã€‚ 04-19 è°ƒæ•´æ ·å¼å’Œä¿®å¤bug change:è°ƒæ•´æ–‡ç« ç›®å½•é—´è· fix:ä¿®å¤å¯èƒ½å‡ºç°çš„è®¿é—®é‡ä¸æ˜¾ç¤ºçš„é—®é¢˜ 04-17 è°ƒæ•´æ ·å¼åŠä¿®å¤bug change:è°ƒæ•´å¤§å±ä¸‹æ–‡ç« æœ€å¤§å®½åº¦ï¼ˆä»780è°ƒåˆ°900ï¼‰ï¼Œä»£ç å­—å·è°ƒæ•´ä¸ºæ¯”æ–‡å­—å°3px fix:ä¿®å¤åœ¨è¿‡æ»¤æ¡ä»¶ä¸‹ï¼Œé¼ æ ‡ä¸Šä¸‹é”®ä¸èƒ½æ­£å¸¸åœ¨ç¬¬ä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªè¿›è¡Œè·³è½¬çš„é—®é¢˜ fix:ä¿®å¤é¦–é¡µå¯èƒ½å‡ºç°çš„é”™è¯¯æ¸²æŸ“ï¼Œå¯¼è‡´æ²¡æœ‰æ ·å¼çš„æƒ…å†µã€‚ 2017å¹´3æœˆ03-29 å¢å¼ºæ–‡ç« åˆ—è¡¨ä¸Šä¸‹é”®åŠŸèƒ½ enhance:å¢å¼ºåˆ—è¡¨è·Ÿéšé€‰æ‹©çš„æ–‡ç« ä¸Šä¸‹æ»šåŠ¨ enhance:æ–‡ç« åˆ—è¡¨ä¸Šä¸‹å¾ªç¯ 03-24 ä¿®å¤æœç´¢åŠæ·»åŠ å¿«æ·é”® fix:ä¿®å¤titleå…³é”®å­—å’Œæ ‡ç­¾å…³é”®å­—å†²çªçš„æƒ…å†µ fix:ä¿®å¤å‰è¿›åé€€æ—¶å¯¹å›¾ç‰‡çš„é”™è¯¯å¤„ç† enhance:åœ¨æœç´¢æ—¶ï¼Œå¯ä»¥é”®ç›˜ä¸Šä¸‹é”®æ¥é€‰æ‹©æ–‡ç«  enhance:æ·»åŠ äº†ä¸€äº›å¿«æ·é”®ï¼Œè¯¦æƒ…æŸ¥çœ‹ 3-hexoå¿«æ·é”®è¯´æ˜ 03-22 æ·»åŠ è¯„è®ºç³»ç»Ÿ enhance: æ·»åŠ ç½‘æ˜“äº‘è·Ÿå¸–è¯„è®ºç³»ç»Ÿ 03-21 å›¾ç‰‡æ”¾å¤§åŠ¨ç”» enhance:å¢åŠ å›¾ç‰‡æ”¾å¤§åŠ¨ç”»ï¼Œå¢åŠ è¿‡åº¦æ„Ÿï¼Œæœ€å¤§æ”¾å¤§è‡³åŸå›¾å¤§å°ï¼ˆè‹¥å°ºå¯¸è¶…è¿‡å±å¹•ï¼ŒæŒ‰å±å¹•å¤§å°é™åˆ¶ï¼‰ 03-20 è¯„è®ºæ·»åŠ é”šç‚¹ enhance:æ·»åŠ æ–‡ç« meta(æ ‡é¢˜ä¸‹)ä¸­çš„è¯„è®ºæ•°ç‚¹å‡»äº‹ä»¶ï¼Œæ»‘åŠ¨åˆ°è¯„è®ºåŒºï¼Œè¯„è®ºåŒºè‹¥éšè—ï¼Œåˆ™è‡ªåŠ¨æ‰“å¼€ 03-19 ä¿®å¤firfoxé”™ä½é—®é¢˜ fix:ä¿®å¤firefoxé”™ä½é—®é¢˜ enhance:æ–‡ç« æ ‡é¢˜ä¸‹çš„åˆ†ç±»ã€æ ‡ç­¾ã€ä½œè€…åœ¨æ–‡ç« åˆ—è¡¨éšè—çš„æƒ…å†µä¸‹ï¼ˆåŒ…æ‹¬ç§»åŠ¨ç«¯ï¼‰ç‚¹å‡»ï¼Œè‡ªåŠ¨å‘¼å‡ºæ–‡ç« åˆ—è¡¨ 03-18 åŠ¨ç”»ä¼˜åŒ–åŠä¿®å¤bug enhance:ç»™æ‰€æœ‰é”šç‚¹æ·»åŠ åŠ¨ç”» fix:ä¿®å¤æ–‡ç« åˆ—è¡¨é¡µè‡ªé€‚åº”å®½åº¦,è§£å†³ç”±äºfirefoxä¸æ”¯æŒè‡ªå®šä¹‰æ»šåŠ¨æ¡å¯¼è‡´çš„é”™ä½ change:æ”¹åŠ¨é¡µé¢å†…ç«™ç‚¹è®¿é—®é‡ç»Ÿè®¡çš„æ ‡ç­¾ï¼Œæ”¹åŠ¨æŸ¥çœ‹ â€” 3-hexoé…ç½®é¦–é¡µ 03-17 è¯„è®ºè°ƒæ•´ä¼˜åŒ– ä¿®å¤é¢„åŠ è½½æ—¶çš„è¯„è®ºæ•° é¦–é¡µæ·»åŠ è¯„è®ºæ¡† 03-16 æ–‡ç« metaæ ·å¼ä¿®æ”¹ å°†æ–‡ç« metaï¼ˆåŒ…æ‹¬æ–‡é›†ã€æ ‡ç­¾ã€æ—¶é—´ã€å­—æ•°ç­‰ï¼‰æ”¹åˆ°æ–‡ç« titleä¸‹æ–¹ ç«™ç‚¹ç‰ˆæƒä¿¡æ¯ï¼ˆ@2017 Yelogï¼‰,è‡ªå®šä¹‰ï¼Œåœ¨ä¸»é¢˜ _config.yml ä¸­é…ç½® æ–‡ç« metaä¸­æ·»åŠ è¯„è®ºæ•° 03-15 å¢åŠ æ ·å¼ æ‰©å±•äº†æ–‡ç« åˆ—è¡¨çš„ç§»å…¥æ ·å¼ï¼Œä½ç½® _config.yml ä¸­ article_list 03-14 æ‰“èµä¼˜åŒ– åŠ å…¥åˆ‡æ¢äºŒç»´ç åŠ¨ç”» ç§»åŠ¨ç«¯æ ·å¼è°ƒæ•´ 03-13 é¦–é¡µé‡æ„ å°†é¦–é¡µæ”¹å†™ä¸ºmdæ ¼å¼ï¼Œæ–¹ä¾¿åšä¸»æ›´æ”¹ï¼Œä½ç½®ï¼š&#x2F;layout&#x2F;index.md 03-09 ä¿®å¤å¤šè¯´ã€æ·»åŠ æµé‡ç»Ÿè®¡ ä¿®å¤å¤šè¯´åœ¨pjaxä¸­çš„ä½¿ç”¨ æ·»åŠ å­—æ•°ç»Ÿè®¡åŠŸèƒ½ æ·»åŠ æ–‡ç« ç‰ˆæƒä¿¡æ¯ 03-06 æ·»åŠ æ‰“èµåŠŸèƒ½ æ·»åŠ æ‰“èµåŠŸèƒ½ æ·»åŠ tableæ ·å¼ 03-04 æ·»åŠ ä½œè€…å’Œæ ‡ç­¾çš„æç¤º è¾“å…¥#æˆ–@æ˜¾ç¤ºä¸‹æ‹‰æç¤º 03-03 ä¿®å¤å¤šä½œè€…æ¨¡å¼ ä¿®å¤å¼€å¯å¤šä½œè€…æ¨¡å¼æ—¶ï¼Œæ–‡ç« æ²¡æœ‰ä½œè€…å¼•èµ·çš„å¼‚å¸¸ 03-02 å›¾ç‰‡æ ·å¼æ”¹åŠ¨ altæ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹æ–¹ å›¾ç‰‡æ”¾å¤§åŠŸèƒ½ ç§»åŠ¨ç«¯å›¾ç‰‡å®½åº¦100% 2017å¹´2æœˆ02-28 å¤šä½œè€…æ¨¡å¼ æ·»åŠ å¤šä½œè€…æ¨¡å¼ 02-27 è°ƒæ•´æ ·å¼ ä¿®æ”¹açš„æ ·å¼ è°ƒæ•´ç§»åŠ¨ç«¯å®½åº¦ 02-25 ä¿®æ”¹githubä»“åº“å ä¿®æ”¹githubä»“åº“åï¼šä» 3-hexo åˆ° hexo-theme-3-hexo æ·»åŠ å›åˆ°é¡¶ç«¯åŠŸèƒ½ï¼šå°ç«ç®­ ä¿®å¤safariæ»‘åŠ¨bug 02-24 ç«™ç‚¹ç‰ˆæƒã€ICONå’Œç½®é¡¶ æ·»åŠ ç«™ç‚¹ç‰ˆæƒä¿¡æ¯ æ›´æ¢iconåˆ°icoMoon æ·»åŠ ç½®é¡¶åŠŸèƒ½ 02-20 ä»£ç å—é«˜äº®ä¸»é¢˜ æ·»åŠ åå‡ ç§ä»£ç é«˜äº®ä¸»é¢˜ ç§»åŠ¨ç«¯é€‚é…ï¼ˆipadã€æ‰‹æœºï¼‰ 02-19 ç§»åŠ¨ç«¯é€‚é… æ·»åŠ æ–‡ç« åŠ è½½åŠ¨ç”»è¿›åº¦æ¡ å¼€å§‹è¿›è¡Œç§»åŠ¨ç«¯é€‚é… 02-08 è¯„è®ºç³»ç»Ÿ æ·»åŠ å¤šè¯´è¯„è®º æ·»åŠ disqusè¯„è®º 02-07 æ ·å¼åŠåŠ¨ç”»æ–°å¢ä¿®æ”¹ æ·»åŠ æ ‡é¢˜å’Œæ—¶é—´çš„title æ·»åŠ å¤´åƒä¸‹å¤–é“¾å›¾æ ‡ï¼ˆfacebookç­‰ï¼‰ æ·»åŠ ç›®å½•æ˜¾ç¤ºåŠ¨ç”» 02-06 åŠŸèƒ½å’Œæ ·å¼å¼€å‘ æ·»åŠ å…¨å±å’Œç›®å½•åŠŸèƒ½ æœç´¢æ¡†ä¸‹æ·»åŠ tagsçš„æ˜¾ç¤ºï¼Œå¹¶æ”¯æŒä½¿ç”¨#æœç´¢ CDNæ”¹ä¸ºåœ¨_config.ymlä¸­é…ç½® 02-05 å¼€æº3-hexoä¸»é¢˜ è®¾è®¡ä¸»é¢˜é¡µé¢ç»“æ„ åˆ†ç±»è¿‡æ»¤å’Œæ ‡é¢˜å…³é”®å­—æœç´¢ ä½¿ç”¨pjaxæ–¹å¼åŠ è½½é¡µé¢ æ·»åŠ å¼•ç”¨ã€è¡¨æ ¼ç­‰æ ·å¼ ä½¿ç”¨highlight.jsæ¥å¤„ç†ä»£ç å—é«˜äº® å‘½åä¸º3-hexoå¹¶åœ¨githubä¸Šå¼€æºe","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"3-hexoé…ç½®é¦–é¡µ","slug":"3-hexo-homepage","date":"2017-03-13T01:56:07.000Z","updated":"2024-07-05T11:10:22.585Z","comments":true,"path":"2017/03/13/3-hexo-homepage/","permalink":"http://yelog.org/2017/03/13/3-hexo-homepage/","excerpt":"","text":"ä»Šæ—¥å°†é¦–é¡µæåˆ°mdæ–‡ä»¶ä¸­äº†ï¼Œæ–¹ä¾¿å¤§å®¶çš„æ›´æ”¹ã€‚ é¦–é¡µæ–‡ä»¶ä½ç½® &#x2F;layout&#x2F;indexs.md ï¼Œæ—¢ç„¶æ˜¯mdæ ¼å¼ï¼Œè¦æ€ä¹ˆå†™å¤§å®¶åº”è¯¥éƒ½ç†Ÿé—¨ç†Ÿè·¯äº†ï¼Œé˜¿æ°å°±ä¸èµ˜è¿°äº†ã€‚ å¦‚æœéœ€è¦ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼ä½¿ç”¨ï¼ˆä»¥ä¸‹å†…å®¹ä¸é™é¦–é¡µä½¿ç”¨ï¼‰ æ–‡ç« æ•°ç»Ÿè®¡&#x2F;å­—æ•°ç»Ÿè®¡åŠ å…¥å«æœ‰ class=&quot;article_number&quot;çš„htmlæ ‡ç­¾å¯æ˜¾ç¤ºæ–‡ç« æ•°é‡ã€‚åŠ å…¥å«æœ‰ class=&quot;site_word_count&quot;çš„htmlæ ‡ç­¾å¯æ˜¾ç¤ºç«™ç‚¹æ€»å­—æ•°ã€‚ &lt;!-- æˆ‘è¿™é‡Œæ˜¯å€Ÿç”¨äº†codeçš„æ ·å¼ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨codeæ ‡ç­¾ã€‚ è‡ªå®šä¹‰æ ·å¼ï¼Œå¯åŠ å…¥styleå±æ€§è®¾ç½®--&gt; &lt;code class=&quot;article_number&quot;&gt;&lt;/code&gt; &lt;code class=&quot;site_word_count&quot;&gt;&lt;/code&gt; ä¸Šé¢ä»£ç çš„æ•ˆæœï¼šæ–‡ç« ï¼šç¯‡ï¼›æ€»å­—æ•°ï¼šå­—ï¼› æµé‡ç»Ÿè®¡ æ—¥å¿—ï¼š 2017-03-18æ”¹åŠ¨ï¼Œç”±åŸæ¥çš„ id æ”¹ä¸ºç°åœ¨çš„ classï¼Œå¯åœ¨é¡µé¢æ·»åŠ å¤šä¸ªåŒç±»æ ‡ç­¾ åŠ å…¥å«æœ‰ class=&quot;site_uv&quot;çš„htmlæ ‡ç­¾å¯æ˜¾ç¤ºç«™ç‚¹è®¿é—®äººæ¬¡ã€‚åŠ å…¥å«æœ‰ class=&quot;site_pv&quot;çš„htmlæ ‡ç­¾å¯æ˜¾ç¤ºç«™ç‚¹è®¿é—®é‡ã€‚ &lt;!-- æˆ‘è¿™é‡Œæ˜¯å€Ÿç”¨äº†codeçš„æ ·å¼ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨codeæ ‡ç­¾ã€‚ è‡ªå®šä¹‰æ ·å¼ï¼Œå¯åŠ å…¥styleå±æ€§è®¾ç½®--&gt; &lt;code class=&quot;site_uv&quot;&gt;&lt;/code&gt; &lt;code class=&quot;site_pv&quot;&gt;&lt;/code&gt; ä¸Šé¢ä»£ç çš„æ•ˆæœï¼šè®¿é—®äººæ•°ï¼šäººï¼Œè®¿é—®é‡ï¼šæ¬¡ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"ä¸è’œå­é€‚é…pjax","slug":"ä¸è’œå­é€‚é…pjax","date":"2017-03-09T12:15:51.000Z","updated":"2024-07-05T11:10:22.412Z","comments":true,"path":"2017/03/09/busuanzi-pjax/","permalink":"http://yelog.org/2017/03/09/busuanzi-pjax/","excerpt":"","text":"ä¸è’œå­ä¸€èˆ¬é…ç½®åŠ å…¥è„šæœ¬ &lt;script async src=&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt; &lt;!--pvæ–¹å¼ --&gt; &lt;span id=&quot;busuanzi_container_site_pv&quot;&gt; æœ¬ç«™æ€»è®¿é—®é‡&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;æ¬¡ &lt;/span&gt; &lt;!--uvæ–¹å¼ --&gt; &lt;span id=&quot;busuanzi_container_site_uv&quot;&gt; æœ¬ç«™è®¿å®¢æ•°&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;äººæ¬¡ &lt;/span&gt; &lt;!--pvæ–¹å¼ --&gt; &lt;span id=&quot;busuanzi_container_page_pv&quot;&gt; æœ¬æ–‡æ€»é˜…è¯»é‡&lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;æ¬¡ &lt;/span&gt; åªå®‰è£…è„šæœ¬ï¼Œä¸å®‰è£…æ ‡ç­¾ä»£ç ï¼Œå³å¯å®ç°åªè®°æ•°ï¼Œä¸æ˜¾ç¤ºã€‚ é€‚é…pjaxæœ€è¿‘å¼€å‘3-hexoä¸»é¢˜ï¼Œç”±äºä¸»é¢˜ä½¿ç”¨çš„pjaxï¼Œå¼‚æ­¥åŠ è½½é¡µé¢æ—¶ä¸è’œå­ä¼šå‡ºç°åŠ è½½ä¸åˆ°å¤šè¯´jsçš„é—®é¢˜ã€‚åœ¨pjaxï¼šendåŠ è½½ä¸‹é¢jsä»£æ›¿æ ‡ç­¾å³å¯ $.getScript(&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;);","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"}]},{"title":"å¤šè¯´é€‚é…pjax","slug":"å¤šè¯´é€‚é…pjax","date":"2017-03-09T11:50:45.000Z","updated":"2024-07-05T11:10:22.355Z","comments":true,"path":"2017/03/09/duoshuo-pjax/","permalink":"http://yelog.org/2017/03/09/duoshuo-pjax/","excerpt":"","text":"æœ€è¿‘å¼€å‘3-hexoä¸»é¢˜ï¼Œç”±äºä¸»é¢˜ä½¿ç”¨çš„pjaxï¼Œå¼‚æ­¥åŠ è½½é¡µé¢æ—¶å¤šè¯´ä¼šå‡ºç°åŠ è½½ä¸åˆ°å¤šè¯´jsçš„é—®é¢˜ã€‚ å¤šè¯´åŠ è½½ä»£ç å¦‚ä¸‹ï¼š //åŠ è½½å¤šè¯´ function loadComment() &#123; duoshuoQuery = &#123;short_name: $(&quot;.theme_duoshuo_domain&quot;).val()&#125;; var d = document, s = d.createElement(&#39;script&#39;); s.src = &#39;https://static.duoshuo.com/embed.js?t=&#39;+new Date().getTime(); s.async = true; s.charset = &#39;UTF-8&#39;; (d.head || d.body).appendChild(s); &#125; å½“å±€éƒ¨åŠ è½½é¡µé¢æ—¶ï¼Œå°±ä¼šæ— æ³•åŠ è½½å¤šè¯´ã€‚éœ€è¦ç¼–å†™ä¸€ä¸ªjsæ–¹æ³•ï¼Œå‚è€ƒæ–‡æ¡£ï¼š(http://dev.duoshuo.com/docs/50b344447f32d30066000147) /** * pjaxåéœ€è¦å›è°ƒå‡½æ•°.åŠ è½½å¤šè¯´ */ function pajx_loadDuodsuo()&#123; if(typeof duoshuoQuery ==&quot;undefined&quot;)&#123; loadComment(); &#125; else &#123; var dus=$(&quot;.ds-thread&quot;); if($(dus).length==1)&#123; var el = document.createElement(&#39;div&#39;); el.setAttribute(&#39;data-thread-key&#39;,$(dus).attr(&quot;data-thread-key&quot;));//å¿…é€‰å‚æ•° el.setAttribute(&#39;data-url&#39;,$(dus).attr(&quot;data-url&quot;)); DUOSHUO.EmbedThread(el); $(dus).html(el); &#125; &#125; &#125; åœ¨pjax:endä¸­è°ƒç”¨æ­¤æ–¹æ³•å³å¯ã€‚","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"}]},{"title":"HexoåŠ å…¥å­—æ•°ç»Ÿè®¡WordCount","slug":"hexo-wordcount","date":"2017-03-09T08:57:10.000Z","updated":"2024-07-05T11:10:22.549Z","comments":true,"path":"2017/03/09/hexo-wordcount/","permalink":"http://yelog.org/2017/03/09/hexo-wordcount/","excerpt":"","text":"åªéœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ WordCount å®‰è£…$ npm i hexo-wordcount --save ä½¿ç”¨å•ç¯‡æ–‡ç« å­—æ•° &lt;%=wordcount(post.content) %&gt; æ‰€æœ‰æ–‡ç« çš„æ€»å­—æ•° &lt;%=totalcount(site) %&gt; æ—¥å¿—2017å¹´3æœˆ9æ—¥ï¼Œç»™3-hexoæ·»åŠ å­—æ•°ç»Ÿè®¡åŠŸèƒ½","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"å‰ç«¯é¡µé¢å¼€å‘è§„èŒƒ","slug":"font-develop-rule","date":"2017-03-08T00:58:21.000Z","updated":"2024-07-05T11:10:22.407Z","comments":true,"path":"2017/03/08/font-develop-rule/","permalink":"http://yelog.org/2017/03/08/font-develop-rule/","excerpt":"","text":"ä¸€ã€å‰è¨€éšç€å¼€å‘äººå‘˜çš„ä¸æ–­å¢åŠ ï¼Œåœ¨æ²¡æœ‰è§„èŒƒçš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå¯¼è‡´å¼€å‘çš„é¡µé¢ä¸ç»Ÿä¸€ï¼Œä¸åƒæ˜¯ä¸€ä¸ªç³»ç»Ÿã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æœ‰äº†æ­¤è§„èŒƒçš„å‡ºç°ï¼Œå½“ç„¶ä¸ºäº†ä¸å½±å“å„ä¸ªåŠŸèƒ½çš„çµæ´»æ€§ï¼Œæ­¤è§„èŒƒè¦æ±‚ä¸é«˜ï¼Œ è¯·è€å¿ƒé˜…è¯»ï¼Œå¹¶åº”ç”¨åˆ°æ—¥å¸¸å¼€å‘ä¸­ã€‚ å½“ç„¶ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„å»ºè®®ï¼Œå¯ä»¥é€šè¿‡é‚®ä»¶è”ç³» &#x79;&#x61;&#110;&#x67;&#x79;&#x6a;&#x31;&#51;&#64;&#x6c;&#x65;&#110;&#111;&#118;&#111;&#46;&#x63;&#111;&#x6d;ï¼Œè¿›è¡Œæ²Ÿé€šæ¥å®Œå–„æ­¤ç¯‡è§„èŒƒã€‚ äºŒã€ç¼–ç¨‹è§„èŒƒ2.1 å‘½åè§„èŒƒ2.1.1 æ–‡ä»¶å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œä»¥æ¨ªæ åˆ†å‰²ã€‚ æ­£ä¾‹: resource.vueã€user-info.vue åä¾‹: basic_data.vueã€EventLog.vue 2.1.2 ç›®å½•å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œä»¥æ¨ªæ åˆ†å‰²ã€‚ æ­£ä¾‹: systemã€ship-support åä¾‹: errorPageã€Components 2.1.3 JSã€CSSã€SCSSã€HTMLã€PNGæ–‡ä»¶å‘½åå…¨éƒ¨é‡‡ç”¨å°å†™æ–¹å¼ï¼Œä»¥æ¨ªæ åˆ†å‰²ã€‚ æ­£ä¾‹: btn.scssã€element-ui.scssã€lenovo-logo.png åä¾‹: leftSearch.scssã€LeGrid.js 2.1.4 å‘½åè§„èŒƒæ€§ä»£ç ä¸­å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³å’Œè‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ã€‚è¯´æ˜: æ­£ç¡®çš„è‹±æ–‡æ‹¼å†™å’Œè¯­æ³•å¯ä»¥è®©é˜…è¯»è€…æ˜“äºç†è§£ï¼Œé¿å…æ­§ä¹‰ã€‚æ³¨æ„ï¼Œå³ä½¿çº¯æ‹¼éŸ³çš„å‘½åæ–¹å¼ä¹Ÿè¦é¿å…é‡‡ç”¨ã€‚ æ­£ä¾‹: loadingã€searchFormã€tableHeightã€dmsLoadingã€rmb ä¸“æœ‰åè¯ç¼©å†™ï¼Œè§†åŒè‹±æ–‡åä¾‹: getLiaoPanNameã€DMSLoading 2.2 æ’ä»¶ä½¿ç”¨2.2.1 eslint ä»£ç è§„èŒƒæ³¨æ„ï¼šå‰ç«¯çš„ä»£ç æ ¼å¼åŒ–å·²ç»åœ¨ eslint ä¸­å£°æ˜äº†ï¼Œæ‰€ä»¥ç¡®ä¿è‡ªå·±å·²ç»å¯ç”¨äº† eslintï¼Œå¹¶ä½¿ eslint è¿›è¡Œä»£ç æ ¼å¼åŒ–ã€‚ 2.2.2 i18n å›½é™…åŒ–æ‰€æœ‰å±•ç¤ºçš„å†…å®¹éƒ½è¦æ”¯æŒå›½é™…åŒ–ã€‚å›½é™…åŒ–å†…å®¹å†™åˆ° /src/lang/ ä¸‹çš„å¯¹åº”æ¨¡å—ï¼Œé€šè¿‡ this.$t(&#39;xx.xx.xx&#39;) æ¥ä½¿ç”¨ã€‚ è‹±æ–‡å›½é™…åŒ–çš„åˆ—æˆ–æ ‡ç­¾ï¼Œè¯·ä½¿ç”¨å¼€å¤´å­—æ¯å¤§å†™çš„æ–¹å¼ï¼Œå¦‚: UserIdã€Statusã€UserNameã€‚ 2.3 ç»„ä»¶ä½¿ç”¨2.3.1 table è¡¨æ ¼è¡¨æ ¼ç»„ä»¶æ¨èä½¿ç”¨ vxe-tableï¼ŒåŠŸèƒ½æ›´åŠ å…¨é¢ï¼Œä¹‹åä¹Ÿä¼šä¸»åŠ›ä¼˜åŒ–æ­¤è¡¨æ ¼ã€‚æ¯”å¦‚å¯ç¼–è¾‘è¡¨æ ¼çš„æ ·å¼ç»è¿‡ä¼˜åŒ–ï¼šå¯ç¼–è¾‘è¡¨æ ¼ 2.3.2 dialog å¼¹çª—å¼¹çª—ç»„ä»¶æ¨èä½¿ç”¨ vxe-modalï¼Œä»£ç è®¾è®¡æ›´åŠ åˆç†ï¼ŒåŠŸèƒ½ä¹Ÿæ›´åŠ å…¨é¢ã€‚ 2.3.2 element-uié™¤ table å’Œ modal å¤–ï¼Œå…¶ä»–ç»„ä»¶æ¯”å¦‚ formã€buttonã€DateTimePicker ä¼˜å…ˆä½¿ç”¨ element-ui ã€‚ 2.3.2.1 icon å›¾æ ‡å›¾æ ‡ä¼˜å…ˆä½¿ç”¨ element-ui çš„å›¾æ ‡ã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„ï¼Œå¯ä»¥åœ¨ iconfont ä¸Šå¯»æ‰¾åˆ°åˆé€‚çš„å›¾æ ‡åï¼Œæ‰¾ &#x79;&#97;&#x6e;&#103;&#x79;&#106;&#49;&#51;&#64;&#108;&#x65;&#110;&#x6f;&#x76;&#111;&#x2e;&#x63;&#111;&#x6d; è¿›è¡Œæ·»åŠ ã€‚ 2.3.2.2 button æŒ‰é’®æŒ‰é’®å¤§å°ï¼šé™¤äº†åœ¨è¡¨æ ¼ä¸­çš„æŒ‰é’®è¦ä½¿ç”¨ size=&quot;mini&quot; å¤–ï¼Œå…¶ä»–æƒ…å†µä½¿ç”¨é»˜è®¤å¤§å°å³å¯ã€‚ æŒ‰é’®é¢œè‰²ï¼šæ™®é€šçš„ æŸ¥è¯¢&#x2F;ä¿®æ”¹&#x2F;æ“ä½œ ç­‰æŒ‰é’®ä½¿ç”¨è“è‰² type=&quot;primary&quot;ï¼Œæ–°å¢ä½¿ç”¨ç»¿è‰² type=&quot;success&quot;ï¼Œåˆ é™¤ç­‰â€œå±é™©â€æ“ä½œä½¿ç”¨çº¢è‰² type=&quot;danger&quot;ã€‚æ¨èç»™æŒ‰é’®æ·»åŠ å›¾æ ‡ï¼Œå¯åœ¨ element-ui-icon å¯»æ‰¾åˆé€‚çš„å›¾æ ‡ã€‚ 2.3.3 å…¶ä»–ç»„ä»¶å¦‚æœä¸Šè¿°ç»„ä»¶å¹¶ä¸èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œå¯ä»¥ä¼˜å…ˆåœ¨ç½‘ä¸Šæ‰¾åˆ°åˆé€‚çš„ç»„ä»¶åï¼Œä¸ &#x79;&#x61;&#110;&#x67;&#x79;&#x6a;&#x31;&#x33;&#x40;&#x6c;&#101;&#110;&#x6f;&#x6f;&#118;&#46;&#x63;&#x6f;&#x6d; è”ç³»åæ·»åŠ ã€‚ 2.4 é¡µé¢å¸ƒå±€2.4.1 æ–°å¢&#x2F;ä¿®æ”¹è¡¨å•æ™®é€šçš„è¡¨å•ï¼Œé‡‡ç”¨ä¸­é—´å¯¹å…¶çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªè¡¨å•çš„ label-width è®¾ç½®ä¸ºä¸€æ ·çš„ã€‚ æ³¨æ„ï¼šä¸€èˆ¬çš„ï¼Œæ–°å¢ä¿®æ”¹ä½¿ç”¨å¼¹çª—çš„æ–¹å¼ï¼Œå±•ç¤ºè¡¨å•ã€‚æ–°å¢&#x2F;ä¿®æ”¹å¯ä»¥å…±ç”¨ä»£ç ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ common/system/va-config.vue &lt;el-form ref=&quot;dialogForm&quot; v-loading=&quot;edit.loading&quot; :model=&quot;edit.form&quot; :rules=&quot;edit.formRules&quot; label-width=&quot;150px&quot; style=&quot;padding-right: 30px;&quot; &gt; ... &lt;/el-form&gt; 2.4.2 æŸ¥è¯¢è¡¨å•+è¡¨æ ¼è¿™ç§åº”è¯¥æ˜¯æœ€é•¿é—´çš„éœ€æ±‚æ–¹æ¡ˆäº†ï¼Œå¯ä»¥å‚è€ƒ /common/system/user.vueï¼Œåœ¨å†™çš„æ—¶å€™æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š label-width ä¸è¦è®¾ç½®ï¼Œä¿è¯æ ‡ç­¾æ–‡å­—å¼€å¤´å’Œè¡¨æ ¼å¯¹é½ã€‚ el-form ä½¿ç”¨ :inline=&quot;true&quot; è®¾ç½®è¡¨å•å†…å®¹è¡Œå†…æ˜¾ç¤ºã€‚ è®¾ç½® vxe-table çš„ height å±æ€§ï¼Œä¿è¯è¡¨æ ¼åº•éƒ¨è´´ä½ç½‘é¡µåº•éƒ¨ï¼Œåˆä¸ä¼šæœ‰æ»šåŠ¨æ¡ï¼ˆè¡¨æ ¼å†…å…è®¸æœ‰æ»šåŠ¨æ¡ï¼‰ æŒ‰é’®ä¹Ÿæ”¾åˆ°è¡¨å•ä¸­ï¼Œä¸è¦å•ç‹¬ä¸€è¡Œã€‚ æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"translation","slug":"translation","permalink":"http://yelog.org/tags/translation/"}]},{"title":"[è¯‘]ç†è§£æµè§ˆå™¨å…³é”®æ¸²æŸ“è·¯å¾„","slug":"ç†è§£æµè§ˆå™¨å…³é”®æ¸²æŸ“è·¯å¾„-è¯‘","date":"2017-03-08T00:58:21.000Z","updated":"2024-07-05T11:10:22.373Z","comments":true,"path":"2017/03/08/understanding-the-critical-rendering-path/","permalink":"http://yelog.org/2017/03/08/understanding-the-critical-rendering-path/","excerpt":"","text":"å½“ä¸€ä¸ªæµè§ˆå™¨æ¥æ”¶åˆ°ä»æœåŠ¡å™¨å‘æ¥çš„htmlé¡µé¢ï¼Œåœ¨æ¸²æŸ“å¹¶å‘ˆç°åˆ°å±å¹•ä¸Šä¹‹å‰ï¼Œæœ‰å¾ˆå¤šæ­¥éª¤è¦åšã€‚æµè§ˆå™¨æ¸²æŸ“é¡µé¢éœ€è¦åšçš„ä¸€ç³»åˆ—è¡Œä¸ºè¢«ç§°ä½œâ€œå…³é”®æ¸²æŸ“è·¯å¾„ï¼ˆCritical Rendering Path ç®€ç§°CRPï¼‰â€ã€‚ CRP çš„çŸ¥è¯†å¯¹äºå¦‚ä½•æå‡ç½‘ç«™æ€§èƒ½æ˜¯ç›¸å½“æœ‰ç”¨çš„ã€‚CRPæœ‰6ä¸ªæ­¥éª¤ï¼š æ„å»ºDOMæ ‘ æ„å»ºCSSOMæ ‘ è¿è¡ŒJavaScript åˆ›å»ºæ¸²æŸ“æ ‘ ç”Ÿæˆå¸ƒå±€ ç»˜åˆ¶é¡µé¢ æ„å»ºDOMæ ‘DOMï¼ˆDocument Object Modelï¼‰æ ‘æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ•´ä¸ªè§£æè¿‡çš„HTMLé¡µé¢çš„å¯¹è±¡ï¼Œä»æ ¹èŠ‚ç‚¹&lt;html&gt;å¼€å§‹ï¼Œä¼šåˆ›å»ºé¡µé¢ä¸­çš„æ¯ä¸ª å…ƒç´ &#x2F;æ–‡æœ¬ èŠ‚ç‚¹ã€‚åµŒå¥—åœ¨å…¶ä»–å…ƒç´ ä¸­çš„å…ƒç´ ä½œä¸ºå­—èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«äº†å…¶æ‰€æœ‰çš„å…ƒç´ å±æ€§ï¼Œä¾‹å¦‚ï¼š ä¸€ä¸ª&lt;a&gt;èŠ‚ç‚¹å°†æœ‰ href å±æ€§ä¸å…¶å…³è”ã€‚ ä¸¾ä¸ªä¾‹å­ &lt;html&gt; &lt;head&gt; &lt;title&gt;Understanding the Critical Rendering Path&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;header&gt; &lt;h1&gt;Understanding the Critical Rendering Path&lt;/h1&gt; &lt;/header&gt; &lt;main&gt; &lt;h2&gt;Introduction&lt;/h2&gt; &lt;p&gt;Lorem ipsum dolor sit amet&lt;/p&gt; &lt;/main&gt; &lt;footer&gt; &lt;small&gt;Copyright 2017&lt;/small&gt; &lt;/footer&gt; &lt;/body&gt; &lt;/html&gt; ä¸Šé¢çš„ HTML å°†ä¼šè¢«è§£ææˆä¸‹é¢çš„DOMæ ‘HTMLçš„ä¼˜ç‚¹åœ¨äºå®ƒä¸å¿…ç­‰å¾…æ•´ä¸ªé¡µé¢åŠ è½½å®Œæˆæ‰å‘ˆç°é¡µé¢ï¼Œå¯ä»¥è§£æä¸€éƒ¨åˆ†ï¼Œæ˜¾ç¤ºä¸€éƒ¨åˆ†ã€‚ä½†æ˜¯åƒCSSã€JavaScriptç­‰å…¶ä»–èµ„æºä¼šé˜»æ­¢é¡µé¢æ¸²æŸ“ã€‚ æ„å»ºCSSOMæ ‘CSSOMï¼ˆCSS Object Modelï¼‰ æ˜¯ä¸€ä¸ªè·ŸDOMç›¸å…³çš„æ ·å¼å¯¹è±¡ã€‚å®ƒè·ŸDOMçš„è¡¨ç¤ºæ–¹æ³•æ˜¯ç›¸ä¼¼çš„ï¼Œä½†æ˜¯ä¸è®ºæ˜¾å¼å£°æ˜è¿˜æ˜¯éšå¼ç»§æ‰¿ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜åœ¨å…³è”æ ·å¼ã€‚ In the style.css file from the document mentioned above, we have the folowing stylesåœ¨ä¸Šé¢æåˆ°çš„htmlé¡µé¢çš„style.cssä¸­çš„æ ·å¼å¦‚ä¸‹ body &#123; font-size: 18px; &#125; header &#123; color: plum; &#125; h1 &#123; font-size: 28px; &#125; main &#123; color: firebrick; &#125; h2 &#123; font-size: 20px; &#125; footer &#123; display: none; &#125; å®ƒä¼šè¢«æ„å»ºæˆä¸‹é¢çš„CSSOMæ ‘CSS è¢«è®¤ä¸ºæ˜¯ â€œæ¸²æŸ“é˜»å¡èµ„æºâ€ï¼Œå®ƒæ„å‘³ç€å¦‚æœä¸é¦–å…ˆå®Œå…¨è§£æèµ„æºï¼Œæ¸²æŸ“æ ‘æ˜¯æ— æ³•æ„å»ºçš„ã€‚CSSç”±äºå®ƒçš„å±‚å ç»§æ‰¿çš„æ€§è´¨ï¼Œä¸èƒ½åƒHTMLä¸€æ ·è§£æä¸€éƒ¨åˆ†ï¼Œæ˜¾ç¤ºä¸€éƒ¨åˆ†ã€‚å®šä¹‰åœ¨æ–‡æ¡£åé¢çš„æ ·å¼ä¼šè¦†ç›–æˆ–æ”¹å†™ä¹‹å‰å®šä¹‰çš„æ ·å¼ï¼Œå› ä¸ºåœ¨æ•´ä¸ªæ ·å¼è¡¨éƒ½è¢«è§£æä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†åœ¨æ ·å¼è¡¨ä¸­è¾ƒæ—©å®šä¹‰çš„æ ·å¼ï¼Œé‚£é”™è¯¯çš„æ ·å¼å°†è¢«åº”ç”¨ã€‚è¿™æ„å‘³ç€CSSå¿…é¡»è¢«å…¨éƒ¨è§£æä¹‹åï¼Œæ‰èƒ½å¼€å§‹ä¸‹ä¸€æ­¥ã€‚ å¦‚æœCSSæ–‡ä»¶é€‚ç”¨äºå½“å‰è®¾å¤‡çš„è¯ï¼Œä»…ä»…åªæ˜¯ä¼šé˜»å¡æ¸²æŸ“ã€‚&lt;link rel=&quot;stylesheet&quot;&gt;æ ‡ç­¾å¯ä»¥ä½¿ç”¨mediaå±æ€§ï¼Œç”¨æ¥æŒ‡å®šç‰¹å®šæ ·å¼å®½åº¦çš„ç‰¹å®šåª’ä½“æŸ¥è¯¢ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«åª’ä½“å±æ€§orientation:landscapeçš„æ ·å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨çºµå‘æ¨¡å¼ï¼ˆportrait modeï¼‰æŸ¥çœ‹é¡µé¢ï¼Œè¿™ä¸ªèµ„æºå°†ä¸ä¼šé˜»å¡æ¸²æŸ“ã€‚ CSS ä¹Ÿä¼šå¯¼è‡´è„šæœ¬é˜»å¡ã€‚è¿™æ˜¯å› ä¸ºJavaScriptæ–‡ä»¶å¿…é¡»ç­‰å¾…CSSOMè¢«æ„å»ºåæ‰èƒ½è¿è¡Œã€‚ è¿è¡ŒJavaScriptJavaScriptè¢«è®¤ä¸ºæ˜¯è§£æé˜»å¡èµ„æºï¼Œè¿™æ„å‘³ç€HTMLçš„è§£æä¼šè¢«JavaScripté˜»å¡ã€‚ å½“è§£æå™¨è§£æåˆ° &lt;script&gt; æ ‡ç­¾æ—¶ï¼Œæ— è®ºè¯¥èµ„æºæ˜¯å†…éƒ¨è¿˜æ˜¯å¤–é“¾çš„éƒ½ä¼šåœæ­¢è§£æï¼Œå…ˆå»ä¸‹è½½èµ„æºã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œå½“é¡µé¢å†…æœ‰å¼•ç”¨JavaScriptæ–‡ä»¶æ—¶ï¼Œå¼•ç”¨æ ‡ç­¾è¦æ”¾åˆ°å¯è§†å…ƒç´ ä¹‹åäº†ã€‚ ä¸ºé¿å…JavaScriptè§£æé˜»å¡ï¼Œå®ƒå¯ä»¥é€šè¿‡è®¾å®š async å±æ€§æ¥è¦æ±‚å…¶å¼‚æ­¥åŠ è½½ã€‚ &lt;script async src=&quot;script.js&quot;&gt; åˆ›å»ºæ¸²æŸ“æ ‘æ¸²æŸ“æ ‘æ˜¯DOMå’ŒCSSOMçš„ç»“åˆä½“ï¼Œå®ƒä»£è¡¨æœ€ç»ˆä¼šæ¸²æŸ“åœ¨é¡µé¢ä¸Šçš„å…ƒç´ çš„ç»“æ„å¯¹è±¡ã€‚è¿™æ„å‘³ç€å®ƒåªå…³æ³¨å¯è§å†…å®¹ï¼Œå¯¹äºè¢«éšè—æˆ–è€…CSSå±æ€§ display:none çš„å±æ€§ï¼Œä¸ä¼šè¢«åŒ…å«åœ¨ç»“æ„å†…ã€‚ ä½¿ç”¨ä¸Šé¢ä¾‹å­çš„DOMå’ŒCSSOMï¼Œæ¸²æŸ“æ ‘è¢«åˆ›å»ºå¦‚ä¸‹ï¼š ç”Ÿæˆå¸ƒå±€å¸ƒå±€å†³å®šäº†æµè§ˆå™¨è§†çª—çš„å¤§å°,å®ƒæä¾›äº†ä¸Šä¸‹æ–‡ä¾èµ–çš„CSSæ ·å¼ï¼Œå¦‚ç™¾åˆ†æ¯”æˆ–çª—å£çš„å•ä½ã€‚è§†çª—å°ºå¯¸é€šå¸¸é€šè¿‡ &lt;head&gt; æ ‡ç­¾ä¸­çš„ &lt;meta&gt; ä¸­çš„ viewport è®¾å®šæ¥å†³å®šã€‚å¦‚æœä¸å­˜åœ¨è¯¥æ ‡ç­¾ï¼Œåˆ™é€šå¸¸é»˜è®¤ä¸º 980px ä¾‹å¦‚ï¼Œæœ€å¸¸ç”¨çš„ meta veiwport çš„å€¼å°†ä¼šè¢«è®¾ç½®ä¸ºå’Œè®¾å¤‡å®½åº¦ç›¸ç¬¦ï¼š &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt; å¦‚æœç”¨æˆ·è®¿é—®ç½‘é¡µçš„è®¾å¤‡å®½åº¦ä¸º1000pxã€‚ç„¶åæ•´ä½“è§†çª—å°ºå¯¸å°±ä¼šåŸºäºè¿™ä¸ªå®½åº¦å€¼äº†ï¼Œæ¯”å¦‚ 50% å°±æ˜¯500px, 10vw å°±æ˜¯100px ç­‰ç­‰ã€‚ ç»˜åˆ¶é¡µé¢æœ€åï¼Œåœ¨ç»˜åˆ¶é¡µé¢æ­¥éª¤ã€‚é¡µé¢ä¸Šçš„æ‰€æœ‰å¯è§å†…å®¹éƒ½ä¼šè¢«è½¬æ¢ä¸ºåƒç´ å¹¶å‘ˆç°åœ¨å±å¹•ä¸Šã€‚ å…·ä½“çš„ç»˜åˆ¶æ—¶é—´è·ŸDOMæ•°ä»¥åŠåº”ç”¨çš„æ ·å¼æœ‰å…³ã€‚æœ‰äº›æ ·å¼ä¼šèŠ±è´¹æ›´å¤šçš„æ‰§è¡Œæ—¶é—´ï¼Œæ¯”å¦‚å¤æ‚çš„æ¸å˜èƒŒæ™¯å›¾ç‰‡æ‰€éœ€è¦çš„è®¡ç®—æ—¶é—´è¿œè¶…è¿‡ç®€å•å›ºå®šèƒŒæ™¯è‰²ã€‚ æ•´åˆæ‰€æœ‰æƒ³è¦çœ‹åˆ°å…³é”®æ¸²æŸ“è·¯å¾„çš„æ‰§è¡Œæµç¨‹ï¼Œå¯ä»¥ä½¿ç”¨DevToolsï¼Œåœ¨Chromeä¸­ï¼Œå®ƒæ˜¯æ ¹æ®æ—¶é—´è½´å±•ç¤ºçš„ã€‚ ä¸¾ä¸ªä¾‹å­, ä¸Šé¢çš„é¡µé¢åŠ å…¥&lt;script&gt;æ ‡ç­¾ &lt;html&gt; &lt;head&gt; &lt;title&gt;Understanding the Critical Rendering Path&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;header&gt; &lt;h1&gt;Understanding the Critical Rendering Path&lt;/h1&gt; &lt;/header&gt; &lt;main&gt; &lt;h2&gt;Introduction&lt;/h2&gt; &lt;p&gt;Lorem ipsum dolor sit amet&lt;/p&gt; &lt;/main&gt; &lt;footer&gt; &lt;small&gt;Copyright 2017&lt;/small&gt; &lt;/footer&gt; &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; å¯ä»¥çœ‹å…³äºé¡µé¢åŠ è½½æ—¶çš„äº‹ä»¶æ—¥å¿—ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»¬è·å¾—çš„ï¼š Send Request - å‘é€åˆ°index.htmlçš„GETè¯·æ±‚ Parse HTML and Send Request - å¼€å§‹è§£æHTMLå¹¶æ„å»ºDOMï¼Œç„¶åå‘é€ GET è¯·æ±‚style.csså’Œmain.js Parse Stylesheet - æ ¹æ® style.css åˆ›å»ºçš„CSSOM Evaluate Script - æ‰§è¡Œ main.js Layout - åŸºäºHTMLçš„å…ƒè§†çª—æ ‡ç­¾ï¼Œç”Ÿæˆå¸ƒå±€ Paint - ç»˜åˆ¶ç½‘é¡µåŸºäºè¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å¦‚ä½•ä¼˜åŒ–å…³é”®æ¸²æŸ“è·¯å¾„ã€‚ åŸæ–‡ï¼š Understanding the Critical Rendering Path","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"translation","slug":"translation","permalink":"http://yelog.org/tags/translation/"}]},{"title":"Hexoä¸»é¢˜3-hexo","slug":"3-hexo","date":"2017-03-07T03:15:50.000Z","updated":"2024-07-05T11:10:22.558Z","comments":true,"path":"2017/03/07/3-hexo/","permalink":"http://yelog.org/2017/03/07/3-hexo/","excerpt":"","text":"é˜®ä¸€å³°æ›¾è¨€ï¼šå–œæ¬¢å†™blogçš„äººï¼Œä¼šç»å†ä¸‰ä¸ªé˜¶æ®µ ç¬¬ä¸€é˜¶æ®µï¼Œåˆšæ¥è§¦Blogï¼Œè§‰å¾—å¾ˆæ–°é²œï¼Œè¯•ç€é€‰æ‹©ä¸€ä¸ªå…è´¹ç©ºé—´æ¥å†™ã€‚ç¬¬äºŒé˜¶æ®µï¼Œå‘ç°å…è´¹ç©ºé—´é™åˆ¶å¤ªå¤šï¼Œå°±è‡ªå·±è´­ä¹°åŸŸåå’Œç©ºé—´ï¼Œæ­å»ºç‹¬ç«‹åšå®¢ã€‚ç¬¬ä¸‰é˜¶æ®µï¼Œè§‰å¾—ç‹¬ç«‹åšå®¢çš„ç®¡ç†å¤ªéº»çƒ¦ï¼Œæœ€å¥½åœ¨ä¿ç•™æ§åˆ¶æƒçš„å‰æä¸‹ï¼Œè®©åˆ«äººæ¥ç®¡ï¼Œè‡ªå·±åªè´Ÿè´£å†™æ–‡ç« ã€‚ æœ‰å¯¹æ­å»ºä¸ªäººblogæœ‰å…´è¶£çš„æœ‹å‹ï¼Œå¯ä»¥ç¿»çœ‹æˆ‘å¾€æœŸæ–‡ç« ã€‚ ç¬”è€…ä»å»å¹´å¼€å§‹é€šè¿‡hexoå†™blogï¼Œä½¿ç”¨äº†yiliaä¸»é¢˜ï¼Œä½†æ˜¯éšç€æ–‡ç« æ•°é‡çš„ä¸Šå‡ï¼Œæ£€ç´¢ç­‰æ“ä½œå°±æ˜¾å¾—ç‰¹åˆ«ç¬¨é‡ã€‚ åœ¨éå¯»æ— æœçš„æƒ…å†µä¸‹ï¼Œå°±å†™ä¸‹äº†3-hexoä¸»é¢˜ã€‚Demo:http://yelog.org å¤šå›¾é¢„è­¦ â†“â†“â†“ è®¾è®¡æ€è·¯æ•´ä½“è®¾è®¡ä¸‰æ®µå¼è®¾è®¡: é€šè¿‡åˆ†ç±»è¿‡æ»¤ é€šè¿‡æ ‡é¢˜å…³é”®å­—æœç´¢ é€šè¿‡ä½œè€…æœç´¢è‹¥å¼€å¯äº†å¤šä½œè€…æ¨¡å¼ï¼Œåˆ™å¯ä»¥é€šè¿‡è¾“å…¥@ï¼Œè¿›è¡Œä½œè€…æœç´¢ï¼Œå¦‚ä¸‹æ‰€ç¤º é€šè¿‡æ ‡ç­¾æœç´¢è¾“å…¥#ï¼Œå°±ä¼šå‡ºç°æ ‡ç­¾æç¤º è¯„è®ºåŠŸèƒ½ æ‰“èµåŠŸèƒ½ æ–‡ç« ç½®é¡¶ è¿”å›å¤´éƒ¨ ä½¿ç”¨1.å®‰è£…$ git clone https://github.com/yelog/hexo-theme-3-hexo.git themes/3-hexo 2.é…ç½®1ï¼‰ ä¿®æ”¹hexoæ ¹ç›®å½•çš„_config.ymlçš„ä¸¤å¤„ï¼Œå¦‚ä¸‹ theme: 3-hexo highlight: enable: false #å…³é—­hexoæ¸²æŸ“é«˜äº®ï¼Œä½¿ç”¨ä¸»é¢˜ä»£ç å—é«˜äº® 2ï¼‰ åœ¨hexo æ ¹ç›®å½•sourceä¸‹æ·»åŠ avatar.jpgæ–‡ä»¶ï¼Œä½œä¸ºå¤´åƒ å®‰è£…å­—æ•°ç»Ÿè®¡(ç”±äºä¸»é¢˜ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œå¿…é¡»å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™) $ $ npm i --save hexo-wordcount æ³¨æ„ï¼š å¦‚æœæ²¡æœ‰å®‰è£…ä¼šåœ¨ hexo g çš„æ—¶å€™æŠ¥é”™ 3.æ›´æ–°$ cd themes/3-hexo $ git pull","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"Vimå‘½ä»¤é€ŸæŸ¥è¡¨","slug":"Vimå‘½ä»¤é€ŸæŸ¥è¡¨","date":"2017-03-06T03:23:36.000Z","updated":"2024-07-05T11:10:22.174Z","comments":true,"path":"2017/03/06/Vim-command/","permalink":"http://yelog.org/2017/03/06/Vim-command/","excerpt":"","text":"å»å¹´ä¸ŠåŠå¹´å¼€å§‹å…¨é¢ä½¿ç”¨linuxè¿›è¡Œå¼€å‘å’Œå¨±ä¹äº†ï¼Œç°åœ¨å·²ç»å›ä¸å»windowsäº†ã€‚ è¯å½’æ­£ä¼ ï¼Œåœ¨linuxä¸Šä¸€ç›´ä½¿ç”¨vimï¼Œæ…¢æ…¢ç†Ÿæ‚‰äº†å®ƒçš„å‘½ä»¤ï¼Œæ‰ç»ˆäºé¢†æ‚Ÿäº†ä»€ä¹ˆæ˜¯ç¼–è¾‘å™¨ä¹‹ç¥ã€‚ æœ€è¿‘æŠ½ç©ºæ•´ç†äº†è¿™ä»½é€ŸæŸ¥è¡¨ï¼Œæ”¶è·é¢‡ä¸°ï¼Œå¹¶åˆ†äº«ç»™å¤§å®¶ã€‚ è¿›å…¥vim å‘½ä»¤ æè¿° vim filename æ‰“å¼€æˆ–æ–°å»ºæ–‡ä»¶,å¹¶å°†å…‰æ ‡ç½®äºç¬¬ä¸€è¡Œé¦– vim +n filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºç¬¬nè¡Œé¦– vim + filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºæœ€åä¸€è¡Œé¦– vim +&#x2F;pattern filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºç¬¬ä¸€ä¸ªä¸patternåŒ¹é…çš„ä¸²å¤„ vim -r filename åœ¨ä¸Šæ¬¡æ­£ç”¨vimç¼–è¾‘æ—¶å‘ç”Ÿç³»ç»Ÿå´©æºƒï¼Œæ¢å¤filename vim filenameâ€¦.filename æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œä¾æ¬¡ç¼–è¾‘ vimé…ç½® å‘½ä»¤ æè¿° all åˆ—å‡ºæ‰€æœ‰é€‰é¡¹è®¾ç½®æƒ…å†µ term è®¾ç½®ç»ˆç«¯ç±»å‹ ignorance åœ¨æœç´¢ä¸­å¿½ç•¥å¤§å°å†™ list æ˜¾ç¤ºåˆ¶è¡¨ä½(Ctrl+I)å’Œè¡Œå°¾æ ‡å¿—ï¼ˆ$) number æ˜¾ç¤ºè¡Œå· report æ˜¾ç¤ºç”±é¢å‘è¡Œçš„å‘½ä»¤ä¿®æ”¹è¿‡çš„æ•°ç›® terse æ˜¾ç¤ºç®€çŸ­çš„è­¦å‘Šä¿¡æ¯ warn åœ¨è½¬åˆ°åˆ«çš„æ–‡ä»¶æ—¶è‹¥æ²¡ä¿å­˜å½“å‰æ–‡ä»¶åˆ™æ˜¾ç¤ºNO writeä¿¡æ¯ nomagic å…è®¸åœ¨æœç´¢æ¨¡å¼ä¸­ï¼Œä½¿ç”¨å‰é¢ä¸å¸¦â€œ\\â€çš„ç‰¹æ®Šå­—ç¬¦ nowrapscan ç¦æ­¢viåœ¨æœç´¢åˆ°è¾¾æ–‡ä»¶ä¸¤ç«¯æ—¶ï¼Œåˆä»å¦ä¸€ç«¯å¼€å§‹ mesg å…è®¸viæ˜¾ç¤ºå…¶ä»–ç”¨æˆ·ç”¨writeå†™åˆ°è‡ªå·±ç»ˆç«¯ä¸Šçš„ä¿¡æ¯ :set number &#x2F; set nonumber æ˜¾ç¤º&#x2F;ä¸æ˜¾ç¤ºè¡Œå· :set ruler &#x2F;set noruler æ˜¾ç¤º&#x2F;ä¸æ˜¾ç¤ºæ ‡å°º :set hlsearch é«˜äº®æ˜¾ç¤ºæŸ¥æ‰¾åˆ°çš„å•è¯ :set nohlsearch å…³é—­é«˜äº®æ˜¾ç¤º :syntax on è¯­æ³•é«˜äº® :set nu æ˜¾ç¤ºè¡Œå· :set ignorecase æœç´¢æ—¶å¿½ç•¥å¤§å°å†™ :set smartcase æœç´¢æ—¶åŒ¹é…å¤§å°å†™ :set ruler æ˜¾ç¤ºå…‰æ ‡ä½ç½®åæ ‡ :set hlsearch æœç´¢åŒ¹é…å…¨é«˜äº® :set tabstop&#x3D;8 è®¾ç½®tabå¤§å°,8ä¸ºæœ€å¸¸ç”¨æœ€æ™®éçš„è®¾ç½® :set softtabstop&#x3D;8 4:4ä¸ªç©ºæ ¼,8:æ­£å¸¸çš„åˆ¶è¡¨ç¬¦,12:ä¸€ä¸ªåˆ¶è¡¨ç¬¦4ä¸ªç©ºæ ¼,16:ä¸¤ä¸ªåˆ¶è¡¨ç¬¦ :set autoindent è‡ªåŠ¨ç¼©è¿› :set cindent Cè¯­è¨€æ ¼å¼é‡Œé¢çš„è‡ªåŠ¨ç¼©è¿› ç§»åŠ¨å…‰æ ‡ å‘½ä»¤ æè¿° k nk ä¸Š å‘ä¸Šç§»åŠ¨nè¡Œ j nj ä¸‹ å‘ä¸‹ç§»åŠ¨nè¡Œ h nh å·¦ å‘å·¦ç§»åŠ¨nè¡Œ l nl å³ å‘å³ç§»åŠ¨nè¡Œ Space å…‰æ ‡å³ç§»ä¸€ä¸ªå­—ç¬¦ Backspace å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—ç¬¦ Enter å…‰æ ‡ä¸‹ç§»ä¸€è¡Œ w&#x2F;W å…‰æ ‡å³ç§»ä¸€ä¸ªå­—è‡³å­—é¦– b&#x2F;B å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—è‡³å­—é¦– eæˆ–E å…‰æ ‡å³ç§»ä¸€ä¸ªå­—è‡³å­—å°¾ ) å…‰æ ‡ç§»è‡³å¥å°¾ ( å…‰æ ‡ç§»è‡³å¥é¦– } å…‰æ ‡ç§»è‡³æ®µè½å¼€å¤´ { å…‰æ ‡ç§»è‡³æ®µè½ç»“å°¾ n$ å…‰æ ‡ç§»è‡³ç¬¬nè¡Œå°¾ H å…‰æ ‡ç§»è‡³å±å¹•é¡¶è¡Œ M å…‰æ ‡ç§»è‡³å±å¹•ä¸­é—´è¡Œ L å…‰æ ‡ç§»è‡³å±å¹•æœ€åè¡Œ 0 ï¼ˆæ³¨æ„æ˜¯æ•°å­—é›¶ï¼‰å…‰æ ‡ç§»è‡³å½“å‰è¡Œé¦– ^ ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸Šå» $ å…‰æ ‡ç§»è‡³å½“å‰è¡Œå°¾ gg ç§»åˆ°ç¬¬ä¸€è¡Œ G ç§»åˆ°æœ€åä¸€è¡Œ f ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰è¡Œçš„å­—ç¬¦aä¸Š F ç›¸å % ç§»åŠ¨åˆ°ä¸åˆ¶åŒ¹é…çš„æ‹¬å·ä¸Šå»ï¼ˆï¼‰ï¼Œ{}ï¼Œ[]ï¼Œ&lt;&gt;ç­‰ nG ç§»åŠ¨åˆ°ç¬¬nè¡Œä¸Š G åˆ°æœ€åä¸€è¡Œ å±å¹•æ»šåŠ¨ å‘½ä»¤ æè¿° Ctrl+e å‘æ–‡ä»¶é¦–ç¿»ä¸€è¡Œ Ctrl+y å‘æ–‡ä»¶å°¾ç¿»ä¸€è¡Œ Ctrl+u å‘æ–‡ä»¶é¦–ç¿»åŠå± Ctrl+d å‘æ–‡ä»¶å°¾ç¿»åŠå± Ctrl+f å‘æ–‡ä»¶å°¾ç¿»ä¸€å± Ctrl+b å‘æ–‡ä»¶é¦–ç¿»ä¸€å± nz å°†ç¬¬nè¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ï¼Œä¸æŒ‡å®šnæ—¶å°†å½“å‰è¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ æ’å…¥æ–‡æœ¬ç±» å‘½ä»¤ æè¿° i åœ¨å…‰æ ‡å‰ I åœ¨å½“å‰è¡Œé¦– a å…‰æ ‡å A åœ¨å½“å‰è¡Œå°¾ o åœ¨å½“å‰è¡Œä¹‹ä¸‹æ–°å¼€ä¸€è¡Œ O åœ¨å½“å‰è¡Œä¹‹ä¸Šæ–°å¼€ä¸€è¡Œ r æ›¿æ¢å½“å‰å­—ç¬¦ R æ›¿æ¢å½“å‰å­—ç¬¦åŠå…¶åçš„å­—ç¬¦ï¼Œç›´è‡³æŒ‰ESCé”® s ä»å½“å‰å…‰æ ‡ä½ç½®å¤„å¼€å§‹ï¼Œä»¥è¾“å…¥çš„æ–‡æœ¬æ›¿ä»£æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ S åˆ é™¤æŒ‡å®šæ•°ç›®çš„è¡Œï¼Œå¹¶ä»¥æ‰€è¾“å…¥æ–‡æœ¬ä»£æ›¿ä¹‹ ncw&#x2F;nCW ä¿®æ”¹æŒ‡å®šæ•°ç›®çš„å­— nCC ä¿®æ”¹æŒ‡å®šæ•°ç›®çš„è¡Œ åˆ é™¤å‘½ä»¤ å‘½ä»¤ æè¿° x&#x2F;X åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼Œxåˆ é™¤å…‰æ ‡åçš„ï¼Œè€ŒXåˆ é™¤å…‰æ ‡å‰çš„ dw åˆ é™¤ä¸€ä¸ªå•è¯(åˆ é™¤å…‰æ ‡ä½ç½®åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å§‹çš„ä½ç½®) dnw åˆ é™¤nä¸ªå•è¯ dne ä¹Ÿå¯ï¼Œåªæ˜¯åˆ é™¤åˆ°å•è¯å°¾ do åˆ è‡³è¡Œé¦– d$ åˆ è‡³è¡Œå°¾ dd åˆ é™¤ä¸€è¡Œ ndd åˆ é™¤å½“å‰è¡ŒåŠå…¶ån-1è¡Œ dnl å‘å³åˆ é™¤nä¸ªå­—æ¯ dnh å‘å·¦åˆ é™¤nä¸ªå­—æ¯ dnj å‘ä¸‹åˆ é™¤nè¡Œ,å½“å‰è¡Œ+å…¶ä¸Šnè¡Œ dnk å‘ä¸Šåˆ é™¤nè¡Œ,å½“æœŸè¡Œ+å…¶ä¸‹nè¡Œ cnw[word] å°†nä¸ªwordæ”¹å˜ä¸ºword C$ æ”¹å˜åˆ°è¡Œå°¾ cc æ”¹å˜æ•´è¡Œ shift+j åˆ é™¤è¡Œå°¾çš„æ¢è¡Œç¬¦ï¼Œä¸‹ä¸€è¡Œæ¥ä¸Šæ¥äº† å¤åˆ¶ç²˜è´´ å‘½ä»¤ æè¿° p ç²˜è´´ç”¨xæˆ–dåˆ é™¤çš„æ–‡æœ¬ ynw å¤åˆ¶nä¸ªå•è¯ yy å¤åˆ¶ä¸€è¡Œ ynl å¤åˆ¶nä¸ªå­—ç¬¦ y$ å¤åˆ¶å½“å‰å…‰æ ‡è‡³è¡Œå°¾å¤„ nyy æ‹·è´nè¡Œ æ’¤é”€ å‘½ä»¤ æè¿° u æ’¤é”€å‰ä¸€æ¬¡çš„æ“ä½œ shif+u(U) æ’¤é”€å¯¹è¯¥è¡Œçš„æ‰€æœ‰æ“ä½œ æœç´¢åŠæ›¿æ¢ å‘½ä»¤ æè¿° &#x2F;pattern ä»å…‰æ ‡å¼€å§‹å¤„å‘æ–‡ä»¶å°¾æœç´¢pattern ?pattern ä»å…‰æ ‡å¼€å§‹å¤„å‘æ–‡ä»¶é¦–æœç´¢pattern n åœ¨åŒä¸€æ–¹å‘é‡å¤ä¸Šä¸€æ¬¡æœç´¢å‘½ä»¤ N åœ¨åæ–¹å‘ä¸Šé‡å¤ä¸Šä¸€æ¬¡æœç´¢å‘½ä»¤ cw newword æ›¿æ¢ä¸ºnewword n ç»§ç»­æŸ¥æ‰¾ . æ‰§è¡Œæ›¿æ¢ :s&#x2F;p1&#x2F;p2&#x2F;g å°†å½“å‰è¡Œä¸­æ‰€æœ‰p1å‡ç”¨p2æ›¿ä»£,gè¡¨ç¤ºæ‰§è¡Œ ç”¨cè¡¨ç¤ºéœ€è¦ç¡®è®¤ :n1,n2 s&#x2F;p1&#x2F;p2&#x2F;g å°†ç¬¬n1è‡³n2è¡Œä¸­æ‰€æœ‰p1å‡ç”¨p2æ›¿ä»£ :g&#x2F;p1&#x2F;s&#x2F;&#x2F;p2&#x2F;g å°†æ–‡ä»¶ä¸­æ‰€æœ‰p1å‡ç”¨p2æ›¿æ¢ :1,$ s&#x2F;string1&#x2F;string2&#x2F;g åœ¨å…¨æ–‡ä¸­å°†string1æ›¿æ¢ä¸ºstring2 ä¹¦ç­¾ å‘½ä»¤ æè¿° m[a-z] åœ¨æ–‡ä¸­åšæ ‡è®°ï¼Œæ ‡è®°å·å¯ä¸ºa-zçš„26ä¸ªå­—æ¯ &#96;a ç§»åŠ¨åˆ°æ ‡è®°aå¤„ visualæ¨¡å¼ å‘½ä»¤ æè¿° v è¿›å…¥visual æ¨¡å¼ V è¿›å…¥è¡Œçš„visual æ¨¡å¼ ctrl+v è¿›å¦‚å—æ“ä½œæ¨¡å¼ç”¨oå’ŒOæ”¹å˜é€‰æ‹©çš„è¾¹çš„å¤§å° åœ¨æ‰€æœ‰è¡Œæ’å…¥ç›¸åŒçš„å†…å®¹å¦‚include&lt; å°†å…‰æ ‡ç§»åˆ°å¼€å§‹æ’å…¥çš„ä½ç½®ï¼ŒæŒ‰CTRL+Vè¿›å…¥VISUALæ¨¡å¼ï¼Œé€‰æ‹©å¥½æ¨¡å—åæŒ‰Iï¼ˆshift+i)ï¼Œåæ’å…¥è¦æ’å…¥çš„æ–‡æœ¬ï¼ŒæŒ‰[ESC]å®Œæˆ è¡Œæ–¹å¼å‘½ä»¤ å‘½ä»¤ æè¿° :n1,n2 co n3 å°†n1è¡Œåˆ°n2è¡Œä¹‹é—´çš„å†…å®¹æ‹·è´åˆ°ç¬¬n3è¡Œä¸‹ :n1,n2 m n3 å°†n1è¡Œåˆ°n2è¡Œä¹‹é—´çš„å†…å®¹ç§»è‡³åˆ°ç¬¬n3è¡Œä¸‹ :n1,n2 d å°†n1è¡Œåˆ°n2è¡Œä¹‹é—´çš„å†…å®¹åˆ é™¤ :n1,n2 w!command å°†æ–‡ä»¶ä¸­n1è¡Œè‡³n2è¡Œçš„å†…å®¹ä½œä¸ºcommandçš„è¾“å…¥å¹¶æ‰§è¡Œä¹‹è‹¥ä¸æŒ‡å®šn1ï¼Œn2ï¼Œåˆ™è¡¨ç¤ºå°†æ•´ä¸ªæ–‡ä»¶å†…å®¹ä½œä¸ºcommandçš„è¾“å…¥ å® å‘½ä»¤ æè¿° q[a-z] å¼€å§‹è®°å½•ä½†å‰å¼€å§‹çš„æ“ä½œä¸ºå®ï¼Œåç§°å¯ä¸ºã€a-zã€‘ï¼Œç„¶åç”¨qç»ˆæ­¢å½•åˆ¶å® reg æ˜¾ç¤ºå½“å‰å®šä¹‰çš„æ‰€æœ‰çš„å®ï¼Œç”¨@[a-z]æ¥åœ¨å½“å‰å…‰æ ‡å¤„æ‰§è¡Œå®[a-z] çª—å£æ“ä½œ å‘½ä»¤ æè¿° :split åˆ†å‰²ä¸€ä¸ªçª—å£ :split file.c ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶file.cåˆ†éš”çª—å£ :nsplit file.c ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶file.cåˆ†éš”çª—å£ï¼Œå¹¶æŒ‡å®šå…¶è¡Œæ•° ctrlï¼‹w åœ¨çª—å£ä¸­åˆ‡æ¢ :close å…³é—­å½“å‰çª—å£ æ–‡ä»¶åŠå…¶ä»– å‘½ä»¤ æè¿° :q é€€å‡ºvi :q! ä¸ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi :e filename æ‰“å¼€æ–‡ä»¶filenameè¿›è¡Œç¼–è¾‘ :e! æ”¾å¼ƒä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œé‡æ–°è½½å…¥è¯¥æ–‡ä»¶ç¼–è¾‘ :w ä¿å­˜å½“å‰æ–‡ä»¶ :wq å­˜ç›˜é€€å‡º :ZZ ä¿å­˜å½“å‰æ–‡æ¡£å¹¶é€€å‡ºVIM :!command æ‰§è¡Œshellå‘½ä»¤command :r!command å°†å‘½ä»¤commandçš„è¾“å‡ºç»“æœæ”¾åˆ°å½“å‰è¡Œ :n1,n2 write temp.c :read file.c å°†æ–‡ä»¶file.cçš„å†…å®¹æ’å…¥åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹é¢","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"vim","slug":"vim","permalink":"http://yelog.org/tags/vim/"}]},{"title":"å¦‚ä½•åœ¨linuxä¸­æ­å»ºftpæœåŠ¡","slug":"å¦‚ä½•åœ¨linuxä¸­æ­å»ºftpæœåŠ¡","date":"2017-03-06T00:47:48.000Z","updated":"2024-07-05T11:10:23.101Z","comments":true,"path":"2017/03/06/linux-ftp/","permalink":"http://yelog.org/2017/03/06/linux-ftp/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ FTPFTP æ˜¯æ–‡ä»¶ä¼ è¾“åè®®File Transfer Protocolçš„ç¼©å†™ã€‚é¡¾åæ€ä¹‰ï¼ŒFTPç”¨äºè®¡ç®—æœºä¹‹é—´é€šè¿‡ç½‘ç»œè¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚ä½ å¯ä»¥é€šè¿‡FTPåœ¨è®¡ç®—æœºè´¦æˆ·é—´è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼Œä¹Ÿå¯ä»¥åœ¨è´¦æˆ·å’Œæ¡Œé¢è®¡ç®—æœºä¹‹é—´ä¼ è¾“æ–‡ä»¶ï¼Œæˆ–è€…è®¿é—®åœ¨çº¿è½¯ä»¶å½’æ¡£ã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¤šæ•°çš„FTPç«™ç‚¹çš„ä½¿ç”¨ç‡éå¸¸é«˜ï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡é‡è¿æ‰èƒ½è¿æ¥ä¸Šã€‚ FTPåœ°å€å’ŒHTTPåœ°å€ï¼ˆå³ç½‘é¡µåœ°å€ï¼‰éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯FTPåœ°å€ä½¿ç”¨ ftp://å‰ç¼€è€Œä¸æ˜¯http:// FTP æœåŠ¡å™¨æ˜¯ä»€ä¹ˆé€šå¸¸ï¼Œæ‹¥æœ‰FTPåœ°å€çš„è®¡ç®—æœºæ˜¯ä¸“ç”¨äºæ¥æ”¶FTPè¿æ¥è¯·æ±‚çš„ã€‚ä¸€å°ä¸“ç”¨äºæ¥æ”¶FTPè¿æ¥è¯·æ±‚çš„è®¡ç®—æœºå³ä¸ºFTPæœåŠ¡å™¨æˆ–è€…FTPç«™ç‚¹ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å¼€å§‹ä¸€ä¸ªç‰¹åˆ«çš„å†’é™©ï¼Œæˆ‘ä»¬å°†ä¼šæ­å»ºä¸€ä¸ªFTPæœåŠ¡ç”¨äºå’Œå®¶äººã€æœ‹å‹è¿›è¡Œæ–‡ä»¶å…±äº«ã€‚åœ¨æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†ä»¥vsftpdä½œä¸ºftpæœåŠ¡ã€‚ VSFTPDæ˜¯ä¸€ä¸ªè‡ªç§°ä¸ºæœ€å®‰å…¨çš„FTPæœåŠ¡ç«¯è½¯ä»¶ã€‚äº‹å®ä¸ŠVSFTPDçš„å‰ä¸¤ä¸ªå­—æ¯è¡¨ç¤ºâ€œéå¸¸å®‰å…¨çš„very secureâ€ã€‚è¯¥è½¯ä»¶çš„æ„å»ºç»•å¼€äº†FTPåè®®çš„æ¼æ´ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œä½ åº”è¯¥çŸ¥é“è¿˜æœ‰æ›´å®‰å…¨çš„æ–¹æ³•è¿›è¡Œæ–‡ä»¶ç®¡ç†å’Œä¼ è¾“ï¼Œå¦‚ï¼šSFTPï¼ˆä½¿ç”¨OpenSSHï¼‰ã€‚FTPåè®®å¯¹äºå…±äº«éæ•æ„Ÿæ•°æ®æ˜¯éå¸¸æœ‰ç”¨å’Œå¯é çš„ã€‚ å®‰è£… VSFTP#ä½¿ç”¨ rpm å®‰è£… $ dnf -y install vsftpd #ä½¿ç”¨ deb å®‰è£… $ sudo apt-get install vsftpd #åœ¨ Arch ä¸­å®‰è£… $ sudo pacman -S vsftpd é…ç½® FTP æœåŠ¡å¤šæ•°çš„VSFTPDé…ç½®é¡¹éƒ½åœ¨&#x2F;etc&#x2F;vsftpd.confé…ç½®æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªæ–‡ä»¶æœ¬èº«å·²ç»æœ‰éå¸¸è‰¯å¥½çš„æ–‡æ¡£è¯´æ˜äº†ï¼Œå› æ­¤ï¼Œåœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘åªå¼ºè°ƒä¸€äº›ä½ å¯èƒ½è¿›è¡Œä¿®æ”¹çš„é‡è¦é€‰é¡¹ã€‚ä½¿ç”¨mané¡µé¢æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„é€‰é¡¹å’ŒåŸºæœ¬çš„ æ–‡æ¡£è¯´æ˜ï¼š $ man vsftpd.conf æ ¹æ®æ–‡ä»¶ç³»ç»Ÿå±‚çº§æ ‡å‡†ï¼ŒFTPå…±äº«æ–‡ä»¶é»˜è®¤ä½äº&#x2F;srv&#x2F;ftpç›®å½•ä¸­ã€‚å…è®¸ä¸Šä¼ ï¼šä¸ºäº†å…è®¸ftpç”¨æˆ·å¯ä»¥ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„å†…å®¹ï¼Œå¦‚ä¸Šä¼ æ–‡ä»¶ç­‰ï¼Œâ€œwrite_enableâ€æ ‡å¿—å¿…é¡»è®¾ç½®ä¸º YES write_enable=YES å…è®¸æœ¬åœ°ï¼ˆç³»ç»Ÿï¼‰ç”¨æˆ·ç™»å½•ï¼šä¸ºäº†å…è®¸æ–‡ä»¶&#x2F;etc&#x2F;passwdä¸­è®°å½•çš„ç”¨æˆ·å¯ä»¥ç™»å½•ftpæœåŠ¡ï¼Œâ€œlocal_enableâ€æ ‡è®°å¿…é¡»è®¾ç½®ä¸ºYESã€‚ local_enable=YES åŒ¿åç”¨æˆ·ç™»å½•ä¸‹é¢é…ç½®å†…å®¹æ§åˆ¶åŒ¿åç”¨æˆ·æ˜¯å¦å…è®¸ç™»å½•ï¼š # å…è®¸åŒ¿åç”¨æˆ·ç™»å½• anonymous_enable=YES # åŒ¿åç™»å½•ä¸éœ€è¦å¯†ç ï¼ˆå¯é€‰ï¼‰ no_anon_password=YES # åŒ¿åç™»å½•çš„æœ€å¤§ä¼ è¾“é€Ÿç‡ï¼ŒBytes/secondï¼ˆå¯é€‰ï¼‰ anon_max_rate=30000 # åŒ¿åç™»å½•çš„ç›®å½•ï¼ˆå¯é€‰ï¼‰ anon_root=/example/directory/ æ ¹ç›®å½•é™åˆ¶ï¼ˆChroot Jailï¼‰ï¼ˆ LCTT è¯‘æ³¨ï¼šchroot jailæ˜¯ç±»unixç³»ç»Ÿä¸­çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œç”¨äºä¿®æ”¹è¿›ç¨‹è¿è¡Œçš„æ ¹ç›®å½•ç¯å¢ƒï¼Œé™åˆ¶è¯¥çº¿ç¨‹ä¸èƒ½æ„ŸçŸ¥åˆ°å…¶æ ¹ç›®å½•æ ‘ä»¥å¤–çš„å…¶ä»–ç›®å½•ç»“æ„å’Œæ–‡ä»¶çš„å­˜åœ¨ã€‚è¯¦æƒ…å‚çœ‹chroot jailï¼‰ æœ‰æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®æ ¹ç›®å½•ï¼ˆchrootï¼‰ç¯å¢ƒæ¥ç¦æ­¢ç”¨æˆ·ç¦»å¼€ä»–ä»¬çš„å®¶ï¼ˆhomeï¼‰ç›®å½•ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ &#x2F;ä¿®æ”¹ä¸‹é¢é…ç½®å¼€å¯æ ¹ç›®å½•é™åˆ¶ï¼ˆChroot Jailï¼‰: chroot_list_enable=YES chroot_list_file=/etc/vsftpd.chroot_list â€œchroot_list_fileâ€å˜é‡æŒ‡å®šæ ¹ç›®å½•é™åˆ¶æ‰€åŒ…å«çš„æ–‡ä»¶&#x2F;ç›®å½•ï¼ˆ LCTT è¯‘æ³¨ï¼šå³ç”¨æˆ·åªèƒ½è®¿é—®è¿™äº›æ–‡ä»¶&#x2F;ç›®å½•ï¼‰ æœ€åä½ å¿…é¡»é‡å¯ftpæœåŠ¡ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š $ sudo systemctl restart vsftpd åˆ°æ­¤ä¸ºæ­¢ï¼Œä½ çš„ftpæœåŠ¡å·²ç»æ­å»ºå®Œæˆå¹¶ä¸”å¯åŠ¨äº†ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"ftp","slug":"ftp","permalink":"http://yelog.org/tags/ftp/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ57ï¼‰: sftp","slug":"linux-command-57-sftp","date":"2017-03-05T08:29:38.000Z","updated":"2024-07-05T11:10:22.992Z","comments":true,"path":"2017/03/05/linux-command-57-sftp/","permalink":"http://yelog.org/2017/03/05/linux-command-57-sftp/","excerpt":"","text":"sFTPï¼ˆå®‰å…¨æ–‡ä»¶ä¼ è¾“ç¨‹åºï¼‰æ˜¯ä¸€ç§å®‰å…¨çš„äº¤äº’å¼æ–‡ä»¶ä¼ è¾“ç¨‹åºï¼Œå…¶å·¥ä½œæ–¹å¼ä¸ FTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ç±»ä¼¼ã€‚ ç„¶è€Œï¼ŒsFTP æ¯” FTP æ›´å®‰å…¨ï¼›å®ƒé€šè¿‡åŠ å¯† SSH ä¼ è¾“å¤„ç†æ‰€æœ‰æ“ä½œã€‚ å®ƒå¯ä»¥é…ç½®ä½¿ç”¨å‡ ä¸ªæœ‰ç”¨çš„ SSH åŠŸèƒ½ï¼Œå¦‚å…¬é’¥è®¤è¯å’Œå‹ç¼©ã€‚ å®ƒè¿æ¥å¹¶ç™»å½•åˆ°æŒ‡å®šçš„è¿œç¨‹æœºå™¨ï¼Œç„¶ååˆ‡æ¢åˆ°äº¤äº’å¼å‘½ä»¤æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹ç”¨æˆ·å¯ä»¥æ‰§è¡Œå„ç§å‘½ä»¤ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨ sFTP ä¸Šä¼ &#x2F;ä¸‹è½½æ•´ä¸ªç›®å½•ï¼ˆåŒ…æ‹¬å…¶å­ç›®å½•å’Œå­æ–‡ä»¶ï¼‰ã€‚ How to useé»˜è®¤æƒ…å†µä¸‹ï¼ŒSFTP åè®®é‡‡ç”¨å’Œ SSH ä¼ è¾“åè®®ä¸€æ ·çš„æ–¹å¼å»ºç«‹åˆ°è¿œç¨‹æœåŠ¡å™¨çš„å®‰å…¨è¿æ¥ã€‚è™½ç„¶ï¼Œç”¨æˆ·éªŒè¯ä½¿ç”¨ç±»ä¼¼äº SSH é»˜è®¤è®¾ç½®çš„å¯†ç æ–¹å¼ï¼Œä½†æ˜¯ï¼Œå»ºè®®åˆ›å»ºå’Œä½¿ç”¨ SSH æ— å¯†ç ç™»å½•ï¼Œä»¥ç®€åŒ–å’Œæ›´å®‰å…¨åœ°è¿æ¥åˆ°è¿œç¨‹ä¸»æœºã€‚ è¦è¿æ¥åˆ°è¿œç¨‹ sftp æœåŠ¡å™¨ï¼Œå¦‚ä¸‹å»ºç«‹ä¸€ä¸ªå®‰å…¨ SSH è¿æ¥å¹¶åˆ›å»º SFTP ä¼šè¯ï¼š $ sftp root@server ç™»å½•åˆ°è¿œç¨‹ä¸»æœºåï¼Œä½ å¯ä»¥å¦‚ä¸‹è¿è¡Œäº¤äº’å¼çš„ sFTP å‘½ä»¤ï¼š sftp&gt; ls #åˆ—å‡ºæœåŠ¡å™¨æ–‡ä»¶åˆ—è¡¨ sftp&gt; lls #åˆ—å‡ºæœ¬åœ°æ–‡ä»¶åˆ—è¡¨ sftp&gt; pwd #å½“å‰æœåŠ¡å™¨ä¸Šè·¯å¾„ sftp&gt; lpwd #å½“å‰æœ¬åœ°è·¯å¾„ sftp&gt; cd img #åˆ‡æ¢æœåŠ¡å™¨è·¯å¾„ sftp&gt; lcd img #åˆ‡æ¢æœ¬åœ°è·¯å¾„ sftp&gt; mkdir img #åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç›®å½• sftp&gt; lmkdir img #åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç›®å½• ä¸Šä¼ æ–‡ä»¶sftp&gt; put readme.md #ä¸Šä¼ å•ä¸ªæ–‡ä»¶ sftp&gt; mput *.xls #ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ ä¸‹è½½æ–‡ä»¶sftp&gt; get readme.md #ä¸‹è½½å•ä¸ªæ–‡ä»¶ sftp&gt; mget *.xls #ä¸‹è½½å¤šä¸ªæ–‡ä»¶ ä¸Šä¼ æ–‡ä»¶å¤¹ä½¿ç”¨put -r .ä½†æ˜¯è¿œç¨‹æœåŠ¡å™¨è¦æå‰åˆ›å»ºä¸€ä¸ªç›¸åŒåç§°çš„ç›®å½•; -r é€’å½’å¤åˆ¶å­ç›®å½•å’Œå­æ–‡ä»¶ sftp&gt; mkdir img sftp&gt; put -r img è¦ä¿ç•™ä¿®æ”¹æ—¶é—´ã€è®¿é—®æ—¶é—´ä»¥åŠè¢«ä¼ è¾“çš„æ–‡ä»¶çš„æ¨¡å¼ï¼Œå¯ä½¿ç”¨ -p ã€‚ sftp&gt; put -pr img ä¸‹è½½æ–‡ä»¶å¤¹sftp&gt; get -r img é€€å‡ºsftp&gt; bye æˆ– sftp&gt; exit æˆ– ctrl + d","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"AngularJså¿«é€Ÿå…¥é—¨","slug":"AngularJså¿«é€Ÿå…¥é—¨","date":"2017-03-04T00:40:58.000Z","updated":"2024-07-05T11:10:22.360Z","comments":true,"path":"2017/03/04/AngularJs/","permalink":"http://yelog.org/2017/03/04/AngularJs/","excerpt":"","text":"ç®€ä»‹ AngularJSæ˜¯ä¸€ä¸ªJavaScriptæ¡†æ¶ï¼Œä¸ºäº†å…‹æœHTMLåœ¨æ„å»ºåº”ç”¨ä¸Šçš„ä¸è¶³è€Œè®¾è®¡çš„ã€‚ AngularJSé€šè¿‡ä½¿ç”¨æˆ‘ä»¬ç§°ä¸ºæ ‡è¯†ç¬¦(directives)çš„ç»“æ„ï¼Œè®©æµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«æ–°çš„è¯­æ³•ã€‚ AngularJS ä½¿å¾—å¼€å‘ç°ä»£çš„å•ä¸€é¡µé¢åº”ç”¨ç¨‹åºï¼ˆSPAsï¼šSingle Page Applicationsï¼‰å˜å¾—æ›´åŠ å®¹æ˜“ã€‚ è¡¨è¾¾å¼AngularJS ä½¿ç”¨ è¡¨è¾¾å¼ æŠŠæ•°æ®ç»‘å®šåˆ° HTMLã€‚ è¡¨è¾¾å¼AngularJS è¡¨è¾¾å¼å†™åœ¨åŒå¤§æ‹¬å·å†…ï¼š{{ expression }} ã€‚AngularJS è¡¨è¾¾å¼æŠŠæ•°æ®ç»‘å®šåˆ° HTMLï¼Œè¿™ä¸ ng-bind æŒ‡ä»¤æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚AngularJS å°†åœ¨è¡¨è¾¾å¼ä¹¦å†™çš„ä½ç½®â€è¾“å‡ºâ€æ•°æ®ã€‚AngularJS è¡¨è¾¾å¼ å¾ˆåƒ JavaScript è¡¨è¾¾å¼ï¼šå®ƒä»¬å¯ä»¥åŒ…å«æ–‡å­—ã€è¿ç®—ç¬¦å’Œå˜é‡ã€‚å®ä¾‹ï¼š {{ 5 + 5 }} æˆ– {{ firstName + \" \" + lastName }} &lt;div ng-app=&quot;&quot;&gt; &lt;p&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼: &#123;&#123; 5 + 5 &#125;&#125;&lt;/p&gt; &lt;/div&gt; æ•ˆæœ æ•°å­—&lt;div ng-app=&quot;&quot; ng-init=&quot;quantity=1;cost=5&quot;&gt; &lt;p&gt;æ€»ä»·ï¼š &#123;&#123; quantity * cost &#125;&#125;&lt;/p&gt; &lt;/div&gt;","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"AngularJs","slug":"AngularJs","permalink":"http://yelog.org/tags/AngularJs/"}]},{"title":"3-hexoå¤šä½œè€…æ¨¡å¼","slug":"3-hexo-multiple-author","date":"2017-02-28T02:55:31.000Z","updated":"2024-07-05T11:10:22.563Z","comments":true,"path":"2017/02/28/3-hexo-multiple-author/","permalink":"http://yelog.org/2017/02/28/3-hexo-multiple-author/","excerpt":"","text":"å°½ç®¡hexoæ˜¯ä¸ºä¸ªäººblogè€Œç”Ÿçš„å·¥å…·ï¼Œä½†æ˜¯æœ‰æ—¶ä¹Ÿå¯èƒ½ä¼šæœ‰å¤šä½œè€…éœ€æ±‚ï¼Œæ¯”å¦‚ä»–äººæŠ•ç¨¿ç­‰ç­‰ï¼Œä¸ºæ­¤ç¬”è€…åœ¨å†™3-hexoä¸»é¢˜æ—¶,é¡ºä¾¿æ·»åŠ äº†æ­¤åŠŸèƒ½ ã€‚ 1.ä¿®æ”¹é…ç½®æ–‡ä»¶ä¿®æ”¹ 3-hexo/_config.ymlï¼Œå¼€å¯å¤šä½œè€…æ¨¡å¼ï¼Œå¹¶æ·»åŠ blogä¸­å‡ºç°çš„ä½œè€…ï¼Œä¸ºæœç´¢æä¾›æ•°æ® author: on: true #trueï¼šå¼€å¯å¤šä½œè€…æ¨¡å¼ authors: author1: yelog #æ·»åŠ ä¸¤ä¸ªä½œè€…yelogã€å°é©¬å“¥ author2: å°é©¬å“¥ 2.ä¿®æ”¹æ–‡ç« å¤´éƒ¨ä¿¡æ¯æ·»åŠ  author: yelog ï¼Œè¡¨ç¤ºè¿™ç¯‡æ–‡ç« çš„ä½œè€…ä¸ºyelog&#96;&#96;&#96;xmltitle: reading-listdate: 2017-01-31 15:29:32author: yelogtop: 2categories:- è¯»ä¹¦tags:- reading**æ•ˆæœï¼š** ![](http://img.saodiyang.com/Fjq0M7pBzl6fsnC3ivpqMsdLdXc0.png) ## æœç´¢æŸä¸ªä½œè€…çš„æ‰€æœ‰æ–‡ç«  åœ¨æœç´¢æ ä¸­è¾“å…¥`@å°é©¬å“¥`å°±å¯ä»¥æ˜¾ç¤ºå‡ºæ‰€æœ‰å°é©¬å“¥çš„æ–‡ç« ã€‚ å¦‚æœä½ åœ¨_config.xmlä¸­é…ç½®äº†ä½œè€…åï¼Œå°±å¯ä»¥å‡ºç°`æç¤º`,å…·ä½“çœ‹ç¬¬ä¸€éƒ¨åˆ† **æ•ˆæœå¦‚ä¸‹ï¼š** ![](http://img.saodiyang.com/Fm2PK5W9Rd6ojYq055zZoWcbioAn.gif)","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"Hexoåˆ›å»º404é¡µé¢","slug":"hexo-create-404-page","date":"2017-02-25T07:18:39.000Z","updated":"2024-07-05T11:10:22.535Z","comments":true,"path":"2017/02/25/hexo-create-404-page/","permalink":"http://yelog.org/2017/02/25/hexo-create-404-page/","excerpt":"","text":"å¯¹äºgithub pageæ¥è¯´ï¼Œåªè¦åœ¨æ ¹ç›®å½•åˆ404.htmlï¼Œå½“é¡µé¢æ‰¾ä¸åˆ°æ—¶ï¼Œå°±ä¼šè¢«è½¬å‘åˆ°&#x2F;404.htmlé¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æ›´æ”¹è¿™ä¸ªé¡µé¢ï¼Œå°±å¯ä»¥å®ç°è‡ªå®šä¹‰404é¡µé¢äº†ã€‚ ä½†æ˜¯æˆ‘ä»¬é€šå¸¸ä¼šéœ€è¦ä¸æœ¬ä¸»é¢˜ç›¸ç¬¦çš„404é¡µé¢ã€‚é‚£æˆ‘ä»¬å°±éœ€è¦ä»¥ä¸‹æ“ä½œ æ–°å»º404é¡µé¢ è¿›å…¥ Hexo æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ hexo new page 404 ; æ‰“å¼€åˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ï¼Œé»˜è®¤åœ¨ Hexo æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹ &#x2F;source&#x2F;404&#x2F;index.mdï¼› åœ¨é¡¶éƒ¨æ’å…¥ä¸€è¡Œï¼Œå†™ä¸Š enlink: /404ï¼Œè¿™è¡¨ç¤ºæŒ‡å®šè¯¥é¡µå›ºå®šé“¾æ¥ä¸º http://&quot;ä¸»é¡µ&quot;/404.html --- title: 404 enlink: /404 date: 2016-09-27 11:31:01 --- --- ## é¡µé¢æœªæ‰¾åˆ°ï¼ æ•ˆæœ http://yelog.org/ä¸¾ä¸ª404ä¾‹å­","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"Hexoç½®é¡¶åŠæ’åºé—®é¢˜","slug":"hexo-top-sort","date":"2017-02-24T07:50:38.000Z","updated":"2024-07-05T11:10:22.545Z","comments":true,"path":"2017/02/24/hexo-top-sort/","permalink":"http://yelog.org/2017/02/24/hexo-top-sort/","excerpt":"","text":"è¿‘æœŸåœ¨å†™3-hexoä¸»é¢˜æ—¶ï¼Œå‘ç°æ–‡ç« ï¼ˆsite.postsï¼‰æ’åºæŒ‰ç…§.mdæ–‡ä»¶çš„åˆ›å»ºæ—¶é—´æ’åºï¼Œè€Œæ²¡æœ‰æŒ‰ç…§æ–‡ç« ä¸­çš„dateæ’åºã€‚ è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘é‡è£…äº†ä¸€æ¬¡ç”µè„‘ï¼Œ.mdæ–‡ä»¶é€šè¿‡gitå¤‡ä»½äº†ï¼Œè¿˜åŸå›æ¥çš„æ—¶å€™ï¼Œmdçš„åˆ›å»ºæ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æ–‡ç« åˆ—è¡¨å°±æŒ‰ç…§æ–‡ç« æ ‡é¢˜æ’åºäº† éšåå°±æƒ³èµ·äº†ä»¥å‰ä½¿ç”¨yiliaä¸»é¢˜æ—¶ï¼Œè®¾ç½®è¿‡ç½®é¡¶æ–‡ç« ã€‚æ‰€ä»¥åšäº†æ’åºï¼Œé¡ºä¾¿åšäº†ç½®é¡¶çš„åŠŸèƒ½ã€‚ @ç‰µçŒªçš„æ¾é¼ æ ¹æ®è¿™ç¯‡æ–‡ç« å†™äº†ä¸€ä¸ªnpmæ’ä»¶ hexo-generator-topindexå®‰è£…æ’ä»¶å‘½ä»¤ï¼š npm install hexo-generator-topindex --saveå¦‚æœå®‰è£…æ’ä»¶ï¼Œå¯è·³è¿‡ç¬¬ä¸€éƒ¨åˆ† #ä¿®æ”¹hexoçš„jsä»£ç ï¼Œç›´æ¥çœ‹ç¬¬äºŒéƒ¨åˆ† #è®¾ç½®ç½®é¡¶ ä¿®æ”¹hexoçš„jsä»£ç ç›´æ¥ä¸Šæ“ä½œï¼Œä¿®æ”¹node_modules/hexo-generator-index/lib/generator.js &#39;use strict&#39;; var pagination = require(&#39;hexo-pagination&#39;); module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.top &amp;&amp; b.top) &#123; // ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰ if(a.top == b.top) return b.date - a.date; // è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ else return b.top - a.top; // å¦åˆ™æŒ‰ç…§topå€¼é™åºæ’ &#125; else if(a.top &amp;&amp; !b.top) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ &#125;); var paginationDir = config.pagination_dir || &#39;page&#39;; return pagination(&#39;&#39;, posts, &#123; perPage: config.index_generator.per_page, layout: [&#39;index&#39;, &#39;archive&#39;], format: paginationDir + &#39;/%d/&#39;, data: &#123; __index: true &#125; &#125;); &#125;; è®¾ç½®ç½®é¡¶ç»™éœ€è¦ç½®é¡¶çš„æ–‡ç« åŠ å…¥topå‚æ•°ï¼Œå¦‚ä¸‹&#96;&#96;&#96;xmltitle: æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤date: 2017-01-23 11:41:48top: 1categories:- è¿ç»´tags:- linuxå‘½ä»¤å¦‚æœå­˜åœ¨å¤šä¸ªç½®é¡¶æ–‡ç« ï¼Œtopåçš„å‚æ•°è¶Šå¤§ï¼Œè¶Šé å‰ã€‚ ## 2020-05-20 æ›´æ–° 3-hexo ä¸»é¢˜å·²ç»å†…ç½®æ’åºç®—æ³•ï¼Œæ— éœ€ä¸Šé¢ä¸‹è½½æ’ä»¶æˆ–ä¿®æ”¹æºç ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå…·ä½“å¯çœ‹ &#123;% post_link 3-hexo-instruction %&#125; ä¸­çš„æ’åºç›¸å…³å†…å®¹ ## References Netcan çš„ [è§£å†³Hexoç½®é¡¶é—®é¢˜](http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/)","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"}]},{"title":"[è¯‘]Javaå†…å­˜æ³„éœ²ä»‹ç»","slug":"Javaå†…å­˜æ³„éœ²ä»‹ç»","date":"2017-02-21T07:05:39.000Z","updated":"2024-07-05T11:10:22.705Z","comments":true,"path":"2017/02/21/the-introduction-of-memory-leak-what-why-and-how/","permalink":"http://yelog.org/2017/02/21/the-introduction-of-memory-leak-what-why-and-how/","excerpt":"","text":"å†…å­˜ç®¡ç†æ˜¯Javaæœ€å¤§çš„ä¼˜åŠ¿ä¹‹ä¸€ï¼›ä½ å¯ä»¥å¾ˆç®€å•çš„åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾åˆ™äº¤ç»™Javaåƒåœ¾æ”¶é›†å™¨å¤„ç†ï¼›ç„¶è€Œå®é™…æƒ…å†µå¹¶éå¦‚æ­¤ç®€å•ï¼Œå› ä¸ºåœ¨Javaåº”ç”¨ç¨‹åºä¸­ä¼šé¢‘ç¹çš„å‘ç”Ÿå†…å­˜æ³„éœ²ã€‚ è¿™ä¸ªæ•™ç¨‹å°†ä¼šè¯´æ˜å†…å­˜æ³„éœ²æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²æ­¢å®ƒï¼Ÿ å†…å­˜æ³„éœ²æ˜¯ä»€ä¹ˆå†…å­˜æ³„éœ²çš„å®šä¹‰ï¼šå¯¹è±¡ä¸å†è¢«åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä½†æ˜¯ç”±äºå®ƒä»¬è¿˜åœ¨è¢«å¼•ç”¨ï¼Œåƒåœ¾æ”¶é›†å™¨ä¸èƒ½æ¸…é™¤æ‰å®ƒä»¬ã€‚ ä¸ºäº†ç†è§£è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£å¯¹è±¡åœ¨å†…å­˜ä¸­çš„çŠ¶æ€ï¼›ä¸‹é¢çš„å›¾è¡¨è¯´æ˜ä»€ä¹ˆæ˜¯æœªè¢«ä½¿ç”¨å’Œæœªè¢«å¼•ç”¨ã€‚ å›¾è¡¨ä¸­ï¼Œæœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å’Œæœªè¢«å¼•ç”¨çš„å¯¹è±¡ï¼›æœªè¢«å¼•ç”¨çš„å¯¹è±¡å°†ä¼šè¢«å½“åšåƒåœ¾å›æ”¶ï¼Œè€Œè¢«å¼•ç”¨çš„å¯¹è±¡å°†ä¸ä¼šè¢«å½“åšåƒåœ¾å›æ”¶ï¼›æœªè¢«å¼•ç”¨çš„å¯¹è±¡ç”±äºæ²¡æœ‰è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œå®ƒå½“ç„¶ä¹Ÿæ˜¯ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ï¼Œç„¶è€Œï¼Œä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ä¸å…¨æ˜¯ä¸è¢«å¼•ç”¨çš„ï¼Œå®ƒä»¬ä¸­çš„ä¸€äº›æ˜¯è¢«å¼•ç”¨çš„ï¼è¿™å°±æ˜¯å†…å­˜æ³„éœ²çš„æ¥æºã€‚ å†…å­˜æ³„éœ²ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå®ƒè¯´æ˜äº†å†…å­˜æ³„éœ²ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿã€‚åœ¨ä¸‹é¢è¿™ä¸ªåˆ—å­ä¸­ï¼Œå¯¹è±¡Aå¼•ç”¨äº†å¯¹è±¡Bï¼ŒAçš„ç”Ÿå‘½å‘¨æœŸï¼ˆt1t4ï¼‰æ˜¯æ¯”Bï¼ˆt2t3ï¼‰çš„é•¿ï¼›å½“Bä¸å†è¢«åº”ç”¨ç¨‹åºä½¿ç”¨æ—¶ï¼ŒAä»ç„¶åœ¨å¼•ç”¨å®ƒï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåƒåœ¾æ”¶é›†å™¨ä¸èƒ½ä»å†…å­˜ä¸­ç§»é™¤Bï¼›å¦‚æœAå¼•ç”¨äº†å¾ˆå¤šç±»ä¼¼Bè¿™æ ·çš„å¯¹è±¡ï¼Œå®ƒä»¬ä¸èƒ½è¢«å›æ”¶ï¼Œåˆæ¶ˆè€—ç€å†…å­˜ç©ºé—´çš„èµ„æºï¼Œè¿™æ ·å¾ˆæœ‰å¯èƒ½é€ æˆå†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚ è¿˜æœ‰ä¸€ç§å¯èƒ½çš„äº‹æƒ…ï¼ŒBåˆå¼•ç”¨äº†ä¸€äº›å¯¹è±¡ï¼Œè¿™äº›è¢«Bå¼•ç”¨çš„å¯¹è±¡ä¹Ÿä¸èƒ½è¢«å›æ”¶ï¼Œé‚£æ‰€æœ‰è¿™äº›ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡å°†æ¶ˆè€—å¤§é‡å®è´µçš„å†…å­˜ç©ºé—´ã€‚ å¦‚ä½•é˜²æ­¢å†…å­˜æ³„éœ²ä¸‹é¢æœ‰ä¸€äº›é˜²æ­¢å†…å­˜æ³„éœ²çš„å¿«é€Ÿå®è·µæŠ€å·§ æ³¨æ„é›†åˆç±»ï¼Œå¦‚ï¼šHashMapã€ArrayListç­‰ç­‰ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨å¸¸è§çš„åœ°æ–¹å‘ç”Ÿå†…å­˜æ³„éœ²ï¼›å½“å®ƒä»¬è¢«staticå£°æ˜æ—¶ï¼Œå®ƒä»¬å’Œåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€æ ·é•¿çš„ã€‚ æ³¨æ„äº‹ä»¶ç›‘å¬å’Œå›è°ƒï¼Œå½“ä¸€ä¸ªç›‘å¬äº‹ä»¶è¢«æ³¨å†Œï¼Œè€Œè¿™ä¸ªç±»å†ä¹Ÿæ²¡æœ‰è¢«ä½¿ç”¨æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æ³„éœ²ã€‚ â€œå¦‚æœä¸€ä¸ªç±»ç®¡ç†è‡ªå·±çš„å†…å­˜ï¼Œç¨‹åºå‘˜åº”è¯¥è¢«æé†’å†…å­˜æ³„æ¼äº†â€ï¼Œé€šå¸¸ï¼Œä¸€ä¸ªå¯¹è±¡çš„æŒ‡å‘å…¶ä»–å¯¹è±¡çš„æˆå‘˜å˜é‡éœ€è¦è¢«ç½®ä¸ºnullã€‚ Referencesï¼š[1] Program Creek :The Introduction of Java Memory Leaks","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"translation","slug":"translation","permalink":"http://yelog.org/tags/translation/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ56ï¼‰: tailf","slug":"linux-command-56-tailf","date":"2017-02-20T07:11:06.000Z","updated":"2024-07-05T11:10:22.906Z","comments":true,"path":"2017/02/20/linux-command-56-tailf/","permalink":"http://yelog.org/2017/02/20/linux-command-56-tailf/","excerpt":"tailf ä¸€ä¸ªå®æ—¶ç›‘å¬æ–‡ä»¶æˆ–æ—¥å¿—çš„å¼ºå¤§çš„å‘½ä»¤","text":"tailf ä¸€ä¸ªå®æ—¶ç›‘å¬æ–‡ä»¶æˆ–æ—¥å¿—çš„å¼ºå¤§çš„å‘½ä»¤ å‘½ä»¤æ ¼å¼$ tailf [option] file å‘½ä»¤æè¿° tailf å°†ä¼šæ‰“å°å‡ºä¸€ä¸ªæ–‡ä»¶çš„æœ€å10è¡Œ,ç­‰å¾…å¹¶æŒç»­è¾“å‡ºæ­¤æ–‡ä»¶çš„å¢é•¿ï¼Œå®ƒå’Œtail -fç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„æ˜¯å½“æ–‡ä»¶æ²¡æœ‰å¢é•¿æ—¶ï¼Œæ˜¯ä¸è®¿é—®æ­¤æ–‡ä»¶çš„ï¼›ä½†è¿™ä¼šæœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼šä¸ä¼šæ›´æ–°æ–‡ä»¶çš„è®¿é—®æ—¶é—´ã€‚å½“æ²¡æœ‰å‘ç”Ÿæ—¥å¿—æ´»åŠ¨æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„å†²æ´—ï¼ˆflushï¼‰ä¸ä¼šå®šæœŸå‘ç”Ÿã€‚ tailf å¯¹äºæ‰“å°æ—¥å¿—ä¸é¢‘ç¹ï¼Œè€Œåˆåœ¨ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘æ—¶æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œè¿™æ ·ç”¨æˆ·å°±èƒ½é™ä½ç£ç›˜è½¬é€Ÿä»è€Œå¢åŠ ç¬”è®°æœ¬ç»­èˆªã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -n,â€“lines&#x3D;N,-N è¾“å‡ºæœ€åNè¡Œ,è€Œä¸æ˜¯é»˜è®¤çš„æœ€å10è¡Œ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šå±•ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æœ€å5è¡Œå¹¶ç›‘å¬æ–‡ä»¶çš„æ–°è¡Œï¼ˆæ–°å¢åŠ çš„å†…å®¹ï¼‰ $ tailf -n 5 myfile.txt $ tailf -5 myfile.txt $ tailf --lines=5 myfile.txt æ³¨ï¼šè¿™æ˜¯ä¸€ä¸ªå®æ—¶ç›‘å¬æ–‡ä»¶æˆ–æ—¥å¿—çš„å¼ºå¤§çš„å‘½ä»¤ ä¾‹äºŒï¼šå®æ—¶æ–°å¢æ—¥å¿—å†…å®¹ï¼Œå¹¶é€šè¿‡ç®¡é“è¿‡æ»¤å‡ºè‡ªå·±æƒ³è¦çš„å†…å®¹ # å®æ—¶ç›‘å¬ipåœ°å€ä¸º24.10.160.10çš„è®¿é—®æ—¥å¿— $ tailf access.log | grep 24.10.160.10","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"pjaxç”¨æ³•","slug":"pjaxç”¨æ³•","date":"2017-02-08T12:18:54.000Z","updated":"2024-07-05T11:10:22.385Z","comments":true,"path":"2017/02/08/pjax/","permalink":"http://yelog.org/2017/02/08/pjax/","excerpt":"æœ€è¿‘åœ¨å¼€å‘ä¸€æ¬¾hexoä¸»é¢˜3-hexoï¼Œå…¶ä¸­ä½¿ç”¨äº†pjaxå¤§å¤§æé«˜äº†ç”¨æˆ·ä½“éªŒå’ŒåŠ è½½é€Ÿåº¦ï¼Œåœ¨æ­¤ç®€å•ä»‹ç»ä¸€ä¸‹pjaxçš„ç”¨æ³•githubé“¾æ¥","text":"æœ€è¿‘åœ¨å¼€å‘ä¸€æ¬¾hexoä¸»é¢˜3-hexoï¼Œå…¶ä¸­ä½¿ç”¨äº†pjaxå¤§å¤§æé«˜äº†ç”¨æˆ·ä½“éªŒå’ŒåŠ è½½é€Ÿåº¦ï¼Œåœ¨æ­¤ç®€å•ä»‹ç»ä¸€ä¸‹pjaxçš„ç”¨æ³•githubé“¾æ¥ pjaxæ˜¯ä»€ä¹ˆ pjaxæ˜¯ä¸€æ¬¾jQueryæ’ä»¶ï¼Œä½¿ç”¨äº†ajaxå’ŒpushStateçš„æŠ€æœ¯ï¼Œåœ¨ä¿ç•™çœŸæ­£æ°¸ä¹…é“¾æ¥ï¼Œç½‘é¡µæ ‡é¢˜å’Œå¯ç”¨çš„è¿”å›åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œå¸¦æ¥ä¸€ç§å¿«é€Ÿçš„æµè§ˆä½“éªŒã€‚ â€“å®˜æ–¹ä»‹ç» ç”¨äººè¯è¯´ï¼Œå°±æ˜¯å½“è·³è½¬è¿‡å»çš„ç½‘é¡µå’Œå½“å‰ç½‘é¡µçš„ä¸€éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡pjaxå°±ä¼šä»å“åº”é¡µé¢ä¸­å–å‡º ä¸åŒçš„é‚£éƒ¨åˆ† ï¼ˆéœ€æŒ‡å®šï¼‰ï¼Œæ›¿æ¢æ‰åŸæ¥çš„å†…å®¹ã€‚ å¦‚æœåœ¨æœåŠ¡ç«¯åˆ¤æ–­å¤„ç†ï¼Œç›´æ¥è¿”å› ä¸åŒçš„é‚£éƒ¨åˆ†å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘å¸¦å®½å ç”¨ï¼Œæå‡åŠ è½½é€Ÿåº¦ã€‚ è¿™æ ·åšçš„ä¼˜åŠ¿ï¼š ç”±äºä»æœåŠ¡å™¨å–å›çš„æ•°æ®é‡å˜å°‘ï¼ŒåŠ è½½é€Ÿåº¦å°†ä¼šæå‡ã€‚ å¹¶ä¸”é‡‡ç”¨å¼‚æ­¥åˆ·æ–°é¡µé¢ä¸­çš„ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿæ˜¯æ»¡æ»¡çš„ã€‚ ä¿ç•™äº†æµè§ˆå™¨å›é€€çš„åŠŸèƒ½ï¼ˆè§£å†³äº†ajaxçš„å°´å°¬ï¼‰ å¥½äº†ï¼Œå¼€å§‹æ“ä½œã€‚ Demoç¬¬ä¸€æ­¥ï¼šå¼•å…¥jQueryå’ŒjQuery.pjax &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery.pjax/1.9.6/jquery.pjax.min.js&quot;&gt;&lt;/script&gt; ç¬¬äºŒæ­¥ï¼šå°†æŒ‡å®šçš„açš„é“¾æ¥ï¼Œè½¬ä¸ºpjaxé£æ ¼ /*å°†#menuä¸­çš„açš„é“¾æ¥çš„é¡µé¢ï¼Œåªå–å›class=pjaxå…ƒç´ ä¸­çš„å†…å®¹ï¼Œæ›¿æ¢æ‰å½“å‰é¡µé¢class=pjaxå…ƒç´ ä¸­çš„å†…å®¹*/ $(document).pjax(&#39;.#menu a&#39;, &#39;.pjax&#39;, &#123;fragment:&#39;.pjax&#39;, timeout:8000&#125;); ç¬¬ä¸‰æ­¥ï¼šå¦‚æœéœ€è¦åœ¨è¯·æ±‚çš„è¿‡ç¨‹ä¸­åšä¸€äº›è‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³• $(document).on(&#123; &#39;pjax:click&#39;: function() &#123; //ç‚¹å‡»é“¾æ¥æ—¶ï¼Œéœ€è¦è§¦å‘çš„äº‹ä»¶å†™åˆ°è¿™é‡Œ &#125;, &#39;pjax:start&#39;: function() &#123; //å½“å¼€å§‹è·å–è¯·æ±‚æ—¶ï¼Œéœ€è¦è§¦å‘çš„äº‹ä»¶å†™åœ¨è¿™é‡Œ &#125;, &#39;pjax:end&#39;: function() &#123; //å½“è¯·æ±‚å®Œæˆåï¼Œéœ€è¦è§¦å‘çš„äº‹ä»¶å†™åœ¨è¿™é‡Œ &#125; &#125;); ç»“æŸã€‚ è¯¦ç»†æ–‡æ¡£ç¿»è¯‘äºå®˜æ–¹ å‚æ•°$(document).pjax(selector, [container], options) selector è§¦å‘ç‚¹å‡»äº‹ä»¶çš„é€‰æ‹©å™¨ï¼ŒStringç±»å‹ container ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œä¸ºå”¯ä¸€çš„pjaxå®¹å™¨ options ä¸€ä¸ªå¯ä»¥åŒ…å«ä¸‹é¢è¿™äº›é€‰é¡¹çš„å¯¹è±¡ pjax options key default description timeout 650 ajaxè¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œè¶…æ—¶åå°†è¯·æ±‚æ•´ä¸ªé¡µé¢è¿›è¡Œåˆ·æ–° push true ä½¿ç”¨ pushState æ·»åŠ ä¸€ä¸ªæµè§ˆå™¨å†å²å¯¼èˆªæ¡ç›® replace false æ›¿æ¢URLï¼Œè€Œä¸æ·»åŠ æµè§ˆå™¨å†å²æ¡ç›® maxCacheLength 20 å†å²å†…å®¹ cache çš„æœ€å¤§size version string ï¼š å½“å‰pjaxç‰ˆæœ¬ scrollTo 0 å‚ç›´ä½ç½®æ»šåŠ¨ï¼Œä¸ºäº†é¿å…æ”¹å˜æ»šåŠ¨æ¡ä½ç½® type â€œGETâ€ å¯ä»¥æŸ¥çœ‹jQuery.ajax() dataType â€œhtmlâ€ å¯ä»¥æŸ¥çœ‹jQuery.ajax() container cssé€‰æ‹©å™¨ï¼Œæ­¤å…ƒç´ å†…å®¹å°†è¢«æ›¿æ¢ url link.href string: ajax è¯·æ±‚çš„URL target link eventually the relatedTarget value for pjax events fragment ä»ajaxå“åº”çš„é¡µé¢ä¸­æŠ½å–çš„â€˜ç‰‡æ®µâ€™ Eventsé™¤äº†pjax:clickå’Œpjax:clickedå¤–çš„æ‰€æœ‰pjaxäº‹ä»¶ä»pjaxå®¹å™¨ä¸­è§¦å‘ï¼Œæ˜¯ä¸éœ€è¦ç‚¹å‡»é“¾æ¥çš„ã€‚æ‰€æœ‰äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸåœ¨é€šè¿‡pjaxè¯·æ±‚é“¾æ¥çš„è¿‡ç¨‹ä¸­ event cancel arguments notes pjax:click âœ”ï¸ options åœ¨ä¸€ä¸ªé“¾æ¥è¢«æ¿€æ´»ï¼ˆç‚¹å‡»ï¼‰æ—¶è§¦å‘æ­¤äº‹ä»¶ï¼Œå¯ä»¥åœ¨æ­¤å–æ¶ˆé˜»æ­¢pjax pjax:beforeSend âœ”ï¸ xhr, options å¯ä»¥è®¾ç½® XHR å¤´ pjax:start xhr, options pjax:send xhr, options pjax:clicked options å½“é“¾æ¥è¢«ç‚¹å‡»ï¼Œå¹¶ä¸”å·²ç»å¼€å§‹pjaxè¯·æ±‚åè§¦å‘ pjax:beforeReplace contents, options ä»æœåŠ¡å™¨å·²ç»åŠ è½½åˆ°HTMLå†…å®¹ï¼Œåœ¨æ›¿æ¢HTMLå†…å®¹ä¹‹å‰è§¦å‘ pjax:success data, status, xhr, options ä»æœåŠ¡å™¨å·²ç»åŠ è½½åˆ°HTMLå†…å®¹ï¼Œåœ¨æ›¿æ¢HTMLå†…å®¹ä¹‹åè§¦å‘ pjax:timeout âœ”ï¸ xhr, options é¡µé¢å°†ä¼šåœ¨options.timeoutä¹‹åç›´æ¥å‘èµ·è¯·æ±‚åˆ·æ–°é¡µé¢ï¼Œé™¤éå–æ¶ˆpjax pjax:error âœ”ï¸ xhr, textStatus, error, options ajax é”™è¯¯ï¼Œå°†ä¼šè¯·æ±‚åˆ·æ–°é¡µé¢ï¼Œé™¤éå–æ¶ˆpjax pjax:complete xhr, textStatus, options ä¸ç®¡ç»“æœæ˜¯ä»€ä¹ˆï¼Œåœ¨ajaxåï¼Œéƒ½è§¦å‘ pjax:end xhr, options ç”Ÿå‘½å‘¨æœŸåœ¨æµè§ˆå™¨è¿”å›æˆ–å‰è¿›æ—¶è§¦å‘ event cancel arguments notes pjax:popstate äº‹ä»¶æ–¹å‘(å‰è¿›ï¼Œåé€€)å±æ€§: â€œbackâ€&#x2F;â€œforwardâ€ pjax:start null, options æ›¿æ¢å†…å®¹å‰ pjax:beforeReplace contents, options ä»cacheä¸­è¯»å–å†…å®¹åï¼Œæ›¿æ¢htmlå‰ pjax:end null, options æ›¿æ¢å†…å®¹å","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"}]},{"title":"reading-list","slug":"reading-list","date":"2017-01-31T07:29:32.000Z","updated":"2024-07-05T11:10:21.882Z","comments":true,"path":"2017/01/31/reading-list/","permalink":"http://yelog.org/2017/01/31/reading-list/","excerpt":"ä¸‹é¢æ˜¯ä¸€äº›æˆ‘è¯»è¿‡çš„ä¹¦","text":"ä¸‹é¢æ˜¯ä¸€äº›æˆ‘è¯»è¿‡çš„ä¹¦ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ï¼šæ¨èæŒ‡æ•°ï¼Œ7æ˜Ÿåˆ¶ã€‚æ­¤ä¹ƒä½™ä¹‹ç§è§ï¼Œæˆ–æ˜¾åè–„ã€‚ æ–‡å­¦å°è¯´ ã€Šæ£‹ç‹ æ ‘ç‹ å­©å­ç‹ã€‹ by é˜¿åŸ 2015å¹´9æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šè¾¾èŠ¬å¥‡å¯†ç ã€‹ by ä¸¹.å¸ƒæœ— 2015å¹´9æœˆ â˜… â˜… â˜… â˜… â˜… â˜… â˜† ã€Šè¿½é£ç­çš„äººã€‹ by å¡å‹’å¾·Â·èƒ¡èµ›å°¼ 2016å¹´6æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šéœä¹±æ—¶æœŸçš„çˆ±æƒ…ã€‹ by åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯ 2016å¹´8æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€ŠæŸ¥ä»¤åå­—è¡—84å·ã€‹ by æµ·è²Â·æ±‰èŠ™ 2016å¹´9æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šå›´åŸã€‹ by é’±é’Ÿä¹¦ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šä¸€ä¸ªé™Œç”Ÿå¥³äººçš„æ¥ä¿¡ã€‹ by èŒ¨å¨æ ¼ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜… â˜… â˜† ã€Šä¸€é¢—å¿ƒçš„æ²¦äº¡ã€‹ by èŒ¨å¨æ ¼ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šæƒ…æ„Ÿçš„è¿·èŒ«ã€‹ by èŒ¨å¨æ ¼ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šä¸€ä¸ªå¥³äººä¸€ç”Ÿä¸­çš„äºŒåå››ä¸ªå°æ—¶ã€‹ by èŒ¨å¨æ ¼ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šæ‘†æ¸¡äººã€‹ by å…‹è±å°”Â·éº¦å…‹ç¦å°” 2019å¹´3æœˆ28 â˜… â˜† â˜† â˜† â˜† â˜† â˜† ã€Šæ‚Ÿç©ºä¼ ã€‹ by ä»Šä½•åœ¨ 2016å¹´8æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šå²›ä¸Šä¹¦åº—ã€‹ by åŠ Â·æ³½æ–‡ 2019å¹´4æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šæœˆäº®ä¸å…­ä¾¿å£«ã€‹ by æ¯›å§† 2019å¹´4æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šæ´»ç€ã€‹ by ä½™å 2019å¹´5æœˆâ˜… â˜… â˜… â˜… â˜… â˜… â˜† ã€Šç™½å¤œè¡Œã€‹ by ä¸œé‡åœ­å¾ 2019å¹´12æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† æ—…è¡Œ ã€Šä¸å»ä¼šæ­»ã€‹ by çŸ³ç”°è£•è¾… 2017å¹´2æœˆ â˜… â˜… â˜… â˜† â˜† â˜† â˜† å†å² ã€Šç§¦è¿·Â·ç§¦å§‹çš‡çš„ç§˜å¯†ã€‹ by æå¼€å…ƒ 2016å¹´3æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šé±¼ç¾Šé‡å²Â·ç¬¬1å·ã€‹ by é«˜æ™“æ¾ 2016å¹´9æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† å¿ƒç†å­¦ ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹ by é«˜é“­ 2016å¹´3æœˆ â˜… â˜… â˜… â˜… â˜… â˜… â˜† ç»æµ ã€Šå†ä»£ç»æµå˜é©å¾—å¤±ã€‹ by å´æ™“æ³¢ 2017å¹´2æœˆ â˜… â˜… â˜… â˜… â˜… â˜… â˜† ç§‘å¹» ã€ŠçƒçŠ¶é—ªç”µã€‹ by åˆ˜æ…ˆæ¬£ 2016å¹´3æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šä¸‰ä½“Â·â€œåœ°çƒå¾€äº‹â€ä¸‰éƒ¨æ›²ä¹‹ä¸€ã€‹ by åˆ˜æ…ˆæ¬£ 2016å¹´4æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šæµæµªåœ°çƒã€‹ by åˆ˜æ…ˆæ¬£ 2019å¹´3æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† åˆ›ä¸š ã€Šä»é›¶åˆ°ä¸€ã€‹ by å½¼å¾—Â·è’‚å°” 2015å¹´6æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† ã€Šåˆ›ä¸šç»´è‰°ã€‹ by æœ¬Â·éœæ´›ç»´èŒ¨ 2015å¹´6æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šé¤å·¾çº¸ä¸Šçš„åˆ›ä¸šè¯¾ã€‹ by ç¥ç”°æ˜Œå…¸ 2016å¹´6æœˆ â˜… â˜… â˜… â˜… â˜† â˜† â˜† æ–¹æ³•è®º ã€Šå¦‚ä½•é«˜æ•ˆå­¦ä¹ ã€‹ by æ–¯ç§‘ç‰¹Â·æ‰¬ 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€ŠDISCoverè‡ªæˆ‘æ¢ç´¢ã€‹ by ææµ·å³° 2017å¹´1æœˆ â˜… â˜… â˜… â˜… â˜… â˜… â˜† è®¡ç®—æœº ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹ by å­æŸ³ 2015å¹´6æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šå†™ç»™å¤§å®¶çœ‹çš„è®¾è®¡ä¹¦ã€‹ by Robin Williams 2023å¹´6æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ by ä¿ç½—Â·æ ¼é›·å§† 2023å¹´10æœˆ â˜… â˜… â˜… â˜… â˜… â˜† â˜† å¾…è¯»&#x2F;åœ¨è¯» ã€ŠåŸºç£å±±ä¼¯çˆµã€‹ by å¤§ä»²é©¬ ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ by Andrew Hunt &amp; David Thomas","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/"},{"name":"ä¹¦å•","slug":"è¯»ä¹¦/ä¹¦å•","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E4%B9%A6%E5%8D%95/"}],"tags":[{"name":"reading","slug":"reading","permalink":"http://yelog.org/tags/reading/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤","slug":"linux-command-list","date":"2017-01-23T03:41:48.000Z","updated":"2024-07-05T11:10:22.771Z","comments":true,"path":"2017/01/23/linux-command/","permalink":"http://yelog.org/2017/01/23/linux-command/","excerpt":"å¼€å§‹è¯¦ç»†çš„ç³»ç»Ÿçš„å­¦ä¹ linuxå‘½ä»¤ï¼ŒåšæŒæ¯å¤©ä¸€ä¸ªå‘½ä»¤ã€‚","text":"å¼€å§‹è¯¦ç»†çš„ç³»ç»Ÿçš„å­¦ä¹ linuxå‘½ä»¤ï¼ŒåšæŒæ¯å¤©ä¸€ä¸ªå‘½ä»¤ã€‚ æ­¤ç³»åˆ—æœ€åˆå‚è€ƒpeidaçš„â€œ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤â€ï¼Œä¹‹åæ ¹æ®è‡ªå·±çš„è§é—»é€æ¸æ·»åŠ æ•´ç†ã€‚ æ–‡ä»¶ç›®å½•æ“ä½œå‘½ä»¤ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ1ï¼‰: ls æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ2ï¼‰: cd æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ3ï¼‰: pwd æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ4ï¼‰: mkdir æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ5ï¼‰: rm æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ6ï¼‰: rmdir æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ7ï¼‰: mv æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ8ï¼‰: cp æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ9ï¼‰: touch æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ10ï¼‰: cat æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ11ï¼‰: nl æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ12ï¼‰: more æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ13ï¼‰: less æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ14ï¼‰: head æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ15ï¼‰: tail æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ56ï¼‰: tailf æ–‡ä»¶æŸ¥æ‰¾å‘½ä»¤ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ16ï¼‰: which æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ17ï¼‰: whereis æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ18ï¼‰: locate æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ19ï¼‰: findå‘½ä»¤æ¦‚è§ˆ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ20ï¼‰: findå‘½ä»¤ä¹‹exec æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ21ï¼‰: findå‘½ä»¤ä¹‹xargs æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ22ï¼‰: findå‘½ä»¤çš„å‚æ•°è¯¦è§£ æ–‡ä»¶æ‰“åŒ…ä¸Šä¼ å’Œä¸‹è½½ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ23ï¼‰: ç”¨SecureCRTæ¥ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ24ï¼‰: tar æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ25ï¼‰: gzip linuxæ–‡ä»¶æƒé™è®¾ç½® æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ26ï¼‰: chmod æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ27ï¼‰: chgrp æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ28ï¼‰: chown æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ29ï¼‰: &#x2F;etc&#x2F;groupæ–‡ä»¶è¯¦è§£ ç£ç›˜å­˜å‚¨ç›¸å…³ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ30ï¼‰: df æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ31ï¼‰: du æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–å‘½ä»¤ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ32ï¼‰: top æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ33ï¼‰: free æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ34ï¼‰: vmstat æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ35ï¼‰: iostat æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ36ï¼‰: lsof ç½‘ç»œå‘½ä»¤ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ37ï¼‰: ifconfig æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ38ï¼‰: route æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ39ï¼‰: ping æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ40ï¼‰: traceroute æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ41ï¼‰: netstat æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ42ï¼‰: ss æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ43ï¼‰: telnet æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ44ï¼‰: rcp æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ45ï¼‰: scp å…¶ä»–å‘½ä»¤ æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ46ï¼‰: ln æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ47ï¼‰: diff æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ48ï¼‰: date æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ49ï¼‰: cal æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ50ï¼‰: grep æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ51ï¼‰: wc æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ52ï¼‰: ps æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ53ï¼‰: watch æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ54ï¼‰: at æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ55ï¼‰: crontab æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ56ï¼‰: tailf æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ57ï¼‰: sftp æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ58ï¼‰: sort","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ55ï¼‰: crontab","slug":"linux-command-55-crontab","date":"2017-01-23T02:44:50.000Z","updated":"2024-07-05T11:10:22.850Z","comments":true,"path":"2017/01/23/linux-command-55-crontab/","permalink":"http://yelog.org/2017/01/23/linux-command-55-crontab/","excerpt":"å‰ä¸€å¤©å­¦ä¹ äº† at å‘½ä»¤æ˜¯é’ˆå¯¹ä»…è¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼Œå¾ªç¯è¿è¡Œçš„ä¾‹è¡Œæ€§è®¡åˆ’ä»»åŠ¡ï¼Œlinuxç³»ç»Ÿåˆ™æ˜¯ç”± cron (crond) è¿™ä¸ªç³»ç»ŸæœåŠ¡æ¥æ§åˆ¶çš„ã€‚Linux ç³»ç»Ÿä¸Šé¢åŸæœ¬å°±æœ‰éå¸¸å¤šçš„è®¡åˆ’æ€§å·¥ä½œï¼Œå› æ­¤è¿™ä¸ªç³»ç»ŸæœåŠ¡æ˜¯é»˜è®¤å¯åŠ¨çš„ã€‚å¦å¤–, ç”±äºä½¿ç”¨è€…è‡ªå·±ä¹Ÿå¯ä»¥è®¾ç½®è®¡åˆ’ä»»åŠ¡ï¼Œæ‰€ä»¥ï¼Œ Linux ç³»ç»Ÿä¹Ÿæä¾›äº†ä½¿ç”¨è€…æ§åˆ¶è®¡åˆ’ä»»åŠ¡çš„å‘½ä»¤ :crontab å‘½ä»¤ã€‚","text":"å‰ä¸€å¤©å­¦ä¹ äº† at å‘½ä»¤æ˜¯é’ˆå¯¹ä»…è¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼Œå¾ªç¯è¿è¡Œçš„ä¾‹è¡Œæ€§è®¡åˆ’ä»»åŠ¡ï¼Œlinuxç³»ç»Ÿåˆ™æ˜¯ç”± cron (crond) è¿™ä¸ªç³»ç»ŸæœåŠ¡æ¥æ§åˆ¶çš„ã€‚Linux ç³»ç»Ÿä¸Šé¢åŸæœ¬å°±æœ‰éå¸¸å¤šçš„è®¡åˆ’æ€§å·¥ä½œï¼Œå› æ­¤è¿™ä¸ªç³»ç»ŸæœåŠ¡æ˜¯é»˜è®¤å¯åŠ¨çš„ã€‚å¦å¤–, ç”±äºä½¿ç”¨è€…è‡ªå·±ä¹Ÿå¯ä»¥è®¾ç½®è®¡åˆ’ä»»åŠ¡ï¼Œæ‰€ä»¥ï¼Œ Linux ç³»ç»Ÿä¹Ÿæä¾›äº†ä½¿ç”¨è€…æ§åˆ¶è®¡åˆ’ä»»åŠ¡çš„å‘½ä»¤ :crontab å‘½ä»¤ã€‚ crondç®€ä»‹ crondæ˜¯linuxä¸‹ç”¨æ¥å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›äº‹ä»¶çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œä¸windowsä¸‹çš„è®¡åˆ’ä»»åŠ¡ç±»ä¼¼ï¼Œå½“å®‰è£…å®Œæˆæ“ä½œç³»ç»Ÿåï¼Œé»˜è®¤ä¼šå®‰è£…æ­¤æœåŠ¡å·¥å…·ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å¯åŠ¨crondè¿›ç¨‹ï¼Œcrondè¿›ç¨‹æ¯åˆ†é’Ÿä¼šå®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆ™è‡ªåŠ¨æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚ Linuxä¸‹çš„ä»»åŠ¡è°ƒåº¦åˆ†ä¸ºä¸¤ç±»ï¼Œç³»ç»Ÿä»»åŠ¡è°ƒåº¦å’Œç”¨æˆ·ä»»åŠ¡è°ƒåº¦ã€‚ ç³»ç»Ÿä»»åŠ¡è°ƒåº¦ï¼šç³»ç»Ÿå‘¨æœŸæ€§æ‰€è¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚å†™ç¼“å­˜æ•°æ®åˆ°ç¡¬ç›˜ã€æ—¥å¿—æ¸…ç†ç­‰ã€‚åœ¨&#x2F;etcç›®å½•ä¸‹æœ‰ä¸€ä¸ªcrontabæ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶ã€‚ &#x2F;etc&#x2F;crontabæ–‡ä»¶åŒ…æ‹¬ä¸‹é¢å‡ è¡Œï¼š # /etc/crontab: system-wide crontab # Unlike any other crontab you don&#39;t have to run the `crontab&#39; # command to install the new version when you edit this file # and files in /etc/cron.d. These files also have username fields, # that none of the other crontabs do. SHELL=/bin/sh PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin # m h dom mon dow user command 17 * * * * root cd / &amp;&amp; run-parts --report /etc/cron.hourly 25 6 * * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily ) 47 6 * * 7 root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly ) 52 6 1 * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly ) å‰å››è¡Œæ˜¯ç”¨æ¥é…ç½®crondä»»åŠ¡è¿è¡Œçš„ç¯å¢ƒå˜é‡ï¼Œç¬¬ä¸€è¡ŒSHELLå˜é‡æŒ‡å®šäº†ç³»ç»Ÿè¦ä½¿ç”¨å“ªä¸ªshellï¼Œè¿™é‡Œæ˜¯bashï¼Œç¬¬äºŒè¡ŒPATHå˜é‡æŒ‡å®šäº†ç³»ç»Ÿæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ï¼Œç¬¬ä¸‰è¡ŒMAILTOå˜é‡æŒ‡å®šäº†crondçš„ä»»åŠ¡æ‰§è¡Œä¿¡æ¯å°†é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™rootç”¨æˆ·ï¼Œå¦‚æœMAILTOå˜é‡çš„å€¼ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸å‘é€ä»»åŠ¡æ‰§è¡Œä¿¡æ¯ç»™ç”¨æˆ·ï¼Œç¬¬å››è¡Œçš„HOMEå˜é‡æŒ‡å®šäº†åœ¨æ‰§è¡Œå‘½ä»¤æˆ–è€…è„šæœ¬æ—¶ä½¿ç”¨çš„ä¸»ç›®å½•ã€‚ç¬¬å…­è‡³ä¹è¡Œè¡¨ç¤ºçš„å«ä¹‰å°†åœ¨ä¸‹ä¸ªå°èŠ‚è¯¦ç»†è®²è¿°ã€‚è¿™é‡Œä¸åœ¨å¤šè¯´ã€‚ ç”¨æˆ·ä»»åŠ¡è°ƒåº¦ï¼šç”¨æˆ·å®šæœŸè¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚ç”¨æˆ·æ•°æ®å¤‡ä»½ã€å®šæ—¶é‚®ä»¶æé†’ç­‰ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å·¥å…·æ¥å®šåˆ¶è‡ªå·±çš„è®¡åˆ’ä»»åŠ¡ã€‚æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„crontab æ–‡ä»¶éƒ½è¢«ä¿å­˜åœ¨ &#x2F;var&#x2F;spool&#x2F;cronç›®å½•ä¸­ã€‚å…¶æ–‡ä»¶åä¸ç”¨æˆ·åä¸€è‡´ã€‚ ä½¿ç”¨è€…æƒé™æ–‡ä»¶æ–‡ä»¶ï¼š&#x2F;etc&#x2F;cron.denyè¯´æ˜ï¼šè¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·ä¸å…è®¸ä½¿ç”¨crontabå‘½ä»¤ æ–‡ä»¶ï¼š&#x2F;etc&#x2F;cron.allowè¯´æ˜ï¼šè¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·å…è®¸ä½¿ç”¨crontabå‘½ä»¤ æ–‡ä»¶ï¼š&#x2F;var&#x2F;spool&#x2F;cron&#x2F;è¯´æ˜ï¼šæ‰€æœ‰ç”¨æˆ·crontabæ–‡ä»¶å­˜æ”¾çš„ç›®å½•,ä»¥ç”¨æˆ·åå‘½å crontabæ–‡ä»¶çš„å«ä¹‰ ç”¨æˆ·æ‰€å»ºç«‹çš„crontabæ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€é¡¹ä»»åŠ¡ï¼Œæ¯è¡Œçš„æ¯ä¸ªå­—æ®µä»£è¡¨ä¸€é¡¹è®¾ç½®ï¼Œå®ƒçš„æ ¼å¼å…±åˆ†ä¸ºå…­ä¸ªå­—æ®µï¼Œå‰äº”æ®µæ˜¯æ—¶é—´è®¾å®šæ®µï¼Œç¬¬å…­æ®µæ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤æ®µï¼Œæ ¼å¼å¦‚ä¸‹ï¼šminute hour day month week commandå…¶ä¸­ï¼š minuteï¼š è¡¨ç¤ºåˆ†é’Ÿï¼Œå¯ä»¥æ˜¯ä»0åˆ°59ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ hourï¼šè¡¨ç¤ºå°æ—¶ï¼Œå¯ä»¥æ˜¯ä»0åˆ°23ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ dayï¼šè¡¨ç¤ºæ—¥æœŸï¼Œå¯ä»¥æ˜¯ä»1åˆ°31ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ monthï¼šè¡¨ç¤ºæœˆä»½ï¼Œå¯ä»¥æ˜¯ä»1åˆ°12ä¹‹é—´çš„ä»»ä½•æ•´æ•°ã€‚ weekï¼šè¡¨ç¤ºæ˜ŸæœŸå‡ ï¼Œå¯ä»¥æ˜¯ä»0åˆ°7ä¹‹é—´çš„ä»»ä½•æ•´æ•°ï¼Œè¿™é‡Œçš„0æˆ–7ä»£è¡¨æ˜ŸæœŸæ—¥ã€‚ commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±ç¼–å†™çš„è„šæœ¬æ–‡ä»¶ã€‚ åœ¨ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚monthå­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œã€‚é€—å·ï¼ˆ,ï¼‰ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼Œâ€œ1,2,5,7,8,9â€ä¸­æ ï¼ˆ-ï¼‰ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚â€œ2-6â€è¡¨ç¤ºâ€œ2,3,4,5,6â€æ­£æ–œçº¿ï¼ˆ/ï¼‰ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚â€œ0-23&#x2F;2â€è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚*&#x2F;10ï¼Œå¦‚æœç”¨åœ¨minuteå­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚ crondæœåŠ¡å®‰è£…crontabï¼š $ yum install crontabs æœåŠ¡æ“ä½œè¯´æ˜ï¼š $ /sbin/service crond start //å¯åŠ¨æœåŠ¡ $ /sbin/service crond stop //å…³é—­æœåŠ¡ $ /sbin/service crond restart //é‡å¯æœåŠ¡ $ /sbin/service crond reload //é‡æ–°è½½å…¥é…ç½® æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€ï¼š $ service crond status æ‰‹åŠ¨å¯åŠ¨crontabæœåŠ¡ï¼š $ service crond start æŸ¥çœ‹crontabæœåŠ¡æ˜¯å¦å·²è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š $ ntsysv åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼š $ chkconfig â€“level 35 crond on contab å‘½ä»¤è¯¦è§£å‘½ä»¤æ ¼å¼$ crontab [-u user] file $ crontab [-u user] [ -e | -l | -r ] å‘½ä»¤åŠŸèƒ½ é€šè¿‡crontab å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell scriptè„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨åŠä»¥ä¸Šçš„ä»»æ„ç»„åˆã€‚è¿™ä¸ªå‘½ä»¤éå¸¸è®¾åˆå‘¨æœŸæ€§çš„æ—¥å¿—åˆ†ææˆ–æ•°æ®å¤‡ä»½ç­‰å·¥ä½œã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -u user ç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„crontabæœåŠ¡ï¼Œä¾‹å¦‚ï¼Œâ€œ-u ixdbaâ€è¡¨ç¤ºè®¾å®šixdbaç”¨æˆ·çš„crontabæœåŠ¡ï¼Œæ­¤å‚æ•°ä¸€èˆ¬æœ‰rootç”¨æˆ·æ¥è¿è¡Œ file fileæ˜¯å‘½ä»¤æ–‡ä»¶çš„åå­—,è¡¨ç¤ºå°†fileåšä¸ºcrontabçš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥crontabã€‚å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­æ²¡æœ‰æŒ‡å®šè¿™ä¸ªæ–‡ä»¶ï¼Œcrontabå‘½ä»¤å°†æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ä¸Šé”®å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬è½½å…¥crontabã€‚ -e ç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ -l æ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ -r ä»&#x2F;var&#x2F;spool&#x2F;cronç›®å½•ä¸­åˆ é™¤æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ -i åœ¨åˆ é™¤ç”¨æˆ·çš„crontabæ–‡ä»¶æ—¶ç»™ç¡®è®¤æç¤º å¸¸ç”¨æ–¹æ³•ä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„crontabæ–‡ä»¶åœ¨è€ƒè™‘å‘cronè¿›ç¨‹æäº¤ä¸€ä¸ªcrontabæ–‡ä»¶ä¹‹å‰ï¼Œé¦–å…ˆè¦åšçš„ä¸€ä»¶äº‹æƒ…å°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡EDITORã€‚cronè¿›ç¨‹æ ¹æ®å®ƒæ¥ç¡®å®šä½¿ç”¨å“ªä¸ªç¼–è¾‘å™¨ç¼–è¾‘crontabæ–‡ä»¶ã€‚9 9 %çš„UNIXå’ŒLINUXç”¨æˆ·éƒ½ä½¿ç”¨viï¼Œå¦‚æœä½ ä¹Ÿæ˜¯è¿™æ ·ï¼Œé‚£ä¹ˆä½ å°±ç¼–è¾‘$ HOMEç›®å½•ä¸‹çš„. profileæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åŠ å…¥è¿™æ ·ä¸€è¡Œï¼šEDITOR&#x3D;vi; export EDITORç„¶åä¿å­˜å¹¶é€€å‡ºã€‚ä¸å¦¨åˆ›å»ºä¸€ä¸ªåä¸º cronçš„æ–‡ä»¶ï¼Œå…¶ä¸­æ˜¯ç”¨æˆ·åï¼Œä¾‹å¦‚ï¼Œ davecronã€‚åœ¨è¯¥æ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹çš„å†…å®¹ã€‚ # (put your own initials here)echo the date to the console every # 15minutes between 6pm and 6am 0,15,30,45 18-06 * * * &#x2F;bin&#x2F;echo â€˜dateâ€™ &gt; &#x2F;dev&#x2F;console ä¿å­˜å¹¶é€€å‡ºã€‚ç¡®ä¿¡å‰é¢5ä¸ªåŸŸç”¨ç©ºæ ¼åˆ†éš”ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç³»ç»Ÿå°†æ¯éš”1 5åˆ†é’Ÿå‘æ§åˆ¶å°è¾“å‡ºä¸€æ¬¡å½“å‰æ—¶é—´ã€‚å¦‚æœç³»ç»Ÿå´©æºƒæˆ–æŒ‚èµ·ï¼Œä»æœ€åæ‰€æ˜¾ç¤ºçš„æ—¶é—´å°±å¯ä»¥ä¸€çœ¼çœ‹å‡ºç³»ç»Ÿæ˜¯ä»€ä¹ˆæ—¶é—´åœæ­¢å·¥ä½œçš„ã€‚åœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œç”¨tty1æ¥è¡¨ç¤ºæ§åˆ¶å°ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¯¹ä¸Šé¢çš„ä¾‹å­è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚ä¸ºäº†æäº¤ä½ åˆšåˆšåˆ›å»ºçš„crontabæ–‡ä»¶ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæ–°åˆ›å»ºçš„æ–‡ä»¶ä½œä¸ºcronå‘½ä»¤çš„å‚æ•°ï¼š $ crontab davecronç°åœ¨è¯¥æ–‡ä»¶å·²ç»æäº¤ç»™cronè¿›ç¨‹ï¼Œå®ƒå°†æ¯éš”1 5åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ã€‚åŒæ—¶ï¼Œæ–°åˆ›å»ºæ–‡ä»¶çš„ä¸€ä¸ªå‰¯æœ¬å·²ç»è¢«æ”¾åœ¨&#x2F;var&#x2F;spool&#x2F;cronç›®å½•ä¸­ï¼Œæ–‡ä»¶åå°±æ˜¯ç”¨æˆ·å(å³dave)ã€‚ä¾‹äºŒï¼šåˆ—å‡ºcrontabæ–‡ä»¶ $ crontab -l è¯´æ˜ï¼šä½ å°†ä¼šçœ‹åˆ°å’Œä¸Šé¢ç±»ä¼¼çš„å†…å®¹ã€‚å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•åœ¨$ H O M Eç›®å½•ä¸­å¯¹crontabæ–‡ä»¶åšä¸€å¤‡ä»½ï¼š $ crontab -l &gt; $HOME&#x2F;mycronè¿™æ ·ï¼Œä¸€æ—¦ä¸å°å¿ƒè¯¯åˆ äº†crontabæ–‡ä»¶ï¼Œå¯ä»¥ç”¨ä¸Šä¸€èŠ‚æ‰€è®²è¿°çš„æ–¹æ³•è¿…é€Ÿæ¢å¤ã€‚ ä¾‹ä¸‰ï¼šç¼–è¾‘crontabæ–‡ä»¶ $ crontab -e è¯´æ˜ï¼šå¯ä»¥åƒä½¿ç”¨v iç¼–è¾‘å…¶ä»–ä»»ä½•æ–‡ä»¶é‚£æ ·ä¿®æ”¹crontabæ–‡ä»¶å¹¶é€€å‡ºã€‚å¦‚æœä¿®æ”¹äº†æŸäº›æ¡ç›®æˆ–æ·»åŠ äº†æ–°çš„æ¡ç›®ï¼Œé‚£ä¹ˆåœ¨ä¿å­˜è¯¥æ–‡ä»¶æ—¶ï¼Œ c r o nä¼šå¯¹å…¶è¿›è¡Œå¿…è¦çš„å®Œæ•´æ€§æ£€æŸ¥ã€‚å¦‚æœå…¶ä¸­çš„æŸä¸ªåŸŸå‡ºç°äº†è¶…å‡ºå…è®¸èŒƒå›´çš„å€¼ï¼Œå®ƒä¼šæç¤ºä½ ã€‚æˆ‘ä»¬åœ¨ç¼–è¾‘crontabæ–‡ä»¶æ—¶ï¼Œæ²¡å‡†ä¼šåŠ å…¥æ–°çš„æ¡ç›®ã€‚ä¾‹å¦‚ï¼ŒåŠ å…¥ä¸‹é¢çš„ä¸€æ¡ï¼š # DT:delete core files,at 3.30am on 1,7,14,21,26,26 days of each month 30 3 1,7,14,21,26 * * &#x2F;bin&#x2F;find -name â€œcoreâ€™ -exec rm {} ;ç°åœ¨ä¿å­˜å¹¶é€€å‡ºã€‚æœ€å¥½åœ¨crontabæ–‡ä»¶çš„æ¯ä¸€ä¸ªæ¡ç›®ä¹‹ä¸ŠåŠ å…¥ä¸€æ¡æ³¨é‡Šï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“å®ƒçš„åŠŸèƒ½ã€è¿è¡Œæ—¶é—´ï¼Œæ›´ä¸ºé‡è¦çš„æ˜¯ï¼ŒçŸ¥é“è¿™æ˜¯å“ªä½ç”¨æˆ·çš„ä½œä¸šã€‚ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨å‰é¢è®²è¿‡çš„crontab -lå‘½ä»¤åˆ—å‡ºå®ƒçš„å…¨éƒ¨ä¿¡æ¯ï¼š $ crontab -l # (crondave installed on Tue May 4 13:07:43 1999) # DT:ech the date to the console every 30 minites 0,15,30,45 18-06 * * * &#x2F;bin&#x2F;echo date &gt; &#x2F;dev&#x2F;tty1 # DT:delete core files,at 3.30am on 1,7,14,21,26,26 days of each month 30 3 1,7,14,21,26 * * &#x2F;bin&#x2F;find -name â€œcoreâ€™ -exec rm {} ; ä¾‹å››ï¼šåˆ é™¤crontabæ–‡ä»¶ $ crontab -r ä¾‹äº”ï¼šæ¢å¤ä¸¢å¤±çš„crontabæ–‡ä»¶å¦‚æœä¸å°å¿ƒè¯¯åˆ äº†crontabæ–‡ä»¶ï¼Œå‡è®¾ä½ åœ¨è‡ªå·±çš„$ H O M Eç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ªå¤‡ä»½ï¼Œé‚£ä¹ˆå¯ä»¥å°†å…¶æ‹·è´åˆ°&#x2F;var&#x2F;spool&#x2F;cron&#x2F;ï¼Œå…¶ä¸­æ˜¯ç”¨æˆ·åã€‚å¦‚æœç”±äºæƒé™é—®é¢˜æ— æ³•å®Œæˆæ‹·è´ï¼Œå¯ä»¥ç”¨ï¼š $ crontab å…¶ä¸­ï¼Œæ˜¯ä½ åœ¨$ H O M Eç›®å½•ä¸­å‰¯æœ¬çš„æ–‡ä»¶åã€‚æˆ‘å»ºè®®ä½ åœ¨è‡ªå·±çš„$ H O M Eç›®å½•ä¸­ä¿å­˜ä¸€ä¸ªè¯¥æ–‡ä»¶çš„å‰¯æœ¬ã€‚æˆ‘å°±æœ‰è¿‡ç±»ä¼¼çš„ç»å†ï¼Œæœ‰æ•°æ¬¡è¯¯åˆ äº†crontabæ–‡ä»¶ï¼ˆå› ä¸ºré”®ç´§æŒ¨åœ¨eé”®çš„å³è¾¹ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰äº›ç³»ç»Ÿæ–‡æ¡£å»ºè®®ä¸è¦ç›´æ¥ç¼–è¾‘crontabæ–‡ä»¶ï¼Œè€Œæ˜¯ç¼–è¾‘è¯¥æ–‡ä»¶çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åé‡æ–°æäº¤æ–°çš„æ–‡ä»¶ã€‚æœ‰äº›crontabçš„å˜ä½“æœ‰äº›æ€ªå¼‚ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨crontabå‘½ä»¤æ—¶è¦æ ¼å¤–å°å¿ƒã€‚å¦‚æœé—æ¼äº†ä»»ä½•é€‰é¡¹ï¼Œcrontabå¯èƒ½ä¼šæ‰“å¼€ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œæˆ–è€…çœ‹èµ·æ¥åƒæ˜¯ä¸ªç©ºæ–‡ä»¶ã€‚è¿™æ—¶æ•²deleteé”®é€€å‡ºï¼Œä¸è¦æŒ‰ï¼Œå¦åˆ™ä½ å°†ä¸¢å¤±crontabæ–‡ä»¶ã€‚ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡command * * * * * command ä¾‹äºŒï¼šæ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ 3,15 * * * * command ä¾‹ä¸‰ï¼šåœ¨ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 * * * command ä¾‹å››ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 */2 * * command ä¾‹äº”ï¼šæ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ 3,15 8-11 * * 1 command ä¾‹å…­ï¼šæ¯æ™šçš„21:30é‡å¯smb 30 21 * * * /etc/init.d/smb restart ä¾‹ä¸ƒï¼šæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯smb 45 4 1,10,22 * * /etc/init.d/smb restart ä¾‹å…«ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯smb 10 1 * * 6,0 /etc/init.d/smb restart ä¾‹ä¹ï¼šæ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯smb 0,30 18-23 * * * /etc/init.d/smb restart ä¾‹åï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š11 : 00 pmé‡å¯smb 0 23 * * 6 /etc/init.d/smb restart ä¾‹åä¸€ï¼šæ¯ä¸€å°æ—¶é‡å¯smb * */1 * * * /etc/init.d/smb restart ä¾‹åäºŒï¼šæ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯smb * 23-7/1 * * * /etc/init.d/smb restart ä¾‹åä¸‰ï¼šæ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯smb 0 11 4 * mon-wed /etc/init.d/smb restart ä¾‹åå››ï¼šä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯smb 0 4 1 jan * /etc/init.d/smb restart ä¾‹åäº”ï¼šæ¯å°æ—¶æ‰§è¡Œ&#x2F;etc&#x2F;cron.hourlyç›®å½•å†…çš„è„šæœ¬ 01 * * * * root run-parts /etc/cron.hourly è¯´æ˜ï¼šrun-partsè¿™ä¸ªå‚æ•°äº†ï¼Œå¦‚æœå»æ‰è¿™ä¸ªå‚æ•°çš„è¯ï¼Œåé¢å°±å¯ä»¥å†™è¦è¿è¡Œçš„æŸä¸ªè„šæœ¬åï¼Œè€Œä¸æ˜¯ç›®å½•åäº† æ³¨æ„äº‹é¡¹æ³¨æ„ç¯å¢ƒå˜é‡é—®é¢˜ æœ‰æ—¶æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªcrontabï¼Œä½†æ˜¯è¿™ä¸ªä»»åŠ¡å´æ— æ³•è‡ªåŠ¨æ‰§è¡Œï¼Œè€Œæ‰‹åŠ¨æ‰§è¡Œè¿™ä¸ªä»»åŠ¡å´æ²¡æœ‰é—®é¢˜ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ç”±äºåœ¨crontabæ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡å¼•èµ·çš„ã€‚ åœ¨crontabæ–‡ä»¶ä¸­å®šä¹‰å¤šä¸ªè°ƒåº¦ä»»åŠ¡æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç¯å¢ƒå˜é‡çš„è®¾ç½®ï¼Œå› ä¸ºæˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡ŒæŸä¸ªä»»åŠ¡æ—¶ï¼Œæ˜¯åœ¨å½“å‰shellç¯å¢ƒä¸‹è¿›è¡Œçš„ï¼Œç¨‹åºå½“ç„¶èƒ½æ‰¾åˆ°ç¯å¢ƒå˜é‡ï¼Œè€Œç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡è°ƒåº¦æ—¶ï¼Œæ˜¯ä¸ä¼šåŠ è½½ä»»ä½•ç¯å¢ƒå˜é‡çš„ï¼Œå› æ­¤ï¼Œå°±éœ€è¦åœ¨crontabæ–‡ä»¶ä¸­æŒ‡å®šä»»åŠ¡è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·ï¼Œç³»ç»Ÿæ‰§è¡Œä»»åŠ¡è°ƒåº¦æ—¶å°±æ²¡æœ‰é—®é¢˜äº†ã€‚ ä¸è¦å‡å®šcronçŸ¥é“æ‰€éœ€è¦çš„ç‰¹æ®Šç¯å¢ƒï¼Œå®ƒå…¶å®å¹¶ä¸çŸ¥é“ã€‚æ‰€ä»¥ä½ è¦ä¿è¯åœ¨shelllè„šæœ¬ä¸­æä¾›æ‰€æœ‰å¿…è¦çš„è·¯å¾„å’Œç¯å¢ƒå˜é‡ï¼Œé™¤äº†ä¸€äº›è‡ªåŠ¨è®¾ç½®çš„å…¨å±€å˜é‡ã€‚æ‰€ä»¥æ³¨æ„å¦‚ä¸‹3ç‚¹ï¼š 1ï¼‰è„šæœ¬ä¸­æ¶‰åŠæ–‡ä»¶è·¯å¾„æ—¶å†™å…¨å±€è·¯å¾„ï¼› 2ï¼‰è„šæœ¬æ‰§è¡Œè¦ç”¨åˆ°javaæˆ–å…¶ä»–ç¯å¢ƒå˜é‡æ—¶ï¼Œé€šè¿‡sourceå‘½ä»¤å¼•å…¥ç¯å¢ƒå˜é‡ï¼Œå¦‚ï¼š $ cat start_cbp.sh #!/bin/sh source /etc/profile export RUN_CONF=/home/d139/conf/platform/cbp/cbp_jboss.conf /usr/local/jboss-4.0.5/bin/run.sh -c mev &amp; 3ï¼‰å½“æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬OKï¼Œä½†æ˜¯crontabæ­»æ´»ä¸æ‰§è¡Œæ—¶ã€‚è¿™æ—¶å¿…é¡»å¤§èƒ†æ€€ç–‘æ˜¯ç¯å¢ƒå˜é‡æƒ¹çš„ç¥¸ï¼Œå¹¶å¯ä»¥å°è¯•åœ¨crontabä¸­ç›´æ¥å¼•å…¥ç¯å¢ƒå˜é‡è§£å†³é—®é¢˜ã€‚å¦‚ï¼š 0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh æ³¨æ„æ¸…ç†ç³»ç»Ÿç”¨æˆ·çš„é‚®ä»¶æ—¥å¿— æ¯æ¡ä»»åŠ¡è°ƒåº¦æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿéƒ½ä¼šå°†ä»»åŠ¡è¾“å‡ºä¿¡æ¯é€šè¿‡ç”µå­é‚®ä»¶çš„å½¢å¼å‘é€ç»™å½“å‰ç³»ç»Ÿç”¨æˆ·ï¼Œè¿™æ ·æ—¥ç§¯æœˆç´¯ï¼Œæ—¥å¿—ä¿¡æ¯ä¼šéå¸¸å¤§ï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œå› æ­¤ï¼Œå°†æ¯æ¡ä»»åŠ¡è¿›è¡Œé‡å®šå‘å¤„ç†éå¸¸é‡è¦ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨crontabæ–‡ä»¶ä¸­è®¾ç½®å¦‚ä¸‹å½¢å¼ï¼Œå¿½ç•¥æ—¥å¿—è¾“å‡ºï¼š 0 */3 * * * /usr/local/apache2/apachectl restart &gt;/dev/null 2&gt;&amp;1 â€œ&#x2F;dev&#x2F;null 2&gt;&amp;1â€è¡¨ç¤ºå…ˆå°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°&#x2F;dev&#x2F;nullï¼Œç„¶åå°†æ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œç”±äºæ ‡å‡†è¾“å‡ºå·²ç»é‡å®šå‘åˆ°äº†&#x2F;dev&#x2F;nullï¼Œå› æ­¤æ ‡å‡†é”™è¯¯ä¹Ÿä¼šé‡å®šå‘åˆ°&#x2F;dev&#x2F;nullï¼Œè¿™æ ·æ—¥å¿—è¾“å‡ºé—®é¢˜å°±è§£å†³äº†ã€‚ ç³»ç»Ÿçº§ä»»åŠ¡è°ƒåº¦ä¸ç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦ ç³»ç»Ÿçº§ä»»åŠ¡è°ƒåº¦ä¸»è¦å®Œæˆç³»ç»Ÿçš„ä¸€äº›ç»´æŠ¤æ“ä½œï¼Œç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦ä¸»è¦å®Œæˆç”¨æˆ·è‡ªå®šä¹‰çš„ä¸€äº›ä»»åŠ¡ï¼Œå¯ä»¥å°†ç”¨æˆ·çº§ä»»åŠ¡è°ƒåº¦æ”¾åˆ°ç³»ç»Ÿçº§ä»»åŠ¡è°ƒåº¦æ¥å®Œæˆï¼ˆä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼Œä½†æ˜¯åè¿‡æ¥å´ä¸è¡Œï¼Œrootç”¨æˆ·çš„ä»»åŠ¡è°ƒåº¦æ“ä½œå¯ä»¥é€šè¿‡â€œcrontab â€“uroot â€“eâ€æ¥è®¾ç½®ï¼Œä¹Ÿå¯ä»¥å°†è°ƒåº¦ä»»åŠ¡ç›´æ¥å†™å…¥&#x2F;etc&#x2F;crontabæ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å®šä¹‰ä¸€ä¸ªå®šæ—¶é‡å¯ç³»ç»Ÿçš„ä»»åŠ¡ï¼Œå°±å¿…é¡»å°†ä»»åŠ¡æ”¾åˆ°&#x2F;etc&#x2F;crontabæ–‡ä»¶ï¼Œå³ä½¿åœ¨rootç”¨æˆ·ä¸‹åˆ›å»ºä¸€ä¸ªå®šæ—¶é‡å¯ç³»ç»Ÿçš„ä»»åŠ¡ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚ å…¶ä»–æ³¨æ„äº‹é¡¹ æ–°åˆ›å»ºçš„cron jobï¼Œä¸ä¼šé©¬ä¸Šæ‰§è¡Œï¼Œè‡³å°‘è¦è¿‡2åˆ†é’Ÿæ‰æ‰§è¡Œã€‚å¦‚æœé‡å¯cronåˆ™é©¬ä¸Šæ‰§è¡Œã€‚ å½“crontabçªç„¶å¤±æ•ˆæ—¶ï¼Œå¯ä»¥å°è¯•&#x2F;etc&#x2F;init.d&#x2F;crond restartè§£å†³é—®é¢˜ã€‚æˆ–è€…æŸ¥çœ‹æ—¥å¿—çœ‹æŸä¸ªjobæœ‰æ²¡æœ‰æ‰§è¡Œ&#x2F;æŠ¥é”™tail -f &#x2F;var&#x2F;log&#x2F;cronã€‚ åƒä¸‡åˆ«ä¹±è¿è¡Œcrontab -rã€‚å®ƒä»Crontabç›®å½•ï¼ˆ&#x2F;var&#x2F;spool&#x2F;cronï¼‰ä¸­åˆ é™¤ç”¨æˆ·çš„Crontabæ–‡ä»¶ã€‚åˆ é™¤äº†è¯¥ç”¨æˆ·çš„æ‰€æœ‰crontabéƒ½æ²¡äº†ã€‚ åœ¨crontabä¸­%æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ï¼Œè¡¨ç¤ºæ¢è¡Œçš„æ„æ€ã€‚å¦‚æœè¦ç”¨çš„è¯å¿…é¡»è¿›è¡Œè½¬ä¹‰%ï¼Œå¦‚ç»å¸¸ç”¨çš„date â€˜+%Y%m%dâ€™åœ¨crontabé‡Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œåº”è¯¥æ¢æˆdate â€˜+%Y%m%dâ€™ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ54ï¼‰: at","slug":"linux-command-54-at","date":"2017-01-22T02:23:44.000Z","updated":"2024-07-05T11:10:22.788Z","comments":true,"path":"2017/01/22/linux-command-54-at/","permalink":"http://yelog.org/2017/01/22/linux-command-54-at/","excerpt":"åœ¨windowsç³»ç»Ÿä¸­ï¼Œwindowsæä¾›äº†è®¡åˆ’ä»»åŠ¡è¿™ä¸€åŠŸèƒ½ï¼Œåœ¨æ§åˆ¶é¢æ¿ -&gt; æ€§èƒ½ä¸ç»´æŠ¤ -&gt; ä»»åŠ¡è®¡åˆ’ï¼Œ å®ƒçš„åŠŸèƒ½å°±æ˜¯å®‰æ’è‡ªåŠ¨è¿è¡Œçš„ä»»åŠ¡ã€‚ é€šè¿‡â€™æ·»åŠ ä»»åŠ¡è®¡åˆ’â€™çš„ä¸€æ­¥æ­¥å¼•å¯¼ï¼Œåˆ™å¯å»ºç«‹ä¸€ä¸ªå®šæ—¶æ‰§è¡Œçš„ä»»åŠ¡ã€‚","text":"åœ¨windowsç³»ç»Ÿä¸­ï¼Œwindowsæä¾›äº†è®¡åˆ’ä»»åŠ¡è¿™ä¸€åŠŸèƒ½ï¼Œåœ¨æ§åˆ¶é¢æ¿ -&gt; æ€§èƒ½ä¸ç»´æŠ¤ -&gt; ä»»åŠ¡è®¡åˆ’ï¼Œ å®ƒçš„åŠŸèƒ½å°±æ˜¯å®‰æ’è‡ªåŠ¨è¿è¡Œçš„ä»»åŠ¡ã€‚ é€šè¿‡â€™æ·»åŠ ä»»åŠ¡è®¡åˆ’â€™çš„ä¸€æ­¥æ­¥å¼•å¯¼ï¼Œåˆ™å¯å»ºç«‹ä¸€ä¸ªå®šæ—¶æ‰§è¡Œçš„ä»»åŠ¡ã€‚ åœ¨linuxç³»ç»Ÿä¸­ä½ å¯èƒ½å·²ç»å‘ç°äº†ä¸ºä»€ä¹ˆç³»ç»Ÿå¸¸å¸¸ä¼šè‡ªåŠ¨çš„è¿›è¡Œä¸€äº›ä»»åŠ¡ï¼Ÿè¿™äº›ä»»åŠ¡åˆ°åº•æ˜¯è°åœ¨æ”¯é…ä»–ä»¬å·¥ä½œçš„ï¼Ÿåœ¨linuxç³»ç»Ÿå¦‚æœä½ æƒ³è¦è®©è‡ªå·±è®¾è®¡çš„å¤‡ä»½ç¨‹åºå¯ä»¥è‡ªåŠ¨åœ¨æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹åœ¨ç³»ç»Ÿåº•ä¸‹è¿è¡Œï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨æ¥å¯åŠ¨å®ƒï¼Œåˆè¯¥å¦‚ä½•å¤„ç½®å‘¢ï¼Ÿ è¿™äº›ä¾‹è¡Œçš„å·¥ä½œå¯èƒ½åˆåˆ†ä¸ºä¸€æ¬¡æ€§å®šæ—¶å·¥ä½œä¸å¾ªç¯å®šæ—¶å·¥ä½œï¼Œåœ¨ç³»ç»Ÿå†…åˆæ˜¯å“ªäº›æœåŠ¡åœ¨è´Ÿè´£ï¼Ÿ è¿˜æœ‰ï¼Œå¦‚æœä½ æƒ³è¦æ¯å¹´åœ¨è€å©†çš„ç”Ÿæ—¥å‰ä¸€å¤©å°±å‘å‡ºä¸€å°ä¿¡ä»¶æé†’è‡ªå·±ä¸è¦å¿˜è®°ï¼Œlinuxç³»ç»Ÿä¸‹è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ ä»Šå¤©æˆ‘ä»¬ä¸»è¦å­¦ä¹ ä¸€ä¸‹ä¸€æ¬¡æ€§å®šæ—¶è®¡åˆ’ä»»åŠ¡çš„atå‘½ä»¤çš„ç”¨æ³•ï¼ å‘½ä»¤æ ¼å¼$ at [å‚æ•°] [æ—¶é—´] å‘½ä»¤åŠŸèƒ½ åœ¨ä¸€ä¸ªæŒ‡å®šçš„æ—¶é—´æ‰§è¡Œä¸€ä¸ªæŒ‡å®šä»»åŠ¡ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä¸”éœ€è¦å¼€å¯atdè¿›ç¨‹ï¼ˆps -ef | grep atdæŸ¥çœ‹ï¼Œ å¼€å¯ç”¨&#x2F;etc&#x2F;init.d&#x2F;atd start or restartï¼› å¼€æœºå³å¯åŠ¨åˆ™éœ€è¦è¿è¡Œ chkconfig â€“level 2345 atd onï¼‰ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -m å½“æŒ‡å®šçš„ä»»åŠ¡è¢«å®Œæˆä¹‹åï¼Œå°†ç»™ç”¨æˆ·å‘é€é‚®ä»¶ï¼Œå³ä½¿æ²¡æœ‰æ ‡å‡†è¾“å‡º -I atqçš„åˆ«å -d atrmçš„åˆ«å -v æ˜¾ç¤ºä»»åŠ¡å°†è¢«æ‰§è¡Œçš„æ—¶é—´ -c æ‰“å°ä»»åŠ¡çš„å†…å®¹åˆ°æ ‡å‡†è¾“å‡º -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -q&lt;åˆ—é˜Ÿ&gt; ä½¿ç”¨æŒ‡å®šçš„åˆ—é˜Ÿ -f&lt;æ–‡ä»¶&gt; ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ä»»åŠ¡è€Œä¸æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å…¥ -t&lt;æ—¶é—´å‚æ•°&gt; ä»¥æ—¶é—´å‚æ•°çš„å½¢å¼æäº¤è¦è¿è¡Œçš„ä»»åŠ¡atå…è®¸ä½¿ç”¨ä¸€å¥—ç›¸å½“å¤æ‚çš„æŒ‡å®šæ—¶é—´çš„æ–¹æ³•ã€‚ä»–èƒ½å¤Ÿæ¥å—åœ¨å½“å¤©çš„hh:mmï¼ˆå°æ—¶:åˆ†é’Ÿï¼‰å¼çš„æ—¶é—´æŒ‡å®šã€‚å‡å¦‚è¯¥æ—¶é—´å·²è¿‡å»ï¼Œé‚£ä¹ˆå°±æ”¾åœ¨ç¬¬äºŒå¤©æ‰§è¡Œã€‚å½“ç„¶ä¹Ÿèƒ½å¤Ÿä½¿ç”¨midnightï¼ˆæ·±å¤œï¼‰ï¼Œnoonï¼ˆä¸­åˆï¼‰ï¼Œteatimeï¼ˆé¥®èŒ¶æ—¶é—´ï¼Œä¸€èˆ¬æ˜¯ä¸‹åˆ4ç‚¹ï¼‰ç­‰æ¯”è¾ƒæ¨¡ç³Šçš„ è¯è¯­æ¥æŒ‡å®šæ—¶é—´ã€‚ç”¨æˆ·è¿˜èƒ½å¤Ÿé‡‡ç”¨12å°æ—¶è®¡æ—¶åˆ¶ï¼Œå³åœ¨æ—¶é—´åé¢åŠ ä¸ŠAMï¼ˆä¸Šåˆï¼‰æˆ–PMï¼ˆä¸‹åˆï¼‰æ¥è¯´æ˜æ˜¯ä¸Šåˆè¿˜æ˜¯ä¸‹åˆã€‚ ä¹Ÿèƒ½å¤ŸæŒ‡å®šå‘½ä»¤æ‰§è¡Œçš„å…·ä½“æ—¥æœŸï¼ŒæŒ‡å®šæ ¼å¼ä¸ºmonth dayï¼ˆæœˆ æ—¥ï¼‰æˆ–mm&#x2F;dd&#x2F;yyï¼ˆæœˆ&#x2F;æ—¥&#x2F;å¹´ï¼‰æˆ–dd.mm.yyï¼ˆæ—¥.æœˆ.å¹´ï¼‰ã€‚æŒ‡å®šçš„æ—¥æœŸå¿…é¡»è·Ÿåœ¨æŒ‡å®šæ—¶é—´çš„åé¢ã€‚ ä¸Šé¢ä»‹ç»çš„éƒ½æ˜¯ç»å¯¹è®¡æ—¶æ³•ï¼Œå…¶å®è¿˜èƒ½å¤Ÿä½¿ç”¨ç›¸å¯¹è®¡æ—¶æ³•ï¼Œè¿™å¯¹äºå®‰æ’ä¸ä¹…å°±è¦æ‰§è¡Œçš„å‘½ä»¤æ˜¯å¾ˆæœ‰å¥½å¤„çš„ã€‚æŒ‡å®šæ ¼å¼ä¸ºï¼šnow + count time-units ï¼Œnowå°±æ˜¯å½“å‰æ—¶é—´ï¼Œtime-unitsæ˜¯æ—¶é—´å•ä½ï¼Œè¿™é‡Œèƒ½å¤Ÿæ˜¯minutesï¼ˆåˆ†é’Ÿï¼‰ã€hoursï¼ˆå°æ—¶ï¼‰ã€daysï¼ˆå¤©ï¼‰ã€weeksï¼ˆæ˜ŸæœŸï¼‰ã€‚countæ˜¯æ—¶é—´çš„æ•°é‡ï¼Œç©¶ç«Ÿæ˜¯å‡ å¤©ï¼Œè¿˜æ˜¯å‡ å°æ—¶ï¼Œç­‰ç­‰ã€‚ æ›´æœ‰ä¸€ç§è®¡æ—¶æ–¹æ³•å°±æ˜¯ç›´æ¥ä½¿ç”¨todayï¼ˆä»Šå¤©ï¼‰ã€tomorrowï¼ˆæ˜å¤©ï¼‰æ¥æŒ‡å®šå®Œæˆå‘½ä»¤çš„æ—¶é—´ã€‚ TIME æ—¶é—´æ ¼å¼ï¼Œè¿™é‡Œå¯ä»¥å®šä¹‰å‡ºä»€ä¹ˆæ—¶å€™è¦è¿›è¡Œ at è¿™é¡¹ä»»åŠ¡çš„æ—¶é—´ TIMEçš„æ ¼å¼ï¼š HH:MM ex&gt; 04:00 åœ¨ä»Šæ—¥çš„ HH:MM æ—¶åˆ»è¿›è¡Œï¼Œè‹¥è¯¥æ—¶åˆ»å·²è¶…è¿‡ï¼Œåˆ™æ˜å¤©çš„ HH:MM è¿›è¡Œæ­¤ä»»åŠ¡ã€‚ HH:MM YYYY-MM-DDex&gt; 04:00 2009-03-17å¼ºåˆ¶è§„å®šåœ¨æŸå¹´æŸæœˆçš„æŸä¸€å¤©çš„ç‰¹æ®Šæ—¶åˆ»è¿›è¡Œè¯¥é¡¹ä»»åŠ¡ HH:MM[am|pm] [Month] [Date]ex&gt; 04pm March 17ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¼ºåˆ¶åœ¨æŸå¹´æŸæœˆæŸæ—¥çš„æŸæ—¶åˆ»è¿›è¡Œè¯¥é¡¹ä»»åŠ¡ HH:MM[am|pm] + number [minutes|hours|days|weeks]ex&gt; now + 5 minutesex&gt; 04pm + 3 dayså°±æ˜¯è¯´ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹å†åŠ å‡ ä¸ªæ—¶é—´åæ‰è¿›è¡Œè¯¥é¡¹ä»»åŠ¡ã€‚ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šä¸‰å¤©åçš„ä¸‹åˆ 5 ç‚¹é”ºæ‰§è¡Œ &#x2F;bin&#x2F;ls $ at 5pm+3 days at&gt; /bin/ls at&gt; &lt;EOT&gt; # æŒ‰ä¸€ä¸‹Ctrl+då°±ä¼šå‡ºç°&lt;EOT&gt;ç»“æŸç¬¦ job 2 at Thu Feb 2 17:00:00 2017 ä¾‹äºŒï¼šæ˜å¤©17ç‚¹é’Ÿï¼Œè¾“å‡ºæ—¶é—´åˆ°æŒ‡å®šæ–‡ä»¶å†… $ at 17:20 tomorrow at&gt; date &gt;/root/2013.log at&gt; &lt;EOT&gt; ä¾‹ä¸‰ï¼šè®¡åˆ’ä»»åŠ¡è®¾å®šåï¼Œåœ¨æ²¡æœ‰æ‰§è¡Œä¹‹å‰æˆ‘ä»¬å¯ä»¥ç”¨atqå‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿæ²¡æœ‰æ‰§è¡Œå·¥ä½œä»»åŠ¡ $ atq 2 Thu Feb 2 17:00:00 2017 a faker ä¾‹å››ï¼šåˆ é™¤å·²ç»è®¾ç½®çš„ä»»åŠ¡ # 2 ä¸ºatqæŸ¥å‡ºæ¥çš„æœ€å‰é¢çš„ä»»åŠ¡id $ atrm 2 ä¾‹äº”ï¼šæ˜¾ç¤ºå·²ç»è®¾ç½®çš„ä»»åŠ¡å†…å®¹ $ at -c 2 #!/bin/sh # atrun uid=1000 gid=1000 # mail faker 0 umask 22 æ­¤å¤„çœç•¥nä¸ªå­—ç¬¦ /bin/ls atd çš„å¯åŠ¨ä¸ at è¿è¡Œçš„æ–¹å¼atd çš„å¯åŠ¨ è¦ä½¿ç”¨ä¸€æ¬¡æ€§è®¡åˆ’ä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬çš„ Linux ç³»ç»Ÿä¸Šé¢å¿…é¡»è¦æœ‰è´Ÿè´£è¿™ä¸ªè®¡åˆ’ä»»åŠ¡çš„æœåŠ¡ï¼Œé‚£å°±æ˜¯ atd æœåŠ¡ã€‚ ä¸è¿‡å¹¶éæ‰€æœ‰çš„ Linux distributions éƒ½é»˜è®¤ä¼šæŠŠä»–æ‰“å¼€çš„ï¼Œæ‰€ä»¥ï¼ŒæŸäº›æ—¶åˆ»æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å°†atd æœåŠ¡æ¿€æ´»æ‰è¡Œã€‚ æ¿€æ´»çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯è¿™æ ·ï¼šå‘½ä»¤ï¼š $ /etc/init.d/atd start $ /etc/init.d/atd restart é…ç½®ä¸€ä¸‹å¯åŠ¨æ—¶å°±å¯åŠ¨è¿™ä¸ªæœåŠ¡ï¼Œå…å¾—æ¯æ¬¡é‡æ–°å¯åŠ¨éƒ½å¾—å†æ¥ä¸€æ¬¡ $ chkconfig atd on at çš„è¿è¡Œæ–¹å¼ æ—¢ç„¶æ˜¯è®¡åˆ’ä»»åŠ¡ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šæœ‰ä»»åŠ¡æ‰§è¡Œçš„æ–¹å¼ï¼Œå¹¶ä¸”å°†è¿™äº›ä»»åŠ¡æ’è¿›è¡Œç¨‹è¡¨ä¸­ã€‚é‚£ä¹ˆäº§ç”Ÿè®¡åˆ’ä»»åŠ¡çš„æ–¹å¼æ˜¯æ€ä¹ˆè¿›è¡Œçš„? äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ at è¿™ä¸ªå‘½ä»¤æ¥äº§ç”Ÿæ‰€è¦è¿è¡Œçš„è®¡åˆ’ä»»åŠ¡ï¼Œå¹¶å°†è¿™ä¸ªè®¡åˆ’ä»»åŠ¡ä»¥æ–‡å­—æ¡£çš„æ–¹å¼å†™å…¥ &#x2F;var&#x2F;spool&#x2F;at&#x2F; ç›®å½•å†…ï¼Œè¯¥å·¥ä½œä¾¿èƒ½ç­‰å¾… atd è¿™ä¸ªæœåŠ¡çš„å–ç”¨ä¸è¿è¡Œäº†ã€‚å°±è¿™ä¹ˆç®€å•ã€‚ ä¸è¿‡ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„äººéƒ½å¯ä»¥è¿›è¡Œ at è®¡åˆ’ä»»åŠ¡ã€‚ä¸ºä»€ä¹ˆ? å› ä¸ºç³»ç»Ÿå®‰å…¨çš„åŸå› ã€‚å¾ˆå¤šä¸»æœºè¢«æ‰€è°“çš„æ”»å‡»ç ´è§£åï¼Œæœ€å¸¸å‘ç°çš„å°±æ˜¯ä»–ä»¬çš„ç³»ç»Ÿå½“ä¸­å¤šäº†å¾ˆå¤šçš„é»‘å®¢ç¨‹åºï¼Œ è¿™äº›ç¨‹åºéå¸¸å¯èƒ½è¿ç”¨ä¸€äº›è®¡åˆ’ä»»åŠ¡æ¥è¿è¡Œæˆ–æœé›†ä½ çš„ç³»ç»Ÿè¿è¡Œä¿¡æ¯,å¹¶å®šæ—¶çš„å‘é€ç»™é»‘å®¢ã€‚ æ‰€ä»¥ï¼Œé™¤éæ˜¯ä½ è®¤å¯çš„å¸å·ï¼Œå¦åˆ™å…ˆä¸è¦è®©ä»–ä»¬ä½¿ç”¨ at å‘½ä»¤ã€‚é‚£æ€ä¹ˆè¾¾åˆ°ä½¿ç”¨ at çš„å¯æ§å‘¢? æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ &#x2F;etc&#x2F;at.allow ä¸ &#x2F;etc&#x2F;at.deny è¿™ä¸¤ä¸ªæ–‡ä»¶æ¥è¿›è¡Œ at çš„ä½¿ç”¨é™åˆ¶ã€‚åŠ ä¸Šè¿™ä¸¤ä¸ªæ–‡ä»¶åï¼Œ at çš„å·¥ä½œæƒ…å†µæ˜¯è¿™æ ·çš„ï¼š å…ˆæ‰¾å¯» &#x2F;etc&#x2F;at.allow è¿™ä¸ªæ–‡ä»¶ï¼Œå†™åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­çš„ä½¿ç”¨è€…æ‰èƒ½ä½¿ç”¨ at ï¼Œæ²¡æœ‰åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­çš„ä½¿ç”¨è€…åˆ™ä¸èƒ½ä½¿ç”¨ at (å³ä½¿æ²¡æœ‰å†™åœ¨ at.deny å½“ä¸­); å¦‚æœ &#x2F;etc&#x2F;at.allow ä¸å­˜åœ¨ï¼Œå°±å¯»æ‰¾ &#x2F;etc&#x2F;at.deny è¿™ä¸ªæ–‡ä»¶ï¼Œè‹¥å†™åœ¨è¿™ä¸ª at.deny çš„ä½¿ç”¨è€…åˆ™ä¸èƒ½ä½¿ç”¨ at ï¼Œè€Œæ²¡æœ‰åœ¨è¿™ä¸ª at.deny æ–‡ä»¶ä¸­çš„ä½¿ç”¨è€…ï¼Œå°±å¯ä»¥ä½¿ç”¨ at å‘½ä»¤äº†ã€‚ å¦‚æœä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåªæœ‰ root å¯ä»¥ä½¿ç”¨ at è¿™ä¸ªå‘½ä»¤ã€‚ é€è¿‡è¿™ä¸ªè¯´æ˜ï¼Œæˆ‘ä»¬çŸ¥é“ &#x2F;etc&#x2F;at.allow æ˜¯ç®¡ç†è¾ƒä¸ºä¸¥æ ¼çš„æ–¹å¼ï¼Œè€Œ &#x2F;etc&#x2F;at.deny åˆ™è¾ƒä¸ºæ¾æ•£ (å› ä¸ºå¸å·æ²¡æœ‰åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå°±èƒ½å¤Ÿè¿è¡Œ at äº†)ã€‚åœ¨ä¸€èˆ¬çš„ distributions å½“ä¸­ï¼Œç”±äºå‡è®¾ç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯ä¿¡ä»»çš„ï¼Œ å› æ­¤ç³»ç»Ÿé€šå¸¸ä¼šä¿ç•™ä¸€ä¸ªç©ºçš„ &#x2F;etc&#x2F;at.deny æ–‡ä»¶ï¼Œæ„æ€æ˜¯å…è®¸æ‰€æœ‰äººä½¿ç”¨ at å‘½ä»¤çš„æ„æ€ (æ‚¨å¯ä»¥è‡ªè¡Œæ£€æŸ¥ä¸€ä¸‹è¯¥æ–‡ä»¶)ã€‚ ä¸è¿‡ï¼Œä¸‡ä¸€ä½ ä¸å¸Œæœ›æœ‰æŸäº›ä½¿ç”¨è€…ä½¿ç”¨ at çš„è¯ï¼Œå°†é‚£ä¸ªä½¿ç”¨è€…çš„å¸å·å†™å…¥ &#x2F;etc&#x2F;at.deny å³å¯ï¼ ä¸€ä¸ªå¸å·å†™ä¸€è¡Œã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ53ï¼‰: watch","slug":"linux-command-53-watch","date":"2017-01-21T02:12:30.000Z","updated":"2024-07-05T11:10:22.841Z","comments":true,"path":"2017/01/21/linux-command-53-watch/","permalink":"http://yelog.org/2017/01/21/linux-command-53-watch/","excerpt":"watchæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å‘½ä»¤ï¼ŒåŸºæœ¬æ‰€æœ‰çš„Linuxå‘è¡Œç‰ˆéƒ½å¸¦æœ‰è¿™ä¸ªå°å·¥å…·ï¼Œå¦‚åŒåå­—ä¸€æ ·ï¼Œwatchå¯ä»¥å¸®ä½ ç›‘æµ‹ä¸€ä¸ªå‘½ä»¤çš„è¿è¡Œç»“æœï¼Œçœå¾—ä½ ä¸€ééçš„æ‰‹åŠ¨è¿è¡Œã€‚åœ¨Linuxä¸‹ï¼Œwatchæ˜¯å‘¨æœŸæ€§çš„æ‰§è¡Œä¸‹ä¸ªç¨‹åºï¼Œå¹¶å…¨å±æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚ä½ å¯ä»¥æ‹¿ä»–æ¥ç›‘æµ‹ä½ æƒ³è¦çš„ä¸€åˆ‡å‘½ä»¤çš„ç»“æœå˜åŒ–ï¼Œæ¯”å¦‚ tail ä¸€ä¸ª log æ–‡ä»¶ï¼Œls ç›‘æµ‹æŸä¸ªæ–‡ä»¶çš„å¤§å°å˜åŒ–ï¼Œçœ‹ä½ çš„æƒ³è±¡åŠ›äº†ï¼","text":"watchæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å‘½ä»¤ï¼ŒåŸºæœ¬æ‰€æœ‰çš„Linuxå‘è¡Œç‰ˆéƒ½å¸¦æœ‰è¿™ä¸ªå°å·¥å…·ï¼Œå¦‚åŒåå­—ä¸€æ ·ï¼Œwatchå¯ä»¥å¸®ä½ ç›‘æµ‹ä¸€ä¸ªå‘½ä»¤çš„è¿è¡Œç»“æœï¼Œçœå¾—ä½ ä¸€ééçš„æ‰‹åŠ¨è¿è¡Œã€‚åœ¨Linuxä¸‹ï¼Œwatchæ˜¯å‘¨æœŸæ€§çš„æ‰§è¡Œä¸‹ä¸ªç¨‹åºï¼Œå¹¶å…¨å±æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚ä½ å¯ä»¥æ‹¿ä»–æ¥ç›‘æµ‹ä½ æƒ³è¦çš„ä¸€åˆ‡å‘½ä»¤çš„ç»“æœå˜åŒ–ï¼Œæ¯”å¦‚ tail ä¸€ä¸ª log æ–‡ä»¶ï¼Œls ç›‘æµ‹æŸä¸ªæ–‡ä»¶çš„å¤§å°å˜åŒ–ï¼Œçœ‹ä½ çš„æƒ³è±¡åŠ›äº†ï¼ å‘½ä»¤æ ¼å¼$ watch[å‚æ•°][å‘½ä»¤] å‘½ä»¤åŠŸèƒ½ å¯ä»¥å°†å‘½ä»¤çš„è¾“å‡ºç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼Œå¤šç”¨äºå‘¨æœŸæ€§æ‰§è¡Œå‘½ä»¤&#x2F;å®šæ—¶æ‰§è¡Œå‘½ä»¤ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -næˆ–â€“interval watchç¼ºçœæ¯2ç§’è¿è¡Œä¸€ä¸‹ç¨‹åºï¼Œå¯ä»¥ç”¨-næˆ–-intervalæ¥æŒ‡å®šé—´éš”çš„æ—¶é—´ -dæˆ–â€“differences watch ä¼šé«˜äº®æ˜¾ç¤ºå˜åŒ–çš„åŒºåŸŸ -d&#x3D;cumulative ä¼šæŠŠå˜åŠ¨è¿‡çš„åœ°æ–¹(ä¸ç®¡æœ€è¿‘çš„é‚£æ¬¡æœ‰æ²¡æœ‰å˜åŠ¨)éƒ½é«˜äº®æ˜¾ç¤ºå‡ºæ¥ -t æˆ–-no-title ä¼šå…³é—­watchå‘½ä»¤åœ¨é¡¶éƒ¨çš„æ—¶é—´é—´éš”,å‘½ä»¤ï¼Œå½“å‰æ—¶é—´çš„è¾“å‡º -h, â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºç½‘ç»œé“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µ $ watch -n 1 -d netstat -ant è¯´æ˜ï¼šå…¶å®ƒæ“ä½œï¼šåˆ‡æ¢ç»ˆç«¯ï¼š Ctrl+xé€€å‡ºwatchï¼šCtrl+g (deepinç³»ç»Ÿæ²¡æ•ˆæœï¼Œåªèƒ½ä½¿ç”¨Ctrl+cé€€å‡ºäº†) ä¾‹äºŒï¼šæ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºhttpé“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µ # æ¯éš”ä¸€ç§’é«˜äº®æ˜¾ç¤ºhttpé“¾æ¥æ•°çš„å˜åŒ–æƒ…å†µã€‚ åé¢æ¥çš„å‘½ä»¤è‹¥å¸¦æœ‰ç®¡é“ç¬¦ï¼Œéœ€è¦åŠ &#39;&#39;å°†å‘½ä»¤åŒºåŸŸå½’æ•´ã€‚ $ watch -n 1 -d &#39;pstree|grep http&#39; ä¾‹ä¸‰ï¼šå®æ—¶æŸ¥çœ‹æ¨¡æ‹Ÿæ”»å‡»å®¢æˆ·æœºå»ºç«‹èµ·æ¥çš„è¿æ¥æ•° $ watch &#39;netstat -an | grep:21 | \\ grep&lt;æ¨¡æ‹Ÿæ”»å‡»å®¢æˆ·æœºçš„IP&gt;| wc -l&#39; ä¾‹å››ï¼šç›‘æµ‹å½“å‰ç›®å½•ä¸­ scfâ€™ çš„æ–‡ä»¶çš„å˜åŒ– $ watch -d &#39;ls -l|grep scf&#39; ä¾‹äº”ï¼š10ç§’ä¸€æ¬¡è¾“å‡ºç³»ç»Ÿçš„å¹³å‡è´Ÿè½½ $ watch -n 10 &#39;cat /proc/loadavg&#39;","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ52ï¼‰: ps","slug":"linux-command-52-ps","date":"2017-01-20T01:46:16.000Z","updated":"2024-07-05T11:10:23.016Z","comments":true,"path":"2017/01/20/linux-command-52-ps/","permalink":"http://yelog.org/2017/01/20/linux-command-52-ps/","excerpt":"Linuxä¸­çš„pså‘½ä»¤æ˜¯Process Statusçš„ç¼©å†™ã€‚pså‘½ä»¤ç”¨æ¥åˆ—å‡ºç³»ç»Ÿä¸­å½“å‰è¿è¡Œçš„é‚£äº›è¿›ç¨‹ã€‚pså‘½ä»¤åˆ—å‡ºçš„æ˜¯å½“å‰é‚£äº›è¿›ç¨‹çš„å¿«ç…§ï¼Œå°±æ˜¯æ‰§è¡Œpså‘½ä»¤çš„é‚£ä¸ªæ—¶åˆ»çš„é‚£äº›è¿›ç¨‹ï¼Œå¦‚æœæƒ³è¦åŠ¨æ€çš„æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œå°±å¯ä»¥ä½¿ç”¨topå‘½ä»¤ã€‚","text":"Linuxä¸­çš„pså‘½ä»¤æ˜¯Process Statusçš„ç¼©å†™ã€‚pså‘½ä»¤ç”¨æ¥åˆ—å‡ºç³»ç»Ÿä¸­å½“å‰è¿è¡Œçš„é‚£äº›è¿›ç¨‹ã€‚pså‘½ä»¤åˆ—å‡ºçš„æ˜¯å½“å‰é‚£äº›è¿›ç¨‹çš„å¿«ç…§ï¼Œå°±æ˜¯æ‰§è¡Œpså‘½ä»¤çš„é‚£ä¸ªæ—¶åˆ»çš„é‚£äº›è¿›ç¨‹ï¼Œå¦‚æœæƒ³è¦åŠ¨æ€çš„æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œå°±å¯ä»¥ä½¿ç”¨topå‘½ä»¤ã€‚ è¦å¯¹è¿›ç¨‹è¿›è¡Œç›‘æµ‹å’Œæ§åˆ¶ï¼Œé¦–å…ˆå¿…é¡»è¦äº†è§£å½“å‰è¿›ç¨‹çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯éœ€è¦æŸ¥çœ‹å½“å‰è¿›ç¨‹ï¼Œè€Œ ps å‘½ä»¤å°±æ˜¯æœ€åŸºæœ¬åŒæ—¶ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ã€‚ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥ç¡®å®šæœ‰å“ªäº›è¿›ç¨‹æ­£åœ¨è¿è¡Œå’Œè¿è¡Œçš„çŠ¶æ€ã€è¿›ç¨‹æ˜¯å¦ç»“æŸã€è¿›ç¨‹æœ‰æ²¡æœ‰åƒµæ­»ã€å“ªäº›è¿›ç¨‹å ç”¨äº†è¿‡å¤šçš„èµ„æºç­‰ç­‰ã€‚æ€»ä¹‹å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½æ˜¯å¯ä»¥é€šè¿‡æ‰§è¡Œè¯¥å‘½ä»¤å¾—åˆ°çš„ã€‚ ps ä¸ºæˆ‘ä»¬æä¾›äº†è¿›ç¨‹çš„ä¸€æ¬¡æ€§çš„æŸ¥çœ‹ï¼Œå®ƒæ‰€æä¾›çš„æŸ¥çœ‹ç»“æœå¹¶ä¸åŠ¨æ€è¿ç»­çš„ï¼›å¦‚æœæƒ³å¯¹è¿›ç¨‹æ—¶é—´ç›‘æ§ï¼Œåº”è¯¥ç”¨ top å·¥å…·ã€‚ kill å‘½ä»¤ç”¨äºæ€æ­»è¿›ç¨‹ã€‚linuxä¸Šè¿›ç¨‹æœ‰5ç§çŠ¶æ€: è¿è¡Œ(æ­£åœ¨è¿è¡Œæˆ–åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…) ä¸­æ–­(ä¼‘çœ ä¸­, å—é˜», åœ¨ç­‰å¾…æŸä¸ªæ¡ä»¶çš„å½¢æˆæˆ–æ¥å—åˆ°ä¿¡å·) ä¸å¯ä¸­æ–­(æ”¶åˆ°ä¿¡å·ä¸å”¤é†’å’Œä¸å¯è¿è¡Œ, è¿›ç¨‹å¿…é¡»ç­‰å¾…ç›´åˆ°æœ‰ä¸­æ–­å‘ç”Ÿ) åƒµæ­»(è¿›ç¨‹å·²ç»ˆæ­¢, ä½†è¿›ç¨‹æè¿°ç¬¦å­˜åœ¨, ç›´åˆ°çˆ¶è¿›ç¨‹è°ƒç”¨wait4()ç³»ç»Ÿè°ƒç”¨åé‡Šæ”¾) åœæ­¢(è¿›ç¨‹æ”¶åˆ°SIGSTOP, SIGSTP, SIGTIN, SIGTOUä¿¡å·ååœæ­¢è¿è¡Œè¿è¡Œ) pså·¥å…·æ ‡è¯†è¿›ç¨‹çš„5ç§çŠ¶æ€ç :D ä¸å¯ä¸­æ–­ uninterruptible sleep (usually IO)R è¿è¡Œ runnable (on run queue)S ä¸­æ–­ sleepingT åœæ­¢ traced or stoppedZ åƒµæ­» a defunct (â€zombieâ€) process å‘½ä»¤æ ¼å¼$ ps [å‚æ•°] å‘½ä»¤åŠŸèƒ½ç”¨æ¥ç°å®å½“å‰è¿›ç¨‹çš„çŠ¶æ€ å‘½ä»¤å‚æ•° å‚æ•° æè¿° a æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ -a æ˜¾ç¤ºåŒä¸€ç»ˆç«¯ä¸‹çš„æ‰€æœ‰ç¨‹åº -A æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ c æ˜¾ç¤ºè¿›ç¨‹çš„çœŸå®åç§° -N åå‘é€‰æ‹© -e ç­‰äºâ€œ-Aâ€ e æ˜¾ç¤ºç¯å¢ƒå˜é‡ f æ˜¾ç¤ºç¨‹åºé—´çš„å…³ç³» -H æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ r æ˜¾ç¤ºå½“å‰ç»ˆç«¯çš„è¿›ç¨‹ T æ˜¾ç¤ºå½“å‰ç»ˆç«¯çš„æ‰€æœ‰ç¨‹åº u æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹ -au æ˜¾ç¤ºè¾ƒè¯¦ç»†çš„èµ„è®¯ -aux æ˜¾ç¤ºæ‰€æœ‰åŒ…å«å…¶ä»–ä½¿ç”¨è€…çš„è¡Œç¨‹ -C&lt;å‘½ä»¤&gt; åˆ—å‡ºæŒ‡å®šå‘½ä»¤çš„çŠ¶å†µ â€“lines&lt;è¡Œæ•°&gt; æ¯é¡µæ˜¾ç¤ºçš„è¡Œæ•° â€“width&lt;å­—ç¬¦æ•°&gt; æ¯é¡µæ˜¾ç¤ºçš„å­—ç¬¦æ•° â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬æ˜¾ç¤º ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ $ ps -A ä¾‹äºŒï¼šæ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„è¿›ç¨‹ä¿¡æ¯ $ ps -u faker ä¾‹ä¸‰ï¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ï¼Œè¿åŒå‘½ä»¤è¡Œ $ ps -ef ä¾‹å››ï¼šps ä¸grep å¸¸ç”¨ç»„åˆç”¨æ³•ï¼ŒæŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹ $ ps -ef|grep ssh ä¾‹äº”ï¼šå°†ç›®å‰å±äºæ‚¨è‡ªå·±è¿™æ¬¡ç™»å…¥çš„ PID ä¸ç›¸å…³ä¿¡æ¯åˆ—ç¤ºå‡ºæ¥ $ ps -l è¯´æ˜ï¼šå„ç›¸å…³ä¿¡æ¯çš„æ„ä¹‰ï¼š F ä»£è¡¨è¿™ä¸ªç¨‹åºçš„æ——æ ‡ (flag)ï¼Œ 4 ä»£è¡¨ä½¿ç”¨è€…ä¸º super user S ä»£è¡¨è¿™ä¸ªç¨‹åºçš„çŠ¶æ€ (STAT)ï¼Œå…³äºå„ STAT çš„æ„ä¹‰å°†åœ¨å†…æ–‡ä»‹ç» UID ç¨‹åºè¢«è¯¥ UID æ‰€æ‹¥æœ‰ PID å°±æ˜¯è¿™ä¸ªç¨‹åºçš„ ID ï¼ PPID åˆ™æ˜¯å…¶ä¸Šçº§çˆ¶ç¨‹åºçš„ID C CPU ä½¿ç”¨çš„èµ„æºç™¾åˆ†æ¯” PRI è¿™ä¸ªæ˜¯ Priority (ä¼˜å…ˆæ‰§è¡Œåº) çš„ç¼©å†™ï¼Œè¯¦ç»†åé¢ä»‹ç» NI è¿™ä¸ªæ˜¯ Nice å€¼ï¼Œåœ¨ä¸‹ä¸€å°èŠ‚æˆ‘ä»¬ä¼šæŒç»­ä»‹ç» ADDR è¿™ä¸ªæ˜¯ kernel functionï¼ŒæŒ‡å‡ºè¯¥ç¨‹åºåœ¨å†…å­˜çš„é‚£ä¸ªéƒ¨åˆ†ã€‚å¦‚æœæ˜¯ä¸ª runningçš„ç¨‹åºï¼Œä¸€èˆ¬å°±æ˜¯ â€œ-â€œ SZ ä½¿ç”¨æ‰çš„å†…å­˜å¤§å° WCHAN ç›®å‰è¿™ä¸ªç¨‹åºæ˜¯å¦æ­£åœ¨è¿ä½œå½“ä¸­ï¼Œè‹¥ä¸º - è¡¨ç¤ºæ­£åœ¨è¿ä½œ TTY ç™»å…¥è€…çš„ç»ˆç«¯æœºä½ç½® TIME ä½¿ç”¨æ‰çš„ CPU æ—¶é—´ã€‚ CMD æ‰€ä¸‹è¾¾çš„æŒ‡ä»¤ä¸ºä½• åœ¨é¢„è®¾çš„æƒ…å†µä¸‹ï¼Œ ps ä»…ä¼šåˆ—å‡ºä¸ç›®å‰æ‰€åœ¨çš„ bash shell æœ‰å…³çš„ PID è€Œå·²ï¼Œæ‰€ä»¥ï¼Œ å½“æˆ‘ä½¿ç”¨ ps -l çš„æ—¶å€™ï¼Œåªæœ‰ä¸‰ä¸ª PIDã€‚ ä¾‹å…­ï¼šåˆ—å‡ºç›®å‰æ‰€æœ‰çš„æ­£åœ¨å†…å­˜å½“ä¸­çš„ç¨‹åº $ ps aux è¯´æ˜ï¼š USERï¼šè¯¥ process å±äºé‚£ä¸ªä½¿ç”¨è€…è´¦å·çš„ PID ï¼šè¯¥ process çš„å·ç  %CPUï¼šè¯¥ process ä½¿ç”¨æ‰çš„ CPU èµ„æºç™¾åˆ†æ¯” %MEMï¼šè¯¥ process æ‰€å ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯” VSZ ï¼šè¯¥ process ä½¿ç”¨æ‰çš„è™šæ‹Ÿå†…å­˜é‡ (Kbytes) RSS ï¼šè¯¥ process å ç”¨çš„å›ºå®šçš„å†…å­˜é‡ (Kbytes) TTY ï¼šè¯¥ process æ˜¯åœ¨é‚£ä¸ªç»ˆç«¯æœºä¸Šé¢è¿ä½œï¼Œè‹¥ä¸ç»ˆç«¯æœºæ— å…³ï¼Œåˆ™æ˜¾ç¤º ?ï¼Œå¦å¤–ï¼Œ tty1-tty6 æ˜¯æœ¬æœºä¸Šé¢çš„ç™»å…¥è€…ç¨‹åºï¼Œè‹¥ä¸º pts&#x2F;0 ç­‰ç­‰çš„ï¼Œåˆ™è¡¨ç¤ºä¸ºç”±ç½‘ç»œè¿æ¥è¿›ä¸»æœºçš„ç¨‹åºã€‚ STATï¼šè¯¥ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œä¸»è¦çš„çŠ¶æ€æœ‰ R ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨è¿ä½œï¼Œæˆ–è€…æ˜¯å¯è¢«è¿ä½œ S ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨ç¡çœ å½“ä¸­ (å¯è¯´æ˜¯ idle çŠ¶æ€)ï¼Œä½†å¯è¢«æŸäº›è®¯å· (signal) å”¤é†’ã€‚ T ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨ä¾¦æµ‹æˆ–è€…æ˜¯åœæ­¢äº† Z ï¼šè¯¥ç¨‹åºåº”è¯¥å·²ç»ç»ˆæ­¢ï¼Œä½†æ˜¯å…¶çˆ¶ç¨‹åºå´æ— æ³•æ­£å¸¸çš„ç»ˆæ­¢ä»–ï¼Œé€ æˆ zombie (ç–†å°¸) ç¨‹åºçš„çŠ¶æ€ STARTï¼šè¯¥ process è¢«è§¦å‘å¯åŠ¨çš„æ—¶é—´ TIME ï¼šè¯¥ process å®é™…ä½¿ç”¨ CPU è¿ä½œçš„æ—¶é—´ COMMANDï¼šè¯¥ç¨‹åºçš„å®é™…æŒ‡ä»¤ ä¾‹ä¸ƒï¼šåˆ—å‡ºç±»ä¼¼ç¨‹åºæ ‘çš„ç¨‹åºæ˜¾ç¤º $ ps -axjf ä¾‹å…«ï¼šæ‰¾å‡ºä¸ cron ä¸ syslog è¿™ä¸¤ä¸ªæœåŠ¡æœ‰å…³çš„ PID å·ç  $ ps aux | egrep &#39;(cron|syslog)&#39; å…¶ä»– # å¯ä»¥ç”¨ | ç®¡é“å’Œ more è¿æ¥èµ·æ¥åˆ†é¡µæŸ¥çœ‹ $ ps -aux |more # æŠŠæ‰€æœ‰è¿›ç¨‹æ˜¾ç¤ºå‡ºæ¥ï¼Œå¹¶è¾“å‡ºåˆ°ps001.txtæ–‡ä»¶ $ ps -aux &gt; ps001.txt # è¾“å‡ºæŒ‡å®šçš„å­—æ®µ $ ps -o pid,ppid,pgrp,session,tpgid,comm","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ51ï¼‰: wc","slug":"linux-command-51-wc","date":"2017-01-19T01:33:59.000Z","updated":"2024-07-05T11:10:22.809Z","comments":true,"path":"2017/01/19/linux-command-51-wc/","permalink":"http://yelog.org/2017/01/19/linux-command-51-wc/","excerpt":"Linuxç³»ç»Ÿä¸­çš„wc(Word Count)å‘½ä»¤çš„åŠŸèƒ½ä¸ºç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ï¼Œå¹¶å°†ç»Ÿè®¡ç»“æœæ˜¾ç¤ºè¾“å‡ºã€‚","text":"Linuxç³»ç»Ÿä¸­çš„wc(Word Count)å‘½ä»¤çš„åŠŸèƒ½ä¸ºç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ï¼Œå¹¶å°†ç»Ÿè®¡ç»“æœæ˜¾ç¤ºè¾“å‡ºã€‚ å‘½ä»¤æ ¼å¼$ wc [é€‰é¡¹]æ–‡ä»¶... å‘½ä»¤åŠŸèƒ½ ç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ï¼Œå¹¶å°†ç»Ÿè®¡ç»“æœæ˜¾ç¤ºè¾“å‡ºã€‚è¯¥å‘½ä»¤ç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºæ–‡ä»¶åï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–ã€‚wcåŒæ—¶ä¹Ÿç»™å‡ºæ‰€æŒ‡å®šæ–‡ä»¶çš„æ€»ç»Ÿè®¡æ•°ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -c ç»Ÿè®¡å­—èŠ‚æ•° -l ç»Ÿè®¡è¡Œæ•° -m ç»Ÿè®¡å­—ç¬¦æ•°ã€‚è¿™ä¸ªæ ‡å¿—ä¸èƒ½ä¸ -c æ ‡å¿—ä¸€èµ·ä½¿ç”¨ -w ç»Ÿè®¡å­—æ•°ã€‚ä¸€ä¸ªå­—è¢«å®šä¹‰ä¸ºç”±ç©ºç™½ã€è·³æ ¼æˆ–æ¢è¡Œå­—ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸² -L æ‰“å°æœ€é•¿è¡Œçš„é•¿åº¦ -help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥çœ‹æ–‡ä»¶çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•° $ wc 1.txt 5 19 105 1.txt è¡Œæ•° å•è¯æ•° å­—èŠ‚æ•° æ–‡ä»¶å ä¾‹äºŒï¼šç”¨wcå‘½ä»¤æ€ä¹ˆåšåˆ°åªæ‰“å°ç»Ÿè®¡æ•°å­—ä¸æ‰“å°æ–‡ä»¶å $ wc -l 1.txt 5 1.txt # 5è¡Œ $ cat 1.txt | wc -l 5 # å€¼è¾“å‡ºæ•°å­— ä¾‹ä¸‰ï¼šç”¨æ¥ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ€»æ•° # æ•°é‡ä¸­åŒ…å«å½“å‰ç›®å½• $ ls -l | wc -l 10 # 7ä¸ªæ–‡ä»¶ + 2ä¸ªæ–‡ä»¶å¤¹ + 1ä¸ªå½“å‰ç›®å½•","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ50ï¼‰: grep","slug":"linux-command-50-grep","date":"2017-01-18T02:12:46.000Z","updated":"2024-07-05T11:10:23.034Z","comments":true,"path":"2017/01/18/linux-command-50-grep/","permalink":"http://yelog.org/2017/01/18/linux-command-50-grep/","excerpt":"Linuxç³»ç»Ÿä¸­grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹ é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚","text":"Linuxç³»ç»Ÿä¸­grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹ é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚ grepçš„å·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ï¼Œå®ƒåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²æ¨¡æ¿ã€‚å¦‚æœæ¨¡æ¿åŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ™å¿…é¡»è¢«å¼•ç”¨ï¼Œæ¨¡æ¿åçš„æ‰€æœ‰å­—ç¬¦ä¸²è¢«çœ‹ä½œæ–‡ä»¶åã€‚æœç´¢çš„ç»“æœè¢«é€åˆ°æ ‡å‡†è¾“å‡ºï¼Œä¸å½±å“åŸæ–‡ä»¶å†…å®¹ã€‚ grepå¯ç”¨äºshellè„šæœ¬ï¼Œå› ä¸ºgrepé€šè¿‡è¿”å›ä¸€ä¸ªçŠ¶æ€å€¼æ¥è¯´æ˜æœç´¢çš„çŠ¶æ€ï¼Œå¦‚æœæ¨¡æ¿æœç´¢æˆåŠŸï¼Œåˆ™è¿”å›0ï¼Œå¦‚æœæœç´¢ä¸æˆåŠŸï¼Œåˆ™è¿”å›1ï¼Œå¦‚æœæœç´¢çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›2ã€‚æˆ‘ä»¬åˆ©ç”¨è¿™äº›è¿”å›å€¼å°±å¯è¿›è¡Œä¸€äº›è‡ªåŠ¨åŒ–çš„æ–‡æœ¬å¤„ç†å·¥ä½œã€‚ å‘½ä»¤æ ¼å¼$ grep [option] pattern file å‘½ä»¤åŠŸèƒ½ ç”¨äºè¿‡æ»¤&#x2F;æœç´¢çš„ç‰¹å®šå­—ç¬¦ã€‚å¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼èƒ½å¤šç§å‘½ä»¤é…åˆä½¿ç”¨ï¼Œä½¿ç”¨ä¸Šååˆ†çµæ´»ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -a â€“text ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶çš„æ•°æ® -A&lt;æ˜¾ç¤ºè¡Œæ•°&gt; â€“after-context&#x3D;&lt;æ˜¾ç¤ºè¡Œæ•°&gt; é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„å†…å®¹ -b â€“byte-offset åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç¼–å· -B&lt;æ˜¾ç¤ºè¡Œæ•°&gt; â€“before-context&#x3D;&lt;æ˜¾ç¤ºè¡Œæ•°&gt; é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ -c â€“count è®¡ç®—ç¬¦åˆæ ·å¼çš„åˆ—æ•° -C&lt;æ˜¾ç¤ºè¡Œæ•°&gt; â€“context&#x3D;&lt;æ˜¾ç¤ºè¡Œæ•°&gt;æˆ–-&lt;æ˜¾ç¤ºè¡Œæ•°&gt; æ˜¾ç¤ºä¸Šä¸‹æ–‡nè¡Œ -d &lt;åŠ¨ä½œ&gt; â€“directories&#x3D;&lt;åŠ¨ä½œ&gt; å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepæŒ‡ä»¤å°†å›æŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œ -e&lt;èŒƒæœ¬æ ·å¼&gt; â€“regexp&#x3D;&lt;èŒƒæœ¬æ ·å¼&gt; æŒ‡å®šå­—ç¬¦ä¸²åšä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„æ ·å¼ -E â€“extended-regexp å°†æ ·å¼ä¸ºå»¶ä¼¸çš„æ™®é€šè¡¨ç¤ºæ³•æ¥ä½¿ç”¨ -f&lt;è§„åˆ™æ–‡ä»¶&gt; â€“file&#x3D;&lt;è§„åˆ™æ–‡ä»¶&gt; æŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆè§„åˆ™æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªè§„åˆ™æ ·å¼ -F â€“fixed-regexp å°†æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ -G â€“basic-regexp æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨ -h â€“no-filename åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§° -H â€“with-filename åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œè¡¨ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§° -i â€“ignore-case å¿½ç•¥å­—ç¬¦çš„å¤§å°å†™ -l â€“file-with-matches åªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å -L â€“files-without-match åˆ—å‡ºä¸åŒ¹é…çš„æ–‡ä»¶å -n â€“line-number æ˜¾ç¤ºè¡Œå· -q â€“quietæˆ–â€“silent ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ -r â€“recursive é€’å½’æŸ¥è¯¢ï¼Œ æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-d recurseâ€å‚æ•°ç›¸åŒ -s â€“no-messages ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -v â€“revert-match æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œ -V â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -w â€“word-regexp åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ— -x â€“line-regexp åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ— -y æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-iâ€å‚æ•°ç›¸åŒ è§„åˆ™è¡¨è¾¾å¼grepçš„è§„åˆ™è¡¨è¾¾å¼ ^ #é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š&#39;^grep&#39;åŒ¹é…æ‰€æœ‰ä»¥grepå¼€å¤´çš„è¡Œã€‚ $ #é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š&#39;grep$&#39;åŒ¹é…æ‰€æœ‰ä»¥grepç»“å°¾çš„è¡Œã€‚ . #åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š&#39;gr.p&#39;åŒ¹é…gråæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ * #åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå…ˆå‰å­—ç¬¦ å¦‚ï¼š&#39;*grep&#39;åŒ¹é…æ‰€æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿgrepçš„è¡Œã€‚ .* #ä¸€èµ·ç”¨ä»£è¡¨ä»»æ„å­—ç¬¦ã€‚ [] #åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚&#39;[Gg]rep&#39;åŒ¹é…Grepå’Œgrepã€‚ [^] #åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š&#39;[^A-FH-Z]rep&#39;åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿrepçš„è¡Œã€‚ \\(..\\) #æ ‡è®°åŒ¹é…å­—ç¬¦ï¼Œå¦‚&#39;\\(love\\)&#39;ï¼Œloveè¢«æ ‡è®°ä¸º1ã€‚ \\&lt; #é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚:&#39;\\&lt;grep&#39;åŒ¹é…åŒ…å«ä»¥grepå¼€å¤´çš„å•è¯çš„è¡Œã€‚ \\&gt; #é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚&#39;grep\\&gt;&#39;åŒ¹é…åŒ…å«ä»¥grepç»“å°¾çš„å•è¯çš„è¡Œã€‚ x\\&#123;m\\&#125; #é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š&#39;o\\&#123;5\\&#125;&#39;åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚ x\\&#123;m,\\&#125; #é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š&#39;o\\&#123;5,\\&#125;&#39;åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚ x\\&#123;m,n\\&#125; #é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š&#39;o\\&#123;5,10\\&#125;&#39;åŒ¹é…5â€“10ä¸ªoçš„è¡Œã€‚ \\w #åŒ¹é…æ–‡å­—å’Œæ•°å­—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯[A-Za-z0-9]ï¼Œå¦‚ï¼š&#39;G\\w*p&#39;åŒ¹é…ä»¥Gåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ªæ–‡å­—æˆ–æ•°å­—å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ \\W #\\wçš„åç½®å½¢å¼ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªéå•è¯å­—ç¬¦ï¼Œå¦‚ç‚¹å·å¥å·ç­‰ã€‚ \\b #å•è¯é”å®šç¬¦ï¼Œå¦‚: &#39;\\bgrep\\b&#39;åªåŒ¹é…grepã€‚POSIXå­—ç¬¦ ä¸ºäº†åœ¨ä¸åŒå›½å®¶çš„å­—ç¬¦ç¼–ç ä¸­ä¿æŒä¸€è‡³ï¼ŒPOSIX(The Portable Operating System Interface)å¢åŠ äº†ç‰¹æ®Šçš„å­—ç¬¦ç±»ï¼Œå¦‚[:alnum:]æ˜¯[A-Za-z0-9]çš„å¦ä¸€ä¸ªå†™æ³•ã€‚è¦æŠŠå®ƒä»¬æ”¾åˆ°[]å·å†…æ‰èƒ½æˆä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚[A-Za-z0-9]æˆ–[[:alnum:]]ã€‚åœ¨linuxä¸‹çš„grepé™¤fgrepå¤–ï¼Œéƒ½æ”¯æŒPOSIXçš„å­—ç¬¦ç±»ã€‚ [:alnum:] #æ–‡å­—æ•°å­—å­—ç¬¦ [:alpha:] #æ–‡å­—å­—ç¬¦ [:digit:] #æ•°å­—å­—ç¬¦ [:graph:] #éç©ºå­—ç¬¦ï¼ˆéç©ºæ ¼ã€æ§åˆ¶å­—ç¬¦ï¼‰ [:lower:] #å°å†™å­—ç¬¦ [:cntrl:] #æ§åˆ¶å­—ç¬¦ [:print:] #éç©ºå­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ [:punct:] #æ ‡ç‚¹ç¬¦å· [:space:] #æ‰€æœ‰ç©ºç™½å­—ç¬¦ï¼ˆæ–°è¡Œï¼Œç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼‰ [:upper:] #å¤§å†™å­—ç¬¦ [:xdigit:] #åå…­è¿›åˆ¶æ•°å­—ï¼ˆ0-9ï¼Œa-fï¼ŒA-Fï¼‰ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥æ‰¾æŒ‡å®šè¿›ç¨‹ $ ps -ef|grep hexo faker 13401 19030 0 09:51 pts/2 00:00:15 hexo faker 15465 15449 0 10:34 pts/3 00:00:00 grep hexo è¯´æ˜ï¼šç¬¬ä¸€æ¡è®°å½•æ˜¯æŸ¥æ‰¾å‡ºçš„è¿›ç¨‹ï¼›ç¬¬äºŒæ¡ç»“æœæ˜¯grepè¿›ç¨‹æœ¬èº«ï¼Œå¹¶éçœŸæ­£è¦æ‰¾çš„è¿›ç¨‹ã€‚ ä¾‹äºŒï¼šæŸ¥æ‰¾æŒ‡å®šè¿›ç¨‹æ•° $ ps -ef|grep hexo -c $ ps -ef|grep -c hexo 2 ä¾‹ä¸‰ï¼šä»2.txtä¸­è¯»å–å…³é”®è¯åœ¨1.txtä¸­è¿›è¡Œæœç´¢ # -næ˜¾ç¤ºè¡Œå· $ cat 1.txt | grep -nf 2.txt 1:If you please draw me a sheep! 2:What! ä¾‹å››ï¼šä»æ–‡ä»¶ä¸­æŸ¥æ‰¾å…³é”®è¯ $ grep &#39;jump&#39; 1.txt I jumped to my feet,completely thunderstruck. ä¾‹äº”ï¼šä»å¤šä¸ªæ–‡ä»¶ä¸­æŸ¥æ‰¾å…³é”®è¯ $ grep &#39;jump&#39; 1.txt 2.txt 1.txt:I jumped to my feet,completely thunderstruck. 2.txt:I jump è¯´æ˜ï¼šå¤šæ–‡ä»¶æ—¶ï¼Œè¾“å‡ºæŸ¥è¯¢åˆ°çš„ä¿¡æ¯å†…å®¹è¡Œæ—¶ï¼Œä¼šæŠŠæ–‡ä»¶çš„å‘½ååœ¨è¡Œæœ€å‰é¢è¾“å‡ºå¹¶ä¸”åŠ ä¸Šâ€:â€ä½œä¸ºæ ‡ç¤ºç¬¦ ä¾‹å…­ï¼šgrepä¸æ˜¾ç¤ºæœ¬èº«è¿›ç¨‹ $ ps aux|grep \\[s]sh $ ps aux | grep ssh | grep -v &quot;grep&quot; ä¾‹ä¸ƒï¼šæ‰¾å‡ºä»¥uå¼€å¤´çš„è¡Œå†…å®¹ $ cat 1.txt |grep ^u If you please draw me a sheep! I jumped to my feet,completely thunderstruck. ä¾‹å…«ï¼šè¾“å‡ºéuå¼€å¤´çš„è¡Œå†…å®¹ $ cat 1.txt | grep ^[^I] What! Draw me a sheep! ä¾‹ä¹ï¼šè¾“å‡ºä»¥!ç»“å°¾çš„è¡Œå†…å®¹ $ cat 1.txt |grep \\!$ If you please draw me a sheep! What! Draw me a sheep! ä¾‹åï¼šæ˜¾ç¤ºåŒ…å«shæˆ–è€…atå­—ç¬¦çš„å†…å®¹è¡Œ $ cat 1.txt |grep -E &quot;sh|at&quot; If you please draw me a sheep! What! Draw me a sheep! ä¾‹åä¸€ï¼šæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹é¢ä»¥.txt ç»“å°¾çš„æ–‡ä»¶ä¸­çš„æ‰€æœ‰åŒ…å«æ¯ä¸ªå­—ç¬¦ä¸²è‡³å°‘æœ‰7ä¸ªè¿ç»­å°å†™å­—ç¬¦çš„å­—ç¬¦ä¸²çš„è¡Œ $ grep &#39;[a-z]\\&#123;7\\&#125;&#39; *.txt 1.txt:I jumped to my feet,completely thunderstruck. 3.txt:kdfkksjdf112123 4.txt:kisdfsf","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ49ï¼‰: cal","slug":"linux-command-49-cal","date":"2017-01-17T01:38:32.000Z","updated":"2024-07-05T11:10:22.924Z","comments":true,"path":"2017/01/17/linux-command-49-cal/","permalink":"http://yelog.org/2017/01/17/linux-command-49-cal/","excerpt":"calå‘½ä»¤å¯ä»¥ç”¨æ¥æ˜¾ç¤ºå…¬å†ï¼ˆé˜³å†ï¼‰æ—¥å†ã€‚å…¬å†æ˜¯ç°åœ¨å›½é™…é€šç”¨çš„å†æ³•ï¼Œåˆç§°æ ¼åˆ—å†ï¼Œé€šç§°é˜³å†ã€‚â€œé˜³å†â€åˆåâ€œå¤ªé˜³å†â€ï¼Œç³»ä»¥åœ°çƒç»•è¡Œå¤ªé˜³ä¸€å‘¨ä¸ºä¸€å¹´ï¼Œä¸ºè¥¿æ–¹å„å›½æ‰€é€šç”¨ï¼Œæ•…åˆåâ€œè¥¿å†â€ã€‚","text":"calå‘½ä»¤å¯ä»¥ç”¨æ¥æ˜¾ç¤ºå…¬å†ï¼ˆé˜³å†ï¼‰æ—¥å†ã€‚å…¬å†æ˜¯ç°åœ¨å›½é™…é€šç”¨çš„å†æ³•ï¼Œåˆç§°æ ¼åˆ—å†ï¼Œé€šç§°é˜³å†ã€‚â€œé˜³å†â€åˆåâ€œå¤ªé˜³å†â€ï¼Œç³»ä»¥åœ°çƒç»•è¡Œå¤ªé˜³ä¸€å‘¨ä¸ºä¸€å¹´ï¼Œä¸ºè¥¿æ–¹å„å›½æ‰€é€šç”¨ï¼Œæ•…åˆåâ€œè¥¿å†â€ã€‚ å‘½ä»¤æ ¼å¼$ cal [å‚æ•°][æœˆä»½][å¹´ä»½] å‘½ä»¤åŠŸèƒ½ç”¨äºæŸ¥çœ‹æ—¥å†ç­‰æ—¶é—´ä¿¡æ¯ï¼Œå¦‚åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºå¹´ä»½(1-9999)ï¼Œå¦‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºæœˆä»½å’Œå¹´ä»½ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -1 æ˜¾ç¤ºä¸€ä¸ªæœˆçš„æœˆå† -3 æ˜¾ç¤ºç³»ç»Ÿå‰ä¸€ä¸ªæœˆï¼Œå½“å‰æœˆï¼Œä¸‹ä¸€ä¸ªæœˆçš„æœˆå† -s æ˜¾ç¤ºæ˜ŸæœŸå¤©ä¸ºä¸€ä¸ªæ˜ŸæœŸçš„ç¬¬ä¸€å¤©ï¼Œé»˜è®¤çš„æ ¼å¼ -m æ˜¾ç¤ºæ˜ŸæœŸä¸€ä¸ºä¸€ä¸ªæ˜ŸæœŸçš„ç¬¬ä¸€å¤© -j æ˜¾ç¤ºåœ¨å½“å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆä¸€å¹´æ—¥æœŸæŒ‰å¤©ç®—ï¼Œä»1æœˆ1å·ç®—èµ·ï¼Œé»˜è®¤æ˜¾ç¤ºå½“å‰æœˆåœ¨ä¸€å¹´ä¸­çš„å¤©æ•°ï¼‰ -y æ˜¾ç¤ºå½“å‰å¹´ä»½çš„æ—¥å† ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºå½“å‰æœˆä»½æ—¥å† $ cal ä¾‹äºŒï¼šæ˜¾ç¤ºæŒ‡å®šæœˆä»½çš„æ—¥å† $ cal 6 2016 ä¾‹ä¸‰ï¼šæ˜¾ç¤º2016å¹´çš„æ—¥å† $ cal -y 2016 $ cal 2016 ä¾‹å››ï¼šæ˜¾ç¤ºè‡ª1æœˆ1æ—¥çš„å¤©æ•° $ cal -j ä¾‹äº”ï¼šæ˜ŸæœŸä¸€æ˜¾ç¤ºåœ¨ç¬¬ä¸€åˆ— $ cal -m","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ48ï¼‰: date","slug":"linux-command-48-date","date":"2017-01-16T06:39:27.000Z","updated":"2024-07-05T11:10:22.855Z","comments":true,"path":"2017/01/16/linux-command-48-date/","permalink":"http://yelog.org/2017/01/16/linux-command-48-date/","excerpt":"åœ¨linuxç¯å¢ƒä¸­ï¼Œä¸ç®¡æ˜¯ç¼–ç¨‹è¿˜æ˜¯å…¶ä»–ç»´æŠ¤ï¼Œæ—¶é—´æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¹Ÿç»å¸¸ä¼šç”¨åˆ°æ—¶é—´çš„è¿ç®—ï¼Œç†Ÿç»ƒè¿ç”¨dateå‘½ä»¤æ¥è¡¨ç¤ºè‡ªå·±æƒ³è¦è¡¨ç¤ºçš„æ—¶é—´ï¼Œè‚¯å®šå¯ä»¥ç»™è‡ªå·±çš„å·¥ä½œå¸¦æ¥è¯¸å¤šæ–¹ä¾¿ã€‚","text":"åœ¨linuxç¯å¢ƒä¸­ï¼Œä¸ç®¡æ˜¯ç¼–ç¨‹è¿˜æ˜¯å…¶ä»–ç»´æŠ¤ï¼Œæ—¶é—´æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¹Ÿç»å¸¸ä¼šç”¨åˆ°æ—¶é—´çš„è¿ç®—ï¼Œç†Ÿç»ƒè¿ç”¨dateå‘½ä»¤æ¥è¡¨ç¤ºè‡ªå·±æƒ³è¦è¡¨ç¤ºçš„æ—¶é—´ï¼Œè‚¯å®šå¯ä»¥ç»™è‡ªå·±çš„å·¥ä½œå¸¦æ¥è¯¸å¤šæ–¹ä¾¿ã€‚ å‘½ä»¤æ ¼å¼$ date [å‚æ•°]... [+æ ¼å¼] å‘½ä»¤åŠŸèƒ½ date å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸä¸æ—¶é—´ã€‚ å‘½ä»¤å‚æ•°å‘½ä»¤å‚æ•° å‚æ•° æè¿° %H å°æ—¶(ä»¥00-23æ¥è¡¨ç¤º) %I å°æ—¶(ä»¥01-12æ¥è¡¨ç¤º) %K å°æ—¶(ä»¥0-23æ¥è¡¨ç¤º) %l å°æ—¶(ä»¥0-12æ¥è¡¨ç¤º) %M åˆ†é’Ÿ(ä»¥00-59æ¥è¡¨ç¤º) %P AMæˆ–PM %r æ—¶é—´(å«æ—¶åˆ†ç§’ï¼Œå°æ—¶ä»¥12å°æ—¶AM&#x2F;PMæ¥è¡¨ç¤º) %s æ€»ç§’æ•°ã€‚èµ·ç®—æ—¶é—´ä¸º1970-01-01 00:00:00 UTC %S ç§’(ä»¥æœ¬åœ°çš„æƒ¯ç”¨æ³•æ¥è¡¨ç¤º) %T æ—¶é—´(å«æ—¶åˆ†ç§’ï¼Œå°æ—¶ä»¥24å°æ—¶åˆ¶æ¥è¡¨ç¤º) %X æ—¶é—´(ä»¥æœ¬åœ°çš„æƒ¯ç”¨æ³•æ¥è¡¨ç¤º) %Z å¸‚åŒº %a æ˜ŸæœŸçš„ç¼©å†™ %A æ˜ŸæœŸçš„å®Œæ•´åç§° %b æœˆä»½è‹±æ–‡åçš„ç¼©å†™ %B æœˆä»½çš„å®Œæ•´è‹±æ–‡åç§° %c æ—¥æœŸä¸æ—¶é—´ã€‚åªè¾“å…¥dateæŒ‡ä»¤ä¹Ÿä¼šæ˜¾ç¤ºåŒæ ·çš„ç»“æœ %d æ—¥æœŸ(ä»¥01-31æ¥è¡¨ç¤º) %D æ—¥æœŸ(å«å¹´æœˆæ—¥) %j è¯¥å¹´ä¸­çš„ç¬¬å‡ å¤© %m æœˆä»½(ä»¥01-12æ¥è¡¨ç¤º) %U è¯¥å¹´ä¸­çš„å‘¨æ•° %w è¯¥å‘¨çš„å¤©æ•°ï¼Œ0ä»£è¡¨å‘¨æ—¥ï¼Œ1ä»£è¡¨å‘¨ä¸€ï¼Œå¼‚è¯ç±»æ¨ %x æ—¥æœŸ(ä»¥æœ¬åœ°çš„æƒ¯ç”¨æ³•æ¥è¡¨ç¤º) %y å¹´ä»½(ä»¥00-99æ¥è¡¨ç¤º) %Y å¹´ä»½(ä»¥å››ä½æ•°æ¥è¡¨ç¤º) %n åœ¨æ˜¾ç¤ºæ—¶ï¼Œæ’å…¥æ–°çš„ä¸€è¡Œ %t åœ¨æ˜¾ç¤ºæ—¶ï¼Œæ’å…¥tab MM æœˆä»½(å¿…è¦) DD æ—¥æœŸ(å¿…è¦) hh å°æ—¶(å¿…è¦) mm åˆ†é’Ÿ(å¿…è¦) ss ç§’(é€‰æ‹©æ€§) é€‰æ‹©å‚æ•° å‚æ•° æè¿° -d&lt;å­—ç¬¦ä¸²&gt; æ˜¾ç¤ºå­—ç¬¦ä¸²æ‰€æŒ‡çš„æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å· -s&lt;å­—ç¬¦ä¸²&gt; æ ¹æ®å­—ç¬¦ä¸²æ¥è®¾ç½®æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å· -u æ˜¾ç¤ºGMT â€“help åœ¨çº¿å¸®åŠ© â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨è¯´æ˜1.åœ¨æ˜¾ç¤ºæ–¹é¢ï¼Œä½¿ç”¨è€…å¯ä»¥è®¾å®šæ¬²æ˜¾ç¤ºçš„æ ¼å¼ï¼Œæ ¼å¼è®¾å®šä¸ºä¸€ä¸ªåŠ å·åæ¥æ•°ä¸ªæ ‡è®°ï¼Œå…¶ä¸­å¯ç”¨çš„æ ‡è®°åˆ—è¡¨å¦‚ä¸‹: % : æ‰“å°å‡º %%n : ä¸‹ä¸€è¡Œ%t : è·³æ ¼%H : å°æ—¶(00..23)%I : å°æ—¶(01..12)%k : å°æ—¶(0..23)%l : å°æ—¶(1..12)%M : åˆ†é’Ÿ(00..59)%p : æ˜¾ç¤ºæœ¬åœ° AM æˆ– PM%r : ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (12 å°æ—¶åˆ¶ï¼Œæ ¼å¼ä¸º hh:mm:ss [AP]M)%s : ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC åˆ°ç›®å‰ä¸ºæ­¢çš„ç§’æ•°%S : ç§’(00..61)%T : ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (24 å°æ—¶åˆ¶)%X : ç›¸å½“äº %H:%M:%S%Z : æ˜¾ç¤ºæ—¶åŒº %a : æ˜ŸæœŸå‡  (Sun..Sat)%A : æ˜ŸæœŸå‡  (Sunday..Saturday)%b : æœˆä»½ (Jan..Dec)%B : æœˆä»½ (January..December)%c : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸä¸æ—¶é—´%d : æ—¥ (01..31)%D : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm&#x2F;dd&#x2F;yy)%h : åŒ %b%j : ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© (001..366)%m : æœˆä»½ (01..12)%U : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Sunday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢)%w : ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© (0..6)%W : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Monday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢)%x : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm&#x2F;dd&#x2F;yy)%y : å¹´ä»½çš„æœ€åä¸¤ä½æ•°å­— (00.99)%Y : å®Œæ•´å¹´ä»½ (0000..9999)2.åœ¨è®¾å®šæ—¶é—´æ–¹é¢date -s &#x2F;&#x2F;è®¾ç½®å½“å‰æ—¶é—´ï¼Œåªæœ‰rootæƒé™æ‰èƒ½è®¾ç½®ï¼Œå…¶ä»–åªèƒ½æŸ¥çœ‹ã€‚date -s 20080523 &#x2F;&#x2F;è®¾ç½®æˆ20080523ï¼Œè¿™æ ·ä¼šæŠŠå…·ä½“æ—¶é—´è®¾ç½®æˆç©º00:00:00date -s 01:01:01 &#x2F;&#x2F;è®¾ç½®å…·ä½“æ—¶é—´ï¼Œä¸ä¼šå¯¹æ—¥æœŸåšæ›´æ”¹date -s â€œ01:01:01 2008-05-23â€³ &#x2F;&#x2F;è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s â€œ01:01:01 20080523â€³ &#x2F;&#x2F;è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s â€œ2008-05-23 01:01:01â€³ &#x2F;&#x2F;è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s â€œ20080523 01:01:01â€³ &#x2F;&#x2F;è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´3.åŠ å‡date +%Y%m%d &#x2F;&#x2F;æ˜¾ç¤ºå‰å¤©å¹´æœˆæ—¥date +%Y%m%d â€“date&#x3D;â€+1 dayâ€ &#x2F;&#x2F;æ˜¾ç¤ºå‰ä¸€å¤©çš„æ—¥æœŸdate +%Y%m%d â€“date&#x3D;â€-1 dayâ€ &#x2F;&#x2F;æ˜¾ç¤ºåä¸€å¤©çš„æ—¥æœŸdate +%Y%m%d â€“date&#x3D;â€-1 monthâ€ &#x2F;&#x2F;æ˜¾ç¤ºä¸Šä¸€æœˆçš„æ—¥æœŸdate +%Y%m%d â€“date&#x3D;â€+1 monthâ€ &#x2F;&#x2F;æ˜¾ç¤ºä¸‹ä¸€æœˆçš„æ—¥æœŸdate +%Y%m%d â€“date&#x3D;â€-1 yearâ€ &#x2F;&#x2F;æ˜¾ç¤ºå‰ä¸€å¹´çš„æ—¥æœŸdate +%Y%m%d â€“date&#x3D;â€+1 yearâ€ &#x2F;&#x2F;æ˜¾ç¤ºä¸‹ä¸€å¹´çš„æ—¥æœŸ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´ $ date 2017å¹´ 01æœˆ 28æ—¥ æ˜ŸæœŸå…­ 14:51:10 CST $ date &#39;+%c&#39; 2017å¹´01æœˆ28æ—¥ æ˜ŸæœŸå…­ 14æ—¶51åˆ†35ç§’ $ date &#39;+%D&#39; 01/28/17 $ date &#39;+%x&#39; 2017å¹´01æœˆ28æ—¥ $ date &#39;+%T&#39; 14:52:02 $ date &#39;+%X&#39; 14æ—¶52åˆ†06ç§’ ä¾‹äºŒï¼šæ˜¾ç¤ºæ—¥æœŸå’Œè®¾å®šæ—¶é—´ $ date --date 08:42:00 ä¾‹ä¸‰ï¼šdate -då‚æ•°ä½¿ç”¨ $ date -d &quot;nov 22&quot; 2012å¹´ 11æœˆ 22æ—¥ æ˜ŸæœŸå›› 00:00:00 CST $ date -d &#39;2 weeks&#39; 2012å¹´ 12æœˆ 22æ—¥ æ˜ŸæœŸå…­ 08:50:21 CST $ date -d &#39;next monday&#39; 2012å¹´ 12æœˆ 10æ—¥ æ˜ŸæœŸä¸€ 00:00:00 CST $ date -d next-day +%Y%m%d 20121209 $ date -d tomorrow +%Y%m%d 20121209 $ date -d last-day +%Y%m%d 20121207 $ date -d yesterday +%Y%m%d 20121207 $ date -d last-month +%Y%m 201211 $ date -d next-month +%Y%m 201301 $ date -d &#39;30 days ago&#39; 2012å¹´ 11æœˆ 08æ—¥ æ˜ŸæœŸå›› 08:51:37 CST $ date -d &#39;-100 days&#39; 2012å¹´ 08æœˆ 30æ—¥ æ˜ŸæœŸå›› 08:52:03 CST $ date -d &#39;dec 14 -2 weeks&#39; 2012å¹´ 11æœˆ 30æ—¥ æ˜ŸæœŸäº” 00:00:00 CST $ date -d &#39;50 days&#39; 2013å¹´ 01æœˆ 27æ—¥ æ˜ŸæœŸæ—¥ 08:52:27 CST è¯´æ˜ï¼š date å‘½ä»¤çš„å¦ä¸€ä¸ªæ‰©å±•æ˜¯ -d é€‰é¡¹ï¼Œè¯¥é€‰é¡¹éå¸¸æœ‰ç”¨ã€‚ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½å¼ºå¤§çš„é€‰é¡¹ï¼Œé€šè¿‡å°†æ—¥æœŸä½œä¸ºå¼•å·æ‹¬èµ·æ¥çš„å‚æ•°æä¾›ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿåœ°æŸ¥æ˜ä¸€ä¸ªç‰¹å®šçš„æ—¥æœŸã€‚-d é€‰é¡¹è¿˜å¯ä»¥å‘Šè¯‰æ‚¨ï¼Œç›¸å¯¹äºå½“å‰æ—¥æœŸè‹¥å¹²å¤©çš„ç©¶ç«Ÿæ˜¯å“ªä¸€å¤©ï¼Œä»ç°åœ¨å¼€å§‹çš„è‹¥å¹²å¤©æˆ–è‹¥å¹²æ˜ŸæœŸä»¥åï¼Œæˆ–è€…ä»¥å‰ï¼ˆè¿‡å»ï¼‰ã€‚é€šè¿‡å°†è¿™ä¸ªç›¸å¯¹åç§»ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œä½œä¸º -d é€‰é¡¹çš„å‚æ•°ï¼Œå°±å¯ä»¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚ å…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š date -d â€œnov 22â€ ä»Šå¹´çš„ 11 æœˆ 22 æ—¥æ˜¯æ˜ŸæœŸä¸‰ date -d â€˜2 weeksâ€™ 2å‘¨åçš„æ—¥æœŸ date -d â€˜next mondayâ€™ (ä¸‹å‘¨ä¸€çš„æ—¥æœŸ) date -d next-day +%Y%m%dï¼ˆæ˜å¤©çš„æ—¥æœŸï¼‰æˆ–è€…ï¼šdate -d tomorrow +%Y%m%d date -d last-day +%Y%m%d(æ˜¨å¤©çš„æ—¥æœŸ) æˆ–è€…ï¼šdate -d yesterday +%Y%m%d date -d last-month +%Y%m(ä¸Šä¸ªæœˆæ˜¯å‡ æœˆ) date -d next-month +%Y%m(ä¸‹ä¸ªæœˆæ˜¯å‡ æœˆ) ä½¿ç”¨ ago æŒ‡ä»¤ï¼Œæ‚¨å¯ä»¥å¾—åˆ°è¿‡å»çš„æ—¥æœŸï¼š date -d â€˜30 days agoâ€™ ï¼ˆ30å¤©å‰çš„æ—¥æœŸï¼‰ ä½¿ç”¨è´Ÿæ•°ä»¥å¾—åˆ°ç›¸åçš„æ—¥æœŸï¼š date -d â€˜dec 14 -2 weeksâ€™ ï¼ˆç›¸å¯¹:dec 14è¿™ä¸ªæ—¥æœŸçš„ä¸¤å‘¨å‰çš„æ—¥æœŸï¼‰ date -d â€˜-100 daysâ€™ (100å¤©ä»¥å‰çš„æ—¥æœŸ) date -d â€˜50 daysâ€™(50å¤©åçš„æ—¥æœŸ) ä¾‹å››ï¼šæ˜¾ç¤ºæœˆä»½å’Œæ—¥æ•° $ date &#39;+%B %d&#39; ä¸€æœˆ 28 ä¾‹äº”ï¼šæ˜¾ç¤ºæ—¶é—´åè·³è¡Œï¼Œå†æ˜¾ç¤ºç›®å‰æ—¥æœŸ $ date &#39;+%T%n%D&#39; 14:58:23 01/28/17","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ47ï¼‰: diff","slug":"linux-command-47-diff","date":"2017-01-15T06:08:08.000Z","updated":"2024-07-05T11:10:22.979Z","comments":true,"path":"2017/01/15/linux-command-47-diff/","permalink":"http://yelog.org/2017/01/15/linux-command-47-diff/","excerpt":"diff å‘½ä»¤æ˜¯ linuxä¸Šéå¸¸é‡è¦çš„å·¥å…·ï¼Œç”¨äºæ¯”è¾ƒæ–‡ä»¶çš„å†…å®¹ï¼Œç‰¹åˆ«æ˜¯æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬ä¸åŒçš„æ–‡ä»¶ä»¥æ‰¾åˆ°æ”¹åŠ¨çš„åœ°æ–¹ã€‚diffåœ¨å‘½ä»¤è¡Œä¸­æ‰“å°æ¯ä¸€ä¸ªè¡Œçš„æ”¹åŠ¨ã€‚æœ€æ–°ç‰ˆæœ¬çš„diffè¿˜æ”¯æŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚diffç¨‹åºçš„è¾“å‡ºè¢«ç§°ä¸ºè¡¥ä¸ (patch)ï¼Œå› ä¸ºLinuxç³»ç»Ÿä¸­è¿˜æœ‰ä¸€ä¸ªpatchç¨‹åºï¼Œå¯ä»¥æ ¹æ®diffçš„è¾“å‡ºå°†a.cçš„æ–‡ä»¶å†…å®¹æ›´æ–°ä¸ºb.cã€‚diffæ˜¯svnã€cvsã€gitç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚","text":"diff å‘½ä»¤æ˜¯ linuxä¸Šéå¸¸é‡è¦çš„å·¥å…·ï¼Œç”¨äºæ¯”è¾ƒæ–‡ä»¶çš„å†…å®¹ï¼Œç‰¹åˆ«æ˜¯æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬ä¸åŒçš„æ–‡ä»¶ä»¥æ‰¾åˆ°æ”¹åŠ¨çš„åœ°æ–¹ã€‚diffåœ¨å‘½ä»¤è¡Œä¸­æ‰“å°æ¯ä¸€ä¸ªè¡Œçš„æ”¹åŠ¨ã€‚æœ€æ–°ç‰ˆæœ¬çš„diffè¿˜æ”¯æŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚diffç¨‹åºçš„è¾“å‡ºè¢«ç§°ä¸ºè¡¥ä¸ (patch)ï¼Œå› ä¸ºLinuxç³»ç»Ÿä¸­è¿˜æœ‰ä¸€ä¸ªpatchç¨‹åºï¼Œå¯ä»¥æ ¹æ®diffçš„è¾“å‡ºå°†a.cçš„æ–‡ä»¶å†…å®¹æ›´æ–°ä¸ºb.cã€‚diffæ˜¯svnã€cvsã€gitç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ å‘½ä»¤æ ¼å¼$ diff [å‚æ•°] [æ–‡ä»¶1æˆ–ç›®å½•1] [æ–‡ä»¶2æˆ–ç›®å½•2] å‘½ä»¤åŠŸèƒ½ diffå‘½ä»¤èƒ½æ¯”è¾ƒå•ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•å†…å®¹ã€‚å¦‚æœæŒ‡å®šæ¯”è¾ƒçš„æ˜¯æ–‡ä»¶ï¼Œåˆ™åªæœ‰å½“è¾“å…¥ä¸ºæ–‡æœ¬æ–‡ä»¶æ—¶æ‰æœ‰æ•ˆã€‚ä»¥é€è¡Œçš„æ–¹å¼ï¼Œæ¯”è¾ƒæ–‡æœ¬æ–‡ä»¶çš„å¼‚åŒå¤„ã€‚å¦‚æœæŒ‡å®šæ¯”è¾ƒçš„æ˜¯ç›®å½•çš„çš„æ—¶å€™ï¼Œdiff å‘½ä»¤ä¼šæ¯”è¾ƒä¸¤ä¸ªç›®å½•ä¸‹åå­—ç›¸åŒçš„æ–‡æœ¬æ–‡ä»¶ã€‚åˆ—å‡ºä¸åŒçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€å…¬å…±å­ç›®å½•å’Œåªåœ¨ä¸€ä¸ªç›®å½•å‡ºç°çš„æ–‡ä»¶ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° - æŒ‡å®šè¦æ˜¾ç¤ºå¤šå°‘è¡Œçš„æ–‡æœ¬ã€‚æ­¤å‚æ•°å¿…é¡»ä¸-cæˆ–-uå‚æ•°ä¸€å¹¶ä½¿ç”¨ -aæˆ–â€“text diffé¢„è®¾åªä¼šé€è¡Œæ¯”è¾ƒæ–‡æœ¬æ–‡ä»¶ -bæˆ–â€“ignore-space-change ä¸æ£€æŸ¥ç©ºæ ¼å­—ç¬¦çš„ä¸åŒ -Bæˆ–â€“ignore-blank-lines ä¸æ£€æŸ¥ç©ºç™½è¡Œ -c æ˜¾ç¤ºå…¨éƒ¨å†…æ–‡ï¼Œå¹¶æ ‡å‡ºä¸åŒä¹‹å¤„ -Cæˆ–â€“context ä¸æ‰§è¡Œâ€-câ€æŒ‡ä»¤ç›¸åŒ -dæˆ–â€“minimal ä½¿ç”¨ä¸åŒçš„æ¼”ç®—æ³•ï¼Œä»¥è¾ƒå°çš„å•ä½æ¥åšæ¯”è¾ƒ -Dæˆ–ifdef æ­¤å‚æ•°çš„è¾“å‡ºæ ¼å¼å¯ç”¨äºå‰ç½®å¤„ç†å™¨å·¨é›† -eæˆ–â€“ed æ­¤å‚æ•°çš„è¾“å‡ºæ ¼å¼å¯ç”¨äºedçš„scriptæ–‡ä»¶ -fæˆ–-forward-ed è¾“å‡ºçš„æ ¼å¼ç±»ä¼¼edçš„scriptæ–‡ä»¶ï¼Œä½†æŒ‰ç…§åŸæ¥æ–‡ä»¶çš„é¡ºåºæ¥æ˜¾ç¤ºä¸åŒå¤„ -Hæˆ–â€“speed-large-files æ¯”è¾ƒå¤§æ–‡ä»¶æ—¶ï¼Œå¯åŠ å¿«é€Ÿåº¦ -læˆ–â€“ignore-matching-lines è‹¥ä¸¤ä¸ªæ–‡ä»¶åœ¨æŸå‡ è¡Œæœ‰æ‰€ä¸åŒï¼Œè€Œè¿™å‡ è¡ŒåŒæ—¶éƒ½åŒ…å«äº†é€‰é¡¹ä¸­æŒ‡å®šçš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼Œåˆ™ä¸æ˜¾ç¤ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ -iæˆ–â€“ignore-case ä¸æ£€æŸ¥å¤§å°å†™çš„ä¸åŒ -læˆ–â€“paginate å°†ç»“æœäº¤ç”±prç¨‹åºæ¥åˆ†é¡µ -næˆ–â€“rcs å°†æ¯”è¾ƒç»“æœä»¥RCSçš„æ ¼å¼æ¥æ˜¾ç¤º -Næˆ–â€“new-file åœ¨æ¯”è¾ƒç›®å½•æ—¶ï¼Œè‹¥æ–‡ä»¶Aä»…å‡ºç°åœ¨æŸä¸ªç›®å½•ä¸­ï¼Œé¢„è®¾ä¼šæ˜¾ç¤ºï¼šOnly inç›®å½•ï¼šæ–‡ä»¶Aè‹¥ä½¿ç”¨-Nå‚æ•°ï¼Œåˆ™diffä¼šå°†æ–‡ä»¶Aä¸ä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶æ¯”è¾ƒ -p è‹¥æ¯”è¾ƒçš„æ–‡ä»¶ä¸ºCè¯­è¨€çš„ç¨‹åºç æ–‡ä»¶æ—¶ï¼Œæ˜¾ç¤ºå·®å¼‚æ‰€åœ¨çš„å‡½æ•°åç§° -Pæˆ–â€“unidirectional-new-file ä¸-Nç±»ä¼¼ï¼Œä½†åªæœ‰å½“ç¬¬äºŒä¸ªç›®å½•åŒ…å«äº†ä¸€ä¸ªç¬¬ä¸€ä¸ªç›®å½•æ‰€æ²¡æœ‰çš„æ–‡ä»¶æ—¶ï¼Œæ‰ä¼šå°†è¿™ä¸ªæ–‡ä»¶ä¸ç©ºç™½çš„æ–‡ä»¶åšæ¯”è¾ƒ -qæˆ–â€“brief ä»…æ˜¾ç¤ºæœ‰æ— å·®å¼‚ï¼Œä¸æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯ -ræˆ–â€“recursive æ¯”è¾ƒå­ç›®å½•ä¸­çš„æ–‡ä»¶ -sæˆ–â€“report-identical-files è‹¥æ²¡æœ‰å‘ç°ä»»ä½•å·®å¼‚ï¼Œä»ç„¶æ˜¾ç¤ºä¿¡æ¯ -Sæˆ–â€“starting-file åœ¨æ¯”è¾ƒç›®å½•æ—¶ï¼Œä»æŒ‡å®šçš„æ–‡ä»¶å¼€å§‹æ¯”è¾ƒ -tæˆ–â€“expand-tabs åœ¨è¾“å‡ºæ—¶ï¼Œå°†tabå­—ç¬¦å±•å¼€ -Tæˆ–â€“initial-tab åœ¨æ¯è¡Œå‰é¢åŠ ä¸Štabå­—ç¬¦ä»¥ä¾¿å¯¹é½ -u,-Uæˆ–â€“unified&#x3D; ä»¥åˆå¹¶çš„æ–¹å¼æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„ä¸åŒ -væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -wæˆ–â€“ignore-all-space å¿½ç•¥å…¨éƒ¨çš„ç©ºæ ¼å­—ç¬¦ -Wæˆ–â€“width åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼ŒæŒ‡å®šæ å®½ -xæˆ–â€“exclude ä¸æ¯”è¾ƒé€‰é¡¹ä¸­æ‰€æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½• -Xæˆ–â€“exclude-from æ‚¨å¯ä»¥å°†æ–‡ä»¶æˆ–ç›®å½•ç±»å‹å­˜æˆæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶ååœ¨&#x3D;ä¸­æŒ‡å®šæ­¤æ–‡æœ¬æ–‡ä»¶ -yæˆ–â€“side-by-side ä»¥å¹¶åˆ—çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„å¼‚åŒä¹‹å¤„ â€“left-column åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼Œè‹¥ä¸¤ä¸ªæ–‡ä»¶æŸä¸€è¡Œå†…å®¹ç›¸åŒï¼Œåˆ™ä»…åœ¨å·¦ä¾§çš„æ ä½æ˜¾ç¤ºè¯¥è¡Œå†…å®¹ â€“suppress-common-lines åœ¨ä½¿ç”¨-yå‚æ•°æ—¶ï¼Œä»…æ˜¾ç¤ºä¸åŒä¹‹å¤„ â€“help æ˜¾ç¤ºå¸®åŠ© ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶&#96;&#96;&#96;bash$ diff 1.txt 2.txt1c1&lt; ii iii &gt;**è¯´æ˜ï¼š** ä¸Šé¢çš„â€œ1c1â€è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶å’Œç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬1è¡Œå†…å®¹æœ‰æ‰€ä¸åŒï¼› diff çš„normal æ˜¾ç¤ºæ ¼å¼æœ‰ä¸‰ç§æç¤º: a - add c - change d - delete **`ä¾‹äºŒ`ï¼šå¹¶æ’æ ¼å¼è¾“å‡º** ```bash $ diff 1.txt 2.txt -y -W 50 ii | iii iii iii iiii iiii iiiii iiiii è¯´æ˜ï¼š â€œ|â€è¡¨ç¤ºå‰å2ä¸ªæ–‡ä»¶å†…å®¹æœ‰ä¸åŒ â€œ&lt;â€è¡¨ç¤ºåé¢æ–‡ä»¶æ¯”å‰é¢æ–‡ä»¶å°‘äº†1è¡Œå†…å®¹ â€œ&gt;â€è¡¨ç¤ºåé¢æ–‡ä»¶æ¯”å‰é¢æ–‡ä»¶å¤šäº†1è¡Œå†…å®¹ ä¾‹ä¸‰ï¼šä¸Šä¸‹æ–‡è¾“å‡ºæ ¼å¼ $ diff 1.txt 2.txt -c *** 1.txt 2017-01-28 14:24:13.744538252 +0800 --- 2.txt 2017-01-28 14:24:59.096124066 +0800 *************** *** 1,4 **** ! ii iii iiii iiiii --- 1,4 ---- ! iii iii iiii iiiii è¯´æ˜ï¼š è¿™ç§æ–¹å¼åœ¨å¼€å¤´ä¸¤è¡Œä½œäº†æ¯”è¾ƒæ–‡ä»¶çš„è¯´æ˜ï¼Œè¿™é‡Œæœ‰ä¸‰ä¸­ç‰¹æ®Šå­—ç¬¦ï¼š â€œï¼‹â€ æ¯”è¾ƒçš„æ–‡ä»¶çš„åè€…æ¯”å‰ç€å¤šä¸€è¡Œ â€œï¼â€ æ¯”è¾ƒçš„æ–‡ä»¶çš„åè€…æ¯”å‰ç€å°‘ä¸€è¡Œ â€œï¼â€ æ¯”è¾ƒçš„æ–‡ä»¶ä¸¤è€…æœ‰å·®åˆ«çš„è¡Œ ä¾‹å››ï¼šç»Ÿä¸€æ ¼å¼è¾“å‡º $ diff 1.txt 2.txt -u --- 1.txt 2017-01-28 14:24:13.744538252 +0800 +++ 2.txt 2017-01-28 14:24:59.096124066 +0800 @@ -1,4 +1,4 @@ -ii +iii iii iiii iiiii ä¾‹äº”ï¼šæ¯”è¾ƒæ–‡ä»¶å¤¹ä¸åŒ $ diff test3 test6 ä¾‹å…­ï¼šæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶ä¸åŒï¼Œå¹¶ç”Ÿäº§è¡¥ä¸ $ diff -ruN 1.txt 2.txt &gt;patch.log ä¾‹ä¸ƒï¼šæ‰“è¡¥ä¸ $ 1.txt patch","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ46ï¼‰: ln","slug":"linux-command-46-ln","date":"2017-01-14T03:00:33.000Z","updated":"2024-07-05T11:10:22.969Z","comments":true,"path":"2017/01/14/linux-command-46-ln/","permalink":"http://yelog.org/2017/01/14/linux-command-46-ln/","excerpt":"lnæ˜¯linuxä¸­åˆä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥.å½“æˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„ç›®å½•ï¼Œç”¨åˆ°ç›¸åŒçš„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸€ä¸ªéœ€è¦çš„ç›®å½•ä¸‹éƒ½æ”¾ä¸€ä¸ªå¿…é¡»ç›¸åŒçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åªè¦åœ¨æŸä¸ªå›ºå®šçš„ç›®å½•ï¼Œæ”¾ä¸Šè¯¥æ–‡ä»¶ï¼Œç„¶ååœ¨ å…¶å®ƒçš„ç›®å½•ä¸‹ç”¨lnå‘½ä»¤é“¾æ¥ï¼ˆlinkï¼‰å®ƒå°±å¯ä»¥ï¼Œä¸å¿…é‡å¤çš„å ç”¨ç£ç›˜ç©ºé—´ã€‚","text":"lnæ˜¯linuxä¸­åˆä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥.å½“æˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„ç›®å½•ï¼Œç”¨åˆ°ç›¸åŒçš„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸€ä¸ªéœ€è¦çš„ç›®å½•ä¸‹éƒ½æ”¾ä¸€ä¸ªå¿…é¡»ç›¸åŒçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åªè¦åœ¨æŸä¸ªå›ºå®šçš„ç›®å½•ï¼Œæ”¾ä¸Šè¯¥æ–‡ä»¶ï¼Œç„¶ååœ¨ å…¶å®ƒçš„ç›®å½•ä¸‹ç”¨lnå‘½ä»¤é“¾æ¥ï¼ˆlinkï¼‰å®ƒå°±å¯ä»¥ï¼Œä¸å¿…é‡å¤çš„å ç”¨ç£ç›˜ç©ºé—´ã€‚ å‘½ä»¤æ ¼å¼$ ln [å‚æ•°][æºæ–‡ä»¶æˆ–ç›®å½•][ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•] å‘½ä»¤åŠŸèƒ½ Linuxæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ‰€è°“çš„é“¾æ¥(link)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºæ¡£æ¡ˆçš„åˆ«åï¼Œè€Œé“¾æ¥åˆå¯åˆ†ä¸ºä¸¤ç§ : ç¡¬é“¾æ¥(hard link)ä¸è½¯é“¾æ¥(symbolic link)ï¼Œç¡¬é“¾æ¥çš„æ„æ€æ˜¯ä¸€ä¸ªæ¡£æ¡ˆå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œè€Œè½¯é“¾æ¥çš„æ–¹å¼åˆ™æ˜¯äº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„æ¡£æ¡ˆï¼Œè¯¥æ¡£æ¡ˆçš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¡£æ¡ˆçš„ä½ç½®ã€‚ç¡¬é“¾æ¥æ˜¯å­˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œè½¯é“¾æ¥å´å¯ä»¥è·¨è¶Šä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚è½¯è¿æ¥ 1.è½¯é“¾æ¥ï¼Œä»¥è·¯å¾„çš„å½¢å¼å­˜åœ¨ã€‚ç±»ä¼¼äºWindowsæ“ä½œç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼ 2.è½¯é“¾æ¥å¯ä»¥ è·¨æ–‡ä»¶ç³»ç»Ÿ ï¼Œç¡¬é“¾æ¥ä¸å¯ä»¥ 3.è½¯é“¾æ¥å¯ä»¥å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶åè¿›è¡Œé“¾æ¥ 4.è½¯é“¾æ¥å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ç¡¬é“¾æ¥ 1.ç¡¬é“¾æ¥ï¼Œä»¥æ–‡ä»¶å‰¯æœ¬çš„å½¢å¼å­˜åœ¨ã€‚ä½†ä¸å ç”¨å®é™…ç©ºé—´ã€‚ 2.ä¸å…è®¸ç»™ç›®å½•åˆ›å»ºç¡¬é“¾æ¥ 3.ç¡¬é“¾æ¥åªæœ‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­æ‰èƒ½åˆ›å»ºä¸¤ç‚¹æ³¨æ„ ç¬¬ä¸€ï¼Œlnå‘½ä»¤ä¼šä¿æŒæ¯ä¸€å¤„é“¾æ¥æ–‡ä»¶çš„åŒæ­¥æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºä½ æ”¹åŠ¨äº†å“ªä¸€å¤„ï¼Œå…¶å®ƒçš„æ–‡ä»¶éƒ½ä¼šå‘ç”Ÿç›¸åŒçš„å˜åŒ–ï¼› ç¬¬äºŒï¼Œlnçš„é“¾æ¥åˆåˆ†è½¯é“¾æ¥å’Œç¡¬é“¾æ¥ä¸¤ç§ï¼Œè½¯é“¾æ¥å°±æ˜¯ln â€“s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ï¼Œå®ƒåªä¼šåœ¨ä½ é€‰å®šçš„ä½ç½®ä¸Šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶çš„é•œåƒï¼Œä¸ä¼šå ç”¨ç£ç›˜ç©ºé—´ï¼Œç¡¬é“¾æ¥ ln æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ï¼Œæ²¡æœ‰å‚æ•°-sï¼Œ å®ƒä¼šåœ¨ä½ é€‰å®šçš„ä½ç½®ä¸Šç”Ÿæˆä¸€ä¸ªå’Œæºæ–‡ä»¶å¤§å°ç›¸åŒçš„æ–‡ä»¶ï¼Œæ— è®ºæ˜¯è½¯é“¾æ¥è¿˜æ˜¯ç¡¬é“¾æ¥ï¼Œæ–‡ä»¶éƒ½ä¿æŒåŒæ­¥å˜åŒ–ã€‚ lnæŒ‡ä»¤ç”¨åœ¨é“¾æ¥æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚åŒæ—¶æŒ‡å®šä¸¤ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”æœ€åçš„ç›®çš„åœ°æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šæŠŠå‰é¢æŒ‡å®šçš„æ‰€æœ‰æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ã€‚è‹¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”æœ€åçš„ç›®çš„åœ°å¹¶éæ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯ã€‚ å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -b åˆ é™¤ï¼Œè¦†ç›–ä»¥å‰å»ºç«‹çš„é“¾æ¥ -d å…è®¸è¶…çº§ç”¨æˆ·åˆ¶ä½œç›®å½•çš„ç¡¬é“¾æ¥ -f å¼ºåˆ¶æ‰§è¡Œ -i äº¤äº’æ¨¡å¼ï¼Œæ–‡ä»¶å­˜åœ¨åˆ™æç¤ºç”¨æˆ·æ˜¯å¦è¦†ç›– -n æŠŠç¬¦å·é“¾æ¥è§†ä¸ºä¸€èˆ¬ç›®å½• -s è½¯é“¾æ¥(ç¬¦å·é“¾æ¥) -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†è¿‡ç¨‹ é€‰æ‹©å‚æ•° å‚æ•° æè¿° -S â€œ-S&lt;å­—å°¾å¤‡ä»½å­—ç¬¦ä¸²&gt; â€æˆ– â€œâ€“suffix&#x3D;&lt;å­—å°¾å¤‡ä»½å­—ç¬¦ä¸²&gt;â€ -V â€œ-V&lt;å¤‡ä»½æ–¹å¼&gt;â€æˆ–â€œâ€“version-control&#x3D;&lt;å¤‡ä»½æ–¹å¼&gt;â€ â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šç»™æ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥ # ä¸º2.txtæ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥2ï¼Œå¦‚æœ2.txtä¸¢å¤±ï¼Œ2å°†å¤±æ•ˆ $ ln -s 2.txt 2 ä¾‹äºŒï¼šç»™æ–‡ä»¶åˆ›å»ºç¡¬é“¾æ¥ # ä¸º1.txtåˆ›å»ºç¡¬é“¾æ¥1ï¼Œ1.txtä¸1çš„å„é¡¹å±æ€§ç›¸åŒ,åˆ é™¤1.txtï¼Œ1ä»èƒ½ä½¿ç”¨ $ ln 1.txt 1 ä¾‹ä¸‰ï¼šæ¥ä¸Šé¢ä¸¤å®ä¾‹ï¼Œé“¾æ¥å®Œæ¯•åï¼Œåˆ é™¤å’Œé‡å»ºé“¾æ¥åŸæ–‡ä»¶ $ ll -rw-r--r-- 2 faker faker 10 1æœˆ 22 11:28 1 -rw-r--r-- 2 faker faker 10 1æœˆ 22 11:28 1.txt lrwxrwxrwx 1 faker faker 5 1æœˆ 28 11:15 2 -&gt; 2.txt -rwxrwxrwx 1 faker faker 14 1æœˆ 18 10:06 2.txt $ rm 1.txt 2.txt -rw-r--r-- 1 faker faker 10 1æœˆ 22 11:28 1 lrwxrwxrwx 1 faker faker 5 1æœˆ 28 11:15 2 -&gt; 2.txt $ cat 1 sdfiskdlf $ cat 2 cat: 2: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• è¯´æ˜ï¼š 1.æºæ–‡ä»¶è¢«åˆ é™¤åï¼Œå¹¶æ²¡æœ‰å½±å“ç¡¬é“¾æ¥æ–‡ä»¶ï¼›è½¯é“¾æ¥æ–‡ä»¶åœ¨centosç³»ç»Ÿä¸‹ä¸æ–­çš„é—ªçƒï¼Œæç¤ºæºæ–‡ä»¶å·²ç»ä¸å­˜åœ¨ 2.é‡å»ºæºæ–‡ä»¶åï¼Œè½¯é“¾æ¥ä¸åœ¨é—ªçƒæç¤ºï¼Œè¯´æ˜å·²ç»é“¾æ¥æˆåŠŸï¼Œæ‰¾åˆ°äº†é“¾æ¥æ–‡ä»¶ç³»ç»Ÿï¼›é‡å»ºåï¼Œç¡¬é“¾æ¥æ–‡ä»¶å¹¶æ²¡æœ‰å—åˆ°æºæ–‡ä»¶å½±å“ï¼Œç¡¬é“¾æ¥æ–‡ä»¶çš„å†…å®¹è¿˜æ˜¯ä¿ç•™äº†åˆ é™¤å‰æºæ–‡ä»¶çš„å†…å®¹ï¼Œè¯´æ˜ç¡¬é“¾æ¥å·²ç»å¤±æ•ˆ ä¾‹ä¸‰ï¼šå°†æ–‡ä»¶é“¾æ¥ä¸ºå¦ä¸€ä¸ªç›®å½•ä¸­çš„ç›¸åŒåå­— # åœ¨igæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª1.txtçš„é“¾æ¥ $ ln 1.txt ig/ $ ll ig -rw-r--r-- 2 faker faker 10 1æœˆ 28 13:40 1.txt ä¾‹äº”ï¼šç»™ç›®å½•åˆ›å»ºè½¯è¿æ¥ $ ln -s ig gi è¯´æ˜ï¼š 1.ç›®å½•åªèƒ½åˆ›å»ºè½¯é“¾æ¥ 2.ç›®å½•åˆ›å»ºé“¾æ¥å¿…é¡»ç”¨ç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„åˆ›å»ºä¼šä¸æˆåŠŸï¼Œä¼šæç¤ºï¼šç¬¦å·è¿æ¥çš„å±‚æ•°è¿‡å¤š è¿™æ ·çš„é”™è¯¯ï¼ˆæµ‹è¯•å¹¶ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼‰ 3.åœ¨é“¾æ¥ç›®æ ‡ç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶éƒ½ä¼šåœ¨æºæ–‡ä»¶ç›®å½•ä¸­åŒæ­¥å˜åŒ–","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ45ï¼‰: scp","slug":"linux-command-45-scp","date":"2017-01-13T02:53:48.000Z","updated":"2024-07-05T11:10:23.002Z","comments":true,"path":"2017/01/13/linux-command-45-scp/","permalink":"http://yelog.org/2017/01/13/linux-command-45-scp/","excerpt":"scpæ˜¯secure copyçš„ç®€å†™ï¼Œç”¨äºåœ¨Linuxä¸‹è¿›è¡Œè¿œç¨‹æ‹·è´æ–‡ä»¶çš„å‘½ä»¤ï¼Œå’Œå®ƒç±»ä¼¼çš„å‘½ä»¤æœ‰cpï¼Œä¸è¿‡cpåªæ˜¯åœ¨æœ¬æœºè¿›è¡Œæ‹·è´ä¸èƒ½è·¨æœåŠ¡å™¨ï¼Œè€Œä¸”scpä¼ è¾“æ˜¯åŠ å¯†çš„ã€‚å¯èƒ½ä¼šç¨å¾®å½±å“ä¸€ä¸‹é€Ÿåº¦ã€‚å½“ä½ æœåŠ¡å™¨ç¡¬ç›˜å˜ä¸ºåªè¯» read only systemæ—¶ï¼Œç”¨scpå¯ä»¥å¸®ä½ æŠŠæ–‡ä»¶ç§»å‡ºæ¥ã€‚å¦å¤–ï¼Œscpè¿˜éå¸¸ä¸å èµ„æºï¼Œä¸ä¼šæé«˜å¤šå°‘ç³»ç»Ÿè´Ÿè·ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œrsyncå°±è¿œè¿œä¸åŠå®ƒäº†ã€‚è™½ç„¶ rsyncæ¯”scpä¼šå¿«ä¸€ç‚¹ï¼Œä½†å½“å°æ–‡ä»¶ä¼—å¤šçš„æƒ…å†µä¸‹ï¼Œrsyncä¼šå¯¼è‡´ç¡¬ç›˜I&#x2F;Oéå¸¸é«˜ï¼Œè€ŒscpåŸºæœ¬ä¸å½±å“ç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ã€‚","text":"scpæ˜¯secure copyçš„ç®€å†™ï¼Œç”¨äºåœ¨Linuxä¸‹è¿›è¡Œè¿œç¨‹æ‹·è´æ–‡ä»¶çš„å‘½ä»¤ï¼Œå’Œå®ƒç±»ä¼¼çš„å‘½ä»¤æœ‰cpï¼Œä¸è¿‡cpåªæ˜¯åœ¨æœ¬æœºè¿›è¡Œæ‹·è´ä¸èƒ½è·¨æœåŠ¡å™¨ï¼Œè€Œä¸”scpä¼ è¾“æ˜¯åŠ å¯†çš„ã€‚å¯èƒ½ä¼šç¨å¾®å½±å“ä¸€ä¸‹é€Ÿåº¦ã€‚å½“ä½ æœåŠ¡å™¨ç¡¬ç›˜å˜ä¸ºåªè¯» read only systemæ—¶ï¼Œç”¨scpå¯ä»¥å¸®ä½ æŠŠæ–‡ä»¶ç§»å‡ºæ¥ã€‚å¦å¤–ï¼Œscpè¿˜éå¸¸ä¸å èµ„æºï¼Œä¸ä¼šæé«˜å¤šå°‘ç³»ç»Ÿè´Ÿè·ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œrsyncå°±è¿œè¿œä¸åŠå®ƒäº†ã€‚è™½ç„¶ rsyncæ¯”scpä¼šå¿«ä¸€ç‚¹ï¼Œä½†å½“å°æ–‡ä»¶ä¼—å¤šçš„æƒ…å†µä¸‹ï¼Œrsyncä¼šå¯¼è‡´ç¡¬ç›˜I&#x2F;Oéå¸¸é«˜ï¼Œè€ŒscpåŸºæœ¬ä¸å½±å“ç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ã€‚ å‘½ä»¤æ ¼å¼$ scp [å‚æ•°] [åŸè·¯å¾„] [ç›®æ ‡è·¯å¾„] å‘½ä»¤åŠŸèƒ½ scpæ˜¯ secure copyçš„ç¼©å†™, scpæ˜¯linuxç³»ç»Ÿä¸‹åŸºäºsshç™»é™†è¿›è¡Œå®‰å…¨çš„è¿œç¨‹æ–‡ä»¶æ‹·è´å‘½ä»¤ã€‚linuxçš„scpå‘½ä»¤å¯ä»¥åœ¨linuxæœåŠ¡å™¨ä¹‹é—´å¤åˆ¶æ–‡ä»¶å’Œç›®å½•ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -1 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh1 -2 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh2 -4 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv4å¯»å€ -6 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv6å¯»å€ -B ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼ï¼ˆä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¯¢é—®ä¼ è¾“å£ä»¤æˆ–çŸ­è¯­ï¼‰ -C å…è®¸å‹ç¼©ã€‚ï¼ˆå°†-Cæ ‡å¿—ä¼ é€’ç»™sshï¼Œä»è€Œæ‰“å¼€å‹ç¼©åŠŸèƒ½ï¼‰ -p ä¿ç•™åŸæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼Œè®¿é—®æ—¶é—´å’Œè®¿é—®æƒé™ -q ä¸æ˜¾ç¤ºä¼ è¾“è¿›åº¦æ¡ -r é€’å½’å¤åˆ¶æ•´ä¸ªç›®å½• -v è¯¦ç»†æ–¹å¼æ˜¾ç¤ºè¾“å‡ºã€‚scpå’Œssh(1)ä¼šæ˜¾ç¤ºå‡ºæ•´ä¸ªè¿‡ç¨‹çš„è°ƒè¯•ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç”¨äºè°ƒè¯•è¿æ¥ï¼ŒéªŒè¯å’Œé…ç½®é—®é¢˜ -c cipher ä»¥cipherå°†æ•°æ®ä¼ è¾“è¿›è¡ŒåŠ å¯†ï¼Œè¿™ä¸ªé€‰é¡¹å°†ç›´æ¥ä¼ é€’ç»™ssh -F ssh_config æŒ‡å®šä¸€ä¸ªæ›¿ä»£çš„sshé…ç½®æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æ¥ä¼ é€’ç»™ssh -i identity_file ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ä¼ è¾“æ—¶ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æ¥ä¼ é€’ç»™ssh -l limit é™å®šç”¨æˆ·æ‰€èƒ½ä½¿ç”¨çš„å¸¦å®½ï¼Œä»¥Kbit&#x2F;sä¸ºå•ä½ -o ssh_option å¦‚æœä¹ æƒ¯äºä½¿ç”¨ssh_config(5)ä¸­çš„å‚æ•°ä¼ é€’æ–¹å¼ -P port æ³¨æ„æ˜¯å¤§å†™çš„P, portæ˜¯æŒ‡å®šæ•°æ®ä¼ è¾“ç”¨åˆ°çš„ç«¯å£å· -S program æŒ‡å®šåŠ å¯†ä¼ è¾“æ—¶æ‰€ä½¿ç”¨çš„ç¨‹åºã€‚æ­¤ç¨‹åºå¿…é¡»èƒ½å¤Ÿç†è§£ssh(1)çš„é€‰é¡¹ ä½¿ç”¨å®ä¾‹ä»æœ¬åœ°æœåŠ¡å™¨å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼š # æŒ‡å®šäº†ç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¾“å…¥å¯†ç  $ scp -r img/* root@server:/var/project/img/ # æ²¡æœ‰æŒ‡å®šç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¦è¾“å…¥ç”¨æˆ·åå¯†ç  $ scp -r img/* server:/var/project/img/ ä»è¿œç¨‹æœåŠ¡å™¨å¤åˆ¶åˆ°æœ¬åœ°å½“å‰ç›®å½•ï¼š $ scp -r server:/var/project/img/* .","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ44ï¼‰: rcp","slug":"linux-command-44-rcp","date":"2017-01-12T02:36:06.000Z","updated":"2024-07-05T11:10:22.896Z","comments":true,"path":"2017/01/12/linux-command-44-rcp/","permalink":"http://yelog.org/2017/01/12/linux-command-44-rcp/","excerpt":"rcpä»£è¡¨â€œremote file copyâ€ï¼ˆè¿œç¨‹æ–‡ä»¶æ‹·è´ï¼‰ã€‚è¯¥å‘½ä»¤ç”¨äºåœ¨è®¡ç®—æœºä¹‹é—´æ‹·è´æ–‡ä»¶ã€‚rcpå‘½ä»¤æœ‰ä¸¤ç§æ ¼å¼ã€‚ç¬¬ä¸€ç§æ ¼å¼ç”¨äºæ–‡ä»¶åˆ°æ–‡ä»¶çš„æ‹·è´ï¼›ç¬¬äºŒç§æ ¼å¼ç”¨äºæŠŠæ–‡ä»¶æˆ–ç›®å½•æ‹·è´åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ã€‚","text":"rcpä»£è¡¨â€œremote file copyâ€ï¼ˆè¿œç¨‹æ–‡ä»¶æ‹·è´ï¼‰ã€‚è¯¥å‘½ä»¤ç”¨äºåœ¨è®¡ç®—æœºä¹‹é—´æ‹·è´æ–‡ä»¶ã€‚rcpå‘½ä»¤æœ‰ä¸¤ç§æ ¼å¼ã€‚ç¬¬ä¸€ç§æ ¼å¼ç”¨äºæ–‡ä»¶åˆ°æ–‡ä»¶çš„æ‹·è´ï¼›ç¬¬äºŒç§æ ¼å¼ç”¨äºæŠŠæ–‡ä»¶æˆ–ç›®å½•æ‹·è´åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ã€‚ å‘½ä»¤æ ¼å¼$ rcp [å‚æ•°] [æºæ–‡ä»¶] [ç›®æ ‡æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ rcpå‘½ä»¤ç”¨åœ¨è¿œç«¯å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚åŒæ—¶æŒ‡å®šä¸¤ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”æœ€åçš„ç›®çš„åœ°æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™å®ƒä¼šæŠŠå‰é¢æŒ‡å®šçš„æ‰€æœ‰æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -r é€’å½’åœ°æŠŠæºç›®å½•ä¸­çš„æ‰€æœ‰å†…å®¹æ‹·è´åˆ°ç›®çš„ç›®å½•ä¸­ã€‚è¦ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼Œç›®çš„å¿…é¡»æ˜¯ä¸€ä¸ªç›®å½• -p è¯•å›¾ä¿ç•™æºæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´å’Œæ¨¡å¼ï¼Œå¿½ç•¥umask -k è¯·æ±‚rcpè·å¾—åœ¨æŒ‡å®šåŒºåŸŸå†…çš„è¿œç¨‹ä¸»æœºçš„Kerberos è®¸å¯ï¼Œè€Œä¸æ˜¯è·å¾—ç”±krb_relmofhostâ‘¶ç¡®å®šçš„è¿œç¨‹ä¸»æœºåŒºåŸŸå†…çš„è¿œç¨‹ä¸»æœºçš„Kerberosè®¸å¯ã€‚ -x ä¸ºä¼ é€çš„æ‰€æœ‰æ•°æ®æ‰“å¼€DESåŠ å¯†ã€‚è¿™ä¼šå½±å“å“åº”æ—¶é—´å’ŒCPUåˆ©ç”¨ç‡ï¼Œä½†æ˜¯å¯ä»¥æé«˜å®‰å…¨æ€§ã€‚å¦‚æœåœ¨æ–‡ä»¶åä¸­æŒ‡å®šçš„è·¯å¾„ä¸æ˜¯å®Œæ•´çš„è·¯å¾„åï¼Œé‚£ä¹ˆè¿™ä¸ªè·¯å¾„è¢«è§£é‡Šä¸ºç›¸å¯¹è¿œç¨‹æœºä¸ŠåŒåç”¨æˆ·çš„ä¸»ç›®å½•ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºè¿œç¨‹ç”¨æˆ·åï¼Œå°±ä½¿ç”¨å½“å‰ç”¨æˆ·åã€‚å¦‚æœè¿œç¨‹æœºä¸Šçš„è·¯å¾„åŒ…å«ç‰¹æ®Šshellå­—ç¬¦ï¼Œéœ€è¦ç”¨åæ–œçº¿ï¼ˆ\\ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰æˆ–å•å¼•å·ï¼ˆâ€™ï¼‰æ‹¬èµ·æ¥ï¼Œä½¿æ‰€æœ‰çš„shellå…ƒå­—ç¬¦éƒ½èƒ½è¢«è¿œç¨‹åœ°è§£é‡Šã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œrcpä¸æç¤ºè¾“å…¥å£ä»¤ï¼Œå®ƒé€šè¿‡rshå‘½ä»¤æ¥æ‰§è¡Œæ‹·è´ã€‚ directory æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•å‚æ•°æ—¢å¯ä»¥æ˜¯è¿œç¨‹æ–‡ä»¶åä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶åã€‚è¿œç¨‹æ–‡ä»¶åå…·æœ‰å¦‚ä¸‹å½¢å¼ï¼šrname@rhostï¼špathï¼Œå…¶ä¸­rnameæ˜¯è¿œç¨‹ç”¨æˆ·åï¼Œrhostæ˜¯è¿œç¨‹è®¡ç®—æœºåï¼Œpathæ˜¯è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ã€‚ ä½¿ç”¨å®ä¾‹ä½¿ç”¨rcpï¼Œéœ€è¦å…·å¤‡çš„æ¡ä»¶ å¦‚æœç³»ç»Ÿä¸­æœ‰ &#x2F;etc&#x2F;hosts æ–‡ä»¶ï¼Œç³»ç»Ÿç®¡ç†å‘˜åº”ç¡®ä¿è¯¥æ–‡ä»¶åŒ…å«è¦ä¸ä¹‹è¿›è¡Œé€šä¿¡çš„è¿œç¨‹ä¸»æœºçš„é¡¹ã€‚ &#x2F;etc&#x2F;hosts æ–‡ä»¶ä¸­æœ‰ä¸€è¡Œæ–‡å­—ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªè¿œç¨‹ç³»ç»Ÿçš„ä»¥ä¸‹ä¿¡æ¯ï¼š internet_address official_name alias ä¾‹å¦‚ï¼š 9.186.10.*** webserver1.com.58.webserver.rhosts æ–‡ä»¶ .rhosts æ–‡ä»¶ä½äºè¿œç¨‹ç³»ç»Ÿçš„ä¸»ç›®å½•ä¸‹ï¼Œå…¶ä¸­åŒ…å«æœ¬åœ°ç³»ç»Ÿçš„åç§°å’Œæœ¬åœ°ç™»å½•åã€‚ ä¾‹å¦‚ï¼Œè¿œç¨‹ç³»ç»Ÿçš„ .rhosts æ–‡ä»¶ä¸­çš„é¡¹å¯èƒ½æ˜¯ï¼š webserver1 root å…¶ä¸­ï¼Œwebserver1 æ˜¯æœ¬åœ°ç³»ç»Ÿçš„åç§°ï¼Œroot æ˜¯æœ¬åœ°ç™»å½•åã€‚è¿™æ ·ï¼Œwebserver1 ä¸Šçš„ root å³å¯åœ¨åŒ…å«.rhosts æ–‡ä»¶çš„è¿œç¨‹ç³»ç»Ÿä¸­æ¥å›å¤åˆ¶æ–‡ä»¶ã€‚é…ç½®è¿‡ç¨‹:åªå¯¹rootç”¨æˆ·ç”Ÿæ•ˆ åœ¨åŒæ–¹rootç”¨æˆ·æ ¹ç›®å½•ä¸‹å»ºç«‹.rhostsæ–‡ä»¶,å¹¶å°†åŒæ–¹çš„hostnameåŠ è¿›å».åœ¨æ­¤ä¹‹å‰åº”åœ¨åŒæ–¹çš„ &#x2F;etc&#x2F;hostsæ–‡ä»¶ä¸­åŠ å…¥å¯¹æ–¹çš„IPå’Œhostname æŠŠrshæœåŠ¡å¯åŠ¨èµ·æ¥,redhaté»˜è®¤æ˜¯ä¸å¯åŠ¨çš„ã€‚æ–¹æ³•ï¼šç”¨æ‰§è¡Œntsysvå‘½ä»¤,åœ¨rshé€‰é¡¹å‰ç”¨ç©ºæ ¼é”®é€‰ä¸­,ç¡®å®šé€€å‡ºã€‚ç„¶åæ‰§è¡Œï¼šservice xinetd restartå³å¯ã€‚ 3.åˆ°&#x2F;etc&#x2F;pam.d&#x2F;ç›®å½•ä¸‹,æŠŠrshæ–‡ä»¶ä¸­çš„auth required &#x2F;lib&#x2F;security&#x2F;pam_securetty.soä¸€è¡Œç”¨â€œ#â€æ³¨é‡Šæ‰å³å¯ã€‚ï¼ˆåªæœ‰æ³¨é‡Šæ‰è¿™ä¸€è¡Œï¼Œæ‰èƒ½ç”¨rootç”¨æˆ·ç™»å½•ï¼‰ ä¾‹ä¸€ï¼šå°†æœ¬åœ°imgæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰å†…å®¹ å¤åˆ¶åˆ°æœåŠ¡å™¨ç›¸åº”çš„imgç›®å½•ä¸‹ # -r é€’å½’å­ç›®å½• $ rcp -r img/* webserver1:/var/project/img/ ä¾‹äºŒï¼šå°†æœåŠ¡å™¨çš„imgæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰å†…å®¹ å¤åˆ¶åˆ°æœ¬åœ°ç›®å½•ä¸‹ # -r é€’å½’å­ç›®å½• $ rcp -r webserver1:/var/project/img/* img/ ä¾‹ä¸‰ï¼šå°†ç›®å½•å¤åˆ¶åˆ°è¿œç¨‹ç³»ç»Ÿï¼šè¦å°†æœ¬åœ°ç›®å½•åŠå…¶æ–‡ä»¶å’Œå­ç›®å½•å¤åˆ¶åˆ°è¿œç¨‹ç³»ç»Ÿ # å°†æœ¬åœ°çš„imgç›®å½•å¤åˆ¶åˆ°æœåŠ¡å™¨çš„projectç›®å½•ä¸‹ $ rcp -r img/ webserver1:/var/project/","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ43ï¼‰: telnet","slug":"linux-command-43-telnet","date":"2017-01-12T01:24:01.000Z","updated":"2024-07-05T11:10:22.919Z","comments":true,"path":"2017/01/12/linux-command-43-telnet/","permalink":"http://yelog.org/2017/01/12/linux-command-43-telnet/","excerpt":"telnetå‘½ä»¤é€šå¸¸ç”¨æ¥è¿œç¨‹ç™»å½•ã€‚telnetç¨‹åºæ˜¯åŸºäºTELNETåè®®çš„è¿œç¨‹ç™»å½•å®¢æˆ·ç«¯ç¨‹åºã€‚Telnetåè®®æ˜¯TCP&#x2F;IPåè®®æ—ä¸­çš„ä¸€å‘˜ï¼Œæ˜¯Internetè¿œç¨‹ç™»é™†æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ã€‚å®ƒä¸ºç”¨æˆ·æä¾›äº†åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå®Œæˆè¿œç¨‹ä¸»æœºå·¥ä½œçš„ èƒ½åŠ›ã€‚åœ¨ç»ˆç«¯ä½¿ç”¨è€…çš„ç”µè„‘ä¸Šä½¿ç”¨telnetç¨‹åºï¼Œç”¨å®ƒè¿æ¥åˆ°æœåŠ¡å™¨ã€‚ç»ˆç«¯ä½¿ç”¨è€…å¯ä»¥åœ¨telnetç¨‹åºä¸­è¾“å…¥å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå°±åƒç›´æ¥åœ¨æœåŠ¡å™¨çš„æ§åˆ¶å°ä¸Šè¾“å…¥ä¸€æ ·ã€‚å¯ä»¥åœ¨æœ¬åœ°å°±èƒ½æ§åˆ¶æœåŠ¡å™¨ã€‚è¦å¼€å§‹ä¸€ä¸ª telnetä¼šè¯ï¼Œå¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•æœåŠ¡å™¨ã€‚Telnetæ˜¯å¸¸ç”¨çš„è¿œç¨‹æ§åˆ¶WebæœåŠ¡å™¨çš„æ–¹æ³•ã€‚","text":"telnetå‘½ä»¤é€šå¸¸ç”¨æ¥è¿œç¨‹ç™»å½•ã€‚telnetç¨‹åºæ˜¯åŸºäºTELNETåè®®çš„è¿œç¨‹ç™»å½•å®¢æˆ·ç«¯ç¨‹åºã€‚Telnetåè®®æ˜¯TCP&#x2F;IPåè®®æ—ä¸­çš„ä¸€å‘˜ï¼Œæ˜¯Internetè¿œç¨‹ç™»é™†æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ã€‚å®ƒä¸ºç”¨æˆ·æä¾›äº†åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå®Œæˆè¿œç¨‹ä¸»æœºå·¥ä½œçš„ èƒ½åŠ›ã€‚åœ¨ç»ˆç«¯ä½¿ç”¨è€…çš„ç”µè„‘ä¸Šä½¿ç”¨telnetç¨‹åºï¼Œç”¨å®ƒè¿æ¥åˆ°æœåŠ¡å™¨ã€‚ç»ˆç«¯ä½¿ç”¨è€…å¯ä»¥åœ¨telnetç¨‹åºä¸­è¾“å…¥å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå°±åƒç›´æ¥åœ¨æœåŠ¡å™¨çš„æ§åˆ¶å°ä¸Šè¾“å…¥ä¸€æ ·ã€‚å¯ä»¥åœ¨æœ¬åœ°å°±èƒ½æ§åˆ¶æœåŠ¡å™¨ã€‚è¦å¼€å§‹ä¸€ä¸ª telnetä¼šè¯ï¼Œå¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•æœåŠ¡å™¨ã€‚Telnetæ˜¯å¸¸ç”¨çš„è¿œç¨‹æ§åˆ¶WebæœåŠ¡å™¨çš„æ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œtelnetå› ä¸ºé‡‡ç”¨æ˜æ–‡ä¼ é€æŠ¥æ–‡ï¼Œå®‰å…¨æ€§ä¸å¥½ï¼Œå¾ˆå¤šLinuxæœåŠ¡å™¨éƒ½ä¸å¼€æ”¾telnetæœåŠ¡ï¼Œè€Œæ”¹ç”¨æ›´å®‰å…¨çš„sshæ–¹å¼äº†ã€‚ä½†ä»ç„¶æœ‰å¾ˆå¤šåˆ«çš„ç³»ç»Ÿå¯èƒ½é‡‡ç”¨äº†telnetæ–¹å¼æ¥æä¾›è¿œç¨‹ç™»å½•ï¼Œå› æ­¤å¼„æ¸…æ¥štelnetå®¢æˆ·ç«¯çš„ä½¿ç”¨æ–¹å¼ä»æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ telnetå‘½ä»¤è¿˜å¯åšåˆ«çš„ç”¨é€”ï¼Œæ¯”å¦‚ç¡®å®šè¿œç¨‹æœåŠ¡çš„çŠ¶æ€ï¼Œæ¯”å¦‚ç¡®å®šè¿œç¨‹æœåŠ¡å™¨çš„æŸä¸ªç«¯å£æ˜¯å¦èƒ½è®¿é—®ã€‚ å‘½ä»¤æ ¼å¼$ telnet [å‚æ•°][ä¸»æœº] å‘½ä»¤åŠŸèƒ½ æ‰§è¡ŒtelnetæŒ‡ä»¤å¼€å¯ç»ˆç«¯æœºé˜¶æ®µä½œä¸šï¼Œå¹¶ç™»å…¥è¿œç«¯ä¸»æœºã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -8 å…è®¸ä½¿ç”¨8ä½å­—ç¬¦èµ„æ–™ï¼ŒåŒ…æ‹¬è¾“å…¥ä¸è¾“å‡º -a å°è¯•è‡ªåŠ¨ç™»å…¥è¿œç«¯ç³»ç»Ÿ -b&lt;ä¸»æœºåˆ«å&gt; ä½¿ç”¨åˆ«åæŒ‡å®šè¿œç«¯ä¸»æœºåç§° -c ä¸è¯»å–ç”¨æˆ·ä¸“å±ç›®å½•é‡Œçš„.telnetrcæ–‡ä»¶ -d å¯åŠ¨æ’é”™æ¨¡å¼ -e&lt;è„±ç¦»å­—ç¬¦&gt; è®¾ç½®è„±ç¦»å­—ç¬¦ -E æ»¤é™¤è„±ç¦»å­—ç¬¦ -f æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€-Fâ€å‚æ•°ç›¸åŒ -F ä½¿ç”¨Kerberos V5è®¤è¯æ—¶ï¼ŒåŠ ä¸Šæ­¤å‚æ•°å¯æŠŠæœ¬åœ°ä¸»æœºçš„è®¤è¯æ•°æ®ä¸Šä¼ åˆ°è¿œç«¯ä¸»æœº -k&lt;åŸŸå&gt; ä½¿ç”¨Kerberosè®¤è¯æ—¶ï¼ŒåŠ ä¸Šæ­¤å‚æ•°è®©è¿œç«¯ä¸»æœºé‡‡ç”¨æŒ‡å®šçš„é¢†åŸŸåï¼Œè€Œéè¯¥ä¸»æœºçš„åŸŸå -K ä¸è‡ªåŠ¨ç™»å…¥è¿œç«¯ä¸»æœº -l&lt;ç”¨æˆ·åç§°&gt; æŒ‡å®šè¦ç™»å…¥è¿œç«¯ä¸»æœºçš„ç”¨æˆ·åç§° -L å…è®¸è¾“å‡º8ä½å­—ç¬¦èµ„æ–™ -n&lt;è®°å½•æ–‡ä»¶&gt; æŒ‡å®šæ–‡ä»¶è®°å½•ç›¸å…³ä¿¡æ¯ -r ä½¿ç”¨ç±»ä¼¼rloginæŒ‡ä»¤çš„ç”¨æˆ·ç•Œé¢ -S&lt;æœåŠ¡ç±»å‹&gt; è®¾ç½®telnetè¿çº¿æ‰€éœ€çš„IP TOSä¿¡æ¯ -x å‡è®¾ä¸»æœºæœ‰æ”¯æŒæ•°æ®åŠ å¯†çš„åŠŸèƒ½ï¼Œå°±ä½¿ç”¨å®ƒ -X&lt;è®¤è¯å½¢æ€&gt; å…³é—­æŒ‡å®šçš„è®¤è¯å½¢æ€ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šè¿œç¨‹æœåŠ¡å™¨æ— æ³•è®¿é—® $ telnet 192.168.120.206 Trying 192.168.120.209... telnet: connect to address 192.168.120.209: No route to host telnet: Unable to connect to remote host: No route to host è¯´æ˜ï¼šå¤„ç†è¿™ç§æƒ…å†µæ–¹æ³•ï¼š ï¼ˆ1ï¼‰ç¡®è®¤ipåœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿ ï¼ˆ2ï¼‰ç¡®è®¤ipåœ°å€å¯¹åº”çš„ä¸»æœºæ˜¯å¦å·²ç»å¼€æœºï¼Ÿ ï¼ˆ3ï¼‰å¦‚æœä¸»æœºå·²ç»å¯åŠ¨ï¼Œç¡®è®¤è·¯ç”±è®¾ç½®æ˜¯å¦è®¾ç½®æ­£ç¡®ï¼Ÿï¼ˆä½¿ç”¨routeå‘½ä»¤æŸ¥çœ‹ï¼‰ ï¼ˆ4ï¼‰å¦‚æœä¸»æœºå·²ç»å¯åŠ¨ï¼Œç¡®è®¤ä¸»æœºä¸Šæ˜¯å¦å¼€å¯äº†telnetæœåŠ¡ï¼Ÿï¼ˆä½¿ç”¨netstatå‘½ä»¤æŸ¥çœ‹ï¼ŒTCPçš„23ç«¯å£æ˜¯å¦æœ‰LISTENçŠ¶æ€çš„è¡Œï¼‰ ï¼ˆ5ï¼‰å¦‚æœä¸»æœºå·²ç»å¯åŠ¨telnetæœåŠ¡ï¼Œç¡®è®¤é˜²ç«å¢™æ˜¯å¦æ”¾å¼€äº†23ç«¯å£çš„è®¿é—®ï¼Ÿï¼ˆä½¿ç”¨iptables-saveæŸ¥çœ‹ï¼‰ ä¾‹äºŒï¼šåŸŸåæ— æ³•è§£æ $ telnet www.baidu.com www.baidu.com/telnet: Temporary failure in name resolution è¯´æ˜ï¼šå¤„ç†è¿™ç§æƒ…å†µæ–¹æ³•ï¼š ï¼ˆ1ï¼‰ç¡®è®¤åŸŸåæ˜¯å¦æ­£ç¡® ï¼ˆ2ï¼‰ç¡®è®¤æœ¬æœºçš„åŸŸåè§£ææœ‰å…³çš„è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼ˆ&#x2F;etc&#x2F;resolv.confä¸­nameserverçš„è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ä½¿ç”¨nameserver 8.8.8.8ï¼‰ ï¼ˆ3ï¼‰ç¡®è®¤é˜²ç«å¢™æ˜¯å¦æ”¾å¼€äº†UDP53ç«¯å£çš„è®¿é—®ï¼ˆDNSä½¿ç”¨UDPåè®®ï¼Œç«¯å£53ï¼Œä½¿ç”¨iptables-saveæŸ¥çœ‹ï¼‰ ä¾‹ä¸‰ï¼šè¿æ¥è¢«æ‹’ç» $ telnet 192.168.120.206 Trying 192.168.120.206... telnet: connect to address 192.168.120.206: Connection refused telnet: Unable to connect to remote host: Connection refused è¯´æ˜ï¼šå¤„ç†è¿™ç§æƒ…å†µï¼š ï¼ˆ1ï¼‰ç¡®è®¤ipåœ°å€æˆ–è€…ä¸»æœºåæ˜¯å¦æ­£ç¡®ï¼Ÿ ï¼ˆ2ï¼‰ç¡®è®¤ç«¯å£æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦é»˜è®¤çš„23ç«¯å£ ä¾‹å››ï¼šæ­£å¸¸telnet $ telnet 192.168.120.204 Trying 192.168.120.204... Connected to 192.168.120.204 (192.168.120.204). Escape character is &#39;^]&#39;. localhost (Linux release 2.6.18-274.18.1.el5 #1 SMP Thu Feb 9 12:45:44 EST 2012) (1) login: root Password: Login incorrect è¯´æ˜ï¼š ä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸rootä»è¿œç¨‹ç™»å½•ï¼Œå¯ä»¥å…ˆç”¨æ™®é€šè´¦å·ç™»å½•ï¼Œç„¶åå†ç”¨su -åˆ‡åˆ°rootç”¨æˆ·ã€‚ ä¾‹äº”ï¼šæµ‹è¯•æœåŠ¡å™¨8888ç«¯å£æ˜¯å¦å¯ç”¨ $ telnet 192.168.0.88 8888","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ42ï¼‰: ss","slug":"linux-command-42-ss","date":"2017-01-11T02:34:47.000Z","updated":"2024-07-05T11:10:22.872Z","comments":true,"path":"2017/01/11/linux-command-42-ss/","permalink":"http://yelog.org/2017/01/11/linux-command-42-ss/","excerpt":"ssæ˜¯Socket Statisticsçš„ç¼©å†™ã€‚é¡¾åæ€ä¹‰ï¼Œsså‘½ä»¤å¯ä»¥ç”¨æ¥è·å–socketç»Ÿè®¡ä¿¡æ¯ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå’Œnetstatç±»ä¼¼çš„å†…å®¹ã€‚ä½†ssçš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿæ˜¾ç¤ºæ›´å¤šæ›´è¯¦ç»†çš„æœ‰å…³TCPå’Œè¿æ¥çŠ¶æ€çš„ä¿¡æ¯ï¼Œè€Œä¸”æ¯”netstatæ›´å¿«é€Ÿæ›´é«˜æ•ˆã€‚","text":"ssæ˜¯Socket Statisticsçš„ç¼©å†™ã€‚é¡¾åæ€ä¹‰ï¼Œsså‘½ä»¤å¯ä»¥ç”¨æ¥è·å–socketç»Ÿè®¡ä¿¡æ¯ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå’Œnetstatç±»ä¼¼çš„å†…å®¹ã€‚ä½†ssçš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿæ˜¾ç¤ºæ›´å¤šæ›´è¯¦ç»†çš„æœ‰å…³TCPå’Œè¿æ¥çŠ¶æ€çš„ä¿¡æ¯ï¼Œè€Œä¸”æ¯”netstatæ›´å¿«é€Ÿæ›´é«˜æ•ˆã€‚ å½“æœåŠ¡å™¨çš„socketè¿æ¥æ•°é‡å˜å¾—éå¸¸å¤§æ—¶ï¼Œæ— è®ºæ˜¯ä½¿ç”¨netstatå‘½ä»¤è¿˜æ˜¯ç›´æ¥cat &#x2F;proc&#x2F;net&#x2F;tcpï¼Œæ‰§è¡Œé€Ÿåº¦éƒ½ä¼šå¾ˆæ…¢ã€‚å¯èƒ½ä½ ä¸ä¼šæœ‰åˆ‡èº«çš„æ„Ÿå—ï¼Œä½†è¯·ç›¸ä¿¡æˆ‘ï¼Œå½“æœåŠ¡å™¨ç»´æŒçš„è¿æ¥è¾¾åˆ°ä¸Šä¸‡ä¸ªçš„æ—¶å€™ï¼Œä½¿ç”¨netstatç­‰äºæµªè´¹ ç”Ÿå‘½ï¼Œè€Œç”¨ssæ‰æ˜¯èŠ‚çœæ—¶é—´ã€‚ å¤©ä¸‹æ­¦åŠŸå”¯å¿«ä¸ç ´ã€‚sså¿«çš„ç§˜è¯€åœ¨äºï¼Œå®ƒåˆ©ç”¨åˆ°äº†TCPåè®®æ ˆä¸­tcp_diagã€‚tcp_diagæ˜¯ä¸€ä¸ªç”¨äºåˆ†æç»Ÿè®¡çš„æ¨¡å—ï¼Œå¯ä»¥è·å¾—Linux å†…æ ¸ä¸­ç¬¬ä¸€æ‰‹çš„ä¿¡æ¯ï¼Œè¿™å°±ç¡®ä¿äº†ssçš„å¿«æ·é«˜æ•ˆã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰tcp_diagï¼Œssä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œåªæ˜¯æ•ˆç‡ä¼šå˜å¾—ç¨æ…¢ã€‚ï¼ˆä½†ä»ç„¶æ¯” netstatè¦å¿«ã€‚ï¼‰ å‘½ä»¤æ ¼å¼$ ss [å‚æ•°] $ ss[å‚æ•°] [è¿‡æ»¤] å‘½ä»¤åŠŸèƒ½ ss(Socket Statisticsçš„ç¼©å†™)å‘½ä»¤å¯ä»¥ç”¨æ¥è·å– socketç»Ÿè®¡ä¿¡æ¯ï¼Œæ­¤å‘½ä»¤è¾“å‡ºçš„ç»“æœç±»ä¼¼äº netstatè¾“å‡ºçš„å†…å®¹ï¼Œä½†å®ƒèƒ½æ˜¾ç¤ºæ›´å¤šæ›´è¯¦ç»†çš„ TCPè¿æ¥çŠ¶æ€çš„ä¿¡æ¯ï¼Œä¸”æ¯” netstat æ›´å¿«é€Ÿé«˜æ•ˆã€‚å®ƒä½¿ç”¨äº† TCPåè®®æ ˆä¸­ tcp_diagï¼ˆæ˜¯ä¸€ä¸ªç”¨äºåˆ†æç»Ÿè®¡çš„æ¨¡å—ï¼‰ï¼Œèƒ½ç›´æ¥ä»è·å¾—ç¬¬ä¸€æ‰‹å†…æ ¸ä¿¡æ¯ï¼Œè¿™å°±ä½¿å¾— sså‘½ä»¤å¿«æ·é«˜æ•ˆã€‚åœ¨æ²¡æœ‰ tcp_diagï¼Œssä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -h, â€“help å¸®åŠ©ä¿¡æ¯ -V, â€“version ç¨‹åºç‰ˆæœ¬ä¿¡æ¯ -n, â€“numeric ä¸è§£ææœåŠ¡åç§° -r, â€“resolve è§£æä¸»æœºå -a, â€“all æ˜¾ç¤ºæ‰€æœ‰å¥—æ¥å­—ï¼ˆsocketsï¼‰ -l, â€“listening æ˜¾ç¤ºç›‘å¬çŠ¶æ€çš„å¥—æ¥å­—ï¼ˆsocketsï¼‰ -o, â€“options æ˜¾ç¤ºè®¡æ—¶å™¨ä¿¡æ¯ -e, â€“extended æ˜¾ç¤ºè¯¦ç»†çš„å¥—æ¥å­—ï¼ˆsocketsï¼‰ä¿¡æ¯ -m, â€“memory æ˜¾ç¤ºå¥—æ¥å­—ï¼ˆsocketï¼‰çš„å†…å­˜ä½¿ç”¨æƒ…å†µ -p, â€“processes æ˜¾ç¤ºä½¿ç”¨å¥—æ¥å­—ï¼ˆsocketï¼‰çš„è¿›ç¨‹ -i, â€“info æ˜¾ç¤º TCPå†…éƒ¨ä¿¡æ¯ -s, â€“summary æ˜¾ç¤ºå¥—æ¥å­—ï¼ˆsocketï¼‰ä½¿ç”¨æ¦‚å†µ -4, â€“ipv4 ä»…æ˜¾ç¤ºIPv4çš„å¥—æ¥å­—ï¼ˆsocketsï¼‰ -6, â€“ipv6 ä»…æ˜¾ç¤ºIPv6çš„å¥—æ¥å­—ï¼ˆsocketsï¼‰ -0, â€“packet æ˜¾ç¤º PACKET å¥—æ¥å­—ï¼ˆsocketï¼‰ -t, â€“tcp ä»…æ˜¾ç¤º TCPå¥—æ¥å­—ï¼ˆsocketsï¼‰ -u, â€“udp ä»…æ˜¾ç¤º UCPå¥—æ¥å­—ï¼ˆsocketsï¼‰ -d, â€“dccp ä»…æ˜¾ç¤º DCCPå¥—æ¥å­—ï¼ˆsocketsï¼‰ -w, â€“raw ä»…æ˜¾ç¤º RAWå¥—æ¥å­—ï¼ˆsocketsï¼‰ -x, â€“unix ä»…æ˜¾ç¤º Unixå¥—æ¥å­—ï¼ˆsocketsï¼‰ -f, â€“family&#x3D;FAMILY æ˜¾ç¤º FAMILYç±»å‹çš„å¥—æ¥å­—ï¼ˆsocketsï¼‰ï¼ŒFAMILYå¯é€‰ï¼Œæ”¯æŒ unix, inet, inet6, link, netlink -A, â€“query&#x3D;QUERY, â€“socket&#x3D;QUERYQUERY :&#x3D; {all inet -D, â€“diag&#x3D;FILE å°†åŸå§‹TCPå¥—æ¥å­—ï¼ˆsocketsï¼‰ä¿¡æ¯è½¬å‚¨åˆ°æ–‡ä»¶ -F, â€“filter&#x3D;FILE ä»æ–‡ä»¶ä¸­éƒ½å»è¿‡æ»¤å™¨ä¿¡æ¯ FILTER :&#x3D; [ state TCP-STATE ] [ EXPRESSION ] ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºTCPè¿æ¥ $ ss -t -a ä¾‹äºŒï¼šæ˜¾ç¤º Sockets æ‘˜è¦ $ ss -s Total: 1385 (kernel 0) TCP: 199 (estab 64, closed 76, orphaned 0, synrecv 0, timewait 1/0), ports 0 Transport Total IP IPv6 * 0 - - RAW 2 1 1 UDP 29 21 8 TCP 123 47 76 INET 154 69 85 FRAG 0 0 0 è¯´æ˜ï¼š åˆ—å‡ºå½“å‰çš„established, closed, orphaned and waiting TCP sockets ä¾‹ä¸‰ï¼šåˆ—å‡ºæ‰€æœ‰æ‰“å¼€çš„ç½‘ç»œè¿æ¥ç«¯å£ $ ss -l ä¾‹å››ï¼šæŸ¥çœ‹è¿›ç¨‹ä½¿ç”¨çš„socket $ ss -pl ä¾‹äº”ï¼šæ‰¾å‡ºæ‰“å¼€å¥—æ¥å­—&#x2F;ç«¯å£åº”ç”¨ç¨‹åº $ ss -lp | grep 3306 ä¾‹å…­ï¼šæ˜¾ç¤ºæ‰€æœ‰UDP Sockets $ ss -u -a ä¾‹ä¸ƒï¼šæ˜¾ç¤ºæ‰€æœ‰çŠ¶æ€ä¸ºestablishedçš„SMTPè¿æ¥ $ ss -o state established &#39;( dport = :smtp or sport = :smtp )&#39; ä¾‹å…«ï¼šæ˜¾ç¤ºæ‰€æœ‰çŠ¶æ€ä¸ºEstablishedçš„HTTPè¿æ¥ $ ss -o state established &#39;( dport = :http or sport = :http )&#39; ä¾‹ä¹ï¼šåˆ—ä¸¾å‡ºå¤„äº FIN-WAIT-1çŠ¶æ€çš„æºç«¯å£ä¸º 80æˆ–è€… 443ï¼Œç›®æ ‡ç½‘ç»œä¸º 193.233.7&#x2F;24æ‰€æœ‰ tcpå¥—æ¥å­—å‘½ä»¤ $ ss -o state fin-wait-1 &#39;( sport = :http or sport = :https )&#39; dst 193.233.7/24 ä¾‹åï¼šç”¨TCP çŠ¶æ€è¿‡æ»¤Sockets $ ss -4 state FILTER-NAME-HERE $ ss -6 state FILTER-NAME-HERE è¯´æ˜ï¼šFILTER-NAME-HERE å¯ä»¥ä»£è¡¨ä»¥ä¸‹ä»»ä½•ä¸€ä¸ªï¼š established syn-sent syn-recv fin-wait-1 fin-wait-2 time-wait closed close-wait last-ack listen closing all : æ‰€æœ‰ä»¥ä¸ŠçŠ¶æ€ connected : é™¤äº†listen and closedçš„æ‰€æœ‰çŠ¶æ€ synchronized :æ‰€æœ‰å·²è¿æ¥çš„çŠ¶æ€é™¤äº†syn-sent bucket : æ˜¾ç¤ºçŠ¶æ€ä¸ºmaintained as minisockets,å¦‚ï¼štime-waitå’Œsyn-recv. big : å’Œbucketç›¸å. ä¾‹åä¸€ï¼šåŒ¹é…è¿œç¨‹åœ°å€å’Œç«¯å£å· $ ss dst ADDRESS_PATTERN $ ss dst 192.168.1.5 $ ss dst 192.168.119.113:http $ ss dst 192.168.119.113:smtp $ ss dst 192.168.119.113:443 ä¾‹åäºŒï¼šåŒ¹é…æœ¬åœ°åœ°å€å’Œç«¯å£å· $ ss src ADDRESS_PATTERN $ ss src 192.168.119.103 $ ss src 192.168.119.103:http $ ss src 192.168.119.103:80 $ ss src 192.168.119.103:smtp $ ss src 192.168.119.103:25 ä¾‹åä¸‰ï¼šå°†æœ¬åœ°æˆ–è€…è¿œç¨‹ç«¯å£å’Œä¸€ä¸ªæ•°æ¯”è¾ƒ $ ss dport OP PORT $ ss sport OP PORT è¯´æ˜ï¼š ss dport OP PORT è¿œç¨‹ç«¯å£å’Œä¸€ä¸ªæ•°æ¯”è¾ƒï¼›ss sport OP PORT æœ¬åœ°ç«¯å£å’Œä¸€ä¸ªæ•°æ¯”è¾ƒã€‚ OP å¯ä»¥ä»£è¡¨ä»¥ä¸‹ä»»æ„ä¸€ä¸ª: &lt;&#x3D; or le : å°äºæˆ–ç­‰äºç«¯å£å· &gt;&#x3D; or ge : å¤§äºæˆ–ç­‰äºç«¯å£å· &#x3D;&#x3D; or eq : ç­‰äºç«¯å£å· !&#x3D; or ne : ä¸ç­‰äºç«¯å£å· &lt; or gt : å°äºç«¯å£å· &gt; or lt : å¤§äºç«¯å£å· ä¾‹åå››ï¼šss å’Œ netstat æ•ˆç‡å¯¹æ¯” $ time netstat -at $ time ss è¯´æ˜ï¼š ç”¨time å‘½ä»¤åˆ†åˆ«è·å–é€šè¿‡netstatå’Œsså‘½ä»¤è·å–ç¨‹åºå’Œæ¦‚è¦å ç”¨èµ„æºæ‰€ä½¿ç”¨çš„æ—¶é—´ã€‚åœ¨æœåŠ¡å™¨è¿æ¥æ•°æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œnetstatçš„æ•ˆç‡å®Œå…¨æ²¡æ³•å’Œssæ¯”ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ41ï¼‰: netstat","slug":"linux-command-41-netstat","date":"2017-01-10T01:54:16.000Z","updated":"2024-07-05T11:10:22.954Z","comments":true,"path":"2017/01/10/linux-command-41-netstat/","permalink":"http://yelog.org/2017/01/10/linux-command-41-netstat/","excerpt":"netstatå‘½ä»¤ç”¨äºæ˜¾ç¤ºä¸IPã€TCPã€UDPå’ŒICMPåè®®ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ï¼Œä¸€èˆ¬ç”¨äºæ£€éªŒæœ¬æœºå„ç«¯å£çš„ç½‘ç»œè¿æ¥æƒ…å†µã€‚netstatæ˜¯åœ¨å†…æ ¸ä¸­è®¿é—®ç½‘ç»œåŠç›¸å…³ä¿¡æ¯çš„ç¨‹åºï¼Œå®ƒèƒ½æä¾›TCPè¿æ¥ï¼ŒTCPå’ŒUDPç›‘å¬ï¼Œè¿›ç¨‹å†…å­˜ç®¡ç†çš„ç›¸å…³æŠ¥å‘Šã€‚","text":"netstatå‘½ä»¤ç”¨äºæ˜¾ç¤ºä¸IPã€TCPã€UDPå’ŒICMPåè®®ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ï¼Œä¸€èˆ¬ç”¨äºæ£€éªŒæœ¬æœºå„ç«¯å£çš„ç½‘ç»œè¿æ¥æƒ…å†µã€‚netstatæ˜¯åœ¨å†…æ ¸ä¸­è®¿é—®ç½‘ç»œåŠç›¸å…³ä¿¡æ¯çš„ç¨‹åºï¼Œå®ƒèƒ½æä¾›TCPè¿æ¥ï¼ŒTCPå’ŒUDPç›‘å¬ï¼Œè¿›ç¨‹å†…å­˜ç®¡ç†çš„ç›¸å…³æŠ¥å‘Šã€‚ å¦‚æœä½ çš„è®¡ç®—æœºæœ‰æ—¶å€™æ¥æ”¶åˆ°çš„æ•°æ®æŠ¥å¯¼è‡´å‡ºé”™æ•°æ®æˆ–æ•…éšœï¼Œä½ ä¸å¿…æ„Ÿåˆ°å¥‡æ€ªï¼ŒTCP&#x2F;IPå¯ä»¥å®¹è®¸è¿™äº›ç±»å‹çš„é”™è¯¯ï¼Œå¹¶èƒ½å¤Ÿè‡ªåŠ¨é‡å‘æ•°æ®æŠ¥ã€‚ä½†å¦‚æœç´¯è®¡çš„å‡ºé”™æƒ…å†µæ•°ç›®å åˆ°æ‰€æ¥æ”¶çš„IPæ•°æ®æŠ¥ç›¸å½“å¤§çš„ç™¾åˆ†æ¯”ï¼Œæˆ–è€…å®ƒçš„æ•°ç›®æ­£è¿…é€Ÿå¢åŠ ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥ä½¿ç”¨netstatæŸ¥ä¸€æŸ¥ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™äº›æƒ…å†µäº†ã€‚ å‘½ä»¤æ ¼å¼$ netstat [-acCeFghilMnNoprstuvVwx][-A&lt;ç½‘ç»œç±»å‹&gt;][--ip] å‘½ä»¤åŠŸèƒ½ netstatç”¨äºæ˜¾ç¤ºä¸IPã€TCPã€UDPå’ŒICMPåè®®ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ï¼Œä¸€èˆ¬ç”¨äºæ£€éªŒæœ¬æœºå„ç«¯å£çš„ç½‘ç»œè¿æ¥æƒ…å†µã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -aæˆ–â€“all æ˜¾ç¤ºæ‰€æœ‰è¿çº¿ä¸­çš„Socket -A&lt;ç½‘ç»œç±»å‹&gt;æˆ–â€“&lt;ç½‘ç»œç±»å‹&gt; åˆ—å‡ºè¯¥ç½‘ç»œç±»å‹è¿çº¿ä¸­çš„ç›¸å…³åœ°å€ -cæˆ–â€“continuous æŒç»­åˆ—å‡ºç½‘ç»œçŠ¶æ€ -Cæˆ–â€“cache æ˜¾ç¤ºè·¯ç”±å™¨é…ç½®çš„å¿«å–ä¿¡æ¯ -eæˆ–â€“extend æ˜¾ç¤ºç½‘ç»œå…¶ä»–ç›¸å…³ä¿¡æ¯ -Fæˆ–â€“fib æ˜¾ç¤ºFIB -gæˆ–â€“groups æ˜¾ç¤ºå¤šé‡å¹¿æ’­åŠŸèƒ½ç¾¤ç»„ç»„å‘˜åå• -hæˆ–â€“help åœ¨çº¿å¸®åŠ© -iæˆ–â€“interfaces æ˜¾ç¤ºç½‘ç»œç•Œé¢ä¿¡æ¯è¡¨å• -læˆ–â€“listening æ˜¾ç¤ºç›‘æ§ä¸­çš„æœåŠ¡å™¨çš„Socket -Mæˆ–â€“masquerade æ˜¾ç¤ºä¼ªè£…çš„ç½‘ç»œè¿çº¿ -næˆ–â€“numeric ç›´æ¥ä½¿ç”¨IPåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ -Næˆ–â€“netlinkæˆ–â€“symbolic æ˜¾ç¤ºç½‘ç»œç¡¬ä»¶å¤–å›´è®¾å¤‡çš„ç¬¦å·è¿æ¥åç§° -oæˆ–â€“timers æ˜¾ç¤ºè®¡æ—¶å™¨ -pæˆ–â€“programs æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨Socketçš„ç¨‹åºè¯†åˆ«ç å’Œç¨‹åºåç§° -ræˆ–â€“route æ˜¾ç¤ºRouting Table -sæˆ–â€“statistice æ˜¾ç¤ºç½‘ç»œå·¥ä½œä¿¡æ¯ç»Ÿè®¡è¡¨ -tæˆ–â€“tcp æ˜¾ç¤ºTCPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µ -uæˆ–â€“udp æ˜¾ç¤ºUDPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µ -væˆ–â€“verbose æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ -Væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -wæˆ–â€“raw æ˜¾ç¤ºRAWä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µ -xæˆ–â€“unix æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€-A unixâ€å‚æ•°ç›¸åŒ â€“ipæˆ–â€“inet æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€-A inetâ€å‚æ•°ç›¸åŒ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ— å‚æ•°ä½¿ç”¨ $ netstat Active Internet connections (w/o servers) Proto Recv-Q Send-Q Local Address Foreign Address State tcp 0 268 192.168.120.204:ssh 10.2.0.68:62420 ESTABLISHED udp 0 0 192.168.120.204:4371 10.58.119.119:domain ESTABLISHED Active UNIX domain sockets (w/o servers) Proto RefCnt Flags Type State I-Node Path unix 2 [ ] DGRAM 1491 @/org/kernel/udev/udevd unix 4 [ ] DGRAM 7337 /dev/log unix 2 [ ] DGRAM 708823 unix 2 [ ] DGRAM 7539 unix 3 [ ] STREAM CONNECTED 7287 unix 3 [ ] STREAM CONNECTED 7286 è¯´æ˜ï¼š ä»æ•´ä½“ä¸Šçœ‹ï¼Œnetstatçš„è¾“å‡ºç»“æœå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š ä¸€ä¸ªæ˜¯Active Internet connectionsï¼Œç§°ä¸ºæœ‰æºTCPè¿æ¥ï¼Œå…¶ä¸­â€Recv-Qâ€å’Œâ€Send-Qâ€æŒ‡çš„æ˜¯æ¥æ”¶é˜Ÿåˆ—å’Œå‘é€é˜Ÿåˆ—ã€‚è¿™äº›æ•°å­—ä¸€èˆ¬éƒ½åº”è¯¥æ˜¯0ã€‚å¦‚æœä¸æ˜¯åˆ™è¡¨ç¤ºè½¯ä»¶åŒ…æ­£åœ¨é˜Ÿåˆ—ä¸­å †ç§¯ã€‚è¿™ç§æƒ…å†µåªèƒ½åœ¨éå¸¸å°‘çš„æƒ…å†µè§åˆ°ã€‚ å¦ä¸€ä¸ªæ˜¯Active UNIX domain socketsï¼Œç§°ä¸ºæœ‰æºUnixåŸŸå¥—æ¥å£(å’Œç½‘ç»œå¥—æ¥å­—ä¸€æ ·ï¼Œä½†æ˜¯åªèƒ½ç”¨äºæœ¬æœºé€šä¿¡ï¼Œæ€§èƒ½å¯ä»¥æé«˜ä¸€å€)ã€‚ Protoæ˜¾ç¤ºè¿æ¥ä½¿ç”¨çš„åè®®,RefCntè¡¨ç¤ºè¿æ¥åˆ°æœ¬å¥—æ¥å£ä¸Šçš„è¿›ç¨‹å·,Typesæ˜¾ç¤ºå¥—æ¥å£çš„ç±»å‹,Stateæ˜¾ç¤ºå¥—æ¥å£å½“å‰çš„çŠ¶æ€,Pathè¡¨ç¤ºè¿æ¥åˆ°å¥—æ¥å£çš„å…¶å®ƒè¿›ç¨‹ä½¿ç”¨çš„è·¯å¾„åã€‚å¥—æ¥å£ç±»å‹ï¼š -t ï¼šTCP -u ï¼šUDP -raw ï¼šRAWç±»å‹ â€“unix ï¼šUNIXåŸŸç±»å‹ â€“ax25 ï¼šAX25ç±»å‹ â€“ipx ï¼šipxç±»å‹ â€“netrom ï¼šnetromç±»å‹çŠ¶æ€è¯´æ˜ï¼š LISTENï¼šä¾¦å¬æ¥è‡ªè¿œæ–¹çš„TCPç«¯å£çš„è¿æ¥è¯·æ±‚ SYN-SENTï¼šå†å‘é€è¿æ¥è¯·æ±‚åç­‰å¾…åŒ¹é…çš„è¿æ¥è¯·æ±‚ï¼ˆå¦‚æœæœ‰å¤§é‡è¿™æ ·çš„çŠ¶æ€åŒ…ï¼Œæ£€æŸ¥æ˜¯å¦ä¸­æ‹›äº†ï¼‰ SYN-RECEIVEDï¼šå†æ”¶åˆ°å’Œå‘é€ä¸€ä¸ªè¿æ¥è¯·æ±‚åç­‰å¾…å¯¹æ–¹å¯¹è¿æ¥è¯·æ±‚çš„ç¡®è®¤ï¼ˆå¦‚æœ‰å¤§é‡æ­¤çŠ¶æ€ï¼Œä¼°è®¡è¢«floodæ”»å‡»äº†ï¼‰ ESTABLISHEDï¼šä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„è¿æ¥ FIN-WAIT-1ï¼šç­‰å¾…è¿œç¨‹TCPè¿æ¥ä¸­æ–­è¯·æ±‚ï¼Œæˆ–å…ˆå‰çš„è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ FIN-WAIT-2ï¼šä»è¿œç¨‹TCPç­‰å¾…è¿æ¥ä¸­æ–­è¯·æ±‚ CLOSE-WAITï¼šç­‰å¾…ä»æœ¬åœ°ç”¨æˆ·å‘æ¥çš„è¿æ¥ä¸­æ–­è¯·æ±‚ CLOSINGï¼šç­‰å¾…è¿œç¨‹TCPå¯¹è¿æ¥ä¸­æ–­çš„ç¡®è®¤ LAST-ACKï¼šç­‰å¾…åŸæ¥çš„å‘å‘è¿œç¨‹TCPçš„è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ï¼ˆä¸æ˜¯ä»€ä¹ˆå¥½ä¸œè¥¿ï¼Œæ­¤é¡¹å‡ºç°ï¼Œæ£€æŸ¥æ˜¯å¦è¢«æ”»å‡»ï¼‰ TIME-WAITï¼šç­‰å¾…è¶³å¤Ÿçš„æ—¶é—´ä»¥ç¡®ä¿è¿œç¨‹TCPæ¥æ”¶åˆ°è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ CLOSEDï¼šæ²¡æœ‰ä»»ä½•è¿æ¥çŠ¶æ€ ä¾‹äºŒï¼šåˆ—å‡ºæ‰€æœ‰ç«¯å£ $ netstat -a Active Internet connections (servers and established) Proto Recv-Q Send-Q Local Address Foreign Address State tcp 0 0 localhost:smux *:* LISTEN tcp 0 0 *:svn *:* LISTEN tcp 0 0 *:ssh *:* LISTEN tcp 0 284 192.168.120.204:ssh 10.2.0.68:62420 ESTABLISHED udp 0 0 localhost:syslog *:* udp 0 0 *:snmp *:* Active UNIX domain sockets (servers and established) Proto RefCnt Flags Type State I-Node Path unix 2 [ ACC ] STREAM LISTENING 708833 /tmp/ssh-yKnDB15725/agent.15725 unix 2 [ ACC ] STREAM LISTENING 7296 /var/run/audispd_events unix 2 [ ] DGRAM 1491 @/org/kernel/udev/udevd unix 4 [ ] DGRAM 7337 /dev/log unix 2 [ ] DGRAM 708823 unix 2 [ ] DGRAM 7539 unix 3 [ ] STREAM CONNECTED 7287 unix 3 [ ] STREAM CONNECTED 7286 è¯´æ˜ï¼š æ˜¾ç¤ºä¸€ä¸ªæ‰€æœ‰çš„æœ‰æ•ˆè¿æ¥ä¿¡æ¯åˆ—è¡¨ï¼ŒåŒ…æ‹¬å·²å»ºç«‹çš„è¿æ¥ï¼ˆESTABLISHEDï¼‰ï¼Œä¹ŸåŒ…æ‹¬ç›‘å¬è¿æ¥è¯·ï¼ˆLISTENINGï¼‰çš„é‚£äº›è¿æ¥ ä¾‹ä¸‰ï¼šæ˜¾ç¤ºå½“å‰UDPè¿æ¥çŠ¶å†µ $ netstat -nu ä¾‹å››ï¼šæ˜¾ç¤ºUDPç«¯å£å·çš„ä½¿ç”¨æƒ…å†µ $ netstat -apu ä¾‹äº”ï¼šæ˜¾ç¤ºUDPç«¯å£å·çš„ä½¿ç”¨æƒ…å†µ $ netstat -i ä¾‹å…­ï¼šæ˜¾ç¤ºç»„æ’­ç»„çš„å…³ç³» $ netstat -g ä¾‹ä¸ƒï¼šæ˜¾ç¤ºç½‘ç»œç»Ÿè®¡ä¿¡æ¯ $ netstat -s è¯´æ˜ï¼š æŒ‰ç…§å„ä¸ªåè®®åˆ†åˆ«æ˜¾ç¤ºå…¶ç»Ÿè®¡æ•°æ®ã€‚å¦‚æœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼ˆå¦‚Webæµè§ˆå™¨ï¼‰è¿è¡Œé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæˆ–è€…ä¸èƒ½æ˜¾ç¤ºWebé¡µä¹‹ç±»çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ¬é€‰é¡¹æ¥æŸ¥çœ‹ä¸€ä¸‹æ‰€æ˜¾ç¤ºçš„ä¿¡æ¯ã€‚æˆ‘ä»¬éœ€è¦ä»”ç»†æŸ¥çœ‹ç»Ÿè®¡æ•°æ®çš„å„è¡Œï¼Œæ‰¾åˆ°å‡ºé”™çš„å…³é”®å­—ï¼Œè¿›è€Œç¡®å®šé—®é¢˜æ‰€åœ¨ã€‚ ä¾‹å…«ï¼šæ˜¾ç¤ºç›‘å¬çš„å¥—æ¥å£ $ netstat -l ä¾‹ä¹ï¼šæ˜¾ç¤ºæ‰€æœ‰å·²å»ºç«‹çš„æœ‰æ•ˆè¿æ¥ $ netstat -n ä¾‹åï¼šæ˜¾ç¤ºå…³äºä»¥å¤ªç½‘çš„ç»Ÿè®¡æ•°æ® $ netstat -e è¯´æ˜ï¼š ç”¨äºæ˜¾ç¤ºå…³äºä»¥å¤ªç½‘çš„ç»Ÿè®¡æ•°æ®ã€‚å®ƒåˆ—å‡ºçš„é¡¹ç›®åŒ…æ‹¬ä¼ é€çš„æ•°æ®æŠ¥çš„æ€»å­—èŠ‚æ•°ã€é”™è¯¯æ•°ã€åˆ é™¤æ•°ã€æ•°æ®æŠ¥çš„æ•°é‡å’Œå¹¿æ’­çš„æ•°é‡ã€‚è¿™äº›ç»Ÿè®¡æ•°æ®æ—¢æœ‰å‘é€çš„æ•°æ®æŠ¥æ•°é‡ï¼Œä¹Ÿæœ‰æ¥æ”¶çš„æ•°æ®æŠ¥æ•°é‡ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥ç”¨æ¥ç»Ÿè®¡ä¸€äº›åŸºæœ¬çš„ç½‘ç»œæµé‡ï¼‰ ä¾‹åä¸€ï¼šæ˜¾ç¤ºå…³äºè·¯ç”±è¡¨çš„ä¿¡æ¯ $ netstat -r ä¾‹åäºŒï¼šåˆ—å‡ºæ‰€æœ‰ tcp ç«¯å£ $ netstat -at ä¾‹åä¸‰ï¼šç»Ÿè®¡æœºå™¨ä¸­ç½‘ç»œè¿æ¥å„ä¸ªçŠ¶æ€ä¸ªæ•° $ netstat -a | awk &#39;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&#39; ä¾‹åå››ï¼šæŠŠçŠ¶æ€å…¨éƒ½å–å‡ºæ¥åä½¿ç”¨uniq -cç»Ÿè®¡åå†è¿›è¡Œæ’åº $ netstat -nat |awk &#39;&#123;print $6&#125;&#39;|sort|uniq -c ä¾‹åäº”ï¼šæŸ¥çœ‹è¿æ¥æŸæœåŠ¡ç«¯å£æœ€å¤šçš„çš„IPåœ°å€ $ netstat -nat | grep &quot;192.168.120.20:16067&quot; |awk &#39;&#123;print $5&#125;&#39;|awk -F: &#39;&#123;print $4&#125;&#39;|sort|uniq -c|sort -nr|head -20 ä¾‹åå…­ï¼šæ‰¾å‡ºç¨‹åºè¿è¡Œçš„ç«¯å£ $ netstat -ap | grep ssh ä¾‹åä¸ƒï¼šåœ¨ netstat è¾“å‡ºä¸­æ˜¾ç¤º PID å’Œè¿›ç¨‹åç§° $ netstat -pt è¯´æ˜ï¼š netstat -p å¯ä»¥ä¸å…¶å®ƒå¼€å…³ä¸€èµ·ä½¿ç”¨ï¼Œå°±å¯ä»¥æ·»åŠ  â€œPID&#x2F;è¿›ç¨‹åç§°â€ åˆ° netstat è¾“å‡ºä¸­ï¼Œè¿™æ · debugging çš„æ—¶å€™å¯ä»¥å¾ˆæ–¹ä¾¿çš„å‘ç°ç‰¹å®šç«¯å£è¿è¡Œçš„ç¨‹åº ä¾‹åå…«ï¼šæŸ¥çœ‹æ‰€æœ‰ç«¯å£ä½¿ç”¨æƒ…å†µ $ netstat -tln ä¾‹åä¹ï¼šæ‰¾å‡ºè¿è¡Œåœ¨æŒ‡å®šç«¯å£çš„è¿›ç¨‹ $ netstat -anpt | grep &#39;:4000&#39; (Not all processes could be identified, non-owned process info will not be shown, you would have to be root to see it all.) tcp 0 0 0.0.0.0:4000 0.0.0.0:* LISTEN 5362/hexo tcp 0 0 127.0.0.1:4000 127.0.0.1:45884 ESTABLISHED 5362/hexo tcp 0 0 127.0.0.1:4000 127.0.0.1:45886 ESTABLISHED 5362/hexo è¯´æ˜ï¼š è¿è¡Œåœ¨ç«¯å£4000çš„è¿›ç¨‹idä¸º5362ï¼Œå†é€šè¿‡pså‘½ä»¤å°±å¯ä»¥æ‰¾åˆ°å…·ä½“çš„åº”ç”¨ç¨‹åºäº†","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ40ï¼‰: traceroute","slug":"linux-command-40-traceroute","date":"2017-01-09T02:56:53.000Z","updated":"2024-07-05T11:10:22.997Z","comments":true,"path":"2017/01/09/linux-command-40-traceroute/","permalink":"http://yelog.org/2017/01/09/linux-command-40-traceroute/","excerpt":"é€šè¿‡tracerouteæˆ‘ä»¬å¯ä»¥çŸ¥é“ä¿¡æ¯ä»ä½ çš„è®¡ç®—æœºåˆ°äº’è”ç½‘å¦ä¸€ç«¯çš„ä¸»æœºæ˜¯èµ°çš„ä»€ä¹ˆè·¯å¾„ã€‚å½“ç„¶æ¯æ¬¡æ•°æ®åŒ…ç”±æŸä¸€åŒæ ·çš„å‡ºå‘ç‚¹ï¼ˆsourceï¼‰åˆ°è¾¾æŸä¸€åŒæ ·çš„ç›®çš„åœ°(destination)èµ°çš„è·¯å¾„å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œä½†åŸºæœ¬ä¸Šæ¥è¯´å¤§éƒ¨åˆ†æ—¶å€™æ‰€èµ°çš„è·¯ç”±æ˜¯ç›¸åŒçš„ã€‚linuxç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºtraceroute,åœ¨MS Windowsä¸­ä¸ºtracertã€‚ tracerouteé€šè¿‡å‘é€å°çš„æ•°æ®åŒ…åˆ°ç›®çš„è®¾å¤‡ç›´åˆ°å…¶è¿”å›ï¼Œæ¥æµ‹é‡å…¶éœ€è¦å¤šé•¿æ—¶é—´ã€‚ä¸€æ¡è·¯å¾„ä¸Šçš„æ¯ä¸ªè®¾å¤‡tracerouteè¦æµ‹3æ¬¡ã€‚è¾“å‡ºç»“æœä¸­åŒ…æ‹¬æ¯æ¬¡æµ‹è¯•çš„æ—¶é—´(ms)å’Œè®¾å¤‡çš„åç§°ï¼ˆå¦‚æœ‰çš„è¯ï¼‰åŠå…¶IPåœ°å€ã€‚","text":"é€šè¿‡tracerouteæˆ‘ä»¬å¯ä»¥çŸ¥é“ä¿¡æ¯ä»ä½ çš„è®¡ç®—æœºåˆ°äº’è”ç½‘å¦ä¸€ç«¯çš„ä¸»æœºæ˜¯èµ°çš„ä»€ä¹ˆè·¯å¾„ã€‚å½“ç„¶æ¯æ¬¡æ•°æ®åŒ…ç”±æŸä¸€åŒæ ·çš„å‡ºå‘ç‚¹ï¼ˆsourceï¼‰åˆ°è¾¾æŸä¸€åŒæ ·çš„ç›®çš„åœ°(destination)èµ°çš„è·¯å¾„å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œä½†åŸºæœ¬ä¸Šæ¥è¯´å¤§éƒ¨åˆ†æ—¶å€™æ‰€èµ°çš„è·¯ç”±æ˜¯ç›¸åŒçš„ã€‚linuxç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºtraceroute,åœ¨MS Windowsä¸­ä¸ºtracertã€‚ tracerouteé€šè¿‡å‘é€å°çš„æ•°æ®åŒ…åˆ°ç›®çš„è®¾å¤‡ç›´åˆ°å…¶è¿”å›ï¼Œæ¥æµ‹é‡å…¶éœ€è¦å¤šé•¿æ—¶é—´ã€‚ä¸€æ¡è·¯å¾„ä¸Šçš„æ¯ä¸ªè®¾å¤‡tracerouteè¦æµ‹3æ¬¡ã€‚è¾“å‡ºç»“æœä¸­åŒ…æ‹¬æ¯æ¬¡æµ‹è¯•çš„æ—¶é—´(ms)å’Œè®¾å¤‡çš„åç§°ï¼ˆå¦‚æœ‰çš„è¯ï¼‰åŠå…¶IPåœ°å€ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨linuxä¸»æœºç³»ç»Ÿä¸‹ï¼Œç›´æ¥æ‰§è¡Œå‘½ä»¤è¡Œï¼š traceroute hostname è€Œåœ¨Windowsç³»ç»Ÿä¸‹æ˜¯æ‰§è¡Œtracertçš„å‘½ä»¤ï¼š tracert hostname å‘½ä»¤æ ¼å¼$ traceroute [å‚æ•°] [ä¸»æœº] å‘½ä»¤åŠŸèƒ½ tracerouteæŒ‡ä»¤è®©ä½ è¿½è¸ªç½‘ç»œæ•°æ®åŒ…çš„è·¯ç”±é€”å¾„ï¼Œé¢„è®¾æ•°æ®åŒ…å¤§å°æ˜¯40Bytesï¼Œç”¨æˆ·å¯å¦è¡Œè®¾ç½®ã€‚ å…·ä½“å‚æ•°æ ¼å¼ï¼štraceroute [-dFlnrvx][-f&lt;å­˜æ´»æ•°å€¼&gt;][-g&lt;ç½‘å…³&gt;...][-i&lt;ç½‘ç»œç•Œé¢&gt;][-m&lt;å­˜æ´»æ•°å€¼&gt;][-p&lt;é€šä¿¡ç«¯å£&gt;][-s&lt;æ¥æºåœ°å€&gt;][-t&lt;æœåŠ¡ç±»å‹&gt;][-w&lt;è¶…æ—¶ç§’æ•°&gt;][ä¸»æœºåç§°æˆ–IPåœ°å€][æ•°æ®åŒ…å¤§å°] å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -d ä½¿ç”¨Socketå±‚çº§çš„æ’é”™åŠŸèƒ½ -f è®¾ç½®ç¬¬ä¸€ä¸ªæ£€æµ‹æ•°æ®åŒ…çš„å­˜æ´»æ•°å€¼TTLçš„å¤§å° -F è®¾ç½®å‹¿ç¦»æ–­ä½ -g è®¾ç½®æ¥æºè·¯ç”±ç½‘å…³ï¼Œæœ€å¤šå¯è®¾ç½®8ä¸ª -i ä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ… -I ä½¿ç”¨ICMPå›åº”å–ä»£UDPèµ„æ–™ä¿¡æ¯ -m è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„æœ€å¤§å­˜æ´»æ•°å€¼TTLçš„å¤§å° -n ç›´æ¥ä½¿ç”¨IPåœ°å€è€Œéä¸»æœºåç§° -p è®¾ç½®UDPä¼ è¾“åè®®çš„é€šä¿¡ç«¯å£ -r å¿½ç•¥æ™®é€šçš„Routing Tableï¼Œç›´æ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Š -s è®¾ç½®æœ¬åœ°ä¸»æœºé€å‡ºæ•°æ®åŒ…çš„IPåœ°å€ -t è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„TOSæ•°å€¼ -v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ -w è®¾ç½®ç­‰å¾…è¿œç«¯ä¸»æœºå›æŠ¥çš„æ—¶é—´ -x å¼€å¯æˆ–å…³é—­æ•°æ®åŒ…çš„æ­£ç¡®æ€§æ£€éªŒ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼štraceroute ç”¨æ³•ç®€å•ã€æœ€å¸¸ç”¨çš„ç”¨æ³• $ traceroute yelog.github.com traceroute to yelog.github.com (151.101.192.133), 30 hops max, 60 byte packets 1 vrouter (192.168.0.1) 0.443 ms 0.565 ms 0.684 ms 2 112.208.32.1.pldt.net (112.208.32.1) 14.518 ms 22.454 ms 23.080 ms 3 119.93.255.197 (119.93.255.197) 24.492 ms 25.380 ms 26.328 ms 4 210.213.131.66.static.pldt.net (210.213.131.66) 29.942 ms 210.213.131.70.static.pldt.net (210.213.131.70) 28.209 ms 28.992 ms 5 122.2.175.30.static.pldt.net (122.2.175.30) 32.429 ms 32.765 ms 210.213.128.29.static.pldt.net (210.213.128.29) 35.165 ms 6 210.213.130.162.static.pldt.net (210.213.130.162) 32.147 ms 31.403 ms 32.107 ms 7 las-b3-link.telia.net (62.115.13.128) 198.546 ms 190.829 ms 191.039 ms 8 las-b21-link.telia.net (213.155.131.82) 194.301 ms las-b21-link.telia.net (62.115.116.179) 191.927 ms las-b21-link.telia.net (213.155.131.84) 194.433 ms 9 * * * 10 * * * è¯´æ˜ï¼š è®°å½•æŒ‰åºåˆ—å·ä»1å¼€å§‹ï¼Œæ¯ä¸ªçºªå½•å°±æ˜¯ä¸€è·³ ï¼Œæ¯è·³è¡¨ç¤ºä¸€ä¸ªç½‘å…³ï¼Œæˆ‘ä»¬çœ‹åˆ°æ¯è¡Œæœ‰ä¸‰ä¸ªæ—¶é—´ï¼Œå•ä½æ˜¯ msï¼Œå…¶å®å°±æ˜¯-qçš„é»˜è®¤å‚æ•°ã€‚æ¢æµ‹æ•°æ®åŒ…å‘æ¯ä¸ªç½‘å…³å‘é€ä¸‰ä¸ªæ•°æ®åŒ…åï¼Œç½‘å…³å“åº”åè¿”å›çš„æ—¶é—´ï¼›å¦‚æœæ‚¨ç”¨ traceroute -q 4 www.58.com ï¼Œè¡¨ç¤ºå‘æ¯ä¸ªç½‘å…³å‘é€4ä¸ªæ•°æ®åŒ…ã€‚ æœ‰æ—¶æˆ‘ä»¬traceroute ä¸€å°ä¸»æœºæ—¶ï¼Œä¼šçœ‹åˆ°æœ‰ä¸€äº›è¡Œæ˜¯ä»¥æ˜Ÿå·è¡¨ç¤ºçš„ã€‚å‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå¯èƒ½æ˜¯é˜²ç«å¢™å°æ‰äº†ICMPçš„è¿”å›ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ä¸åˆ°ä»€ä¹ˆç›¸å…³çš„æ•°æ®åŒ…è¿”å›æ•°æ®ã€‚ æœ‰æ—¶æˆ‘ä»¬åœ¨æŸä¸€ç½‘å…³å¤„å»¶æ—¶æ¯”è¾ƒé•¿ï¼Œæœ‰å¯èƒ½æ˜¯æŸå°ç½‘å…³æ¯”è¾ƒé˜»å¡ï¼Œä¹Ÿå¯èƒ½æ˜¯ç‰©ç†è®¾å¤‡æœ¬èº«çš„åŸå› ã€‚å½“ç„¶å¦‚æœæŸå°DNSå‡ºç°é—®é¢˜æ—¶ï¼Œä¸èƒ½è§£æä¸»æœºåã€åŸŸåæ—¶ï¼Œä¹Ÿä¼š æœ‰å»¶æ—¶é•¿çš„ç°è±¡ï¼›æ‚¨å¯ä»¥åŠ -n å‚æ•°æ¥é¿å…DNSè§£æï¼Œä»¥IPæ ¼å¼è¾“å‡ºæ•°æ®ã€‚ å¦‚æœåœ¨å±€åŸŸç½‘ä¸­çš„ä¸åŒç½‘æ®µä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡traceroute æ¥æ’æŸ¥é—®é¢˜æ‰€åœ¨ï¼Œæ˜¯ä¸»æœºçš„é—®é¢˜è¿˜æ˜¯ç½‘å…³çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬é€šè¿‡è¿œç¨‹æ¥è®¿é—®æŸå°æœåŠ¡å™¨é‡åˆ°é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ç”¨åˆ°traceroute è¿½è¸ªæ•°æ®åŒ…æ‰€ç»è¿‡çš„ç½‘å…³ï¼Œæäº¤IDCæœåŠ¡å•†ï¼Œä¹Ÿæœ‰åŠ©äºè§£å†³é—®é¢˜ï¼›ä½†ç›®å‰çœ‹æ¥åœ¨å›½å†…è§£å†³è¿™æ ·çš„é—®é¢˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œå°±æ˜¯æˆ‘ä»¬å‘ç°é—®é¢˜æ‰€åœ¨ï¼ŒIDCæœåŠ¡å•†ä¹Ÿä¸å¯èƒ½å¸®åŠ©æˆ‘ä»¬è§£å†³ã€‚ ä¾‹äºŒï¼šè·³æ•°è®¾ç½® $ traceroute -m 10 www.baidu.com ä¾‹ä¸‰ï¼šæ˜¾ç¤ºIPåœ°å€ï¼Œä¸æŸ¥ä¸»æœºå $ traceroute -n www.baidu.com ä¾‹å››ï¼šæ¢æµ‹åŒ…ä½¿ç”¨çš„åŸºæœ¬UDPç«¯å£è®¾ç½®6888 $ traceroute -p 6888 www.baidu.com ä¾‹äº”ï¼šæŠŠæ¢æµ‹åŒ…çš„ä¸ªæ•°è®¾ç½®ä¸ºå€¼4 $ traceroute -q 4 www.baidu.com ä¾‹å…­ï¼šç»•è¿‡æ­£å¸¸çš„è·¯ç”±è¡¨ï¼Œç›´æ¥å‘é€åˆ°ç½‘ç»œç›¸è¿çš„ä¸»æœº $ traceroute -r www.baidu.com ä¾‹ä¸ƒï¼šæŠŠå¯¹å¤–å‘æ¢æµ‹åŒ…çš„ç­‰å¾…å“åº”æ—¶é—´è®¾ç½®ä¸º3ç§’ $ traceroute -w 3 www.baidu.com Tracerouteçš„å·¥ä½œåŸç† Tracerouteæœ€ç®€å•çš„åŸºæœ¬ç”¨æ³•æ˜¯ï¼štraceroute hostname Tracerouteç¨‹åºçš„è®¾è®¡æ˜¯åˆ©ç”¨ICMPåŠIP headerçš„TTLï¼ˆTime To Liveï¼‰æ ä½ï¼ˆfieldï¼‰ã€‚é¦–å…ˆï¼Œtracerouteé€å‡ºä¸€ä¸ªTTLæ˜¯1çš„IP datagramï¼ˆå…¶å®ï¼Œæ¯æ¬¡é€å‡ºçš„ä¸º3ä¸ª40å­—èŠ‚çš„åŒ…ï¼ŒåŒ…æ‹¬æºåœ°å€ï¼Œç›®çš„åœ°å€å’ŒåŒ…å‘å‡ºçš„æ—¶é—´æ ‡ç­¾ï¼‰åˆ°ç›®çš„åœ°ï¼Œå½“è·¯å¾„ä¸Šçš„ç¬¬ä¸€ä¸ªè·¯ç”±å™¨ï¼ˆrouterï¼‰æ”¶åˆ°è¿™ä¸ªdatagramæ—¶ï¼Œå®ƒå°†TTLå‡1ã€‚æ­¤æ—¶ï¼ŒTTLå˜ä¸º0äº†ï¼Œæ‰€ä»¥è¯¥è·¯ç”±å™¨ä¼šå°†æ­¤datagramä¸¢æ‰ï¼Œå¹¶é€å›ä¸€ä¸ªã€ŒICMP time exceededã€æ¶ˆæ¯ï¼ˆåŒ…æ‹¬å‘IPåŒ…çš„æºåœ°å€ï¼ŒIPåŒ…çš„æ‰€æœ‰å†…å®¹åŠè·¯ç”±å™¨çš„IPåœ°å€ï¼‰ï¼Œtraceroute æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åï¼Œä¾¿çŸ¥é“è¿™ä¸ªè·¯ç”±å™¨å­˜åœ¨äºè¿™ä¸ªè·¯å¾„ä¸Šï¼Œæ¥ç€traceroute å†é€å‡ºå¦ä¸€ä¸ªTTLæ˜¯2 çš„datagramï¼Œå‘ç°ç¬¬2 ä¸ªè·¯ç”±å™¨â€¦â€¦ traceroute æ¯æ¬¡å°†é€å‡ºçš„datagramçš„TTL åŠ 1æ¥å‘ç°å¦ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè¿™ä¸ªé‡å¤çš„åŠ¨ä½œä¸€ç›´æŒç»­åˆ°æŸä¸ªdatagram æŠµè¾¾ç›®çš„åœ°ã€‚å½“datagramåˆ°è¾¾ç›®çš„åœ°åï¼Œè¯¥ä¸»æœºå¹¶ä¸ä¼šé€å›ICMP time exceededæ¶ˆæ¯ï¼Œå› ä¸ºå®ƒå·²æ˜¯ç›®çš„åœ°äº†ï¼Œé‚£ä¹ˆtracerouteå¦‚ä½•å¾—çŸ¥ç›®çš„åœ°åˆ°è¾¾äº†å‘¢ï¼Ÿ Tracerouteåœ¨é€å‡ºUDP datagramsåˆ°ç›®çš„åœ°æ—¶ï¼Œå®ƒæ‰€é€‰æ‹©é€è¾¾çš„port number æ˜¯ä¸€ä¸ªä¸€èˆ¬åº”ç”¨ç¨‹åºéƒ½ä¸ä¼šç”¨çš„å·ç ï¼ˆ30000 ä»¥ä¸Šï¼‰ï¼Œæ‰€ä»¥å½“æ­¤UDP datagram åˆ°è¾¾ç›®çš„åœ°åè¯¥ä¸»æœºä¼šé€å›ä¸€ä¸ªã€ŒICMP port unreachableã€çš„æ¶ˆæ¯ï¼Œè€Œå½“traceroute æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯æ—¶ï¼Œä¾¿çŸ¥é“ç›®çš„åœ°å·²ç»åˆ°è¾¾äº†ã€‚æ‰€ä»¥traceroute åœ¨Serverç«¯ä¹Ÿæ˜¯æ²¡æœ‰æ‰€è°“çš„Daemon ç¨‹å¼ã€‚ Tracerouteæå–å‘ ICMP TTLåˆ°æœŸæ¶ˆæ¯è®¾å¤‡çš„IPåœ°å€å¹¶ä½œåŸŸåè§£æã€‚æ¯æ¬¡ ï¼ŒTracerouteéƒ½æ‰“å°å‡ºä¸€ç³»åˆ—æ•°æ®,åŒ…æ‹¬æ‰€ç»è¿‡çš„è·¯ç”±è®¾å¤‡çš„åŸŸååŠ IPåœ°å€,ä¸‰ä¸ªåŒ…æ¯æ¬¡æ¥å›æ‰€èŠ±æ—¶é—´ã€‚ windowsä¹‹tracert æ ¼å¼ï¼š $ tracert [-d] [-h maximum_hops] [-j host-list] [-w timeout] target_name å‚æ•°è¯´æ˜ tracert [-d] [-h maximum_hops] [-j computer-list] [-w timeout] target_name è¯¥è¯Šæ–­å®ç”¨ç¨‹åºé€šè¿‡å‘ç›®çš„åœ°å‘é€å…·æœ‰ä¸åŒç”Ÿå­˜æ—¶é—´ (TL) çš„ Internet æ§åˆ¶ä¿¡æ¯åè®® (CMP) å›åº”æŠ¥æ–‡ï¼Œä»¥ç¡®å®šè‡³ç›®çš„åœ°çš„è·¯ç”±ã€‚è·¯å¾„ä¸Šçš„æ¯ä¸ªè·¯ç”±å™¨éƒ½è¦åœ¨è½¬å‘è¯¥ ICMP å›åº”æŠ¥æ–‡ä¹‹å‰å°†å…¶ TTL å€¼è‡³å°‘å‡ 1ï¼Œå› æ­¤ TTL æ˜¯æœ‰æ•ˆçš„è·³è½¬è®¡æ•°ã€‚å½“æŠ¥æ–‡çš„ TTL å€¼å‡å°‘åˆ° 0 æ—¶ï¼Œè·¯ç”±å™¨å‘æºç³»ç»Ÿå‘å› ICMP è¶…æ—¶ä¿¡æ¯ã€‚é€šè¿‡å‘é€ TTL ä¸º 1 çš„ç¬¬ä¸€ä¸ªå›åº”æŠ¥æ–‡å¹¶ä¸”åœ¨éšåçš„å‘é€ä¸­æ¯æ¬¡å°† TTL å€¼åŠ  1ï¼Œç›´åˆ°ç›®æ ‡å“åº”æˆ–è¾¾åˆ°æœ€å¤§ TTL å€¼ï¼ŒTracert å¯ä»¥ç¡®å®šè·¯ç”±ã€‚é€šè¿‡æ£€æŸ¥ä¸­é—´è·¯ç”±å™¨å‘å‘å›çš„ ICMP è¶…æ—¶ (ime Exceeded) ä¿¡æ¯ï¼Œå¯ä»¥ç¡®å®šè·¯ç”±å™¨ã€‚æ³¨æ„ï¼Œæœ‰äº›è·¯ç”±å™¨â€œå®‰é™â€åœ°ä¸¢å¼ƒç”Ÿå­˜æ—¶é—´ (TLS) è¿‡æœŸçš„æŠ¥æ–‡å¹¶ä¸”å¯¹ tracert æ— æ•ˆã€‚å‚æ•°ï¼š-d æŒ‡å®šä¸å¯¹è®¡ç®—æœºåè§£æåœ°å€ã€‚-h maximum_hops æŒ‡å®šæŸ¥æ‰¾ç›®æ ‡çš„è·³è½¬çš„æœ€å¤§æ•°ç›®ã€‚-jcomputer-list æŒ‡å®šåœ¨ computer-list ä¸­æ¾æ•£æºè·¯ç”±ã€‚-w timeout ç­‰å¾…ç”± timeout å¯¹æ¯ä¸ªåº”ç­”æŒ‡å®šçš„æ¯«ç§’æ•°ã€‚target_name ç›®æ ‡è®¡ç®—æœºçš„åç§°ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ39ï¼‰: ping","slug":"linux-command-39-ping","date":"2017-01-08T02:24:50.000Z","updated":"2024-07-05T11:10:22.794Z","comments":true,"path":"2017/01/08/linux-command-39-ping/","permalink":"http://yelog.org/2017/01/08/linux-command-39-ping/","excerpt":"Linuxç³»ç»Ÿçš„pingå‘½ä»¤æ˜¯å¸¸ç”¨çš„ç½‘ç»œå‘½ä»¤ï¼Œå®ƒé€šå¸¸ç”¨æ¥æµ‹è¯•ä¸ç›®æ ‡ä¸»æœºçš„è¿é€šæ€§ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¯´â€œpingä¸€ä¸‹æŸæœºå™¨ï¼Œçœ‹æ˜¯ä¸æ˜¯å¼€ç€â€ã€ä¸èƒ½æ‰“å¼€ç½‘é¡µæ—¶ä¼šè¯´â€œä½ å…ˆpingç½‘å…³åœ°å€192.168.1.1è¯•è¯•â€ã€‚å®ƒé€šè¿‡å‘é€ICMP ECHO_REQUESTæ•°æ®åŒ…åˆ°ç½‘ç»œä¸»æœºï¼ˆsend ICMP ECHO_REQUEST to network hostsï¼‰ï¼Œå¹¶æ˜¾ç¤ºå“åº”æƒ…å†µï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å®ƒè¾“å‡ºçš„ä¿¡æ¯æ¥ç¡®å®šç›®æ ‡ä¸»æœºæ˜¯å¦å¯è®¿é—®ï¼ˆä½†è¿™ä¸æ˜¯ç»å¯¹çš„ï¼‰ã€‚æœ‰äº›æœåŠ¡å™¨ä¸ºäº†é˜²æ­¢é€šè¿‡pingæ¢æµ‹åˆ°ï¼Œé€šè¿‡é˜²ç«å¢™è®¾ç½®äº†ç¦æ­¢pingæˆ–è€…åœ¨å†…æ ¸å‚æ•°ä¸­ç¦æ­¢pingï¼Œè¿™æ ·å°±ä¸èƒ½é€šè¿‡pingç¡®å®šè¯¥ä¸»æœºæ˜¯å¦è¿˜å¤„äºå¼€å¯çŠ¶æ€ã€‚","text":"Linuxç³»ç»Ÿçš„pingå‘½ä»¤æ˜¯å¸¸ç”¨çš„ç½‘ç»œå‘½ä»¤ï¼Œå®ƒé€šå¸¸ç”¨æ¥æµ‹è¯•ä¸ç›®æ ‡ä¸»æœºçš„è¿é€šæ€§ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¯´â€œpingä¸€ä¸‹æŸæœºå™¨ï¼Œçœ‹æ˜¯ä¸æ˜¯å¼€ç€â€ã€ä¸èƒ½æ‰“å¼€ç½‘é¡µæ—¶ä¼šè¯´â€œä½ å…ˆpingç½‘å…³åœ°å€192.168.1.1è¯•è¯•â€ã€‚å®ƒé€šè¿‡å‘é€ICMP ECHO_REQUESTæ•°æ®åŒ…åˆ°ç½‘ç»œä¸»æœºï¼ˆsend ICMP ECHO_REQUEST to network hostsï¼‰ï¼Œå¹¶æ˜¾ç¤ºå“åº”æƒ…å†µï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å®ƒè¾“å‡ºçš„ä¿¡æ¯æ¥ç¡®å®šç›®æ ‡ä¸»æœºæ˜¯å¦å¯è®¿é—®ï¼ˆä½†è¿™ä¸æ˜¯ç»å¯¹çš„ï¼‰ã€‚æœ‰äº›æœåŠ¡å™¨ä¸ºäº†é˜²æ­¢é€šè¿‡pingæ¢æµ‹åˆ°ï¼Œé€šè¿‡é˜²ç«å¢™è®¾ç½®äº†ç¦æ­¢pingæˆ–è€…åœ¨å†…æ ¸å‚æ•°ä¸­ç¦æ­¢pingï¼Œè¿™æ ·å°±ä¸èƒ½é€šè¿‡pingç¡®å®šè¯¥ä¸»æœºæ˜¯å¦è¿˜å¤„äºå¼€å¯çŠ¶æ€ã€‚ linuxä¸‹çš„pingå’Œwindowsä¸‹çš„pingç¨æœ‰åŒºåˆ«,linuxä¸‹pingä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢,éœ€è¦æŒ‰ctrl+cç»ˆæ­¢æˆ–è€…ç”¨å‚æ•°-cæŒ‡å®šè¦æ±‚å®Œæˆçš„å›åº”æ¬¡æ•°ã€‚ å‘½ä»¤æ ¼å¼$ ping [å‚æ•°] [ä¸»æœºåæˆ–IPåœ°å€] å‘½ä»¤åŠŸèƒ½ pingå‘½ä»¤ç”¨äºï¼šç¡®å®šç½‘ç»œå’Œå„å¤–éƒ¨ä¸»æœºçš„çŠ¶æ€ï¼›è·Ÿè¸ªå’Œéš”ç¦»ç¡¬ä»¶å’Œè½¯ä»¶é—®é¢˜ï¼›æµ‹è¯•ã€è¯„ä¼°å’Œç®¡ç†ç½‘ç»œã€‚å¦‚æœä¸»æœºæ­£åœ¨è¿è¡Œå¹¶è¿åœ¨ç½‘ä¸Šï¼Œå®ƒå°±å¯¹å›é€ä¿¡å·è¿›è¡Œå“åº”ã€‚æ¯ä¸ªå›é€ä¿¡å·è¯·æ±‚åŒ…å«ä¸€ä¸ªç½‘é™…åè®®ï¼ˆIPï¼‰å’Œ ICMP å¤´ï¼Œåé¢ç´§è·Ÿä¸€ä¸ª tim ç»“æ„ï¼Œä»¥åŠæ¥å¡«å†™è¿™ä¸ªä¿¡æ¯åŒ…çš„è¶³å¤Ÿçš„å­—èŠ‚ã€‚ç¼ºçœæƒ…å†µæ˜¯è¿ç»­å‘é€å›é€ä¿¡å·è¯·æ±‚ç›´åˆ°æ¥æ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼ˆCtrl-Cï¼‰ã€‚ ping å‘½ä»¤æ¯ç§’å‘é€ä¸€ä¸ªæ•°æ®æŠ¥å¹¶ä¸”ä¸ºæ¯ä¸ªæ¥æ”¶åˆ°çš„å“åº”æ‰“å°ä¸€è¡Œè¾“å‡ºã€‚ping å‘½ä»¤è®¡ç®—ä¿¡å·å¾€è¿”æ—¶é—´å’Œ(ä¿¡æ¯)åŒ…ä¸¢å¤±æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨å®Œæˆä¹‹åæ˜¾ç¤ºä¸€ä¸ªç®€è¦æ€»ç»“ã€‚ping å‘½ä»¤åœ¨ç¨‹åºè¶…æ—¶æˆ–å½“æ¥æ”¶åˆ° SIGINT ä¿¡å·æ—¶ç»“æŸã€‚Host å‚æ•°æˆ–è€…æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¸»æœºåæˆ–è€…æ˜¯å› ç‰¹ç½‘åœ°å€ã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -d ä½¿ç”¨Socketçš„SO_DEBUGåŠŸèƒ½ -f æé™æ£€æµ‹ã€‚å¤§é‡ä¸”å¿«é€Ÿåœ°é€ç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œçœ‹å®ƒçš„å›åº” -n åªè¾“å‡ºæ•°å€¼ -q ä¸æ˜¾ç¤ºä»»ä½•ä¼ é€å°åŒ…çš„ä¿¡æ¯ï¼Œåªæ˜¾ç¤ºæœ€åçš„ç»“æœ -r å¿½ç•¥æ™®é€šçš„Routing Tableï¼Œç›´æ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Šã€‚é€šå¸¸æ˜¯æŸ¥çœ‹æœ¬æœºçš„ç½‘ç»œæ¥å£æ˜¯å¦æœ‰é—®é¢˜ -R è®°å½•è·¯ç”±è¿‡ç¨‹ -v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ -c æ•°ç›® åœ¨å‘é€æŒ‡å®šæ•°ç›®çš„åŒ…ååœæ­¢ -i ç§’æ•° è®¾å®šé—´éš”å‡ ç§’é€ä¸€ä¸ªç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œé¢„è®¾å€¼æ˜¯ä¸€ç§’é€ä¸€æ¬¡ -I ç½‘ç»œç•Œé¢ ä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ… -l å‰ç½®è½½å…¥ è®¾ç½®åœ¨é€å‡ºè¦æ±‚ä¿¡æ¯ä¹‹å‰ï¼Œå…ˆè¡Œå‘å‡ºçš„æ•°æ®åŒ… -p èŒƒæœ¬æ ·å¼ è®¾ç½®å¡«æ»¡æ•°æ®åŒ…çš„èŒƒæœ¬æ ·å¼ -s å­—èŠ‚æ•° æŒ‡å®šå‘é€çš„æ•°æ®å­—èŠ‚æ•°ï¼Œé¢„è®¾å€¼æ˜¯56ï¼ŒåŠ ä¸Š8å­—èŠ‚çš„ICMPå¤´ï¼Œä¸€å…±æ˜¯64ICMPæ•°æ®å­—èŠ‚ -t å­˜æ´»æ•°å€¼ è®¾ç½®å­˜æ´»æ•°å€¼TTLçš„å¤§å° ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼špingé€šçš„æƒ…å†µ $ ping 192.168.0.1 PING 192.168.0.1 (192.168.0.1) 56(84) bytes of data. 64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=0.238 ms 64 bytes from 192.168.0.1: icmp_seq=2 ttl=64 time=0.202 ms 64 bytes from 192.168.0.1: icmp_seq=3 ttl=64 time=0.232 ms 64 bytes from 192.168.0.1: icmp_seq=4 ttl=64 time=0.210 ms --- 192.168.0.1 ping statistics --- 6 packets transmitted, 6 received, 0% packet loss, time 4997ms ä¾‹äºŒï¼špingä¸é€šçš„æƒ…å†µ $ ping 192.168.0.222 PING 192.168.0.222 (192.168.0.222) 56(84) bytes of data. From 192.168.0.101 icmp_seq=1 Destination Host Unreachable From 192.168.0.101 icmp_seq=2 Destination Host Unreachable From 192.168.0.101 icmp_seq=3 Destination Host Unreachable --- 192.168.0.222 ping statistics --- 7 packets transmitted, 0 received, +6 errors, 100% packet loss, time 6032ms pipe 3 ä¾‹äºŒï¼špingæŒ‡å®šæ¬¡æ•° $ ping -c 192.168.0.1 ä¾‹ä¸‰ï¼šæ—¶é—´é—´éš”å’Œæ¬¡æ•°é™åˆ¶çš„ping $ ping -c 10 -i 0.5 192.168.120.206 ä¾‹å››ï¼šé€šè¿‡åŸŸåpingå…¬ç½‘ä¸Šçš„ç«™ç‚¹ $ ping -c 5 yelog.github.com ä¾‹äº”ï¼šå¤šå‚æ•°ä½¿ç”¨ # -i 3 å‘é€å‘¨æœŸä¸º 3ç§’ -s è®¾ç½®å‘é€åŒ…çš„å¤§å°ä¸º1024 -t è®¾ç½®TTLå€¼ä¸º 255 $ ping -i 3 -s 1024 -t yelog.github.com PING github.map.fastly.net (151.101.192.133) 1024(1052) bytes of data. 1032 bytes from 151.101.192.133 (151.101.192.133): icmp_seq=1 ttl=56 time=191 ms 1032 bytes from 151.101.192.133 (151.101.192.133): icmp_seq=2 ttl=56 time=190 ms 1032 bytes from 151.101.192.133 (151.101.192.133): icmp_seq=3 ttl=56 time=189 ms 1032 bytes from 151.101.192.133 (151.101.192.133): icmp_seq=4 ttl=56 time=190 ms","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ38ï¼‰: route","slug":"linux-command-38-route","date":"2017-01-07T02:16:34.000Z","updated":"2024-07-05T11:10:22.939Z","comments":true,"path":"2017/01/07/linux-command-38-route/","permalink":"http://yelog.org/2017/01/07/linux-command-38-route/","excerpt":"Linuxç³»ç»Ÿçš„routeå‘½ä»¤ç”¨äºæ˜¾ç¤ºå’Œæ“ä½œIPè·¯ç”±è¡¨ï¼ˆshow &#x2F; manipulate the IP routing tableï¼‰ã€‚è¦å®ç°ä¸¤ä¸ªä¸åŒçš„å­ç½‘ä¹‹é—´çš„é€šä¿¡ï¼Œéœ€è¦ä¸€å°è¿æ¥ä¸¤ä¸ªç½‘ç»œçš„è·¯ç”±å™¨ï¼Œæˆ–è€…åŒæ—¶ä½äºä¸¤ä¸ªç½‘ç»œçš„ç½‘å…³æ¥å®ç°ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè®¾ç½®è·¯ç”±é€šå¸¸æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼šè¯¥Linuxç³»ç»Ÿåœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œå±€åŸŸç½‘ä¸­æœ‰ä¸€ä¸ªç½‘å…³ï¼Œèƒ½å¤Ÿè®©æœºå™¨è®¿é—®Internetï¼Œé‚£ä¹ˆå°±éœ€è¦å°†è¿™å°æœºå™¨çš„IPåœ°å€è®¾ç½®ä¸ºLinuxæœºå™¨çš„é»˜è®¤è·¯ç”±ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œrouteå‘½ä»¤æ¥æ·»åŠ è·¯ç”±ï¼Œä¸ä¼šæ°¸ä¹…ä¿å­˜ï¼Œå½“ç½‘å¡é‡å¯æˆ–è€…æœºå™¨é‡å¯ä¹‹åï¼Œè¯¥è·¯ç”±å°±å¤±æ•ˆäº†ï¼›å¯ä»¥åœ¨&#x2F;etc&#x2F;rc.localä¸­æ·»åŠ routeå‘½ä»¤æ¥ä¿è¯è¯¥è·¯ç”±è®¾ç½®æ°¸ä¹…æœ‰æ•ˆã€‚","text":"Linuxç³»ç»Ÿçš„routeå‘½ä»¤ç”¨äºæ˜¾ç¤ºå’Œæ“ä½œIPè·¯ç”±è¡¨ï¼ˆshow &#x2F; manipulate the IP routing tableï¼‰ã€‚è¦å®ç°ä¸¤ä¸ªä¸åŒçš„å­ç½‘ä¹‹é—´çš„é€šä¿¡ï¼Œéœ€è¦ä¸€å°è¿æ¥ä¸¤ä¸ªç½‘ç»œçš„è·¯ç”±å™¨ï¼Œæˆ–è€…åŒæ—¶ä½äºä¸¤ä¸ªç½‘ç»œçš„ç½‘å…³æ¥å®ç°ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè®¾ç½®è·¯ç”±é€šå¸¸æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼šè¯¥Linuxç³»ç»Ÿåœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œå±€åŸŸç½‘ä¸­æœ‰ä¸€ä¸ªç½‘å…³ï¼Œèƒ½å¤Ÿè®©æœºå™¨è®¿é—®Internetï¼Œé‚£ä¹ˆå°±éœ€è¦å°†è¿™å°æœºå™¨çš„IPåœ°å€è®¾ç½®ä¸ºLinuxæœºå™¨çš„é»˜è®¤è·¯ç”±ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œrouteå‘½ä»¤æ¥æ·»åŠ è·¯ç”±ï¼Œä¸ä¼šæ°¸ä¹…ä¿å­˜ï¼Œå½“ç½‘å¡é‡å¯æˆ–è€…æœºå™¨é‡å¯ä¹‹åï¼Œè¯¥è·¯ç”±å°±å¤±æ•ˆäº†ï¼›å¯ä»¥åœ¨&#x2F;etc&#x2F;rc.localä¸­æ·»åŠ routeå‘½ä»¤æ¥ä¿è¯è¯¥è·¯ç”±è®¾ç½®æ°¸ä¹…æœ‰æ•ˆã€‚ å‘½ä»¤æ ¼å¼route [-f] [-p] [Command [Destination] [mask Netmask] [Gateway] [metric Metric]] [if Interface]] å‘½ä»¤åŠŸèƒ½ Routeå‘½ä»¤æ˜¯ç”¨äºæ“ä½œåŸºäºå†…æ ¸ipè·¯ç”±è¡¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªé™æ€è·¯ç”±è®©æŒ‡å®šä¸€ä¸ªä¸»æœºæˆ–è€…ä¸€ä¸ªç½‘ç»œé€šè¿‡ä¸€ä¸ªç½‘ç»œæ¥å£ï¼Œå¦‚eth0ã€‚å½“ä½¿ç”¨â€addâ€æˆ–è€…â€delâ€å‚æ•°æ—¶ï¼Œè·¯ç”±è¡¨è¢«ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼Œåˆ™æ˜¾ç¤ºè·¯ç”±è¡¨å½“å‰çš„å†…å®¹ã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -c æ˜¾ç¤ºæ›´å¤šä¿¡æ¯ -n ä¸è§£æåå­— -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯ -F æ˜¾ç¤ºå‘é€ä¿¡æ¯ -C æ˜¾ç¤ºè·¯ç”±ç¼“å­˜ -f æ¸…é™¤æ‰€æœ‰ç½‘å…³å…¥å£çš„è·¯ç”±è¡¨ -p ä¸ add å‘½ä»¤ -p ä¸ add å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ä½¿è·¯ç”±å…·æœ‰æ°¸ä¹…æ€§ã€‚ add æ·»åŠ ä¸€æ¡æ–°è·¯ç”± del åˆ é™¤ä¸€æ¡è·¯ç”± -net ç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªç½‘ç»œ -host ç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªä¸»æœº netmask å½“æ·»åŠ ä¸€ä¸ªç½‘ç»œè·¯ç”±æ—¶ï¼Œéœ€è¦ä½¿ç”¨ç½‘ç»œæ©ç  gw è·¯ç”±æ•°æ®åŒ…é€šè¿‡ç½‘å…³ã€‚æ³¨æ„ï¼Œä½ æŒ‡å®šçš„ç½‘å…³å¿…é¡»èƒ½å¤Ÿè¾¾åˆ° metric è®¾ç½®è·¯ç”±è·³æ•° Command æŒ‡å®šæ‚¨æƒ³è¿è¡Œçš„å‘½ä»¤ (Add&#x2F;Change&#x2F;Delete&#x2F;Print) Destination æŒ‡å®šè¯¥è·¯ç”±çš„ç½‘ç»œç›®æ ‡ mask Netmask æŒ‡å®šä¸ç½‘ç»œç›®æ ‡ç›¸å…³çš„ç½‘ç»œæ©ç ï¼ˆä¹Ÿè¢«ç§°ä½œå­ç½‘æ©ç ï¼‰ Gateway æŒ‡å®šç½‘ç»œç›®æ ‡å®šä¹‰çš„åœ°å€é›†å’Œå­ç½‘æ©ç å¯ä»¥åˆ°è¾¾çš„å‰è¿›æˆ–ä¸‹ä¸€è·ƒç‚¹ IP åœ°å€ metric Metric ä¸ºè·¯ç”±æŒ‡å®šä¸€ä¸ªæ•´æ•°æˆæœ¬å€¼æ ‡ï¼ˆä» 1 è‡³ 9999ï¼‰ï¼Œå½“åœ¨è·¯ç”±è¡¨(ä¸è½¬å‘çš„æ•°æ®åŒ…ç›®æ ‡åœ°å€æœ€åŒ¹é…)çš„å¤šä¸ªè·¯ç”±ä¸­è¿›è¡Œé€‰æ‹©æ—¶å¯ä»¥ä½¿ç”¨ if Interface ä¸ºå¯ä»¥è®¿é—®ç›®æ ‡çš„æ¥å£æŒ‡å®šæ¥å£ç´¢å¼•ã€‚è‹¥è¦è·å¾—ä¸€ä¸ªæ¥å£åˆ—è¡¨å’Œå®ƒä»¬ç›¸åº”çš„æ¥å£ç´¢å¼•ï¼Œä½¿ç”¨ route print å‘½ä»¤çš„æ˜¾ç¤ºåŠŸèƒ½ã€‚å¯ä»¥ä½¿ç”¨åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶å€¼è¿›è¡Œæ¥å£ç´¢å¼• ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºå½“å‰è·¯ç”± $ route $ route -n [root@localhost ~]# route Kernel IP routing table Destination Gateway Genmask Flags Metric Ref Use Iface 192.168.120.0 * 255.255.255.0 U 0 0 0 eth0 e192.168.0.0 192.168.120.1 255.255.0.0 UG 0 0 0 eth0 10.0.0.0 192.168.120.1 255.0.0.0 UG 0 0 0 eth0 default 192.168.120.240 0.0.0.0 UG 0 0 0 eth0 [root@localhost ~]# route -n Kernel IP routing table Destination Gateway Genmask Flags Metric Ref Use Iface 192.168.120.0 0.0.0.0 255.255.255.0 U 0 0 0 eth0 192.168.0.0 192.168.120.1 255.255.0.0 UG 0 0 0 eth0 10.0.0.0 192.168.120.1 255.0.0.0 UG 0 0 0 eth0 0.0.0.0 192.168.120.240 0.0.0.0 UG 0 0 0 eth0 è¯´æ˜ï¼š ç¬¬ä¸€è¡Œè¡¨ç¤ºä¸»æœºæ‰€åœ¨ç½‘ç»œçš„åœ°å€ä¸º192.168.120.0ï¼Œè‹¥æ•°æ®ä¼ é€ç›®æ ‡æ˜¯åœ¨æœ¬å±€åŸŸç½‘å†…é€šä¿¡ï¼Œåˆ™å¯ç›´æ¥é€šè¿‡eth0è½¬å‘æ•°æ®åŒ…; ç¬¬å››è¡Œè¡¨ç¤ºæ•°æ®ä¼ é€ç›®çš„æ˜¯è®¿é—®Internetï¼Œåˆ™ç”±æ¥å£eth0ï¼Œå°†æ•°æ®åŒ…å‘é€åˆ°ç½‘å…³192.168.120.240 å…¶ä¸­Flagsä¸ºè·¯ç”±æ ‡å¿—ï¼Œæ ‡è®°å½“å‰ç½‘ç»œèŠ‚ç‚¹çš„çŠ¶æ€ã€‚ Flagsæ ‡å¿—è¯´æ˜ï¼š U Upè¡¨ç¤ºæ­¤è·¯ç”±å½“å‰ä¸ºå¯åŠ¨çŠ¶æ€ H Hostï¼Œè¡¨ç¤ºæ­¤ç½‘å…³ä¸ºä¸€ä¸»æœº G Gatewayï¼Œè¡¨ç¤ºæ­¤ç½‘å…³ä¸ºä¸€è·¯ç”±å™¨ R Reinstate Routeï¼Œä½¿ç”¨åŠ¨æ€è·¯ç”±é‡æ–°åˆå§‹åŒ–çš„è·¯ç”± D Dynamically,æ­¤è·¯ç”±æ˜¯åŠ¨æ€æ€§åœ°å†™å…¥ M Modifiedï¼Œæ­¤è·¯ç”±æ˜¯ç”±è·¯ç”±å®ˆæŠ¤ç¨‹åºæˆ–å¯¼å‘å™¨åŠ¨æ€ä¿®æ”¹ ! è¡¨ç¤ºæ­¤è·¯ç”±å½“å‰ä¸ºå…³é—­çŠ¶æ€å¤‡æ³¨ï¼š route -n (-n è¡¨ç¤ºä¸è§£æåå­—,åˆ—å‡ºé€Ÿåº¦ä¼šæ¯”route å¿«) ä¾‹äºŒï¼šæ·»åŠ ç½‘å…³&#x2F;è®¾ç½®ç½‘å…³ # å¢åŠ ä¸€æ¡ åˆ°è¾¾244.0.0.0çš„è·¯ç”± $ route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0 ä¾‹ä¸‰ï¼šå±è”½ä¸€æ¡è·¯ç”± # å¢åŠ ä¸€æ¡å±è”½çš„è·¯ç”±ï¼Œç›®çš„åœ°å€ä¸º 224.x.x.x å°†è¢«æ‹’ç» $ route add -net 224.0.0.0 netmask 240.0.0.0 reject ä¾‹å››ï¼šåˆ é™¤è·¯ç”±è®°å½• $ route del -net 224.0.0.0 netmask 240.0.0.0 $ route del -net 224.0.0.0 netmask 240.0.0.0 reject ä¾‹äº”ï¼šåˆ é™¤å’Œæ·»åŠ è®¾ç½®é»˜è®¤ç½‘å…³ $ route del default gw 192.168.120.240 $ route add default gw 192.168.120.240","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ37ï¼‰: ifconfig","slug":"linux-command-37-ifconfig","date":"2017-01-06T01:57:01.000Z","updated":"2024-07-05T11:10:22.892Z","comments":true,"path":"2017/01/06/linux-command-37-ifconfig/","permalink":"http://yelog.org/2017/01/06/linux-command-37-ifconfig/","excerpt":"è®¸å¤šwindowséå¸¸ç†Ÿæ‚‰ipconfigå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒè¢«ç”¨æ¥è·å–ç½‘ç»œæ¥å£é…ç½®ä¿¡æ¯å¹¶å¯¹æ­¤è¿›è¡Œä¿®æ”¹ã€‚Linuxç³»ç»Ÿæ‹¥æœ‰ä¸€ä¸ªç±»ä¼¼çš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯ifconfig(interfaces config)ã€‚é€šå¸¸éœ€è¦ä»¥rootèº«ä»½ç™»å½•æˆ–ä½¿ç”¨sudoä»¥ä¾¿åœ¨Linuxæœºå™¨ä¸Šä½¿ç”¨ifconfigå·¥å…·ã€‚ä¾èµ–äºifconfigå‘½ä»¤ä¸­ä½¿ç”¨ä¸€äº›é€‰é¡¹å±æ€§ï¼Œifconfigå·¥å…·ä¸ä»…å¯ä»¥è¢«ç”¨æ¥ç®€å•åœ°è·å–ç½‘ç»œæ¥å£é…ç½®ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä¿®æ”¹è¿™äº›é…ç½®ã€‚","text":"è®¸å¤šwindowséå¸¸ç†Ÿæ‚‰ipconfigå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒè¢«ç”¨æ¥è·å–ç½‘ç»œæ¥å£é…ç½®ä¿¡æ¯å¹¶å¯¹æ­¤è¿›è¡Œä¿®æ”¹ã€‚Linuxç³»ç»Ÿæ‹¥æœ‰ä¸€ä¸ªç±»ä¼¼çš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯ifconfig(interfaces config)ã€‚é€šå¸¸éœ€è¦ä»¥rootèº«ä»½ç™»å½•æˆ–ä½¿ç”¨sudoä»¥ä¾¿åœ¨Linuxæœºå™¨ä¸Šä½¿ç”¨ifconfigå·¥å…·ã€‚ä¾èµ–äºifconfigå‘½ä»¤ä¸­ä½¿ç”¨ä¸€äº›é€‰é¡¹å±æ€§ï¼Œifconfigå·¥å…·ä¸ä»…å¯ä»¥è¢«ç”¨æ¥ç®€å•åœ°è·å–ç½‘ç»œæ¥å£é…ç½®ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä¿®æ”¹è¿™äº›é…ç½®ã€‚ å‘½ä»¤æ ¼å¼$ ifconfig [ç½‘ç»œè®¾å¤‡] [å‚æ•°] å‘½ä»¤åŠŸèƒ½ ifconfig å‘½ä»¤ç”¨æ¥æŸ¥çœ‹å’Œé…ç½®ç½‘ç»œè®¾å¤‡ã€‚å½“ç½‘ç»œç¯å¢ƒå‘ç”Ÿæ”¹å˜æ—¶å¯é€šè¿‡æ­¤å‘½ä»¤å¯¹ç½‘ç»œè¿›è¡Œç›¸åº”çš„é…ç½®ã€‚ æ³¨æ„ï¼š ç”¨ifconfigå‘½ä»¤é…ç½®çš„ç½‘å¡ä¿¡æ¯ï¼Œåœ¨ç½‘å¡é‡å¯åæœºå™¨é‡å¯åï¼Œé…ç½®å°±ä¸å­˜åœ¨ã€‚è¦æƒ³å°†ä¸Šè¿°çš„é…ç½®ä¿¡æ¯æ°¸è¿œçš„å­˜çš„ç”µè„‘é‡Œï¼Œé‚£å°±è¦ä¿®æ”¹ç½‘å¡çš„é…ç½®æ–‡ä»¶äº†ã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° up å¯åŠ¨æŒ‡å®šç½‘ç»œè®¾å¤‡&#x2F;ç½‘å¡ down å…³é—­æŒ‡å®šç½‘ç»œè®¾å¤‡&#x2F;ç½‘å¡ã€‚è¯¥å‚æ•°å¯ä»¥æœ‰æ•ˆåœ°é˜»æ­¢é€šè¿‡æŒ‡å®šæ¥å£çš„IPä¿¡æ¯æµï¼Œå¦‚æœæƒ³æ°¸ä¹…åœ°å…³é—­ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»æ ¸å¿ƒè·¯ç”±è¡¨ä¸­å°†è¯¥æ¥å£çš„è·¯ç”±ä¿¡æ¯å…¨éƒ¨åˆ é™¤ arp è®¾ç½®æŒ‡å®šç½‘å¡æ˜¯å¦æ”¯æŒARPåè®® -promisc è®¾ç½®æ˜¯å¦æ”¯æŒç½‘å¡çš„promiscuousæ¨¡å¼ï¼Œå¦‚æœé€‰æ‹©æ­¤å‚æ•°ï¼Œç½‘å¡å°†æ¥æ”¶ç½‘ç»œä¸­å‘ç»™å®ƒæ‰€æœ‰çš„æ•°æ®åŒ… -allmulti è®¾ç½®æ˜¯å¦æ”¯æŒå¤šæ’­æ¨¡å¼ï¼Œå¦‚æœé€‰æ‹©æ­¤å‚æ•°ï¼Œç½‘å¡å°†æ¥æ”¶ç½‘ç»œä¸­æ‰€æœ‰çš„å¤šæ’­æ•°æ®åŒ… -a æ˜¾ç¤ºå…¨éƒ¨æ¥å£ä¿¡æ¯ -s æ˜¾ç¤ºæ‘˜è¦ä¿¡æ¯ï¼ˆç±»ä¼¼äº netstat -iï¼‰ add ç»™æŒ‡å®šç½‘å¡é…ç½®IPv6åœ°å€ del åˆ é™¤æŒ‡å®šç½‘å¡çš„IPv6åœ°å€ &lt;ç¡¬ä»¶åœ°å€&gt; é…ç½®ç½‘å¡æœ€å¤§çš„ä¼ è¾“å•å…ƒ mtu&lt;å­—èŠ‚æ•°&gt; è®¾ç½®ç½‘å¡çš„æœ€å¤§ä¼ è¾“å•å…ƒ (bytes) netmask&lt;å­ç½‘æ©ç &gt; è®¾ç½®ç½‘å¡çš„å­ç½‘æ©ç ã€‚æ©ç å¯ä»¥æ˜¯æœ‰å‰ç¼€0xçš„32ä½åå…­è¿›åˆ¶æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨ç‚¹åˆ†å¼€çš„4ä¸ªåè¿›åˆ¶æ•°ã€‚å¦‚æœä¸æ‰“ç®—å°†ç½‘ç»œåˆ†æˆå­ç½‘ï¼Œå¯ä»¥ä¸ç®¡è¿™ä¸€é€‰é¡¹ï¼›å¦‚æœè¦ä½¿ç”¨å­ç½‘ï¼Œé‚£ä¹ˆè¯·è®°ä½ï¼Œç½‘ç»œä¸­æ¯ä¸€ä¸ªç³»ç»Ÿå¿…é¡»æœ‰ç›¸åŒå­ç½‘æ©ç  tunel å»ºç«‹éš§é“ dstaddr è®¾å®šä¸€ä¸ªè¿œç«¯åœ°å€ï¼Œå»ºç«‹ç‚¹å¯¹ç‚¹é€šä¿¡ -broadcast&lt;åœ°å€&gt; ä¸ºæŒ‡å®šç½‘å¡è®¾ç½®å¹¿æ’­åè®® -pointtopoint&lt;åœ°å€&gt; ä¸ºç½‘å¡è®¾ç½®ç‚¹å¯¹ç‚¹é€šè®¯åè®® multicast ä¸ºç½‘å¡è®¾ç½®ç»„æ’­æ ‡å¿— address ä¸ºç½‘å¡è®¾ç½®IPv4åœ°å€ txqueuelen&lt;é•¿åº¦&gt; ä¸ºç½‘å¡è®¾ç½®ä¼ è¾“åˆ—é˜Ÿçš„é•¿åº¦ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºç½‘ç»œè®¾å¤‡ä¿¡æ¯ï¼ˆæ¿€æ´»çŠ¶æ€çš„ï¼‰ $ ifconfig è¯´æ˜ï¼š eth0 è¡¨ç¤ºç¬¬ä¸€å—ç½‘å¡ï¼Œ å…¶ä¸­ HWaddr è¡¨ç¤ºç½‘å¡çš„ç‰©ç†åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰è¿™ä¸ªç½‘å¡çš„ç‰©ç†åœ°å€(MACåœ°å€ï¼‰æ˜¯ 00:50:56:BF:26:20 inet addr ç”¨æ¥è¡¨ç¤ºç½‘å¡çš„IPåœ°å€ï¼Œæ­¤ç½‘å¡çš„ IPåœ°å€æ˜¯ 192.168.120.204ï¼Œå¹¿æ’­åœ°å€ï¼Œ Bcast:192.168.120.255ï¼Œæ©ç åœ°å€Mask:255.255.255.0 lo æ˜¯è¡¨ç¤ºä¸»æœºçš„å›ååœ°å€ï¼Œè¿™ä¸ªä¸€èˆ¬æ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸ªç½‘ç»œç¨‹åºï¼Œä½†åˆä¸æƒ³è®©å±€åŸŸç½‘æˆ–å¤–ç½‘çš„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹ï¼Œåªèƒ½åœ¨æ­¤å°ä¸»æœºä¸Šè¿è¡Œå’ŒæŸ¥çœ‹æ‰€ç”¨çš„ç½‘ç»œæ¥å£ã€‚æ¯”å¦‚æŠŠ HTTPDæœåŠ¡å™¨çš„æŒ‡å®šåˆ°å›ååœ°å€ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ 127.0.0.1 å°±èƒ½çœ‹åˆ°ä½ æ‰€æ¶WEBç½‘ç«™äº†ã€‚ä½†åªæ˜¯æ‚¨èƒ½çœ‹å¾—åˆ°ï¼Œå±€åŸŸç½‘çš„å…¶å®ƒä¸»æœºæˆ–ç”¨æˆ·æ— ä»çŸ¥é“ã€‚ ç¬¬ä¸€è¡Œï¼šè¿æ¥ç±»å‹ï¼šEthernetï¼ˆä»¥å¤ªç½‘ï¼‰HWaddrï¼ˆç¡¬ä»¶macåœ°å€ï¼‰ ç¬¬äºŒè¡Œï¼šç½‘å¡çš„IPåœ°å€ã€å­ç½‘ã€æ©ç  ç¬¬ä¸‰è¡Œï¼šUPï¼ˆä»£è¡¨ç½‘å¡å¼€å¯çŠ¶æ€ï¼‰RUNNINGï¼ˆä»£è¡¨ç½‘å¡çš„ç½‘çº¿è¢«æ¥ä¸Šï¼‰MULTICASTï¼ˆæ”¯æŒç»„æ’­ï¼‰MTU:1500ï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼‰ï¼š1500å­—èŠ‚ ç¬¬å››ã€äº”è¡Œï¼šæ¥æ”¶ã€å‘é€æ•°æ®åŒ…æƒ…å†µç»Ÿè®¡ ç¬¬ä¸ƒè¡Œï¼šæ¥æ”¶ã€å‘é€æ•°æ®å­—èŠ‚æ•°ç»Ÿè®¡ä¿¡æ¯ã€‚ ä¾‹äºŒï¼šå¯åŠ¨å…³é—­æŒ‡å®šç½‘å¡ # å¯åŠ¨eth0ç½‘å¡ $ ifconfig eth0 up # å…³é—­eth0ç½‘å¡ $ ifconfig eth0 down æ³¨æ„ï¼š sshç™»é™†linuxæœåŠ¡å™¨æ“ä½œè¦å°å¿ƒï¼Œå…³é—­äº†å°±ä¸èƒ½å¼€å¯äº†ï¼Œé™¤éä½ æœ‰å¤šç½‘å¡ã€‚ ä¾‹ä¸‰ï¼šä¸ºç½‘å¡é…ç½®å’Œåˆ é™¤IPv6åœ°å€ # é…ç½®IPv6çš„åœ°å€ $ ifconfig eth0 add 33ffe:3240:800:1005::2/64 # åˆ é™¤IPv6çš„åœ°å€ $ ifconfig eth0 del 33ffe:3240:800:1005::2/64 ä¾‹å››ï¼šç”¨ifconfigä¿®æ”¹MACåœ°å€ $ ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE ä¾‹äº”ï¼šé…ç½®IPåœ°å€ # é…ç½®ip $ ifconfig eth0 192.168.120.56 # é…ç½®ipå’Œæ©ç åœ°å€ $ ifconfig eth0 192.168.120.56 netmask 255.255.255.0 # é…ç½®ipã€æ©ç åœ°å€å’Œå¹¿æ’­åœ°å€ $ ifconfig eth0 192.168.120.56 netmask 255.255.255.0 broadcast 192.168.120.255 ä¾‹å…­ï¼šå¯ç”¨å’Œå…³é—­ARPåè®® # å¯ç”¨eth0çš„ARPåè®® $ ifconfig eth0 arp # å…³é—­eth0çš„ARPåè®® $ ifconfig eth0 -arp ä¾‹ä¸ƒï¼šè®¾ç½®æœ€å¤§ä¼ è¾“å•å…ƒ # è®¾ç½®èƒ½é€šè¿‡çš„æœ€å¤§æ•°æ®åŒ…å¤§å°ä¸º 1500 bytes $ ifconfig eth0 mtu 1500","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ36ï¼‰: lsof","slug":"linux-command-36-lsof","date":"2017-01-05T02:28:13.000Z","updated":"2024-07-05T11:10:22.776Z","comments":true,"path":"2017/01/05/linux-command-36-lsof/","permalink":"http://yelog.org/2017/01/05/linux-command-36-lsof/","excerpt":"lsofï¼ˆlist open filesï¼‰æ˜¯ä¸€ä¸ªåˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶çš„å·¥å…·ã€‚åœ¨linuxç¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿æ¥å’Œç¡¬ä»¶ã€‚æ‰€ä»¥å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æ¥å­—ç­‰ï¼Œç³»ç»Ÿåœ¨åå°éƒ½ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ— è®ºè¿™ä¸ªæ–‡ä»¶çš„æœ¬è´¨å¦‚ä½•ï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦ä¸ºåº”ç”¨ç¨‹åºä¸åŸºç¡€æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’æä¾›äº†é€šç”¨æ¥å£ã€‚å› ä¸ºåº”ç”¨ç¨‹åºæ‰“å¼€æ–‡ä»¶çš„æè¿°ç¬¦åˆ—è¡¨æä¾›äº†å¤§é‡å…³äºè¿™ä¸ªåº”ç”¨ç¨‹åºæœ¬èº«çš„ä¿¡æ¯ï¼Œå› æ­¤é€šè¿‡lsofå·¥å…·èƒ½å¤ŸæŸ¥çœ‹è¿™ä¸ªåˆ—è¡¨å¯¹ç³»ç»Ÿç›‘æµ‹ä»¥åŠæ’é”™å°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚","text":"lsofï¼ˆlist open filesï¼‰æ˜¯ä¸€ä¸ªåˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶çš„å·¥å…·ã€‚åœ¨linuxç¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿æ¥å’Œç¡¬ä»¶ã€‚æ‰€ä»¥å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æ¥å­—ç­‰ï¼Œç³»ç»Ÿåœ¨åå°éƒ½ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ— è®ºè¿™ä¸ªæ–‡ä»¶çš„æœ¬è´¨å¦‚ä½•ï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦ä¸ºåº”ç”¨ç¨‹åºä¸åŸºç¡€æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’æä¾›äº†é€šç”¨æ¥å£ã€‚å› ä¸ºåº”ç”¨ç¨‹åºæ‰“å¼€æ–‡ä»¶çš„æè¿°ç¬¦åˆ—è¡¨æä¾›äº†å¤§é‡å…³äºè¿™ä¸ªåº”ç”¨ç¨‹åºæœ¬èº«çš„ä¿¡æ¯ï¼Œå› æ­¤é€šè¿‡lsofå·¥å…·èƒ½å¤ŸæŸ¥çœ‹è¿™ä¸ªåˆ—è¡¨å¯¹ç³»ç»Ÿç›‘æµ‹ä»¥åŠæ’é”™å°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ å‘½ä»¤æ ¼å¼$ lsof [å‚æ•°][æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ ç”¨äºæŸ¥çœ‹ä½ è¿›ç¨‹å¼€æ‰“çš„æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶çš„è¿›ç¨‹ï¼Œè¿›ç¨‹æ‰“å¼€çš„ç«¯å£(TCPã€UDP)ã€‚æ‰¾å›&#x2F;æ¢å¤åˆ é™¤çš„æ–‡ä»¶ã€‚æ˜¯ååˆ†æ–¹ä¾¿çš„ç³»ç»Ÿç›‘è§†å·¥å…·ï¼Œå› ä¸º lsof éœ€è¦è®¿é—®æ ¸å¿ƒå†…å­˜å’Œå„ç§æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦rootç”¨æˆ·æ‰§è¡Œã€‚lsofæ‰“å¼€çš„æ–‡ä»¶å¯ä»¥æ˜¯ï¼š æ™®é€šæ–‡ä»¶ ç›®å½• ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ å­—ç¬¦æˆ–è®¾å¤‡æ–‡ä»¶ (å‡½æ•°)å…±äº«åº“ ç®¡é“ï¼Œå‘½åç®¡é“ ç¬¦å·é“¾æ¥ ç½‘ç»œæ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼šNFS fileã€ç½‘ç»œsocketï¼ŒunixåŸŸåsocketï¼‰ è¿˜æœ‰å…¶å®ƒç±»å‹çš„æ–‡ä»¶ï¼Œç­‰ç­‰ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -a åˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹ -c&lt;è¿›ç¨‹å&gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ -g åˆ—å‡ºGIDå·è¿›ç¨‹è¯¦æƒ… -d&lt;æ–‡ä»¶å·&gt; åˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹ +d&lt;ç›®å½•&gt; åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ +D&lt;ç›®å½•&gt; é€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ -n&lt;ç›®å½•&gt; åˆ—å‡ºä½¿ç”¨NFSçš„æ–‡ä»¶ -i&lt;æ¡ä»¶&gt; åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹ã€‚ï¼ˆ4ã€6ã€åè®®ã€:ç«¯å£ã€ @ip ï¼‰ -p&lt;è¿›ç¨‹å·&gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶ -u åˆ—å‡ºUIDå·è¿›ç¨‹è¯¦æƒ… -h æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ -v æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ— ä»»ä½•å‚æ•° $ lsof COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME init 1 root cwd DIR 8,2 4096 2 / init 1 root rtd DIR 8,2 4096 2 / init 1 root txt REG 8,2 43496 6121706 /sbin/init init 1 root mem REG 8,2 143600 7823908 /lib64/ld-2.5.so init 1 root mem REG 8,2 1722304 7823915 /lib64/libc-2.5.so init 1 root mem REG 8,2 23360 7823919 /lib64/libdl-2.5.so init 1 root mem REG 8,2 95464 7824116 /lib64/libselinux.so.1 init 1 root mem REG 8,2 247496 7823947 /lib64/libsepol.so.1 init 1 root 10u FIFO 0,17 1233 /dev/initctl migration 2 root cwd DIR 8,2 4096 2 / migration 2 root rtd DIR 8,2 4096 2 / migration 2 root txt unknown /proc/2/exe ksoftirqd 3 root cwd DIR 8,2 4096 2 / ksoftirqd 3 root rtd DIR 8,2 4096 2 / ksoftirqd 3 root txt unknown /proc/3/exe migration 4 root cwd DIR 8,2 4096 2 / migration 4 root rtd DIR 8,2 4096 2 / migration 4 root txt unknown /proc/4/exe ksoftirqd 5 root cwd DIR 8,2 4096 2 / ksoftirqd 5 root rtd DIR 8,2 4096 2 / ksoftirqd 5 root txt unknown /proc/5/exe events/0 6 root cwd DIR 8,2 4096 2 / events/0 6 root rtd DIR 8,2 4096 2 / events/0 6 root txt unknown /proc/6/exe events/1 7 root cwd DIR 8,2 4096 2 / è¯´æ˜ï¼šlsofè¾“å‡ºå„åˆ—ä¿¡æ¯çš„æ„ä¹‰å¦‚ä¸‹ï¼šCOMMANDï¼šè¿›ç¨‹çš„åç§°PIDï¼šè¿›ç¨‹æ ‡è¯†ç¬¦PPIDï¼šçˆ¶è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆéœ€è¦æŒ‡å®š-Rå‚æ•°ï¼‰USERï¼šè¿›ç¨‹æ‰€æœ‰è€…PGIDï¼šè¿›ç¨‹æ‰€å±ç»„FDï¼šæ–‡ä»¶æè¿°ç¬¦ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡æ–‡ä»¶æè¿°ç¬¦è¯†åˆ«è¯¥æ–‡ä»¶ã€‚å¦‚cwdã€txtç­‰ï¼ˆ1ï¼‰cwdï¼šè¡¨ç¤ºcurrent work dirctoryï¼Œå³ï¼šåº”ç”¨ç¨‹åºçš„å½“å‰å·¥ä½œç›®å½•ï¼Œè¿™æ˜¯è¯¥åº”ç”¨ç¨‹åºå¯åŠ¨çš„ç›®å½•ï¼Œé™¤éå®ƒæœ¬èº«å¯¹è¿™ä¸ªç›®å½•è¿›è¡Œæ›´æ”¹ï¼ˆ2ï¼‰txt ï¼šè¯¥ç±»å‹çš„æ–‡ä»¶æ˜¯ç¨‹åºä»£ç ï¼Œå¦‚åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«æˆ–å…±äº«åº“ï¼Œå¦‚ä¸Šåˆ—è¡¨ä¸­æ˜¾ç¤ºçš„ &#x2F;sbin&#x2F;init ç¨‹åºï¼ˆ3ï¼‰lnnï¼šlibrary references (AIX);ï¼ˆ4ï¼‰erï¼šFD information error (see NAME column);ï¼ˆ5ï¼‰jldï¼šjail directory (FreeBSD);ï¼ˆ6ï¼‰ltxï¼šshared library text (code and data);ï¼ˆ7ï¼‰mxx ï¼šhex memory-mapped type number xx.ï¼ˆ8ï¼‰m86ï¼šDOS Merge mapped file;ï¼ˆ9ï¼‰memï¼šmemory-mapped file;ï¼ˆ10ï¼‰mmapï¼šmemory-mapped device;ï¼ˆ11ï¼‰pdï¼šparent directory;ï¼ˆ12ï¼‰rtdï¼šroot directory;ï¼ˆ13ï¼‰trï¼škernel trace file (OpenBSD);ï¼ˆ14ï¼‰v86 VP&#x2F;ix mapped file;ï¼ˆ15ï¼‰0ï¼šè¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼ˆ16ï¼‰1ï¼šè¡¨ç¤ºæ ‡å‡†è¾“å…¥ï¼ˆ17ï¼‰2ï¼šè¡¨ç¤ºæ ‡å‡†é”™è¯¯ä¸€èˆ¬åœ¨æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ã€æ ‡å‡†è¾“å…¥åè¿˜è·Ÿç€æ–‡ä»¶çŠ¶æ€æ¨¡å¼ï¼šrã€wã€uç­‰ï¼ˆ1ï¼‰uï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶è¢«æ‰“å¼€å¹¶å¤„äºè¯»å–&#x2F;å†™å…¥æ¨¡å¼ï¼ˆ2ï¼‰rï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶è¢«æ‰“å¼€å¹¶å¤„äºåªè¯»æ¨¡å¼ï¼ˆ3ï¼‰wï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶è¢«æ‰“å¼€å¹¶å¤„äºï¼ˆ4ï¼‰ç©ºæ ¼ï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶çš„çŠ¶æ€æ¨¡å¼ä¸ºunknowï¼Œä¸”æ²¡æœ‰é”å®šï¼ˆ5ï¼‰-ï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶çš„çŠ¶æ€æ¨¡å¼ä¸ºunknowï¼Œä¸”è¢«é”å®šåŒæ—¶åœ¨æ–‡ä»¶çŠ¶æ€æ¨¡å¼åé¢ï¼Œè¿˜è·Ÿç€ç›¸å…³çš„é”ï¼ˆ1ï¼‰Nï¼šfor a Solaris NFS lock of unknown type;ï¼ˆ2ï¼‰rï¼šfor read lock on part of the file;ï¼ˆ3ï¼‰Rï¼šfor a read lock on the entire file;ï¼ˆ4ï¼‰wï¼šfor a write lock on part of the file;ï¼ˆæ–‡ä»¶çš„éƒ¨åˆ†å†™é”ï¼‰ï¼ˆ5ï¼‰Wï¼šfor a write lock on the entire file;ï¼ˆæ•´ä¸ªæ–‡ä»¶çš„å†™é”ï¼‰ï¼ˆ6ï¼‰uï¼šfor a read and write lock of any length;ï¼ˆ7ï¼‰Uï¼šfor a lock of unknown type;ï¼ˆ8ï¼‰xï¼šfor an SCO OpenServer Xenix lock on part of the file;ï¼ˆ9ï¼‰Xï¼šfor an SCO OpenServer Xenix lock on the entire file;ï¼ˆ10ï¼‰spaceï¼šif there is no lock.TYPEï¼šæ–‡ä»¶ç±»å‹ï¼Œå¦‚DIRã€REGç­‰ï¼Œå¸¸è§çš„æ–‡ä»¶ç±»å‹ï¼ˆ1ï¼‰DIRï¼šè¡¨ç¤ºç›®å½•ï¼ˆ2ï¼‰CHRï¼šè¡¨ç¤ºå­—ç¬¦ç±»å‹ï¼ˆ3ï¼‰BLKï¼šå—è®¾å¤‡ç±»å‹ï¼ˆ4ï¼‰UNIXï¼š UNIX åŸŸå¥—æ¥å­—ï¼ˆ5ï¼‰FIFOï¼šå…ˆè¿›å…ˆå‡º (FIFO) é˜Ÿåˆ—ï¼ˆ6ï¼‰IPv4ï¼šç½‘é™…åè®® (IP) å¥—æ¥å­—DEVICEï¼šæŒ‡å®šç£ç›˜çš„åç§°SIZEï¼šæ–‡ä»¶çš„å¤§å°NODEï¼šç´¢å¼•èŠ‚ç‚¹ï¼ˆæ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„æ ‡è¯†ï¼‰NAMEï¼šæ‰“å¼€æ–‡ä»¶çš„ç¡®åˆ‡åç§° ä¾‹äºŒï¼šæŸ¥çœ‹è°æ­£åœ¨ä½¿ç”¨æŸä¸ªæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶ç›¸å…³çš„è¿›ç¨‹ $ lsof /bin/bash COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME bash 24159 root txt REG 8,2 801528 5368780 /bin/bash bash 24909 root txt REG 8,2 801528 5368780 /bin/bash bash 24941 root txt REG 8,2 801528 5368780 /bin/bash ä¾‹ä¸‰ï¼šé€’å½’æŸ¥çœ‹æŸä¸ªç›®å½•çš„æ–‡ä»¶ä¿¡æ¯ $ lsof test/test3 COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME bash 24941 root cwd DIR 8,2 4096 2258872 test/test3 vi 24976 root cwd DIR 8,2 4096 2258872 test/test3 è¯´æ˜ï¼š ä½¿ç”¨äº†+Dï¼Œå¯¹åº”ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶éƒ½ä¼šè¢«åˆ—å‡º ä¾‹å››ï¼šä¸ä½¿ç”¨+Dé€‰é¡¹ï¼Œéå†æŸ¥çœ‹æŸä¸ªç›®å½•çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯çš„æ–¹æ³• $ lsof |grep &#39;test/test3&#39; ä¾‹äº”ï¼šåˆ—å‡ºæŸä¸ªç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ # -u é€‰é¡¹ï¼Œuå…¶å®æ˜¯userçš„ç¼©å†™ $ lsof -u username ä¾‹å…­ï¼šåˆ—å‡ºæŸä¸ªç¨‹åºè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -c mysql è¯´æ˜ï¼š-c é€‰é¡¹å°†ä¼šåˆ—å‡ºæ‰€æœ‰ä»¥mysqlè¿™ä¸ªè¿›ç¨‹å¼€å¤´çš„ç¨‹åºçš„æ–‡ä»¶ï¼Œå…¶å®ä½ ä¹Ÿå¯ä»¥å†™æˆ lsof | grep mysql, ä½†æ˜¯ç¬¬ä¸€ç§æ–¹æ³•æ˜æ˜¾æ¯”ç¬¬äºŒç§æ–¹æ³•è¦å°‘æ‰“å‡ ä¸ªå­—ç¬¦äº† ä¾‹ä¸ƒï¼šåˆ—å‡ºå¤šä¸ªè¿›ç¨‹å¤šä¸ªæ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -c mysql -c apache ä¾‹å…«ï¼šåˆ—å‡ºæŸä¸ªç”¨æˆ·ä»¥åŠæŸä¸ªè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -u test -c mysql ä¾‹ä¹ï¼šåˆ—å‡ºé™¤äº†æŸä¸ªç”¨æˆ·å¤–çš„è¢«æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ # ^è¿™ä¸ªç¬¦å·åœ¨ç”¨æˆ·åä¹‹å‰ï¼Œå°†ä¼šæŠŠæ˜¯rootç”¨æˆ·æ‰“å¼€çš„è¿›ç¨‹ä¸è®©æ˜¾ç¤º $ lsof -u ^root ä¾‹åï¼šé€šè¿‡æŸä¸ªè¿›ç¨‹å·æ˜¾ç¤ºè¯¥è¿›è¡Œæ‰“å¼€çš„æ–‡ä»¶ $ lsof -p 1 ä¾‹åä¸€ï¼šåˆ—å‡ºå¤šä¸ªè¿›ç¨‹å·å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -p 1,2,3 ä¾‹åäºŒï¼šåˆ—å‡ºé™¤äº†æŸä¸ªè¿›ç¨‹å·ï¼Œå…¶ä»–è¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -p ^1 ä¾‹åä¸‰ï¼šåˆ—å‡ºæ‰€æœ‰çš„ç½‘ç»œè¿æ¥ $ lsof -i ä¾‹åå››ï¼šåˆ—å‡ºæ‰€æœ‰tcp ç½‘ç»œè¿æ¥ä¿¡æ¯ $ lsof -i tcp ä¾‹åäº”ï¼šåˆ—å‡ºæ‰€æœ‰udpç½‘ç»œè¿æ¥ä¿¡æ¯ $ lsof -i udp ä¾‹åå…­ï¼šåˆ—å‡ºè°åœ¨ä½¿ç”¨æŸä¸ªç«¯å£ $ lsof -i :3306 ä¾‹åä¸ƒï¼šåˆ—å‡ºè°åœ¨ä½¿ç”¨æŸä¸ªç‰¹å®šçš„udp&#x2F;tcpç«¯å£ $ lsof -i udp:55 $ lsof -i tcp:80 ä¾‹åå…«ï¼šåˆ—å‡ºæŸä¸ªç”¨æˆ·çš„æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œç«¯å£ $ lsof -a -u test -i ä¾‹åä¹ï¼šåˆ—å‡ºæ‰€æœ‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ $ lsof -N ä¾‹äºŒåï¼šåŸŸåsocketæ–‡ä»¶ $ lsof -u ä¾‹äºŒåä¸€ï¼šæŸä¸ªç”¨æˆ·ç»„æ‰€æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -g 5555 ä¾‹äºŒåäºŒï¼šæ ¹æ®æ–‡ä»¶æè¿°åˆ—å‡ºå¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯ $ lsof -d description(like 2) ä¾‹å¦‚ï¼šlsof -d txt ä¾‹å¦‚ï¼šlsof -d 1 ä¾‹å¦‚ï¼šlsof -d 2 è¯´æ˜ï¼š0è¡¨ç¤ºæ ‡å‡†è¾“å…¥ï¼Œ1è¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼Œ2è¡¨ç¤ºæ ‡å‡†é”™è¯¯ï¼Œä»è€Œå¯çŸ¥ï¼šæ‰€ä»¥å¤§å¤šæ•°åº”ç”¨ç¨‹åºæ‰€æ‰“å¼€çš„æ–‡ä»¶çš„ FD éƒ½æ˜¯ä» 3 å¼€å§‹ ä¾‹äºŒåä¸‰ï¼šæ ¹æ®æ–‡ä»¶æè¿°èŒƒå›´åˆ—å‡ºæ–‡ä»¶ä¿¡æ¯ $ lsof -d 2-3 ä¾‹äºŒåå››ï¼šåˆ—å‡ºCOMMANDåˆ—ä¸­åŒ…å«å­—ç¬¦ä¸²â€ sshdâ€ï¼Œä¸”æ–‡ä»¶æç¬¦çš„ç±»å‹ä¸ºtxtçš„æ–‡ä»¶ä¿¡æ¯ $ lsof -c sshd -a -d txt ä¾‹äºŒåäº”ï¼šåˆ—å‡ºè¢«è¿›ç¨‹å·ä¸º1234çš„è¿›ç¨‹æ‰€æ‰“å¼€çš„æ‰€æœ‰IPV4 network files $ lsof -i 4 -a -p 1234 ä¾‹äºŒåå…­ï¼šåˆ—å‡ºç›®å‰è¿æ¥ä¸»æœºpeida.linuxä¸Šç«¯å£ä¸ºï¼š20ï¼Œ21ï¼Œ22ï¼Œ25ï¼Œ53ï¼Œ80ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ï¼Œä¸”æ¯éš”3ç§’ä¸æ–­çš„æ‰§è¡ŒlsofæŒ‡ä»¤ $ lsof -i @peida.linux:20,21,22,25,53,80 -r 3","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ35ï¼‰: iostat","slug":"linux-command-35-iostat","date":"2017-01-04T02:10:02.000Z","updated":"2024-07-05T11:10:22.983Z","comments":true,"path":"2017/01/04/linux-command-35-iostat/","permalink":"http://yelog.org/2017/01/04/linux-command-35-iostat/","excerpt":"Linuxç³»ç»Ÿä¸­çš„ iostatæ˜¯I&#x2F;O statisticsï¼ˆè¾“å…¥&#x2F;è¾“å‡ºç»Ÿè®¡ï¼‰çš„ç¼©å†™ï¼Œiostatå·¥å…·å°†å¯¹ç³»ç»Ÿçš„ç£ç›˜æ“ä½œæ´»åŠ¨è¿›è¡Œç›‘è§†ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯æ±‡æŠ¥ç£ç›˜æ´»åŠ¨ç»Ÿè®¡æƒ…å†µï¼ŒåŒæ—¶ä¹Ÿä¼šæ±‡æŠ¥å‡ºCPUä½¿ç”¨æƒ…å†µã€‚åŒvmstatä¸€æ ·ï¼Œiostatä¹Ÿæœ‰ä¸€ä¸ªå¼±ç‚¹ï¼Œå°±æ˜¯å®ƒä¸èƒ½å¯¹æŸä¸ªè¿›ç¨‹è¿›è¡Œæ·±å…¥åˆ†æï¼Œä»…å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œåˆ†æã€‚iostatå±äºsysstatè½¯ä»¶åŒ…ã€‚å¯ä»¥ç”¨yum install sysstat ç›´æ¥å®‰è£…ã€‚","text":"Linuxç³»ç»Ÿä¸­çš„ iostatæ˜¯I&#x2F;O statisticsï¼ˆè¾“å…¥&#x2F;è¾“å‡ºç»Ÿè®¡ï¼‰çš„ç¼©å†™ï¼Œiostatå·¥å…·å°†å¯¹ç³»ç»Ÿçš„ç£ç›˜æ“ä½œæ´»åŠ¨è¿›è¡Œç›‘è§†ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯æ±‡æŠ¥ç£ç›˜æ´»åŠ¨ç»Ÿè®¡æƒ…å†µï¼ŒåŒæ—¶ä¹Ÿä¼šæ±‡æŠ¥å‡ºCPUä½¿ç”¨æƒ…å†µã€‚åŒvmstatä¸€æ ·ï¼Œiostatä¹Ÿæœ‰ä¸€ä¸ªå¼±ç‚¹ï¼Œå°±æ˜¯å®ƒä¸èƒ½å¯¹æŸä¸ªè¿›ç¨‹è¿›è¡Œæ·±å…¥åˆ†æï¼Œä»…å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œåˆ†æã€‚iostatå±äºsysstatè½¯ä»¶åŒ…ã€‚å¯ä»¥ç”¨yum install sysstat ç›´æ¥å®‰è£…ã€‚ å‘½ä»¤æ ¼å¼$ iostat [å‚æ•°][æ—¶é—´][æ¬¡æ•°] å‘½ä»¤åŠŸèƒ½ é€šè¿‡iostatæ–¹ä¾¿æŸ¥çœ‹CPUã€ç½‘å¡ã€ttyè®¾å¤‡ã€ç£ç›˜ã€CD-ROM ç­‰ç­‰è®¾å¤‡çš„æ´»åŠ¨æƒ…å†µ, è´Ÿè½½ä¿¡æ¯ã€‚ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -C æ˜¾ç¤ºCPUä½¿ç”¨æƒ…å†µ -d æ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ -k ä»¥ KB ä¸ºå•ä½æ˜¾ç¤º -m ä»¥ M ä¸ºå•ä½æ˜¾ç¤º -N æ˜¾ç¤ºç£ç›˜é˜µåˆ—(LVM) ä¿¡æ¯ -n æ˜¾ç¤º NFS ä½¿ç”¨æƒ…å†µ -p[ç£ç›˜] æ˜¾ç¤ºç£ç›˜å’Œåˆ†åŒºçš„æƒ…å†µ -t æ˜¾ç¤ºç»ˆç«¯å’ŒCPUçš„ä¿¡æ¯ -x æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡è´Ÿè½½æƒ…å†µ $ iostat Linux 3.10.0-327.el7.x86_64 (s88) 2017å¹´01æœˆ22æ—¥ _x86_64_ (24 CPU) avg-cpu: %user %nice %system %iowait %steal %idle 0.62 0.00 0.20 1.46 0.00 97.72 Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn sda 64.59 1726.21 255.56 3159941 467823 dm-0 3.55 141.11 4.46 258319 8162 dm-1 0.10 0.83 0.00 1520 0 dm-2 0.10 2.78 1.14 5080 2082 dm-3 60.44 1565.98 248.84 2866640 455511 dm-4 27.54 463.29 105.38 848088 192897 dm-5 1.25 25.57 17.57 46804 32170 dm-6 0.64 12.86 2.07 23535 3786 dm-7 4.14 80.43 36.60 147240 67004 dm-8 1.13 20.52 2.42 37566 4428 dm-9 1.13 21.18 2.40 38766 4396 dm-10 1.15 21.35 2.41 39082 4412 dm-11 0.70 14.40 2.21 26355 4043 dm-12 1.42 22.42 6.85 41035 12541 dm-13 0.46 12.17 1.25 22275 2289 dm-14 1.15 20.47 2.42 37470 4432 dm-15 8.28 101.07 16.51 185018 30220 dm-16 1.10 20.02 2.45 36646 4488 dm-17 1.81 29.08 4.15 53232 7591 dm-18 0.68 18.40 1.43 33689 2611 dm-19 2.33 43.89 4.63 80340 8483 è¯´æ˜ï¼šcpuå±æ€§å€¼è¯´æ˜ï¼š%userï¼šCPUå¤„åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚%niceï¼šCPUå¤„åœ¨å¸¦NICEå€¼çš„ç”¨æˆ·æ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚%systemï¼šCPUå¤„åœ¨ç³»ç»Ÿæ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚%iowaitï¼šCPUç­‰å¾…è¾“å…¥è¾“å‡ºå®Œæˆæ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚%stealï¼šç®¡ç†ç¨‹åºç»´æŠ¤å¦ä¸€ä¸ªè™šæ‹Ÿå¤„ç†å™¨æ—¶ï¼Œè™šæ‹ŸCPUçš„æ— æ„è¯†ç­‰å¾…æ—¶é—´ç™¾åˆ†æ¯”ã€‚%idleï¼šCPUç©ºé—²æ—¶é—´ç™¾åˆ†æ¯”ã€‚å¤‡æ³¨ï¼šå¦‚æœ%iowaitçš„å€¼è¿‡é«˜ï¼Œè¡¨ç¤ºç¡¬ç›˜å­˜åœ¨I&#x2F;Oç“¶é¢ˆï¼Œ%idleå€¼é«˜ï¼Œè¡¨ç¤ºCPUè¾ƒç©ºé—²ï¼Œå¦‚æœ%idleå€¼é«˜ä½†ç³»ç»Ÿå“åº”æ…¢æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯CPUç­‰å¾…åˆ†é…å†…å­˜ï¼Œæ­¤æ—¶åº”åŠ å¤§å†…å­˜å®¹é‡ã€‚%idleå€¼å¦‚æœæŒç»­ä½äº10ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„CPUå¤„ç†èƒ½åŠ›ç›¸å¯¹è¾ƒä½ï¼Œè¡¨æ˜ç³»ç»Ÿä¸­æœ€éœ€è¦è§£å†³çš„èµ„æºæ˜¯CPUã€‚diskå±æ€§å€¼è¯´æ˜ï¼šrrqm&#x2F;s: æ¯ç§’è¿›è¡Œ merge çš„è¯»æ“ä½œæ•°ç›®ã€‚å³ rmerge&#x2F;swrqm&#x2F;s: æ¯ç§’è¿›è¡Œ merge çš„å†™æ“ä½œæ•°ç›®ã€‚å³ wmerge&#x2F;sr&#x2F;s: æ¯ç§’å®Œæˆçš„è¯» I&#x2F;O è®¾å¤‡æ¬¡æ•°ã€‚å³ rio&#x2F;sw&#x2F;s: æ¯ç§’å®Œæˆçš„å†™ I&#x2F;O è®¾å¤‡æ¬¡æ•°ã€‚å³ wio&#x2F;srsec&#x2F;s: æ¯ç§’è¯»æ‰‡åŒºæ•°ã€‚å³ rsect&#x2F;swsec&#x2F;s: æ¯ç§’å†™æ‰‡åŒºæ•°ã€‚å³ wsect&#x2F;srkB&#x2F;s: æ¯ç§’è¯»Kå­—èŠ‚æ•°ã€‚æ˜¯ rsect&#x2F;s çš„ä¸€åŠï¼Œå› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚ã€‚wkB&#x2F;s: æ¯ç§’å†™Kå­—èŠ‚æ•°ã€‚æ˜¯ wsect&#x2F;s çš„ä¸€åŠã€‚avgrq-sz: å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº)ã€‚avgqu-sz: å¹³å‡I&#x2F;Oé˜Ÿåˆ—é•¿åº¦ã€‚await: å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’)ã€‚svctm: å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’)ã€‚%util: ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I&#x2F;O æ“ä½œï¼Œå³è¢«ioæ¶ˆè€—çš„cpuç™¾åˆ†æ¯”å¤‡æ³¨ï¼šå¦‚æœ %util æ¥è¿‘ 100%ï¼Œè¯´æ˜äº§ç”Ÿçš„I&#x2F;Oè¯·æ±‚å¤ªå¤šï¼ŒI&#x2F;Oç³»ç»Ÿå·²ç»æ»¡è´Ÿè·ï¼Œè¯¥ç£ç›˜å¯èƒ½å­˜åœ¨ç“¶é¢ˆã€‚å¦‚æœ svctm æ¯”è¾ƒæ¥è¿‘ awaitï¼Œè¯´æ˜ I&#x2F;O å‡ ä¹æ²¡æœ‰ç­‰å¾…æ—¶é—´ï¼›å¦‚æœ await è¿œå¤§äº svctmï¼Œè¯´æ˜I&#x2F;O é˜Ÿåˆ—å¤ªé•¿ï¼Œioå“åº”å¤ªæ…¢ï¼Œåˆ™éœ€è¦è¿›è¡Œå¿…è¦ä¼˜åŒ–ã€‚å¦‚æœavgqu-szæ¯”è¾ƒå¤§ï¼Œä¹Ÿè¡¨ç¤ºæœ‰å½“é‡ioåœ¨ç­‰å¾…ã€‚ ä¾‹äºŒï¼šå®šæ—¶æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ # æ¯éš” 2ç§’åˆ·æ–°æ˜¾ç¤ºï¼Œä¸”æ˜¾ç¤º3æ¬¡ $ iostat 2 3 ä¾‹ä¸‰ï¼šæ˜¾ç¤ºæŒ‡å®šç£ç›˜ä¿¡æ¯ $ iostat -d sda1 ä¾‹å››ï¼šæ˜¾ç¤ºttyå’ŒCpuä¿¡æ¯ $ iostat -t ä¾‹äº”ï¼šä»¥Mä¸ºå•ä½æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ $ iostat -m ä¾‹å…­ï¼šæŸ¥çœ‹TPSå’Œååé‡ä¿¡æ¯ $ iostat -d -k 1 1 è¯´æ˜ï¼štpsï¼šè¯¥è®¾å¤‡æ¯ç§’çš„ä¼ è¾“æ¬¡æ•°ï¼ˆIndicate the number of transfers per second that were issued to the device.ï¼‰ã€‚â€œä¸€æ¬¡ä¼ è¾“â€æ„æ€æ˜¯â€œä¸€æ¬¡I&#x2F;Oè¯·æ±‚â€ã€‚å¤šä¸ªé€»è¾‘è¯·æ±‚å¯èƒ½ä¼šè¢«åˆå¹¶ä¸ºâ€œä¸€æ¬¡I&#x2F;Oè¯·æ±‚â€ã€‚â€œä¸€æ¬¡ä¼ è¾“â€è¯·æ±‚çš„å¤§å°æ˜¯æœªçŸ¥çš„ã€‚kB_read&#x2F;sï¼šæ¯ç§’ä»è®¾å¤‡ï¼ˆdrive expressedï¼‰è¯»å–çš„æ•°æ®é‡ï¼›kB_wrtn&#x2F;sï¼šæ¯ç§’å‘è®¾å¤‡ï¼ˆdrive expressedï¼‰å†™å…¥çš„æ•°æ®é‡ï¼›kB_readï¼šè¯»å–çš„æ€»æ•°æ®é‡ï¼›kB_wrtnï¼šå†™å…¥çš„æ€»æ•°é‡æ•°æ®é‡ï¼›è¿™äº›å•ä½éƒ½ä¸ºKilobytesã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç£ç›˜sdaä»¥åŠå®ƒçš„å„ä¸ªåˆ†åŒºçš„ç»Ÿè®¡æ•°æ®ï¼Œå½“æ—¶ç»Ÿè®¡çš„ç£ç›˜æ€»TPSæ˜¯22.73ï¼Œä¸‹é¢æ˜¯å„ä¸ªåˆ†åŒºçš„TPSã€‚ï¼ˆå› ä¸ºæ˜¯ç¬é—´å€¼ï¼Œæ‰€ä»¥æ€»TPSå¹¶ä¸ä¸¥æ ¼ç­‰äºå„ä¸ªåˆ†åŒºTPSçš„æ€»å’Œï¼‰ ä¾‹ä¸ƒï¼šæŸ¥çœ‹è®¾å¤‡ä½¿ç”¨ç‡ï¼ˆ%utilï¼‰ã€å“åº”æ—¶é—´ï¼ˆawaitï¼‰ $ iostat -d -x -k 1 1 è¯´æ˜ï¼šrrqm&#x2F;sï¼š æ¯ç§’è¿›è¡Œ merge çš„è¯»æ“ä½œæ•°ç›®.å³ delta(rmerge)&#x2F;swrqm&#x2F;sï¼š æ¯ç§’è¿›è¡Œ merge çš„å†™æ“ä½œæ•°ç›®.å³ delta(wmerge)&#x2F;sr&#x2F;sï¼š æ¯ç§’å®Œæˆçš„è¯» I&#x2F;O è®¾å¤‡æ¬¡æ•°.å³ delta(rio)&#x2F;sw&#x2F;sï¼š æ¯ç§’å®Œæˆçš„å†™ I&#x2F;O è®¾å¤‡æ¬¡æ•°.å³ delta(wio)&#x2F;srsec&#x2F;sï¼š æ¯ç§’è¯»æ‰‡åŒºæ•°.å³ delta(rsect)&#x2F;swsec&#x2F;sï¼š æ¯ç§’å†™æ‰‡åŒºæ•°.å³ delta(wsect)&#x2F;srkB&#x2F;sï¼š æ¯ç§’è¯»Kå­—èŠ‚æ•°.æ˜¯ rsect&#x2F;s çš„ä¸€åŠ,å› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚.(éœ€è¦è®¡ç®—)wkB&#x2F;sï¼š æ¯ç§’å†™Kå­—èŠ‚æ•°.æ˜¯ wsect&#x2F;s çš„ä¸€åŠ.(éœ€è¦è®¡ç®—)avgrq-szï¼šå¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº).delta(rsect+wsect)&#x2F;delta(rio+wio)avgqu-szï¼šå¹³å‡I&#x2F;Oé˜Ÿåˆ—é•¿åº¦.å³ delta(aveq)&#x2F;s&#x2F;1000 (å› ä¸ºaveqçš„å•ä½ä¸ºæ¯«ç§’).awaitï¼š å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’).å³ delta(ruse+wuse)&#x2F;delta(rio+wio)svctmï¼š å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’).å³ delta(use)&#x2F;delta(rio+wio)%utilï¼š ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I&#x2F;O æ“ä½œ,æˆ–è€…è¯´ä¸€ç§’ä¸­æœ‰å¤šå°‘æ—¶é—´ I&#x2F;O é˜Ÿåˆ—æ˜¯éç©ºçš„ï¼Œå³ delta(use)&#x2F;s&#x2F;1000 (å› ä¸ºuseçš„å•ä½ä¸ºæ¯«ç§’) å¦‚æœ %util æ¥è¿‘ 100%ï¼Œè¯´æ˜äº§ç”Ÿçš„I&#x2F;Oè¯·æ±‚å¤ªå¤šï¼ŒI&#x2F;Oç³»ç»Ÿå·²ç»æ»¡è´Ÿè·ï¼Œè¯¥ç£ç›˜å¯èƒ½å­˜åœ¨ç“¶é¢ˆã€‚ idleå°äº70% IOå‹åŠ›å°±è¾ƒå¤§äº†ï¼Œä¸€èˆ¬è¯»å–é€Ÿåº¦æœ‰è¾ƒå¤šçš„waitã€‚åŒæ—¶å¯ä»¥ç»“åˆvmstat æŸ¥çœ‹æŸ¥çœ‹bå‚æ•°(ç­‰å¾…èµ„æºçš„è¿›ç¨‹æ•°)å’Œwaå‚æ•°(IOç­‰å¾…æ‰€å ç”¨çš„CPUæ—¶é—´çš„ç™¾åˆ†æ¯”ï¼Œé«˜è¿‡30%æ—¶IOå‹åŠ›é«˜)ã€‚ å¦å¤– await çš„å‚æ•°ä¹Ÿè¦å¤šå’Œ svctm æ¥å‚è€ƒã€‚å·®çš„è¿‡é«˜å°±ä¸€å®šæœ‰ IO çš„é—®é¢˜ã€‚ avgqu-sz ä¹Ÿæ˜¯ä¸ªåš IO è°ƒä¼˜æ—¶éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œè¿™ä¸ªå°±æ˜¯ç›´æ¥æ¯æ¬¡æ“ä½œçš„æ•°æ®çš„å¤§å°ï¼Œå¦‚æœæ¬¡æ•°å¤šï¼Œä½†æ•°æ®æ‹¿çš„å°çš„è¯ï¼Œå…¶å® IO ä¹Ÿä¼šå¾ˆå°ã€‚å¦‚æœæ•°æ®æ‹¿çš„å¤§ï¼Œæ‰IO çš„æ•°æ®ä¼šé«˜ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ avgqu-sz Ã— ( r&#x2F;s or w&#x2F;s ) &#x3D; rsec&#x2F;s or wsec&#x2F;sã€‚ä¹Ÿå°±æ˜¯è®²ï¼Œè¯»å®šé€Ÿåº¦æ˜¯è¿™ä¸ªæ¥å†³å®šçš„ã€‚ svctm ä¸€èˆ¬è¦å°äº await (å› ä¸ºåŒæ—¶ç­‰å¾…çš„è¯·æ±‚çš„ç­‰å¾…æ—¶é—´è¢«é‡å¤è®¡ç®—äº†)ï¼Œsvctm çš„å¤§å°ä¸€èˆ¬å’Œç£ç›˜æ€§èƒ½æœ‰å…³ï¼ŒCPU&#x2F;å†…å­˜çš„è´Ÿè·ä¹Ÿä¼šå¯¹å…¶æœ‰å½±å“ï¼Œè¯·æ±‚è¿‡å¤šä¹Ÿä¼šé—´æ¥å¯¼è‡´ svctm çš„å¢åŠ ã€‚await çš„å¤§å°ä¸€èˆ¬å–å†³äºæœåŠ¡æ—¶é—´(svctm) ä»¥åŠ I&#x2F;O é˜Ÿåˆ—çš„é•¿åº¦å’Œ I&#x2F;O è¯·æ±‚çš„å‘å‡ºæ¨¡å¼ã€‚å¦‚æœ svctm æ¯”è¾ƒæ¥è¿‘ awaitï¼Œè¯´æ˜ I&#x2F;O å‡ ä¹æ²¡æœ‰ç­‰å¾…æ—¶é—´ï¼›å¦‚æœ await è¿œå¤§äº svctmï¼Œè¯´æ˜ I&#x2F;O é˜Ÿåˆ—å¤ªé•¿ï¼Œåº”ç”¨å¾—åˆ°çš„å“åº”æ—¶é—´å˜æ…¢ï¼Œå¦‚æœå“åº”æ—¶é—´è¶…è¿‡äº†ç”¨æˆ·å¯ä»¥å®¹è®¸çš„èŒƒå›´ï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘æ›´æ¢æ›´å¿«çš„ç£ç›˜ï¼Œè°ƒæ•´å†…æ ¸ elevator ç®—æ³•ï¼Œä¼˜åŒ–åº”ç”¨ï¼Œæˆ–è€…å‡çº§ CPUã€‚ é˜Ÿåˆ—é•¿åº¦(avgqu-sz)ä¹Ÿå¯ä½œä¸ºè¡¡é‡ç³»ç»Ÿ I&#x2F;O è´Ÿè·çš„æŒ‡æ ‡ï¼Œä½†ç”±äº avgqu-sz æ˜¯æŒ‰ç…§å•ä½æ—¶é—´çš„å¹³å‡å€¼ï¼Œæ‰€ä»¥ä¸èƒ½åæ˜ ç¬é—´çš„ I&#x2F;O æ´ªæ°´ã€‚å½¢è±¡çš„æ¯”å–»ï¼šr&#x2F;s+w&#x2F;s ç±»ä¼¼äºäº¤æ¬¾äººçš„æ€»æ•°å¹³å‡é˜Ÿåˆ—é•¿åº¦(avgqu-sz)ç±»ä¼¼äºå•ä½æ—¶é—´é‡Œå¹³å‡æ’é˜Ÿäººçš„ä¸ªæ•°å¹³å‡æœåŠ¡æ—¶é—´(svctm)ç±»ä¼¼äºæ”¶é“¶å‘˜çš„æ”¶æ¬¾é€Ÿåº¦å¹³å‡ç­‰å¾…æ—¶é—´(await)ç±»ä¼¼äºå¹³å‡æ¯äººçš„ç­‰å¾…æ—¶é—´å¹³å‡I&#x2F;Oæ•°æ®(avgrq-sz)ç±»ä¼¼äºå¹³å‡æ¯äººæ‰€ä¹°çš„ä¸œè¥¿å¤šå°‘I&#x2F;O æ“ä½œç‡ (%util)ç±»ä¼¼äºæ”¶æ¬¾å°å‰æœ‰äººæ’é˜Ÿçš„æ—¶é—´æ¯”ä¾‹ è®¾å¤‡IOæ“ä½œ:æ€»IO(io)&#x2F;s &#x3D; r&#x2F;s(è¯») +w&#x2F;s(å†™) &#x3D;1.46 + 25.28&#x3D;26.74 å¹³å‡æ¯æ¬¡è®¾å¤‡I&#x2F;Oæ“ä½œåªéœ€è¦0.36æ¯«ç§’å®Œæˆ,ç°åœ¨å´éœ€è¦10.57æ¯«ç§’å®Œæˆï¼Œå› ä¸ºå‘å‡ºçš„ è¯·æ±‚å¤ªå¤š(æ¯ç§’26.74ä¸ª)ï¼Œå‡å¦‚è¯·æ±‚æ—¶åŒæ—¶å‘å‡ºçš„ï¼Œå¯ä»¥è¿™æ ·è®¡ç®—å¹³å‡ç­‰å¾…æ—¶é—´: å¹³å‡ç­‰å¾…æ—¶é—´&#x3D;å•ä¸ªI&#x2F;OæœåŠ¡å™¨æ—¶é—´*(1+2+â€¦+è¯·æ±‚æ€»æ•°-1)&#x2F;è¯·æ±‚æ€»æ•° æ¯ç§’å‘å‡ºçš„I&#x2F;0è¯·æ±‚å¾ˆå¤š,ä½†æ˜¯å¹³å‡é˜Ÿåˆ—å°±4,è¡¨ç¤ºè¿™äº›è¯·æ±‚æ¯”è¾ƒå‡åŒ€,å¤§éƒ¨åˆ†å¤„ç†è¿˜æ˜¯æ¯”è¾ƒåŠæ—¶ã€‚ ä¾‹å…«ï¼šæŸ¥çœ‹cpuçŠ¶æ€ $ iostat -c 1 3","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"äººç”Ÿè‹¥åªå¦‚åˆè§-ã€Šå›´åŸã€‹","slug":"Fortress-Besieged","date":"2017-01-03T03:27:04.000Z","updated":"2024-07-05T11:10:21.875Z","comments":true,"path":"2017/01/03/Fortress-Besieged/","permalink":"http://yelog.org/2017/01/03/Fortress-Besieged/","excerpt":"å©šå§»æ˜¯è¢«å›´å›°çš„åŸå ¡ï¼ŒåŸå¤–çš„äººæƒ³å†²è¿›å»ï¼ŒåŸé‡Œçš„äººæƒ³é€ƒå‡ºæ¥ â€“æ³•å›½è°šè¯­","text":"å©šå§»æ˜¯è¢«å›´å›°çš„åŸå ¡ï¼ŒåŸå¤–çš„äººæƒ³å†²è¿›å»ï¼ŒåŸé‡Œçš„äººæƒ³é€ƒå‡ºæ¥ â€“æ³•å›½è°šè¯­ æ–¹é¸¿æ¸å¯¹äºé²å°å§ï¼Œä¸å ªæŠµæŠ—ï¼›å¯¹äºè‹å°å§çš„å‚é’ï¼Œå·²å†çº ç¼ ä¸æ¸…ï¼ˆå¯¼è‡´æ–¹å”æ„Ÿæƒ…ç ´è£‚çš„å¯¼ç«ç´¢ï¼‰ï¼›æœ€åä¸å­™æŸ”å˜‰çš„å©šå§»ï¼Œå› å±äºç°å®çš„æ— å¥ˆå§ï¼›è‡³äºå”æ™“èŠ™ï¼Œæ–¹å¯¹å¥¹åº”è¯¥æœ‰ç€æœ€çº¯ç²¹çš„çˆ±æ„ã€‚ æ•´éƒ¨å°è¯´ç»™æˆ‘ç•™ä¸‹æ·±åˆ»å°è±¡çš„å°±æ˜¯å”å°å§ï¼Œå¥¹åœ¨æ•´éƒ¨å°è¯´çš„å æ¯”æ˜¯éå¸¸å°‘çš„ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œå”å°å§æ˜¯æ‘©ç™»æ–‡æ˜ç¤¾ä¼šé‡Œçš„é‚£æ¡©ç½•ç‰©â€•â€•ä¸€ä¸ªçœŸæ­£çš„å¥³å­©å­ã€‚æœ‰è®¸å¤šéƒ½å¸‚å¥³å­©å­å·²ç»æ˜¯è£…æ¨¡ä½œæ ·çš„æ—©ç†Ÿçš„å¥³äººï¼Œç®—ä¸å¾—å­©å­ï¼›æœ‰è®¸å¤šå¥³å­©å­åªæ˜¯æµ‘æ²Œç—´é¡½çš„æ— æ€§åˆ«çš„å­©å­ï¼Œè¿˜è¯´ä¸ä¸Šå¥³äººã€‚ å”æ™“èŠ™çš„èªæ˜æ¼‚äº®ã€æ´»æ³¼å¯çˆ±ï¼Œä»¤æ–¹é¸¿æ¸ä¸€è§å€¾å¿ƒã€‚ å½“åˆï¼Œæ˜¯è‹å°å§çš„å¹²é¢„ï¼Œæ¿€èµ·äº†å”æ™“èŠ™çš„é€†åå¿ƒç†ï¼Œä¸è®©æ¥è¿‘æˆ‘åæ¥è¿‘ï¼Œä¹¦ä¿¡å¾€æ¥ï¼Œè§é¢è°ˆè¯ï¼Œæ—¶é—´æ¨ç§»ï¼Œä¿©äººéƒ½æŠ•å…¥äº†çœŸæ­£çš„æ„Ÿæƒ…ã€‚ ä½œä¸ºè‹çš„å§å¦¹ï¼Œå”æ™“èŠ™éª¨å­é‡Œä¹Ÿæœ‰è·Ÿè‹å°å§çš„é«˜å‚²ã€‚ æ–¹å…ˆç”Ÿçš„è¿‡å»å¤ªä¸°å¯Œäº†ï¼æˆ‘çˆ±çš„äººï¼Œæˆ‘è¦èƒ½å¤Ÿå é¢†ä»–æ•´ä¸ªç”Ÿå‘½ï¼Œä»–åœ¨ç¢°è§æˆ‘ä»¥å‰ï¼Œæ²¡æœ‰è¿‡å»ï¼Œç•™ç€ç©ºç™½ç­‰å¾…æˆ‘â€”â€” æ–¹ä¸‹å®šå†³å¿ƒå†™ä¿¡ç»™è‹æ’‡æ¸…ä¸¤äººå…³ç³»ï¼Œè‹çš„ç‹­éš˜çš„å¿ƒç†ä»ä¸­æŒ‘æ‹¨å¯¼è‡´æ–¹ä¸å”ä¹‹é—´çš„ç ´è£‚ ä»–è±¡ä¸€ä¸ªå—äº†è´£éª‚çš„å­©å­é‚£æ ·ï¼Œæ³ªæ°´åœ¨çœ¼ç›é‡Œæ‰“è½¬ï¼Œå´ä¸€å¥è¯ä¹Ÿè¯´ä¸å‡ºå£ã€‚ æ‰€ä»¥å½“å”å¾—çŸ¥æ–¹çš„ä¸€äº›åˆ—æ–‘æ–‘åŠ£è¿¹åï¼Œæ„ˆå¿ƒç—›æ„ˆå¿ƒæ¨ï¼Œæœ€åä¸€æ¬¡è§æ–¹ï¼Œè¿ç ç‚®çš„å‘é—®ï¼Œåˆæ¨æ–¹é¸¿æ¸ä¸ºä»€ä¹ˆä¸è¾©æŠ¤ï¼Œå¥¹çš„å¿ƒæº¶æˆäº†è‹¦æ°´ã€‚è€Œæ–¹é¸¿æ¸çš„æ‚²å‰§åœ¨äºï¼Œä»–å†æ¬¡æ‡¦å¼±ï¼Œè¯¥è¾©è§£æ—¶ä¸è¾©è§£ï¼Œè¯¥åœ¨å±‹å¤–å¤šæ·‹é›¨æ—¶è€Œè¿‡æ—©èµ°å¼€ï¼Œæ¥åˆ°ç”µè¯åï¼Œä¸é—®æ¥äººå°±å¤§å£°å‘µæ–¥ï¼Œä¿©äººéƒ½æ˜¯å¥½é¢å­çš„äººï¼Œçœ‹ä¸åˆ°ä¿©äººä¸ºè¿™æ®µæ„Ÿæƒ…è€Œå»é‡‡å–ä»»ä½•è¡¥æ•‘æªæ–½ï¼Œè€Œæ˜¯å„è‡ªæ¾å¼€äº†æ‰‹ã€‚ä¸¤äººå¹´è½»ï¼Œéƒ½ä¸çŸ¥é€€è®©ï¼Œä»»å½¼æ­¤å¤±ä¹‹äº¤è‡‚ã€‚ ä»æ­¤ç›´åˆ°æœ€åï¼Œå”ä¹Ÿæ²¡æœ‰å†æ¬¡å‡ºç°ã€‚ ä½†å”ç»™æˆ‘ä»¬çš„ç•™ä¸‹äº†ä¸€ä¸ªè¿‘ä¹å®Œç¾çš„å½¢è±¡ï¼Œæ­£æ˜¯å› ä¸ºå¥¹æ²¡æœ‰å’Œæ–¹èµ°åœ¨ä¸€èµ·ï¼Œæ²¡æœ‰çœŸå®ä¸–ä¿—çš„ä¸€é¢ï¼Œæ‰èƒ½ç•™ä¸‹é‚£ç§åªå¦‚åˆè§çš„æ¨¡æ ·ã€‚ ç”Ÿæ´»äº¦æ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬å¿ƒç›®ä¸­çš„â€œå¥³ç¥â€ã€â€œç”·ç¥â€ï¼Œå®Œç¾æ— ç¼ºçš„äººï¼Œæ˜¯é‚£äº›æˆ‘ä»¬æ›¾ç»è¿½æ±‚ä¸å¾—çš„äººã€‚æƒ³æƒ³è‹¥æ˜¯å¾—ä¹‹ï¼Œç»è¿‡ä¸–ä¿—çš„ä¸€é¢ï¼Œtaçš„å®Œç¾çš„å½¢è±¡ï¼Œè¿˜ä¼šåœ¨ä½ çš„å¿ƒä¸­ç«™çš„ç¨³å—ã€‚ å”æ™“èŠ™è¿™ä¸ªè§’è‰²æ˜¯é’±è€é’Ÿçˆ±çš„è§’è‰²ï¼Œæ˜¯é’±è€å¿ƒä¸­å®Œç¾çš„å¥³æ€§å½¢è±¡ï¼Œç®€å•è¯´å°±æ˜¯å¥³ç¥ï¼æ˜¯å›´åŸé‡Œä»»ä½•ç”·äººéƒ½é…ä¸ä¸Šçš„ï¼Œæ‰€ä»¥ä¸èˆå¾—æŠŠå¥¹è®¸é…ç»™ä»»ä½•äººã€‚ --æ¨ç»›å…ˆç”Ÿ ã€Šå›´åŸã€‹å†™å‡ºäº†å©šå§»çš„ä¸€æ–¹é¢ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ï¼Œå¾ˆå¤šäººè¦å†²è¿›è¿™åº§åŸï¼Œè‡ªæœ‰å…¶é“ç†ï¼ŒåŸä¸­æœ‰äº‰åµï¼Œä½†æ›´æœ‰æ¸©æƒ…ã€‚æ„¿è¯¸ä½åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œç›¸äº’æ¬£èµï¼Œç›¸æ•¬å¦‚å®¾ï¼Œå¦‚åˆè§ä¸€æ ·ï¼Œç›¸äº’çˆ±æˆ´ï¼Œç”Ÿæ´»ä¸€å®šæ›´åŠ ç¾å¥½ åœ¨æ–°æ˜¥ä½³èŠ‚ç¥å¤§å®¶å¹¸ç¦ç¾æ»¡ï¼Œé˜–å®¶æ¬¢ä¹ã€‚","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/"},{"name":"é˜…è¯»ç¬”è®°","slug":"è¯»ä¹¦/é˜…è¯»ç¬”è®°","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"reading","slug":"reading","permalink":"http://yelog.org/tags/reading/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ34ï¼‰: vmstat","slug":"linux-command-34-vmstat","date":"2017-01-03T01:46:57.000Z","updated":"2024-07-05T11:10:22.929Z","comments":true,"path":"2017/01/03/linux-command-34-vmstat/","permalink":"http://yelog.org/2017/01/03/linux-command-34-vmstat/","excerpt":"vmstatæ˜¯Virtual Meomory Statisticsï¼ˆè™šæ‹Ÿå†…å­˜ç»Ÿè®¡ï¼‰çš„ç¼©å†™ï¼Œå¯å¯¹æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ã€è¿›ç¨‹ã€CPUæ´»åŠ¨è¿›è¡Œç›‘æ§ã€‚ä»–æ˜¯å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œç»Ÿè®¡ï¼Œä¸è¶³ä¹‹å¤„æ˜¯æ— æ³•å¯¹æŸä¸ªè¿›ç¨‹è¿›è¡Œæ·±å…¥åˆ†æã€‚vmstat å·¥å…·æä¾›äº†ä¸€ç§ä½å¼€é”€çš„ç³»ç»Ÿæ€§èƒ½è§‚å¯Ÿæ–¹å¼ã€‚å› ä¸º vmstat æœ¬èº«å°±æ˜¯ä½å¼€é”€å·¥å…·ï¼Œåœ¨éå¸¸é«˜è´Ÿè·çš„æœåŠ¡å™¨ä¸Šï¼Œä½ éœ€è¦æŸ¥çœ‹å¹¶ç›‘æ§ç³»ç»Ÿçš„å¥åº·æƒ…å†µ,åœ¨æ§åˆ¶çª—å£è¿˜æ˜¯èƒ½å¤Ÿä½¿ç”¨vmstat è¾“å‡ºç»“æœã€‚åœ¨å­¦ä¹ vmstatå‘½ä»¤å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹Linuxç³»ç»Ÿä¸­å…³äºç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ç›¸å…³ä¿¡æ¯ã€‚","text":"vmstatæ˜¯Virtual Meomory Statisticsï¼ˆè™šæ‹Ÿå†…å­˜ç»Ÿè®¡ï¼‰çš„ç¼©å†™ï¼Œå¯å¯¹æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ã€è¿›ç¨‹ã€CPUæ´»åŠ¨è¿›è¡Œç›‘æ§ã€‚ä»–æ˜¯å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œç»Ÿè®¡ï¼Œä¸è¶³ä¹‹å¤„æ˜¯æ— æ³•å¯¹æŸä¸ªè¿›ç¨‹è¿›è¡Œæ·±å…¥åˆ†æã€‚vmstat å·¥å…·æä¾›äº†ä¸€ç§ä½å¼€é”€çš„ç³»ç»Ÿæ€§èƒ½è§‚å¯Ÿæ–¹å¼ã€‚å› ä¸º vmstat æœ¬èº«å°±æ˜¯ä½å¼€é”€å·¥å…·ï¼Œåœ¨éå¸¸é«˜è´Ÿè·çš„æœåŠ¡å™¨ä¸Šï¼Œä½ éœ€è¦æŸ¥çœ‹å¹¶ç›‘æ§ç³»ç»Ÿçš„å¥åº·æƒ…å†µ,åœ¨æ§åˆ¶çª—å£è¿˜æ˜¯èƒ½å¤Ÿä½¿ç”¨vmstat è¾“å‡ºç»“æœã€‚åœ¨å­¦ä¹ vmstatå‘½ä»¤å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹Linuxç³»ç»Ÿä¸­å…³äºç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ç›¸å…³ä¿¡æ¯ã€‚ ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜åŒºåˆ« æˆ‘ä»¬çŸ¥é“ï¼Œç›´æ¥ä»ç‰©ç†å†…å­˜è¯»å†™æ•°æ®è¦æ¯”ä»ç¡¬ç›˜è¯»å†™æ•°æ®è¦å¿«çš„å¤šï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰æ•°æ®çš„è¯»å–å’Œå†™å…¥éƒ½åœ¨å†…å­˜å®Œæˆï¼Œè€Œå†…å­˜æ˜¯æœ‰é™çš„ï¼Œè¿™æ ·å°±å¼•å‡ºäº†ç‰©ç†å†…å­˜ä¸è™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µã€‚ ç‰©ç†å†…å­˜å°±æ˜¯ç³»ç»Ÿç¡¬ä»¶æä¾›çš„å†…å­˜å¤§å°ï¼Œæ˜¯çœŸæ­£çš„å†…å­˜ï¼Œç›¸å¯¹äºç‰©ç†å†…å­˜ï¼Œåœ¨linuxä¸‹è¿˜æœ‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µï¼Œè™šæ‹Ÿå†…å­˜å°±æ˜¯ä¸ºäº†æ»¡è¶³ç‰©ç†å†…å­˜çš„ä¸è¶³è€Œæå‡ºçš„ç­–ç•¥ï¼Œå®ƒæ˜¯åˆ©ç”¨ç£ç›˜ç©ºé—´è™šæ‹Ÿå‡ºçš„ä¸€å—é€»è¾‘å†…å­˜ï¼Œç”¨ä½œè™šæ‹Ÿå†…å­˜çš„ç£ç›˜ç©ºé—´è¢«ç§°ä¸ºäº¤æ¢ç©ºé—´ï¼ˆSwap Spaceï¼‰ã€‚ ä½œä¸ºç‰©ç†å†…å­˜çš„æ‰©å±•ï¼Œlinuxä¼šåœ¨ç‰©ç†å†…å­˜ä¸è¶³æ—¶ï¼Œä½¿ç”¨äº¤æ¢åˆ†åŒºçš„è™šæ‹Ÿå†…å­˜ï¼Œæ›´è¯¦ç»†çš„è¯´ï¼Œå°±æ˜¯å†…æ ¸ä¼šå°†æš‚æ—¶ä¸ç”¨çš„å†…å­˜å—ä¿¡æ¯å†™åˆ°äº¤æ¢ç©ºé—´ï¼Œè¿™æ ·ä»¥æ¥ï¼Œç‰©ç†å†…å­˜å¾—åˆ°äº†é‡Šæ”¾ï¼Œè¿™å—å†…å­˜å°±å¯ä»¥ç”¨äºå…¶å®ƒç›®çš„ï¼Œå½“éœ€è¦ç”¨åˆ°åŸå§‹çš„å†…å®¹æ—¶ï¼Œè¿™äº›ä¿¡æ¯ä¼šè¢«é‡æ–°ä»äº¤æ¢ç©ºé—´è¯»å…¥ç‰©ç†å†…å­˜ã€‚ linuxçš„å†…å­˜ç®¡ç†é‡‡å–çš„æ˜¯åˆ†é¡µå­˜å–æœºåˆ¶ï¼Œä¸ºäº†ä¿è¯ç‰©ç†å†…å­˜èƒ½å¾—åˆ°å……åˆ†çš„åˆ©ç”¨ï¼Œå†…æ ¸ä¼šåœ¨é€‚å½“çš„æ—¶å€™å°†ç‰©ç†å†…å­˜ä¸­ä¸ç»å¸¸ä½¿ç”¨çš„æ•°æ®å—è‡ªåŠ¨äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ä¸­ï¼Œè€Œå°†ç»å¸¸ä½¿ç”¨çš„ä¿¡æ¯ä¿ç•™åˆ°ç‰©ç†å†…å­˜ã€‚ è¦æ·±å…¥äº†è§£linuxå†…å­˜è¿è¡Œæœºåˆ¶ï¼Œéœ€è¦çŸ¥é“ä¸‹é¢æåˆ°çš„å‡ ä¸ªæ–¹é¢ï¼š é¦–å…ˆï¼ŒLinuxç³»ç»Ÿä¼šä¸æ—¶çš„è¿›è¡Œé¡µé¢äº¤æ¢æ“ä½œï¼Œä»¥ä¿æŒå°½å¯èƒ½å¤šçš„ç©ºé—²ç‰©ç†å†…å­˜ï¼Œå³ä½¿å¹¶æ²¡æœ‰ä»€ä¹ˆäº‹æƒ…éœ€è¦å†…å­˜ï¼ŒLinuxä¹Ÿä¼šäº¤æ¢å‡ºæš‚æ—¶ä¸ç”¨çš„å†…å­˜é¡µé¢ã€‚è¿™å¯ä»¥é¿å…ç­‰å¾…äº¤æ¢æ‰€éœ€çš„æ—¶é—´ã€‚ å…¶æ¬¡ï¼Œlinuxè¿›è¡Œé¡µé¢äº¤æ¢æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸æ˜¯æ‰€æœ‰é¡µé¢åœ¨ä¸ç”¨æ—¶éƒ½äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ï¼Œlinuxå†…æ ¸æ ¹æ®â€æœ€è¿‘æœ€ç»å¸¸ä½¿ç”¨â€œç®—æ³•ï¼Œä»…ä»…å°†ä¸€äº›ä¸ç»å¸¸ä½¿ç”¨çš„é¡µé¢æ–‡ä»¶äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç°è±¡ï¼šlinuxç‰©ç†å†…å­˜è¿˜æœ‰å¾ˆå¤šï¼Œä½†æ˜¯äº¤æ¢ç©ºé—´ä¹Ÿä½¿ç”¨äº†å¾ˆå¤šã€‚å…¶å®ï¼Œè¿™å¹¶ä¸å¥‡æ€ªï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå ç”¨å¾ˆå¤§å†…å­˜çš„è¿›ç¨‹è¿è¡Œæ—¶ï¼Œéœ€è¦è€—è´¹å¾ˆå¤šå†…å­˜èµ„æºï¼Œæ­¤æ—¶å°±ä¼šæœ‰ä¸€äº›ä¸å¸¸ç”¨é¡µé¢æ–‡ä»¶è¢«äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ä¸­ï¼Œä½†åæ¥è¿™ä¸ªå ç”¨å¾ˆå¤šå†…å­˜èµ„æºçš„è¿›ç¨‹ç»“æŸå¹¶é‡Šæ”¾äº†å¾ˆå¤šå†…å­˜æ—¶ï¼Œåˆšæ‰è¢«äº¤æ¢å‡ºå»çš„é¡µé¢æ–‡ä»¶å¹¶ä¸ä¼šè‡ªåŠ¨çš„äº¤æ¢è¿›ç‰©ç†å†…å­˜ï¼Œé™¤éæœ‰è¿™ä¸ªå¿…è¦ï¼Œé‚£ä¹ˆæ­¤åˆ»ç³»ç»Ÿç‰©ç†å†…å­˜å°±ä¼šç©ºé—²å¾ˆå¤šï¼ŒåŒæ—¶äº¤æ¢ç©ºé—´ä¹Ÿåœ¨è¢«ä½¿ç”¨ï¼Œå°±å‡ºç°äº†åˆšæ‰æ‰€è¯´çš„ç°è±¡äº†ã€‚å…³äºè¿™ç‚¹ï¼Œä¸ç”¨æ‹…å¿ƒä»€ä¹ˆï¼Œåªè¦çŸ¥é“æ˜¯æ€ä¹ˆä¸€å›äº‹å°±å¯ä»¥äº†ã€‚ æœ€åï¼Œäº¤æ¢ç©ºé—´çš„é¡µé¢åœ¨ä½¿ç”¨æ—¶ä¼šé¦–å…ˆè¢«äº¤æ¢åˆ°ç‰©ç†å†…å­˜ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰è¶³å¤Ÿçš„ç‰©ç†å†…å­˜æ¥å®¹çº³è¿™äº›é¡µé¢ï¼Œå®ƒä»¬åˆä¼šè¢«é©¬ä¸Šäº¤æ¢å‡ºå»ï¼Œå¦‚æ­¤ä»¥æ¥ï¼Œè™šæ‹Ÿå†…å­˜ä¸­å¯èƒ½æ²¡æœ‰è¶³å¤Ÿç©ºé—´æ¥å­˜å‚¨è¿™äº›äº¤æ¢é¡µé¢ï¼Œæœ€ç»ˆä¼šå¯¼è‡´linuxå‡ºç°å‡æ­»æœºã€æœåŠ¡å¼‚å¸¸ç­‰é—®é¢˜ï¼Œlinuxè™½ç„¶å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…è‡ªè¡Œæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åçš„ç³»ç»Ÿå·²ç»åŸºæœ¬ä¸å¯ç”¨äº†ã€‚ å› æ­¤ï¼Œåˆç†è§„åˆ’å’Œè®¾è®¡linuxå†…å­˜çš„ä½¿ç”¨ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚ è™šæ‹Ÿå†…å­˜åŸç†ï¼š åœ¨ç³»ç»Ÿä¸­è¿è¡Œçš„æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦ä½¿ç”¨åˆ°å†…å­˜ï¼Œä½†ä¸æ˜¯æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦æ¯æ—¶æ¯åˆ»ä½¿ç”¨ç³»ç»Ÿåˆ†é…çš„å†…å­˜ç©ºé—´ã€‚å½“ç³»ç»Ÿè¿è¡Œæ‰€éœ€å†…å­˜è¶…è¿‡å®é™…çš„ç‰©ç†å†…å­˜ï¼Œå†…æ ¸ä¼šé‡Šæ”¾æŸäº›è¿›ç¨‹æ‰€å ç”¨ä½†æœªä½¿ç”¨çš„éƒ¨åˆ†æˆ–æ‰€æœ‰ç‰©ç†å†…å­˜ï¼Œå°†è¿™éƒ¨åˆ†èµ„æ–™å­˜å‚¨åœ¨ç£ç›˜ä¸Šç›´åˆ°è¿›ç¨‹ä¸‹ä¸€æ¬¡è°ƒç”¨ï¼Œå¹¶å°†é‡Šæ”¾å‡ºçš„å†…å­˜æä¾›ç»™æœ‰éœ€è¦çš„è¿›ç¨‹ä½¿ç”¨ã€‚ åœ¨Linuxå†…å­˜ç®¡ç†ä¸­ï¼Œä¸»è¦æ˜¯é€šè¿‡â€œè°ƒé¡µPagingâ€å’Œâ€œäº¤æ¢Swappingâ€æ¥å®Œæˆä¸Šè¿°çš„å†…å­˜è°ƒåº¦ã€‚è°ƒé¡µç®—æ³•æ˜¯å°†å†…å­˜ä¸­æœ€è¿‘ä¸å¸¸ä½¿ç”¨çš„é¡µé¢æ¢åˆ°ç£ç›˜ä¸Šï¼ŒæŠŠæ´»åŠ¨é¡µé¢ä¿ç•™åœ¨å†…å­˜ä¸­ä¾›è¿›ç¨‹ä½¿ç”¨ã€‚äº¤æ¢æŠ€æœ¯æ˜¯å°†æ•´ä¸ªè¿›ç¨‹ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†é¡µé¢ï¼Œå…¨éƒ¨äº¤æ¢åˆ°ç£ç›˜ä¸Šã€‚ åˆ†é¡µ(Page)å†™å…¥ç£ç›˜çš„è¿‡ç¨‹è¢«ç§°ä½œPage-Outï¼Œåˆ†é¡µ(Page)ä»ç£ç›˜é‡æ–°å›åˆ°å†…å­˜çš„è¿‡ç¨‹è¢«ç§°ä½œPage-Inã€‚å½“å†…æ ¸éœ€è¦ä¸€ä¸ªåˆ†é¡µæ—¶ï¼Œä½†å‘ç°æ­¤åˆ†é¡µä¸åœ¨ç‰©ç†å†…å­˜ä¸­(å› ä¸ºå·²ç»è¢«Page-Outäº†)ï¼Œæ­¤æ—¶å°±å‘ç”Ÿäº†åˆ†é¡µé”™è¯¯ï¼ˆPage Faultï¼‰ã€‚ å½“ç³»ç»Ÿå†…æ ¸å‘ç°å¯è¿è¡Œå†…å­˜å˜å°‘æ—¶ï¼Œå°±ä¼šé€šè¿‡Page-Outæ¥é‡Šæ”¾ä¸€éƒ¨åˆ†ç‰©ç†å†…å­˜ã€‚ç»ç®¡Page-Outä¸æ˜¯ç»å¸¸å‘ç”Ÿï¼Œä½†æ˜¯å¦‚æœPage-outé¢‘ç¹ä¸æ–­çš„å‘ç”Ÿï¼Œç›´åˆ°å½“å†…æ ¸ç®¡ç†åˆ†é¡µçš„æ—¶é—´è¶…è¿‡è¿è¡Œç¨‹å¼çš„æ—¶é—´æ—¶ï¼Œç³»ç»Ÿæ•ˆèƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚è¿™æ—¶çš„ç³»ç»Ÿå·²ç»è¿è¡Œéå¸¸æ…¢æˆ–è¿›å…¥æš‚åœçŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€äº¦è¢«ç§°ä½œthrashing(é¢ ç°¸)ã€‚ å‘½ä»¤æ ¼å¼$ vmstat [-a] [-n] [-S unit] [delay [ count]] $ vmstat [-s] [-n] [-S unit] $ vmstat [-m] [-n] [delay [ count]] $ vmstat [-d] [-n] [delay [ count]] $ vmstat [-p disk partition] [-n] [delay [ count]] $ vmstat [-f] $ vmstat [-V] å‘½ä»¤åŠŸèƒ½ ç”¨æ¥æ˜¾ç¤ºè™šæ‹Ÿå†…å­˜çš„ä¿¡æ¯ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -a æ˜¾ç¤ºæ´»è·ƒå’Œéæ´»è·ƒå†…å­˜ -f æ˜¾ç¤ºä»ç³»ç»Ÿå¯åŠ¨è‡³ä»Šçš„forkæ•°é‡ -m æ˜¾ç¤ºslabinfo -n åªåœ¨å¼€å§‹æ—¶æ˜¾ç¤ºä¸€æ¬¡å„å­—æ®µåç§° -s æ˜¾ç¤ºå†…å­˜ç›¸å…³ç»Ÿè®¡ä¿¡æ¯åŠå¤šç§ç³»ç»Ÿæ´»åŠ¨æ•°é‡ delay åˆ·æ–°æ—¶é—´é—´éš”ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåªæ˜¾ç¤ºä¸€æ¡ç»“æœ count åˆ·æ–°æ¬¡æ•°ã€‚å¦‚æœä¸æŒ‡å®šåˆ·æ–°æ¬¡æ•°ï¼Œä½†æŒ‡å®šäº†åˆ·æ–°æ—¶é—´é—´éš”ï¼Œè¿™æ—¶åˆ·æ–°æ¬¡æ•°ä¸ºæ— ç©· -d æ˜¾ç¤ºç£ç›˜ç›¸å…³ç»Ÿè®¡ä¿¡æ¯ -p æ˜¾ç¤ºæŒ‡å®šç£ç›˜åˆ†åŒºç»Ÿè®¡ä¿¡æ¯ -S ä½¿ç”¨æŒ‡å®šå•ä½æ˜¾ç¤ºã€‚å‚æ•°æœ‰ k ã€K ã€m ã€M ï¼Œåˆ†åˆ«ä»£è¡¨1000ã€1024ã€1000000ã€1048576å­—èŠ‚ï¼ˆbyteï¼‰ã€‚é»˜è®¤å•ä½ä¸ºKï¼ˆ1024 bytesï¼‰ -V æ˜¾ç¤ºvmstatç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºè™šæ‹Ÿå†…å­˜ä½¿ç”¨æƒ…å†µ $ vmstat procs -----------memory---------- ---swap-- -----io--- --system--- -----cpu--- r b swpd free buff cache si so bi bo in cs us sy id wa st 0 0 0 7108340 129544 3155916 0 0 184 53 203 995 4 1 95 0 0 è¯´æ˜ï¼šProcsï¼ˆè¿›ç¨‹ï¼‰ï¼šr: è¿è¡Œé˜Ÿåˆ—ä¸­è¿›ç¨‹æ•°é‡b: ç­‰å¾…IOçš„è¿›ç¨‹æ•°é‡Memoryï¼ˆå†…å­˜ï¼‰ï¼šswpd: ä½¿ç”¨è™šæ‹Ÿå†…å­˜å¤§å°free: å¯ç”¨å†…å­˜å¤§å°buff: ç”¨ä½œç¼“å†²çš„å†…å­˜å¤§å°cache: ç”¨ä½œç¼“å­˜çš„å†…å­˜å¤§å°Swapï¼šsi: æ¯ç§’ä»äº¤æ¢åŒºå†™åˆ°å†…å­˜çš„å¤§å°so: æ¯ç§’å†™å…¥äº¤æ¢åŒºçš„å†…å­˜å¤§å°IOï¼šï¼ˆç°åœ¨çš„Linuxç‰ˆæœ¬å—çš„å¤§å°ä¸º1024bytesï¼‰bi: æ¯ç§’è¯»å–çš„å—æ•°bo: æ¯ç§’å†™å…¥çš„å—æ•°ç³»ç»Ÿï¼šin: æ¯ç§’ä¸­æ–­æ•°ï¼ŒåŒ…æ‹¬æ—¶é’Ÿä¸­æ–­ã€‚cs: æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ•°ã€‚CPUï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰ï¼šus: ç”¨æˆ·è¿›ç¨‹æ‰§è¡Œæ—¶é—´(user time)sy: ç³»ç»Ÿè¿›ç¨‹æ‰§è¡Œæ—¶é—´(system time)id: ç©ºé—²æ—¶é—´(åŒ…æ‹¬IOç­‰å¾…æ—¶é—´),ä¸­å¤®å¤„ç†å™¨çš„ç©ºé—²æ—¶é—´ ã€‚ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºã€‚wa: ç­‰å¾…IOæ—¶é—´å¤‡æ³¨ï¼š å¦‚æœ rç»å¸¸å¤§äº 4 ï¼Œä¸”idç»å¸¸å°‘äº40ï¼Œè¡¨ç¤ºcpuçš„è´Ÿè·å¾ˆé‡ã€‚å¦‚æœpiï¼Œpo é•¿æœŸä¸ç­‰äº0ï¼Œè¡¨ç¤ºå†…å­˜ä¸è¶³ã€‚å¦‚æœdisk ç»å¸¸ä¸ç­‰äº0ï¼Œ ä¸”åœ¨ bä¸­çš„é˜Ÿåˆ— å¤§äº3ï¼Œ è¡¨ç¤º ioæ€§èƒ½ä¸å¥½ã€‚Linuxåœ¨å…·æœ‰é«˜ç¨³å®šæ€§ã€å¯é æ€§çš„åŒæ—¶ï¼Œå…·æœ‰å¾ˆå¥½çš„å¯ä¼¸ç¼©æ€§å’Œæ‰©å±•æ€§ï¼Œèƒ½å¤Ÿé’ˆå¯¹ä¸åŒçš„åº”ç”¨å’Œç¡¬ä»¶ç¯å¢ƒè°ƒæ•´ï¼Œä¼˜åŒ–å‡ºæ»¡è¶³å½“å‰åº”ç”¨éœ€è¦çš„æœ€ä½³æ€§èƒ½ã€‚å› æ­¤ä¼ä¸šåœ¨ç»´æŠ¤Linuxç³»ç»Ÿã€è¿›è¡Œç³»ç»Ÿè°ƒä¼˜æ—¶ï¼Œäº†è§£ç³»ç»Ÿæ€§èƒ½åˆ†æå·¥å…·æ˜¯è‡³å…³é‡è¦çš„ã€‚å‘½ä»¤ï¼švmstat 5 5è¡¨ç¤ºåœ¨5ç§’æ—¶é—´å†…è¿›è¡Œ5æ¬¡é‡‡æ ·ã€‚å°†å¾—åˆ°ä¸€ä¸ªæ•°æ®æ±‡æ€»ä»–èƒ½å¤Ÿåæ˜ çœŸæ­£çš„ç³»ç»Ÿæƒ…å†µã€‚ ä¾‹äºŒï¼šæ˜¾ç¤ºæ´»è·ƒå’Œéæ´»è·ƒå†…å­˜ $ vmstat -a 2 5 è¯´æ˜ï¼šä½¿ç”¨-aé€‰é¡¹æ˜¾ç¤ºæ´»è·ƒå’Œéæ´»è·ƒå†…å­˜æ—¶ï¼Œæ‰€æ˜¾ç¤ºçš„å†…å®¹é™¤å¢åŠ inactå’Œactiveå¤–ï¼Œå…¶ä»–æ˜¾ç¤ºå†…å®¹ä¸ä¾‹å­1ç›¸åŒã€‚Memoryï¼ˆå†…å­˜ï¼‰ï¼šinact: éæ´»è·ƒå†…å­˜å¤§å°ï¼ˆå½“ä½¿ç”¨-aé€‰é¡¹æ—¶æ˜¾ç¤ºï¼‰active: æ´»è·ƒçš„å†…å­˜å¤§å°ï¼ˆå½“ä½¿ç”¨-aé€‰é¡¹æ—¶æ˜¾ç¤ºï¼‰ ä¾‹ä¸‰ï¼šæŸ¥çœ‹ç³»ç»Ÿå·²ç»forkäº†å¤šå°‘æ¬¡ $ vmstat -f è¯´æ˜ï¼šè¿™ä¸ªæ•°æ®æ˜¯ä»&#x2F;proc&#x2F;statä¸­çš„processeså­—æ®µé‡Œå–å¾—çš„ ä¾‹å››ï¼šæŸ¥çœ‹å†…å­˜ä½¿ç”¨çš„è¯¦ç»†ä¿¡æ¯ $ vmstat -s è¯´æ˜ï¼šè¿™äº›ä¿¡æ¯çš„åˆ†åˆ«æ¥è‡ªäº&#x2F;proc&#x2F;meminfo,&#x2F;proc&#x2F;statå’Œ&#x2F;proc&#x2F;vmstatã€‚ ä¾‹äº”ï¼šæŸ¥çœ‹ç£ç›˜çš„è¯»&#x2F;å†™ $ vmstat -d è¯´æ˜ï¼šè¿™äº›ä¿¡æ¯ä¸»è¦æ¥è‡ªäº&#x2F;proc&#x2F;diskstats.merged:è¡¨ç¤ºä¸€æ¬¡æ¥è‡ªäºåˆå¹¶çš„å†™&#x2F;è¯»è¯·æ±‚,ä¸€èˆ¬ç³»ç»Ÿä¼šæŠŠå¤šä¸ªè¿æ¥&#x2F;é‚»è¿‘çš„è¯»&#x2F;å†™è¯·æ±‚åˆå¹¶åˆ°ä¸€èµ·æ¥æ“ä½œ. ä¾‹å…­ï¼šæŸ¥çœ‹&#x2F;dev&#x2F;sda1ç£ç›˜çš„è¯»&#x2F;å†™ $ vmstat -p /dev/sda1 è¯´æ˜ï¼šè¿™äº›ä¿¡æ¯ä¸»è¦æ¥è‡ªäº&#x2F;proc&#x2F;diskstatsã€‚reads:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„è¯»çš„æ¬¡æ•°ã€‚read sectors:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„è¯»æ‰‡åŒºçš„æ¬¡æ•°ã€‚writes:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„å†™çš„æ¬¡æ•°ã€‚requested writes:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„å†™è¯·æ±‚æ¬¡æ•°ã€‚ ä¾‹ä¸ƒï¼šæŸ¥çœ‹ç³»ç»Ÿçš„slabä¿¡æ¯ $ vmstat -m è¯´æ˜ï¼šè¿™ç»„ä¿¡æ¯æ¥è‡ªäº&#x2F;proc&#x2F;slabinfoã€‚slab:ç”±äºå†…æ ¸ä¼šæœ‰è®¸å¤šå°å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æ„é€ é”€æ¯ååˆ†é¢‘ç¹ï¼Œæ¯”å¦‚i-nodeï¼Œdentryï¼Œè¿™äº›å¯¹è±¡å¦‚æœæ¯æ¬¡æ„å»ºçš„æ—¶å€™å°±å‘å†…å­˜è¦ä¸€ä¸ªé¡µ(4kb)ï¼Œè€Œå…¶å®åªæœ‰å‡ ä¸ªå­—èŠ‚ï¼Œè¿™æ ·å°±ä¼šéå¸¸æµªè´¹ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¼•å…¥äº†ä¸€ç§æ–°çš„æœºåˆ¶æ¥å¤„ç†åœ¨åŒä¸€ä¸ªé¡µæ¡†ä¸­å¦‚ä½•åˆ†é…å°å­˜å‚¨åŒºï¼Œè€Œslabå¯ä»¥å¯¹å°å¯¹è±¡è¿›è¡Œåˆ†é…,è¿™æ ·å°±ä¸ç”¨ä¸ºæ¯ä¸€ä¸ªå¯¹è±¡åˆ†é…é¡µæ¡†ï¼Œä»è€ŒèŠ‚çœäº†ç©ºé—´ï¼Œå†…æ ¸å¯¹ä¸€äº›å°å¯¹è±¡åˆ›å»ºææ„å¾ˆé¢‘ç¹ï¼Œslabå¯¹è¿™äº›å°å¯¹è±¡è¿›è¡Œç¼“å†²,å¯ä»¥é‡å¤åˆ©ç”¨,å‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ33ï¼‰: free","slug":"linux-command-33-free","date":"2017-01-02T13:43:26.000Z","updated":"2024-07-05T11:10:22.823Z","comments":true,"path":"2017/01/02/linux-command-33-free/","permalink":"http://yelog.org/2017/01/02/linux-command-33-free/","excerpt":"freeå‘½ä»¤å¯ä»¥æ˜¾ç¤ºLinuxç³»ç»Ÿä¸­ç©ºé—²çš„ã€å·²ç”¨çš„ç‰©ç†å†…å­˜åŠswapå†…å­˜,åŠè¢«å†…æ ¸ä½¿ç”¨çš„bufferã€‚åœ¨Linuxç³»ç»Ÿç›‘æ§çš„å·¥å…·ä¸­ï¼Œfreeå‘½ä»¤æ˜¯æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ä¹‹ä¸€ã€‚","text":"freeå‘½ä»¤å¯ä»¥æ˜¾ç¤ºLinuxç³»ç»Ÿä¸­ç©ºé—²çš„ã€å·²ç”¨çš„ç‰©ç†å†…å­˜åŠswapå†…å­˜,åŠè¢«å†…æ ¸ä½¿ç”¨çš„bufferã€‚åœ¨Linuxç³»ç»Ÿç›‘æ§çš„å·¥å…·ä¸­ï¼Œfreeå‘½ä»¤æ˜¯æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ä¹‹ä¸€ã€‚ å‘½ä»¤æ ¼å¼$ free [å‚æ•°] å‘½ä»¤åŠŸèƒ½ free å‘½ä»¤æ˜¾ç¤ºç³»ç»Ÿä½¿ç”¨å’Œç©ºé—²çš„å†…å­˜æƒ…å†µï¼ŒåŒ…æ‹¬ç‰©ç†å†…å­˜ã€äº¤äº’åŒºå†…å­˜(swap)å’Œå†…æ ¸ç¼“å†²åŒºå†…å­˜ã€‚å…±äº«å†…å­˜å°†è¢«å¿½ç•¥ å‘½ä»¤å‚æ•° å‘½ä»¤ æè¿° -b ä»¥Byteä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ -k ä»¥KBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ -m ä»¥MBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ -g ä»¥GBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ -o ä¸æ˜¾ç¤ºç¼“å†²åŒºè°ƒèŠ‚åˆ— -s&lt;é—´éš”ç§’æ•°&gt; æŒç»­è§‚å¯Ÿå†…å­˜ä½¿ç”¨çŠ¶å†µ -t æ˜¾ç¤ºå†…å­˜æ€»å’Œåˆ— -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ $ free total used free shared buff/cache available Mem: 12095180 8362640 198460 1379116 3534080 2100004 Swap: 8185112 40008 8145104 è¯´æ˜ï¼štotal:æ€»è®¡ç‰©ç†å†…å­˜çš„å¤§å°ã€‚used:å·²ä½¿ç”¨å¤šå¤§ã€‚free:å¯ç”¨æœ‰å¤šå°‘ã€‚Shared:å¤šä¸ªè¿›ç¨‹å…±äº«çš„å†…å­˜æ€»é¢ã€‚Buffers&#x2F;cached:ç£ç›˜ç¼“å­˜çš„å¤§å°ã€‚ ä¾‹äºŒï¼šæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ $ free -t ä¾‹ä¸‰ï¼šå‘¨æœŸæ€§çš„æŸ¥è¯¢å†…å­˜ä½¿ç”¨ä¿¡æ¯ # æ¯10s æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ $ free -s 10","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ32ï¼‰: top","slug":"linux-command-32-top","date":"2017-01-01T11:31:28.000Z","updated":"2024-07-05T11:10:22.799Z","comments":true,"path":"2017/01/01/linux-command-32-top/","permalink":"http://yelog.org/2017/01/01/linux-command-32-top/","excerpt":"topå‘½ä»¤æ˜¯Linuxä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œç±»ä¼¼äºWindowsçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚ä¸‹é¢è¯¦ç»†ä»‹ç»å®ƒçš„ä½¿ç”¨æ–¹æ³•ã€‚topæ˜¯ä¸€ä¸ªåŠ¨æ€æ˜¾ç¤ºè¿‡ç¨‹,å³å¯ä»¥é€šè¿‡ç”¨æˆ·æŒ‰é”®æ¥ä¸æ–­åˆ·æ–°å½“å‰çŠ¶æ€.å¦‚æœåœ¨å‰å°æ‰§è¡Œè¯¥å‘½ä»¤,å®ƒå°†ç‹¬å å‰å°,ç›´åˆ°ç”¨æˆ·ç»ˆæ­¢è¯¥ç¨‹åºä¸ºæ­¢.æ¯”è¾ƒå‡†ç¡®çš„è¯´,topå‘½ä»¤æä¾›äº†å®æ—¶çš„å¯¹ç³»ç»Ÿå¤„ç†å™¨çš„çŠ¶æ€ç›‘è§†.å®ƒå°†æ˜¾ç¤ºç³»ç»Ÿä¸­CPUæœ€â€œæ•æ„Ÿâ€çš„ä»»åŠ¡åˆ—è¡¨.è¯¥å‘½ä»¤å¯ä»¥æŒ‰CPUä½¿ç”¨.å†…å­˜ä½¿ç”¨å’Œæ‰§è¡Œæ—¶é—´å¯¹ä»»åŠ¡è¿›è¡Œæ’åºï¼›è€Œä¸”è¯¥å‘½ä»¤çš„å¾ˆå¤šç‰¹æ€§éƒ½å¯ä»¥é€šè¿‡äº¤äº’å¼å‘½ä»¤æˆ–è€…åœ¨ä¸ªäººå®šåˆ¶æ–‡ä»¶ä¸­è¿›è¡Œè®¾å®šã€‚","text":"topå‘½ä»¤æ˜¯Linuxä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œç±»ä¼¼äºWindowsçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚ä¸‹é¢è¯¦ç»†ä»‹ç»å®ƒçš„ä½¿ç”¨æ–¹æ³•ã€‚topæ˜¯ä¸€ä¸ªåŠ¨æ€æ˜¾ç¤ºè¿‡ç¨‹,å³å¯ä»¥é€šè¿‡ç”¨æˆ·æŒ‰é”®æ¥ä¸æ–­åˆ·æ–°å½“å‰çŠ¶æ€.å¦‚æœåœ¨å‰å°æ‰§è¡Œè¯¥å‘½ä»¤,å®ƒå°†ç‹¬å å‰å°,ç›´åˆ°ç”¨æˆ·ç»ˆæ­¢è¯¥ç¨‹åºä¸ºæ­¢.æ¯”è¾ƒå‡†ç¡®çš„è¯´,topå‘½ä»¤æä¾›äº†å®æ—¶çš„å¯¹ç³»ç»Ÿå¤„ç†å™¨çš„çŠ¶æ€ç›‘è§†.å®ƒå°†æ˜¾ç¤ºç³»ç»Ÿä¸­CPUæœ€â€œæ•æ„Ÿâ€çš„ä»»åŠ¡åˆ—è¡¨.è¯¥å‘½ä»¤å¯ä»¥æŒ‰CPUä½¿ç”¨.å†…å­˜ä½¿ç”¨å’Œæ‰§è¡Œæ—¶é—´å¯¹ä»»åŠ¡è¿›è¡Œæ’åºï¼›è€Œä¸”è¯¥å‘½ä»¤çš„å¾ˆå¤šç‰¹æ€§éƒ½å¯ä»¥é€šè¿‡äº¤äº’å¼å‘½ä»¤æˆ–è€…åœ¨ä¸ªäººå®šåˆ¶æ–‡ä»¶ä¸­è¿›è¡Œè®¾å®šã€‚ å‘½ä»¤æ ¼å¼$ top [å‚æ•°] å‘½ä»¤åŠŸèƒ½ æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹IDã€å†…å­˜å ç”¨ç‡ã€CPUå ç”¨ç‡ç­‰ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -b æ‰¹å¤„ç† -c æ˜¾ç¤ºå®Œæ•´çš„æ²»å‘½ä»¤ -I å¿½ç•¥å¤±æ•ˆè¿‡ç¨‹ -s ä¿å¯†æ¨¡å¼ -S ç´¯ç§¯æ¨¡å¼ -i&lt;æ—¶é—´&gt; è®¾ç½®é—´éš”æ—¶é—´ -u&lt;ç”¨æˆ·å&gt; æŒ‡å®šç”¨æˆ·å -p&lt;è¿›ç¨‹å·&gt; æŒ‡å®šè¿›ç¨‹ -n&lt;æ¬¡æ•°&gt; å¾ªç¯æ˜¾ç¤ºçš„æ¬¡æ•° topäº¤äº’å‘½ä»¤ åœ¨top å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨çš„ä¸€äº›äº¤äº’å‘½ä»¤ã€‚è¿™äº›å‘½ä»¤éƒ½æ˜¯å•å­—æ¯çš„ï¼Œå¦‚æœåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨äº†s é€‰é¡¹ï¼Œ å…¶ä¸­ä¸€äº›å‘½ä»¤å¯èƒ½ä¼šè¢«å±è”½ã€‚ å‚æ•° æè¿° h æ˜¾ç¤ºå¸®åŠ©ç”»é¢ï¼Œç»™å‡ºä¸€äº›ç®€çŸ­çš„å‘½ä»¤æ€»ç»“è¯´æ˜ k ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹ã€‚ i å¿½ç•¥é—²ç½®å’Œåƒµæ­»è¿›ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¼€å…³å¼å‘½ä»¤ q é€€å‡ºç¨‹åº r é‡æ–°å®‰æ’ä¸€ä¸ªè¿›ç¨‹çš„ä¼˜å…ˆçº§åˆ« S åˆ‡æ¢åˆ°ç´¯è®¡æ¨¡å¼ s æ”¹å˜ä¸¤æ¬¡åˆ·æ–°ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼ˆå•ä½ä¸ºsï¼‰ï¼Œå¦‚æœæœ‰å°æ•°ï¼Œå°±æ¢ç®—æˆm sã€‚è¾“å…¥0å€¼åˆ™ç³»ç»Ÿå°†ä¸æ–­åˆ·æ–°ï¼Œé»˜è®¤å€¼æ˜¯5 s fæˆ–è€…F ä»å½“å‰æ˜¾ç¤ºä¸­æ·»åŠ æˆ–è€…åˆ é™¤é¡¹ç›® oæˆ–è€…O æ”¹å˜æ˜¾ç¤ºé¡¹ç›®çš„é¡ºåº l åˆ‡æ¢æ˜¾ç¤ºå¹³å‡è´Ÿè½½å’Œå¯åŠ¨æ—¶é—´ä¿¡æ¯ m åˆ‡æ¢æ˜¾ç¤ºå†…å­˜ä¿¡æ¯ t åˆ‡æ¢æ˜¾ç¤ºè¿›ç¨‹å’ŒCPUçŠ¶æ€ä¿¡æ¯ c åˆ‡æ¢æ˜¾ç¤ºå‘½ä»¤åç§°å’Œå®Œæ•´å‘½ä»¤è¡Œ M æ ¹æ®é©»ç•™å†…å­˜å¤§å°è¿›è¡Œæ’åº P æ ¹æ®CPUä½¿ç”¨ç™¾åˆ†æ¯”å¤§å°è¿›è¡Œæ’åº T æ ¹æ®æ—¶é—´&#x2F;ç´¯è®¡æ—¶é—´è¿›è¡Œæ’åº W å°†å½“å‰è®¾ç½®å†™å…¥~&#x2F;.toprcæ–‡ä»¶ä¸­ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ $ top topè®²è§£å…¶ä»–æŠ€å·§ æ•°å­—1ï¼Œå¯ç›‘æ§æ¯ä¸ªé€»è¾‘CPUçš„çŠ¶å†µ é”®ç›˜bï¼ˆæ‰“å¼€&#x2F;å…³é—­åŠ äº®æ•ˆæœï¼‰ï¼Œè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹ é”®ç›˜x æ‰“å¼€&#x2F;å…³é—­æ’åºåˆ—çš„åŠ äº®æ•ˆæœ shift + &gt;æˆ–shift + &lt;æ”¹å˜æ’åºåˆ— ä¾‹äºŒï¼šæ˜¾ç¤º å®Œæ•´å‘½ä»¤ $ top -c ä¾‹ä¸‰ï¼šä»¥æ‰¹å¤„ç†æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯ $ top -b ä¾‹å››ï¼šä»¥ç´¯ç§¯æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯ $ top -S ä¾‹äº”ï¼šè®¾ç½®ä¿¡æ¯æ›´æ–°æ¬¡æ•° # è¡¨ç¤ºæ›´æ–°ä¸¤æ¬¡åç»ˆæ­¢æ›´æ–°æ˜¾ç¤º $ top -n 2 ä¾‹å…­ï¼šè®¾ç½®ä¿¡æ¯æ›´æ–°æ—¶é—´ # è¡¨ç¤ºæ›´æ–°å‘¨æœŸä¸º3ç§’ $ top -d 3 ä¾‹ä¸ƒï¼šæ˜¾ç¤ºæŒ‡å®šçš„è¿›ç¨‹ä¿¡æ¯ $ top -p 574","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ31ï¼‰: du","slug":"linux-command-31-du","date":"2016-12-31T06:36:01.000Z","updated":"2024-07-05T11:10:22.819Z","comments":true,"path":"2016/12/31/linux-command-31-du/","permalink":"http://yelog.org/2016/12/31/linux-command-31-du/","excerpt":"Linux duå‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸dfå‘½ä»¤ä¸åŒçš„æ˜¯Linux duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼Œè¿˜æ˜¯å’Œdfå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«çš„.","text":"Linux duå‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸dfå‘½ä»¤ä¸åŒçš„æ˜¯Linux duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼Œè¿˜æ˜¯å’Œdfå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«çš„. å‘½ä»¤æ ¼å¼$ du [é€‰é¡¹][æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„ç£ç›˜ä½¿ç”¨ç©ºé—´ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -aæˆ–-all æ˜¾ç¤ºç›®å½•ä¸­ä¸ªåˆ«æ–‡ä»¶çš„å¤§å°ã€‚ -bæˆ–-bytes æ˜¾ç¤ºç›®å½•æˆ–æ–‡ä»¶å¤§å°æ—¶ï¼Œä»¥byteä¸ºå•ä½ã€‚ -cæˆ–â€“total é™¤äº†æ˜¾ç¤ºä¸ªåˆ«ç›®å½•æˆ–æ–‡ä»¶çš„å¤§å°å¤–ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºæ‰€æœ‰ç›®å½•æˆ–æ–‡ä»¶çš„æ€»å’Œã€‚ -kæˆ–â€“kilobytes ä»¥KB(1024bytes)ä¸ºå•ä½è¾“å‡ºã€‚ -mæˆ–â€“megabytes ä»¥MBä¸ºå•ä½è¾“å‡ºã€‚ -sæˆ–â€“summarize ä»…æ˜¾ç¤ºæ€»è®¡ï¼Œåªåˆ—å‡ºæœ€ååŠ æ€»çš„å€¼ã€‚ -hæˆ–â€“human-readable ä»¥Kï¼ŒMï¼ŒGä¸ºå•ä½ï¼Œæé«˜ä¿¡æ¯çš„å¯è¯»æ€§ã€‚ -xæˆ–â€“one-file-xystem ä»¥ä¸€å¼€å§‹å¤„ç†æ—¶çš„æ–‡ä»¶ç³»ç»Ÿä¸ºå‡†ï¼Œè‹¥é‡ä¸Šå…¶å®ƒä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿç›®å½•åˆ™ç•¥è¿‡ã€‚ -L&lt;ç¬¦å·é“¾æ¥&gt;æˆ–â€“dereference&lt;ç¬¦å·é“¾æ¥&gt; æ˜¾ç¤ºé€‰é¡¹ä¸­æ‰€æŒ‡å®šç¬¦å·é“¾æ¥çš„æºæ–‡ä»¶å¤§å°ã€‚ -Sæˆ–â€“separate-dirs æ˜¾ç¤ºä¸ªåˆ«ç›®å½•çš„å¤§å°æ—¶ï¼Œå¹¶ä¸å«å…¶å­ç›®å½•çš„å¤§å°ã€‚ -X&lt;æ–‡ä»¶&gt;æˆ–â€“exclude-from&#x3D;&lt;æ–‡ä»¶&gt; åœ¨&lt;æ–‡ä»¶&gt;æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶ã€‚ â€“exclude&#x3D;&lt;ç›®å½•æˆ–æ–‡ä»¶&gt; ç•¥è¿‡æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶ã€‚ -Dæˆ–â€“dereference-args æ˜¾ç¤ºæŒ‡å®šç¬¦å·é“¾æ¥çš„æºæ–‡ä»¶å¤§å°ã€‚ -Hæˆ–â€“si ä¸-hå‚æ•°ç›¸åŒï¼Œä½†æ˜¯Kï¼ŒMï¼ŒGæ˜¯ä»¥1000ä¸ºæ¢ç®—å•ä½ã€‚ -læˆ–â€“count-links é‡å¤è®¡ç®—ç¡¬ä»¶é“¾æ¥çš„æ–‡ä»¶ã€‚ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºç›®å½•æˆ–è€…æ–‡ä»¶æ‰€å ç©ºé—´ $ du è¯´æ˜ï¼š åªæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹é¢çš„å­ç›®å½•çš„ç›®å½•å¤§å°å’Œå½“å‰ç›®å½•çš„æ€»çš„å¤§å°ï¼Œæœ€ä¸‹é¢çš„1288ä¸ºå½“å‰ç›®å½•çš„æ€»å¤§å° ä¾‹äºŒï¼šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ‰€å ç©ºé—´ $ du log2012.log ä¾‹ä¸‰ï¼šæŸ¥çœ‹æŒ‡å®šç›®å½•çš„æ‰€å ç©ºé—´ $ du scf ä¾‹å››ï¼šæ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶æ‰€å ç©ºé—´ $ du log30.tar.gz log31.tar.gz ä¾‹äº”ï¼šåªæ˜¾ç¤ºæ€»å’Œçš„å¤§å° $ du -s ä¾‹å…­ï¼šæ–¹ä¾¿é˜…è¯»çš„æ ¼å¼æ˜¾ç¤º $ du -h test ä¾‹ä¸ƒï¼šæ–‡ä»¶å’Œç›®å½•éƒ½æ˜¾ç¤º $ du -ah test ä¾‹å…«ï¼šæ˜¾ç¤ºå‡ ä¸ªæ–‡ä»¶æˆ–ç›®å½•å„è‡ªå ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°ï¼Œè¿˜ç»Ÿè®¡å®ƒä»¬çš„æ€»å’Œ $ du -c log30.tar.gz log31.tar.gz è¯´æ˜ï¼š åŠ ä¸Š-cé€‰é¡¹åï¼Œduä¸ä»…æ˜¾ç¤ºä¸¤ä¸ªç›®å½•å„è‡ªå ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°ï¼Œè¿˜åœ¨æœ€åä¸€è¡Œç»Ÿè®¡å®ƒä»¬çš„æ€»å’Œã€‚ ä¾‹ä¹ï¼šæŒ‰ç…§ç©ºé—´å¤§å°æ’åº $ du|sort -nr|more ä¾‹åï¼šè¾“å‡ºå½“å‰ç›®å½•ä¸‹å„ä¸ªå­ç›®å½•æ‰€ä½¿ç”¨çš„ç©ºé—´ $ du -h --max-depth=1","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ30ï¼‰: df","slug":"linux-command-30-df","date":"2016-12-30T06:23:31.000Z","updated":"2024-07-05T11:10:22.782Z","comments":true,"path":"2016/12/30/linux-command-30-df/","permalink":"http://yelog.org/2016/12/30/linux-command-30-df/","excerpt":"linuxä¸­dfå‘½ä»¤çš„åŠŸèƒ½æ˜¯ç”¨æ¥æ£€æŸ¥linuxæœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚","text":"linuxä¸­dfå‘½ä»¤çš„åŠŸèƒ½æ˜¯ç”¨æ¥æ£€æŸ¥linuxæœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚ å‘½ä»¤æ ¼å¼$ df [é€‰é¡¹] [æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ æ˜¾ç¤ºæŒ‡å®šç£ç›˜æ–‡ä»¶çš„å¯ç”¨ç©ºé—´ã€‚å¦‚æœæ²¡æœ‰æ–‡ä»¶åè¢«æŒ‡å®šï¼Œåˆ™æ‰€æœ‰å½“å‰è¢«æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„å¯ç”¨ç©ºé—´å°†è¢«æ˜¾ç¤ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç£ç›˜ç©ºé—´å°†ä»¥ 1KB ä¸ºå•ä½è¿›è¡Œæ˜¾ç¤ºï¼Œé™¤éç¯å¢ƒå˜é‡ POSIXLY_CORRECT è¢«æŒ‡å®šï¼Œé‚£æ ·å°†ä»¥512å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæ˜¾ç¤º å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -a å…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨ -h æ–¹ä¾¿é˜…è¯»æ–¹å¼æ˜¾ç¤º -H ç­‰äºâ€œ-hâ€ï¼Œä½†æ˜¯è®¡ç®—å¼ï¼Œ1K&#x3D;1000ï¼Œè€Œä¸æ˜¯1K&#x3D;1024 -i æ˜¾ç¤ºinodeä¿¡æ¯ -k åŒºå—ä¸º1024å­—èŠ‚ -l åªæ˜¾ç¤ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ -m åŒºå—ä¸º1048576å­—èŠ‚ â€“no-sync å¿½ç•¥ sync å‘½ä»¤ -P è¾“å‡ºæ ¼å¼ä¸ºPOSIX â€“sync åœ¨å–å¾—ç£ç›˜ä¿¡æ¯å‰ï¼Œå…ˆæ‰§è¡Œsyncå‘½ä»¤ -T æ–‡ä»¶ç³»ç»Ÿç±»å‹ é€‰æ‹©å‚æ•° å‚æ•° æè¿° â€“block-size&#x3D;&lt;åŒºå—å¤§å°&gt; æŒ‡å®šåŒºå—å¤§å° -t&lt;æ–‡ä»¶ç³»ç»Ÿç±»å‹&gt; åªæ˜¾ç¤ºé€‰å®šæ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä¿¡æ¯ -x&lt;æ–‡ä»¶ç³»ç»Ÿç±»å‹&gt; ä¸æ˜¾ç¤ºé€‰å®šæ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä¿¡æ¯ â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ $ df è¯´æ˜ï¼š linuxä¸­dfå‘½ä»¤çš„è¾“å‡ºæ¸…å•çš„ç¬¬1åˆ—æ˜¯ä»£è¡¨æ–‡ä»¶ç³»ç»Ÿå¯¹åº”çš„è®¾å¤‡æ–‡ä»¶çš„è·¯å¾„åï¼ˆä¸€èˆ¬æ˜¯ç¡¬ç›˜ä¸Šçš„åˆ†åŒºï¼‰ï¼›ç¬¬2åˆ—ç»™å‡ºåˆ†åŒºåŒ…å«çš„æ•°æ®å—ï¼ˆ1024å­—èŠ‚ï¼‰çš„æ•°ç›®ï¼›ç¬¬3ï¼Œ4åˆ—åˆ†åˆ«è¡¨ç¤ºå·²ç”¨çš„å’Œå¯ç”¨çš„æ•°æ®å—æ•°ç›®ã€‚ç”¨æˆ·ä¹Ÿè®¸ä¼šæ„Ÿåˆ°å¥‡æ€ªçš„æ˜¯ï¼Œç¬¬3ï¼Œ4åˆ—å—æ•°ä¹‹å’Œä¸ç­‰äºç¬¬2åˆ—ä¸­çš„å—æ•°ã€‚è¿™æ˜¯å› ä¸ºç¼ºçœçš„æ¯ä¸ªåˆ†åŒºéƒ½ç•™äº†å°‘é‡ç©ºé—´ä¾›ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨ã€‚å³ä½¿é‡åˆ°æ™®é€šç”¨æˆ·ç©ºé—´å·²æ»¡çš„æƒ…å†µï¼Œç®¡ç†å‘˜ä»èƒ½ç™»å½•å’Œç•™æœ‰è§£å†³é—®é¢˜æ‰€éœ€çš„å·¥ä½œç©ºé—´ã€‚æ¸…å•ä¸­Use% åˆ—è¡¨ç¤ºæ™®é€šç”¨æˆ·ç©ºé—´ä½¿ç”¨çš„ç™¾åˆ†æ¯”ï¼Œå³ä½¿è¿™ä¸€æ•°å­—è¾¾åˆ°100ï¼…ï¼Œåˆ†åŒºä»ç„¶ç•™æœ‰ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç©ºé—´ã€‚æœ€åï¼ŒMounted onåˆ—è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ã€‚ ä¾‹äºŒï¼šä»¥inodeæ¨¡å¼æ¥æ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ $ df -i ä¾‹ä¸‰ï¼šæ˜¾ç¤ºæŒ‡å®šç±»å‹ç£ç›˜ $ df -t ext3 ä¾‹å››ï¼šåˆ—å‡ºå„æ–‡ä»¶ç³»ç»Ÿçš„ièŠ‚ç‚¹ä½¿ç”¨æƒ…å†µ $ df -ia ä¾‹äº”ï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹ $ df -T ä¾‹å…­ï¼šä»¥æ›´æ˜“è¯»çš„æ–¹å¼æ˜¾ç¤ºç›®å‰ç£ç›˜ç©ºé—´å’Œä½¿ç”¨æƒ…å†µ $ df -h è¯´æ˜ï¼š-hæ›´å…·ç›®å‰ç£ç›˜ç©ºé—´å’Œä½¿ç”¨æƒ…å†µ ä»¥æ›´æ˜“è¯»çš„æ–¹å¼æ˜¾ç¤º-Hæ ¹ä¸Šé¢çš„-hå‚æ•°ç›¸åŒ,ä¸è¿‡åœ¨æ ¹å¼åŒ–çš„æ—¶å€™,é‡‡ç”¨1000è€Œä¸æ˜¯1024è¿›è¡Œå®¹é‡è½¬æ¢-kä»¥å•ä½æ˜¾ç¤ºç£ç›˜çš„ä½¿ç”¨æƒ…å†µ-læ˜¾ç¤ºæœ¬åœ°çš„åˆ†åŒºçš„ç£ç›˜ç©ºé—´ä½¿ç”¨ç‡,å¦‚æœæœåŠ¡å™¨nfsäº†è¿œç¨‹æœåŠ¡å™¨çš„ç£ç›˜,é‚£ä¹ˆåœ¨dfä¸ŠåŠ ä¸Š-låç³»ç»Ÿæ˜¾ç¤ºçš„æ˜¯è¿‡æ»¤nsfé©±åŠ¨å™¨åçš„ç»“æœ-iæ˜¾ç¤ºinodeçš„ä½¿ç”¨æƒ…å†µã€‚linuxé‡‡ç”¨äº†ç±»ä¼¼æŒ‡é’ˆçš„æ–¹å¼ç®¡ç†ç£ç›˜ç©ºé—´å½±å°„.è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒå…³é”®åº”ç”¨","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ29ï¼‰: /etc/groupæ–‡ä»¶è¯¦è§£","slug":"linux-command-29-group","date":"2016-12-29T06:13:05.000Z","updated":"2024-07-05T11:10:22.837Z","comments":true,"path":"2016/12/29/linux-command-29-group/","permalink":"http://yelog.org/2016/12/29/linux-command-29-group/","excerpt":"Linux &#x2F;etc&#x2F;groupæ–‡ä»¶ä¸&#x2F;etc&#x2F;passwdå’Œ&#x2F;etc&#x2F;shadowæ–‡ä»¶éƒ½æ˜¯æœ‰å…³äºç³»ç»Ÿç®¡ç†å‘˜å¯¹ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†æ—¶ç›¸å…³çš„æ–‡ä»¶ã€‚linux &#x2F;etc&#x2F;groupæ–‡ä»¶æ˜¯æœ‰å…³äºç³»ç»Ÿç®¡ç†å‘˜å¯¹ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†çš„æ–‡ä»¶,linuxç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨&#x2F;etc&#x2F;groupæ–‡ä»¶ä¸­ã€‚å…·æœ‰æŸç§å…±åŒç‰¹å¾çš„ç”¨æˆ·é›†åˆèµ·æ¥å°±æ˜¯ç”¨æˆ·ç»„ï¼ˆGroupï¼‰ã€‚ç”¨æˆ·ç»„ï¼ˆGroupï¼‰é…ç½®æ–‡ä»¶ä¸»è¦æœ‰ &#x2F;etc&#x2F;groupå’Œ&#x2F;etc&#x2F;gshadowï¼Œå…¶ä¸­&#x2F;etc&#x2F;gshadowæ˜¯&#x2F;etc&#x2F;groupçš„åŠ å¯†ä¿¡æ¯æ–‡ä»¶ã€‚","text":"Linux &#x2F;etc&#x2F;groupæ–‡ä»¶ä¸&#x2F;etc&#x2F;passwdå’Œ&#x2F;etc&#x2F;shadowæ–‡ä»¶éƒ½æ˜¯æœ‰å…³äºç³»ç»Ÿç®¡ç†å‘˜å¯¹ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†æ—¶ç›¸å…³çš„æ–‡ä»¶ã€‚linux &#x2F;etc&#x2F;groupæ–‡ä»¶æ˜¯æœ‰å…³äºç³»ç»Ÿç®¡ç†å‘˜å¯¹ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†çš„æ–‡ä»¶,linuxç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨&#x2F;etc&#x2F;groupæ–‡ä»¶ä¸­ã€‚å…·æœ‰æŸç§å…±åŒç‰¹å¾çš„ç”¨æˆ·é›†åˆèµ·æ¥å°±æ˜¯ç”¨æˆ·ç»„ï¼ˆGroupï¼‰ã€‚ç”¨æˆ·ç»„ï¼ˆGroupï¼‰é…ç½®æ–‡ä»¶ä¸»è¦æœ‰ &#x2F;etc&#x2F;groupå’Œ&#x2F;etc&#x2F;gshadowï¼Œå…¶ä¸­&#x2F;etc&#x2F;gshadowæ˜¯&#x2F;etc&#x2F;groupçš„åŠ å¯†ä¿¡æ¯æ–‡ä»¶ã€‚ å°†ç”¨æˆ·åˆ†ç»„æ˜¯Linuxç³»ç»Ÿä¸­å¯¹ç”¨æˆ·è¿›è¡Œç®¡ç†åŠæ§åˆ¶è®¿é—®æƒé™çš„ä¸€ç§æ‰‹æ®µã€‚æ¯ä¸ªç”¨æˆ·éƒ½å±äºæŸä¸ªç”¨æˆ·ç»„ï¼›ä¸€ä¸ªç»„ä¸­å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥å±äºä¸ åŒçš„ç»„ã€‚å½“ä¸€ä¸ªç”¨æˆ·åŒæ—¶æ˜¯å¤šä¸ªç»„ä¸­çš„æˆå‘˜æ—¶ï¼Œåœ¨&#x2F;etc&#x2F;passwdæ–‡ä»¶ä¸­è®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ä¸»ç»„ï¼Œä¹Ÿå°±æ˜¯ç™»å½•æ—¶æ‰€å±çš„é»˜è®¤ç»„ï¼Œè€Œå…¶ä»–ç»„ç§°ä¸ºé™„åŠ ç»„ã€‚ ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨&#x2F;etc&#x2F;groupæ–‡ä»¶ä¸­ã€‚æ­¤æ–‡ä»¶çš„æ ¼å¼æ˜¯ç”±å†’å·(:)éš”å¼€è‹¥å¹²ä¸ªå­—æ®µï¼Œè¿™äº›å­—æ®µå…·ä½“å¦‚ä¸‹ï¼š ç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨ è§£é‡Šç»„åï¼š ç»„åæ˜¯ç”¨æˆ·ç»„çš„åç§°ï¼Œç”±å­—æ¯æˆ–æ•°å­—æ„æˆã€‚ä¸&#x2F;etc&#x2F;passwdä¸­çš„ç™»å½•åä¸€æ ·ï¼Œç»„åä¸åº”é‡å¤ã€‚å£ä»¤ï¼š å£ä»¤å­—æ®µå­˜æ”¾çš„æ˜¯ç”¨æˆ·ç»„åŠ å¯†åçš„å£ä»¤å­—ã€‚ä¸€èˆ¬Linuxç³»ç»Ÿçš„ç”¨æˆ·ç»„éƒ½æ²¡æœ‰å£ä»¤ï¼Œå³è¿™ä¸ªå­—æ®µä¸€èˆ¬ä¸ºç©ºï¼Œæˆ–è€…æ˜¯*ã€‚ç»„æ ‡è¯†å·ï¼š ç»„æ ‡è¯†å·ä¸ç”¨æˆ·æ ‡è¯†å·ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¢«ç³»ç»Ÿå†…éƒ¨ç”¨æ¥æ ‡è¯†ç»„ã€‚åˆ«ç§°GID.ç»„å†…ç”¨æˆ·åˆ—è¡¨ï¼š æ˜¯å±äºè¿™ä¸ªç»„çš„æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼Œä¸åŒç”¨æˆ·ä¹‹é—´ç”¨é€—å·(,)åˆ†éš”ã€‚è¿™ä¸ªç”¨æˆ·ç»„å¯èƒ½æ˜¯ç”¨æˆ·çš„ä¸»ç»„ï¼Œä¹Ÿå¯èƒ½æ˜¯é™„åŠ ç»„ã€‚ ä½¿ç”¨å®ä¾‹$ cat /etc/group è¯´æ˜ï¼š æˆ‘ä»¬ä»¥root:x:0:root,linuxsir ä¸ºä¾‹ï¼š ç”¨æˆ·ç»„rootï¼Œxæ˜¯å¯†ç æ®µï¼Œè¡¨ç¤ºæ²¡æœ‰è®¾ç½®å¯†ç ï¼ŒGIDæ˜¯0,rootç”¨æˆ·ç»„ä¸‹åŒ…æ‹¬rootã€linuxsirä»¥åŠGIDä¸º0çš„å…¶å®ƒç”¨æˆ·ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ28ï¼‰: chown","slug":"linux-command-28-chown","date":"2016-12-28T01:51:30.000Z","updated":"2024-07-05T11:10:23.011Z","comments":true,"path":"2016/12/28/linux-command-28-chown/","permalink":"http://yelog.org/2016/12/28/linux-command-28-chown/","excerpt":"chownå°†æŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…æ”¹ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç»„ï¼Œç”¨æˆ·å¯ä»¥æ˜¯ç”¨æˆ·åæˆ–è€…ç”¨æˆ·IDï¼›ç»„å¯ä»¥æ˜¯ç»„åæˆ–è€…ç»„IDï¼›æ–‡ä»¶æ˜¯ä»¥ç©ºæ ¼åˆ†å¼€çš„è¦æ”¹å˜æƒé™çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ”¯æŒé€šé…ç¬¦ã€‚ç³»ç»Ÿç®¡ç†å‘˜ç»å¸¸ä½¿ç”¨chownå‘½ä»¤ï¼Œåœ¨å°†æ–‡ä»¶æ‹·è´åˆ°å¦ä¸€ä¸ªç”¨æˆ·çš„åå½•ä¸‹ä¹‹åï¼Œè®©ç”¨æˆ·æ‹¥æœ‰ä½¿ç”¨è¯¥æ–‡ä»¶çš„æƒé™ã€‚","text":"chownå°†æŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…æ”¹ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç»„ï¼Œç”¨æˆ·å¯ä»¥æ˜¯ç”¨æˆ·åæˆ–è€…ç”¨æˆ·IDï¼›ç»„å¯ä»¥æ˜¯ç»„åæˆ–è€…ç»„IDï¼›æ–‡ä»¶æ˜¯ä»¥ç©ºæ ¼åˆ†å¼€çš„è¦æ”¹å˜æƒé™çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ”¯æŒé€šé…ç¬¦ã€‚ç³»ç»Ÿç®¡ç†å‘˜ç»å¸¸ä½¿ç”¨chownå‘½ä»¤ï¼Œåœ¨å°†æ–‡ä»¶æ‹·è´åˆ°å¦ä¸€ä¸ªç”¨æˆ·çš„åå½•ä¸‹ä¹‹åï¼Œè®©ç”¨æˆ·æ‹¥æœ‰ä½¿ç”¨è¯¥æ–‡ä»¶çš„æƒé™ã€‚ å‘½ä»¤æ ¼å¼$ chown [é€‰é¡¹]... [æ‰€æœ‰è€…][:[ç»„]] æ–‡ä»¶... å‘½ä»¤åŠŸèƒ½ é€šè¿‡chownæ”¹å˜æ–‡ä»¶çš„æ‹¥æœ‰è€…å’Œç¾¤ç»„ã€‚åœ¨æ›´æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…æˆ–æ‰€å±ç¾¤ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç”¨æˆ·åç§°å’Œç”¨æˆ·è¯†åˆ«ç è®¾ç½®ã€‚æ™®é€šç”¨æˆ·ä¸èƒ½å°†è‡ªå·±çš„æ–‡ä»¶æ”¹å˜æˆå…¶ä»–çš„æ‹¥æœ‰è€…ã€‚å…¶æ“ä½œæƒé™ä¸€èˆ¬ä¸ºç®¡ç†å‘˜ã€‚ å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -c æ˜¾ç¤ºæ›´æ”¹çš„éƒ¨åˆ†çš„ä¿¡æ¯ -f å¿½ç•¥é”™è¯¯ä¿¡æ¯ -h ä¿®å¤ç¬¦å·é“¾æ¥ -R å¤„ç†æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯ -deference ä½œç”¨äºç¬¦å·é“¾æ¥çš„æŒ‡å‘ï¼Œè€Œä¸æ˜¯é“¾æ¥æ–‡ä»¶æœ¬èº« é€‰æ‹©å‚æ•° å‚æ•° æè¿° â€“reference&#x3D;&lt;ç›®å½•æˆ–æ–‡ä»¶&gt; æŠŠæŒ‡å®šçš„ç›®å½•&#x2F;æ–‡ä»¶ä½œä¸ºå‚è€ƒï¼ŒæŠŠæ“ä½œçš„æ–‡ä»¶&#x2F;ç›®å½•è®¾ç½®æˆå‚è€ƒæ–‡ä»¶&#x2F;ç›®å½•ç›¸åŒæ‹¥æœ‰è€…å’Œç¾¤ç»„ â€“from&#x3D;&lt;å½“å‰ç”¨æˆ·ï¼šå½“å‰ç¾¤ç»„&gt; åªæœ‰å½“å‰ç”¨æˆ·å’Œç¾¤ç»„è·ŸæŒ‡å®šçš„ç”¨æˆ·å’Œç¾¤ç»„ç›¸åŒæ—¶æ‰è¿›è¡Œæ”¹å˜ â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæ”¹å˜æ‹¥æœ‰è€…å’Œç¾¤ç»„ $ chown mail:mail log2012.log ä¾‹äºŒï¼šæ”¹å˜æ–‡ä»¶æ‹¥æœ‰è€…å’Œç¾¤ç»„ # ç»„å¯ä¸ºç©ºï¼Œé»˜è®¤ä¸ºrootæ‰€åœ¨ç»„ $ chown root: log2012.log ä¾‹ä¸‰ï¼šæ”¹å˜æ–‡ä»¶ç¾¤ç»„ # åªæ”¹å˜æ‰€åœ¨ç»„ $ chown :mail log2012.log ä¾‹å››ï¼šæ”¹å˜æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„æ‹¥æœ‰è€…å’Œç¾¤ç»„ $ chown -R -v root:mail test6","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ27ï¼‰: chgrp","slug":"linux-command-27-chgrp","date":"2016-12-27T01:40:06.000Z","updated":"2024-07-05T11:10:22.882Z","comments":true,"path":"2016/12/27/linux-command-27-chgrp/","permalink":"http://yelog.org/2016/12/27/linux-command-27-chgrp/","excerpt":"åœ¨lunixç³»ç»Ÿé‡Œï¼Œæ–‡ä»¶æˆ–ç›®å½•çš„æƒé™çš„æŒæ§ä»¥æ‹¥æœ‰è€…åŠæ‰€è¯‰ç¾¤ç»„æ¥ç®¡ç†ã€‚å¯ä»¥ä½¿ç”¨chgrpæŒ‡ä»¤å–å˜æ›´æ–‡ä»¶ä¸ç›®å½•æ‰€å±ç¾¤ç»„ï¼Œè¿™ç§æ–¹å¼é‡‡ç”¨ç¾¤ç»„åç§°æˆ–ç¾¤ç»„è¯†åˆ«ç éƒ½å¯ä»¥ã€‚Chgrpå‘½ä»¤å°±æ˜¯change groupçš„ç¼©å†™ï¼è¦è¢«æ”¹å˜çš„ç»„åå¿…é¡»è¦åœ¨&#x2F;etc&#x2F;groupæ–‡ä»¶å†…å­˜åœ¨æ‰è¡Œã€‚","text":"åœ¨lunixç³»ç»Ÿé‡Œï¼Œæ–‡ä»¶æˆ–ç›®å½•çš„æƒé™çš„æŒæ§ä»¥æ‹¥æœ‰è€…åŠæ‰€è¯‰ç¾¤ç»„æ¥ç®¡ç†ã€‚å¯ä»¥ä½¿ç”¨chgrpæŒ‡ä»¤å–å˜æ›´æ–‡ä»¶ä¸ç›®å½•æ‰€å±ç¾¤ç»„ï¼Œè¿™ç§æ–¹å¼é‡‡ç”¨ç¾¤ç»„åç§°æˆ–ç¾¤ç»„è¯†åˆ«ç éƒ½å¯ä»¥ã€‚Chgrpå‘½ä»¤å°±æ˜¯change groupçš„ç¼©å†™ï¼è¦è¢«æ”¹å˜çš„ç»„åå¿…é¡»è¦åœ¨&#x2F;etc&#x2F;groupæ–‡ä»¶å†…å­˜åœ¨æ‰è¡Œã€‚ å‘½ä»¤æ ¼å¼$ chgrp [é€‰é¡¹] [ç»„] [æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ chgrpå‘½ä»¤å¯é‡‡ç”¨ç¾¤ç»„åç§°æˆ–ç¾¤ç»„è¯†åˆ«ç çš„æ–¹å¼æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ã€‚ä½¿ç”¨æƒé™æ˜¯è¶…çº§ç”¨æˆ·ã€‚ å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -c å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠ¥å‘Šå¤„ç†ä¿¡æ¯ -f ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -R å¤„ç†æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ -v è¿è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯ â€“dereference ä½œç”¨äºç¬¦å·é“¾æ¥çš„æŒ‡å‘ï¼Œè€Œä¸æ˜¯ç¬¦å·é“¾æ¥æœ¬èº« â€“no-dereference ä½œç”¨äºç¬¦å·é“¾æ¥æœ¬èº« é€‰æ‹©å‚æ•° å‚æ•° æè¿° â€“reference&#x3D;&lt;æ–‡ä»¶æˆ–è€…ç›®å½•&gt; è®¾ç½®ä¸ºå’ŒæŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ä¸€æ · â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæ”¹å˜æ–‡ä»¶çš„ç¾¤ç»„å±æ€§ # å°†log2012.logæ–‡ä»¶ç”±rootç¾¤ç»„æ”¹ä¸ºbinç¾¤ç»„ $ chgrp -v bin log2012.log â€œlog2012.logâ€ çš„æ‰€å±ç»„å·²æ›´æ”¹ä¸º bin ä¾‹äºŒï¼šæ ¹æ®æŒ‡å®šæ–‡ä»¶æ”¹å˜æ–‡ä»¶çš„ç¾¤ç»„å±æ€§ # æ”¹å˜æ–‡ä»¶log2013.log çš„ç¾¤ç»„å±æ€§ï¼Œä½¿å¾—æ–‡ä»¶log2013.logçš„ç¾¤ç»„å±æ€§å’Œå‚è€ƒæ–‡ä»¶log2012.logçš„ç¾¤ç»„å±æ€§ç›¸åŒ $ chgrp --reference=log2012.log log2013.log ä¾‹ä¸‰ï¼šæ”¹å˜æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„ç¾¤ç»„å±æ€§ # æ”¹å˜æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„ç¾¤ç»„å±æ€§ $ chgrp -R bin test6 ä¾‹å››ï¼šé€šè¿‡ç¾¤ç»„è¯†åˆ«ç æ”¹å˜æ–‡ä»¶ç¾¤ç»„å±æ€§ # é€šè¿‡ç¾¤ç»„è¯†åˆ«ç æ”¹å˜æ–‡ä»¶ç¾¤ç»„å±æ€§ï¼Œ100ä¸ºusersç¾¤ç»„çš„è¯†åˆ«ç ï¼Œå…·ä½“ç¾¤ç»„å’Œç¾¤ç»„è¯†åˆ«ç å¯ä»¥å»/etc/groupæ–‡ä»¶ä¸­æŸ¥çœ‹ $ chgrp -R 100 test6","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ26ï¼‰: chmod","slug":"linux-command-26-chmod","date":"2016-12-26T12:22:43.000Z","updated":"2024-07-05T11:10:22.901Z","comments":true,"path":"2016/12/26/linux-command-26-chmod/","permalink":"http://yelog.org/2016/12/26/linux-command-26-chmod/","excerpt":"chmodå‘½ä»¤ç”¨äºæ”¹å˜linuxç³»ç»Ÿæ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚è¯¥å‘½ä»¤æœ‰ä¸¤ç§ç”¨æ³•ã€‚ä¸€ç§æ˜¯åŒ…å«å­—æ¯å’Œæ“ä½œç¬¦è¡¨è¾¾å¼çš„æ–‡å­—è®¾å®šæ³•ï¼›å¦ä¸€ç§æ˜¯åŒ…å«æ•°å­—çš„æ•°å­—è®¾å®šæ³•ã€‚","text":"chmodå‘½ä»¤ç”¨äºæ”¹å˜linuxç³»ç»Ÿæ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚è¯¥å‘½ä»¤æœ‰ä¸¤ç§ç”¨æ³•ã€‚ä¸€ç§æ˜¯åŒ…å«å­—æ¯å’Œæ“ä½œç¬¦è¡¨è¾¾å¼çš„æ–‡å­—è®¾å®šæ³•ï¼›å¦ä¸€ç§æ˜¯åŒ…å«æ•°å­—çš„æ•°å­—è®¾å®šæ³•ã€‚ Linuxç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰è®¿é—®è®¸å¯æƒé™ï¼Œç”¨å®ƒæ¥ç¡®å®šè°å¯ä»¥é€šè¿‡ä½•ç§æ–¹å¼å¯¹æ–‡ä»¶å’Œç›®å½•è¿›è¡Œè®¿é—®å’Œæ“ä½œã€‚ æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™åˆ†ä¸ºåªè¯»ï¼Œåªå†™å’Œå¯æ‰§è¡Œä¸‰ç§ã€‚ä»¥æ–‡ä»¶ä¸ºä¾‹ï¼Œåªè¯»æƒé™è¡¨ç¤ºåªå…è®¸è¯»å…¶å†…å®¹ï¼Œè€Œç¦æ­¢å¯¹å…¶åšä»»ä½•çš„æ›´æ”¹æ“ä½œã€‚å¯æ‰§è¡Œæƒé™è¡¨ç¤ºå…è®¸å°†è¯¥æ–‡ä»¶ä½œä¸ºä¸€ä¸ªç¨‹åºæ‰§è¡Œã€‚æ–‡ä»¶è¢«åˆ›å»ºæ—¶ï¼Œæ–‡ä»¶æ‰€æœ‰è€…è‡ªåŠ¨æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶çš„è¯»ã€å†™å’Œå¯æ‰§è¡Œæƒé™ï¼Œä»¥ä¾¿äºå¯¹æ–‡ä»¶çš„é˜…è¯»å’Œä¿®æ”¹ã€‚ç”¨æˆ·ä¹Ÿå¯æ ¹æ®éœ€è¦æŠŠè®¿é—®æƒé™è®¾ç½®ä¸ºéœ€è¦çš„ä»»ä½•ç»„åˆã€‚ æœ‰ä¸‰ç§ä¸åŒç±»å‹çš„ç”¨æˆ·å¯å¯¹æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œè®¿é—®ï¼šæ–‡ä»¶æ‰€æœ‰è€…ï¼ŒåŒç»„ç”¨æˆ·ã€å…¶ä»–ç”¨æˆ·ã€‚æ‰€æœ‰è€…ä¸€èˆ¬æ˜¯æ–‡ä»¶çš„åˆ›å»ºè€…ã€‚æ‰€æœ‰è€…å¯ä»¥å…è®¸åŒç»„ç”¨æˆ·æœ‰æƒè®¿é—®æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å°†æ–‡ä»¶çš„è®¿é—®æƒé™èµ‹äºˆç³»ç»Ÿä¸­çš„å…¶ä»–ç”¨æˆ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸­æ¯ä¸€ä½ç”¨æˆ·éƒ½èƒ½è®¿é—®è¯¥ç”¨æˆ·æ‹¥æœ‰çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ æ¯ä¸€æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™éƒ½æœ‰ä¸‰ç»„ï¼Œæ¯ç»„ç”¨ä¸‰ä½è¡¨ç¤ºï¼Œåˆ†åˆ«ä¸ºæ–‡ä»¶å±ä¸»çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ï¼›ä¸å±ä¸»åŒç»„çš„ç”¨æˆ·çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ï¼›ç³»ç»Ÿä¸­å…¶ä»–ç”¨æˆ·çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ã€‚å½“ç”¨ls -lå‘½ä»¤æ˜¾ç¤ºæ–‡ä»¶æˆ–ç›®å½•çš„è¯¦ç»†ä¿¡æ¯æ—¶ï¼Œæœ€å·¦è¾¹çš„ä¸€åˆ—ä¸ºæ–‡ä»¶çš„è®¿é—®æƒé™ã€‚ ä¾‹å¦‚ï¼š $ ls -al -rw-r--r-- 1 root root 296K 11-13 06:03 log2012.log ç¬¬ä¸€åˆ—å…±æœ‰10ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦æŒ‡å®šäº†æ–‡ä»¶ç±»å‹ã€‚åœ¨é€šå¸¸æ„ä¹‰ä¸Šï¼Œä¸€ä¸ªç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¨ªçº¿ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªéç›®å½•çš„æ–‡ä»¶ã€‚å¦‚æœæ˜¯dï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªç›®å½•ã€‚ä»ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°ç¬¬åä¸ªå…±9ä¸ªå­—ç¬¦ï¼Œ3ä¸ªå­—ç¬¦ä¸€ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºäº†3ç»„ç”¨æˆ·å¯¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æƒé™ã€‚æƒé™å­—ç¬¦ç”¨æ¨ªçº¿ä»£è¡¨ç©ºè®¸å¯ï¼Œrä»£è¡¨åªè¯»ï¼Œwä»£è¡¨å†™ï¼Œxä»£è¡¨å¯æ‰§è¡Œã€‚ - rw- r-- r-- è¡¨ç¤ºlog2012.logæ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼›log2012.logçš„å±ä¸»æœ‰è¯»å†™æƒé™ï¼›ä¸log2012.logå±ä¸»åŒç»„çš„ç”¨æˆ·åªæœ‰è¯»æƒé™ï¼›å…¶ä»–ç”¨æˆ·ä¹Ÿåªæœ‰è¯»æƒé™ã€‚ ç¡®å®šäº†ä¸€ä¸ªæ–‡ä»¶çš„è®¿é—®æƒé™åï¼Œç”¨æˆ·å¯ä»¥åˆ©ç”¨Linuxç³»ç»Ÿæä¾›çš„chmodå‘½ä»¤æ¥é‡æ–°è®¾å®šä¸åŒçš„è®¿é—®æƒé™ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨chownå‘½ä»¤æ¥æ›´æ”¹æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚åˆ©ç”¨chgrpå‘½ä»¤æ¥æ›´æ”¹æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„ç”¨æˆ·ç»„ã€‚ chmodå‘½ä»¤æ˜¯éå¸¸é‡è¦çš„ï¼Œç”¨äºæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨æˆ·ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚chmodå‘½ä»¤è¯¦ç»†æƒ…å†µå¦‚ä¸‹ã€‚ å‘½ä»¤æ ¼å¼$ chmod [-cfvR] [--help] [--version] mode file å‘½ä»¤åŠŸèƒ½ç”¨äºæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ï¼Œç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -c å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠ¥å‘Šå¤„ç†ä¿¡æ¯ -f é”™è¯¯ä¿¡æ¯ä¸è¾“å‡º -R å¤„ç†æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ -v è¿è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†å¤„ç†ä¿¡æ¯ é€‰æ‹©å‚æ•° å‚æ•° æè¿° â€“reference&#x3D;&lt;ç›®å½•æˆ–è€…æ–‡ä»¶&gt; è®¾ç½®æˆå…·æœ‰æŒ‡å®šç›®å½•æˆ–è€…æ–‡ä»¶å…·æœ‰ç›¸åŒçš„æƒé™ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ &lt;æƒé™èŒƒå›´&gt;+&lt;æƒé™è®¾ç½®&gt; ä½¿æƒé™èŒƒå›´å†…çš„ç›®å½•æˆ–è€…æ–‡ä»¶å…·æœ‰æŒ‡å®šçš„æƒé™ &lt;æƒé™èŒƒå›´&gt;-&lt;æƒé™è®¾ç½®&gt; åˆ é™¤æƒé™èŒƒå›´çš„ç›®å½•æˆ–è€…æ–‡ä»¶çš„æŒ‡å®šæƒé™ &lt;æƒé™èŒƒå›´&gt;&#x3D;&lt;æƒé™è®¾ç½®&gt; è®¾ç½®æƒé™èŒƒå›´å†…çš„ç›®å½•æˆ–è€…æ–‡ä»¶çš„æƒé™ä¸ºæŒ‡å®šçš„å€¼ æƒé™èŒƒå›´ å‚æ•° æè¿° u ç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç”¨æˆ· g ç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç¾¤ç»„ o é™¤äº†ç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰ç”¨æˆ·æˆ–ç¾¤ç»„ä¹‹å¤–çš„ç”¨æˆ·æˆ–è€…ç¾¤ç»„ a æ‰€æœ‰çš„ç”¨æˆ·åŠç¾¤ç»„ æƒé™ä»£å· å‚æ•° æè¿° r è¯»æƒé™ï¼Œç”¨æ•°å­—4è¡¨ç¤º w å†™æƒé™ï¼Œç”¨æ•°å­—2è¡¨ç¤º x æ‰§è¡Œæƒé™ï¼Œç”¨æ•°å­—1è¡¨ç¤º - åˆ é™¤æƒé™ï¼Œç”¨æ•°å­—0è¡¨ç¤º s ç‰¹æ®Šæƒé™ã€‹è¯¥å‘½ä»¤æœ‰ä¸¤ç§ç”¨æ³•ã€‚ä¸€ç§æ˜¯åŒ…å«å­—æ¯å’Œæ“ä½œç¬¦è¡¨è¾¾å¼çš„æ–‡å­—è®¾å®šæ³•ï¼›å¦ä¸€ç§æ˜¯åŒ…å«æ•°å­—çš„æ•°å­—è®¾å®šæ³•ã€‚ æ–‡å­—è®¾å®šæ³• $ chmod ï¼»whoï¼½ ï¼»+ | - | =ï¼½ ï¼»modeï¼½ æ–‡ä»¶å æ•°å­—è®¾å®šæ³• æˆ‘ä»¬å¿…é¡»é¦–å…ˆäº†è§£ç”¨æ•°å­—è¡¨ç¤ºçš„å±æ€§çš„å«ä¹‰ï¼š0è¡¨ç¤ºæ²¡æœ‰æƒé™ï¼Œ1è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œ2è¡¨ç¤ºå¯å†™æƒé™ï¼Œ4è¡¨ç¤ºå¯è¯»æƒé™ï¼Œç„¶åå°†å…¶ç›¸åŠ ã€‚æ‰€ä»¥æ•°å­—å±æ€§çš„æ ¼å¼åº”ä¸º3ä¸ªä»0åˆ°7çš„å…«è¿›åˆ¶æ•°ï¼Œå…¶é¡ºåºæ˜¯ï¼ˆuï¼‰ï¼ˆgï¼‰ï¼ˆoï¼‰ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è®©æŸä¸ªæ–‡ä»¶çš„å±ä¸»æœ‰â€œè¯»&#x2F;å†™â€äºŒç§æƒé™ï¼Œéœ€è¦æŠŠ4ï¼ˆå¯è¯»ï¼‰+2ï¼ˆå¯å†™ï¼‰ï¼6ï¼ˆè¯»&#x2F;å†™ï¼‰ã€‚ æ•°å­—è®¾å®šæ³•çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š chmod ï¼»modeï¼½ æ–‡ä»¶åæ•°å­—ä¸å­—ç¬¦å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼šr&#x3D;4ï¼Œw&#x3D;2ï¼Œx&#x3D;1è‹¥è¦rwxå±æ€§åˆ™4+2+1&#x3D;7è‹¥è¦rw-å±æ€§åˆ™4+2&#x3D;6ï¼›è‹¥è¦r-xå±æ€§åˆ™4+1&#x3D;7ã€‚ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šå¢åŠ æ–‡ä»¶æ‰€æœ‰ç”¨æˆ·ç»„å¯æ‰§è¡Œæƒé™ $ chmod a+x log2012.log ä¾‹äºŒï¼šåŒæ—¶ä¿®æ”¹ä¸åŒç”¨æˆ·æƒé™ $ chmod ug+w,o-x log2012.log ä¾‹ä¸‰ï¼šåˆ é™¤æ–‡ä»¶æƒé™ $ chmod a-x log2012.log ä¾‹å››ï¼šä½¿ç”¨â€œ&#x3D;â€è®¾ç½®æƒé™ $ chmod u=x log2012.log ä¾‹äº”ï¼šå…¶ä»– # ç»™fileçš„å±ä¸»åˆ†é…è¯»ã€å†™ã€æ‰§è¡Œ(7)çš„æƒé™ï¼Œç»™fileçš„æ‰€åœ¨ç»„åˆ†é…è¯»ã€æ‰§è¡Œ(5)çš„æƒé™ï¼Œç»™å…¶ä»–ç”¨æˆ·åˆ†é…æ‰§è¡Œ(1)çš„æƒé™ $ chmod 751 file # ä¸Šä¾‹çš„å¦ä¸€ç§å½¢å¼ $ chmod u=rwx,g=rx,o=x file # ä¸ºæ‰€æœ‰ç”¨æˆ·åˆ†é…è¯»æƒé™ $ chmod =r file # åŒä¸Šä¾‹ $ chmod 444 file # åŒä¸Šä¾‹ $ chmod a-wx,a+r file","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ25ï¼‰: gzip","slug":"linux-command-25-gzip","date":"2016-12-25T08:55:15.000Z","updated":"2024-07-05T11:10:22.805Z","comments":true,"path":"2016/12/25/linux-command-25-gzip/","permalink":"http://yelog.org/2016/12/25/linux-command-25-gzip/","excerpt":"å‡å°‘æ–‡ä»¶å¤§å°æœ‰ä¸¤ä¸ªæ˜æ˜¾çš„å¥½å¤„ï¼Œä¸€æ˜¯å¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´ï¼ŒäºŒæ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“æ–‡ä»¶æ—¶ï¼Œå¯ä»¥å‡å°‘ä¼ è¾“çš„æ—¶é—´ã€‚gzipæ˜¯åœ¨Linuxç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªå¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©å’Œè§£å‹ç¼©çš„å‘½ä»¤ï¼Œæ—¢æ–¹ä¾¿åˆå¥½ç”¨ã€‚gzipä¸ä»…å¯ä»¥ç”¨æ¥å‹ç¼©å¤§çš„ã€è¾ƒå°‘ä½¿ç”¨çš„æ–‡ä»¶ä»¥èŠ‚çœç£ç›˜ç©ºé—´ï¼Œè¿˜å¯ä»¥å’Œtarå‘½ä»¤ä¸€èµ·æ„æˆLinuxæ“ä½œç³»ç»Ÿä¸­æ¯”è¾ƒæµè¡Œçš„å‹ç¼©æ–‡ä»¶æ ¼å¼ã€‚æ®ç»Ÿè®¡ï¼Œgzipå‘½ä»¤å¯¹æ–‡æœ¬æ–‡ä»¶æœ‰60%ï½70%çš„å‹ç¼©ç‡ã€‚","text":"å‡å°‘æ–‡ä»¶å¤§å°æœ‰ä¸¤ä¸ªæ˜æ˜¾çš„å¥½å¤„ï¼Œä¸€æ˜¯å¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´ï¼ŒäºŒæ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“æ–‡ä»¶æ—¶ï¼Œå¯ä»¥å‡å°‘ä¼ è¾“çš„æ—¶é—´ã€‚gzipæ˜¯åœ¨Linuxç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªå¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©å’Œè§£å‹ç¼©çš„å‘½ä»¤ï¼Œæ—¢æ–¹ä¾¿åˆå¥½ç”¨ã€‚gzipä¸ä»…å¯ä»¥ç”¨æ¥å‹ç¼©å¤§çš„ã€è¾ƒå°‘ä½¿ç”¨çš„æ–‡ä»¶ä»¥èŠ‚çœç£ç›˜ç©ºé—´ï¼Œè¿˜å¯ä»¥å’Œtarå‘½ä»¤ä¸€èµ·æ„æˆLinuxæ“ä½œç³»ç»Ÿä¸­æ¯”è¾ƒæµè¡Œçš„å‹ç¼©æ–‡ä»¶æ ¼å¼ã€‚æ®ç»Ÿè®¡ï¼Œgzipå‘½ä»¤å¯¹æ–‡æœ¬æ–‡ä»¶æœ‰60%ï½70%çš„å‹ç¼©ç‡ã€‚ å‘½ä»¤æ ¼å¼$ gzip [å‚æ•°] [æ–‡ä»¶æˆ–è€…ç›®å½•] å‘½ä»¤åŠŸèƒ½ gzipæ˜¯ä¸ªä½¿ç”¨å¹¿æ³›çš„å‹ç¼©ç¨‹åºï¼Œæ–‡ä»¶ç»å®ƒå‹ç¼©è¿‡åï¼Œå…¶åç§°åé¢ä¼šå¤šå‡ºâ€.gzâ€çš„æ‰©å±•åã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -aæˆ–â€“ascii ä½¿ç”¨ASCIIæ–‡å­—æ¨¡å¼ã€‚ -cæˆ–â€“stdoutæˆ–â€“to-stdout æŠŠå‹ç¼©åçš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼Œä¸å»æ›´åŠ¨åŸå§‹æ–‡ä»¶ã€‚ -dæˆ–â€“decompressæˆ–â€”-uncompress è§£å¼€å‹ç¼©æ–‡ä»¶ã€‚ -fæˆ–â€“force å¼ºè¡Œå‹ç¼©æ–‡ä»¶ã€‚ä¸ç†ä¼šæ–‡ä»¶åç§°æˆ–ç¡¬è¿æ¥æ˜¯å¦å­˜åœ¨ä»¥åŠè¯¥æ–‡ä»¶æ˜¯å¦ä¸ºç¬¦å·è¿æ¥ã€‚ -hæˆ–â€“help åœ¨çº¿å¸®åŠ©ã€‚ -læˆ–â€“list åˆ—å‡ºå‹ç¼©æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ã€‚ -Læˆ–â€“license æ˜¾ç¤ºç‰ˆæœ¬ä¸ç‰ˆæƒä¿¡æ¯ã€‚ -næˆ–â€“no-name å‹ç¼©æ–‡ä»¶æ—¶ï¼Œä¸ä¿å­˜åŸæ¥çš„æ–‡ä»¶åç§°åŠæ—¶é—´æˆ³è®°ã€‚ -Næˆ–â€“name å‹ç¼©æ–‡ä»¶æ—¶ï¼Œä¿å­˜åŸæ¥çš„æ–‡ä»¶åç§°åŠæ—¶é—´æˆ³è®°ã€‚ -qæˆ–â€“quiet ä¸æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ -ræˆ–â€“recursive é€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç†ã€‚ -S&lt;å‹ç¼©å­—å°¾å­—ç¬¦ä¸²&gt;æˆ–â€”-suffix&lt;å‹ç¼©å­—å°¾å­—ç¬¦ä¸²&gt; æ›´æ”¹å‹ç¼©å­—å°¾å­—ç¬¦ä¸²ã€‚ -tæˆ–â€“test æµ‹è¯•å‹ç¼©æ–‡ä»¶æ˜¯å¦æ­£ç¡®æ— è¯¯ã€‚ -væˆ–â€“verbose æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚ -Væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -num ç”¨æŒ‡å®šçš„æ•°å­—numè°ƒæ•´å‹ç¼©çš„é€Ÿåº¦ï¼Œ-1æˆ–â€“fastè¡¨ç¤ºæœ€å¿«å‹ç¼©æ–¹æ³•ï¼ˆä½å‹ç¼©æ¯”ï¼‰ï¼Œ-9æˆ–â€“bestè¡¨ç¤ºæœ€æ…¢å‹ç¼©æ–¹æ³•ï¼ˆé«˜å‹ç¼©æ¯”ï¼‰ã€‚ç³»ç»Ÿç¼ºçœå€¼ä¸º6ã€‚ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæŠŠtestç›®å½•ä¸‹çš„æ¯ä¸ªæ–‡ä»¶å‹ç¼©æˆ.gzæ–‡ä»¶ # å¿½ç•¥ç›®å½•ï¼Œåªæ‰“åŒ…å…¶ä¸­æ–‡ä»¶ $ gzip * ä¾‹äºŒï¼šæŠŠä¾‹1ä¸­æ¯ä¸ªå‹ç¼©çš„æ–‡ä»¶è§£å‹ï¼Œå¹¶åˆ—å‡ºè¯¦ç»†çš„ä¿¡æ¯ $ gzip -dv * ä¾‹ä¸‰ï¼šè¯¦ç»†æ˜¾ç¤ºä¾‹1ä¸­æ¯ä¸ªå‹ç¼©çš„æ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¹¶ä¸è§£å‹ $ gzip -l * ä¾‹å››ï¼šå‹ç¼©ä¸€ä¸ªtarå¤‡ä»½æ–‡ä»¶ï¼Œæ­¤æ—¶å‹ç¼©æ–‡ä»¶çš„æ‰©å±•åä¸º.tar.gz $ gzip -r log.tar ä¾‹äº”ï¼šé€’å½’çš„å‹ç¼©ç›®å½• $ gzip -rv test6 ä¾‹å…­ï¼šé€’å½’åœ°è§£å‹ç›®å½• $ gzip -dr test6","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"Gitä¹‹resetæ­ç§˜","slug":"git-reset","date":"2016-12-24T03:19:24.000Z","updated":"2024-07-05T11:10:22.598Z","comments":true,"path":"2016/12/24/git-reset/","permalink":"http://yelog.org/2016/12/24/git-reset/","excerpt":"æœ¬æ–‡ä¸»è¦é€‰è‡ªäºã€ŠPro Gitã€‹è¿™æœ¬ä¹¦ï¼ŒåŠ ä¸Šè‡ªå·±å¹³æ—¶ä½¿ç”¨æ—¶çš„ç†è§£æ•´ç†äºæ­¤ï¼Œä»¥æ­¤ç»™å¤§å®¶å€Ÿé‰´ã€‚æœ¬æ–‡ä¸»è¦è®¨è®º reset ä¸ checkoutã€‚å®ƒä»¬èƒ½åšå¾ˆå¤šäº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦çœŸæ­£ç†è§£ä»–ä»¬åˆ°åº•åœ¨åº•å±‚åšäº†å“ªäº›å·¥ä½œï¼Œä»¥ä¾¿èƒ½å¤Ÿæ°å½“çš„è¿ç”¨å®ƒä»¬ã€‚","text":"æœ¬æ–‡ä¸»è¦é€‰è‡ªäºã€ŠPro Gitã€‹è¿™æœ¬ä¹¦ï¼ŒåŠ ä¸Šè‡ªå·±å¹³æ—¶ä½¿ç”¨æ—¶çš„ç†è§£æ•´ç†äºæ­¤ï¼Œä»¥æ­¤ç»™å¤§å®¶å€Ÿé‰´ã€‚æœ¬æ–‡ä¸»è¦è®¨è®º reset ä¸ checkoutã€‚å®ƒä»¬èƒ½åšå¾ˆå¤šäº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦çœŸæ­£ç†è§£ä»–ä»¬åˆ°åº•åœ¨åº•å±‚åšäº†å“ªäº›å·¥ä½œï¼Œä»¥ä¾¿èƒ½å¤Ÿæ°å½“çš„è¿ç”¨å®ƒä»¬ã€‚ ä¸‰æ£µæ ‘ç†è§£ reset å’Œ checkout çš„æœ€ç®€æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ Git çš„æ€ç»´æ¡†æ¶ï¼ˆå°†å…¶ä½œä¸ºå†…å®¹ç®¡ç†å™¨ï¼‰æ¥ç®¡ç†ä¸‰æ£µä¸åŒçš„æ ‘ã€‚ â€œæ ‘â€ åœ¨æˆ‘ä»¬è¿™é‡Œçš„å®é™…æ„æ€æ˜¯ â€œæ–‡ä»¶çš„é›†åˆâ€ï¼Œè€Œä¸æ˜¯æŒ‡ç‰¹å®šçš„æ•°æ®ç»“æ„ã€‚ ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ç´¢å¼•çœ‹èµ·æ¥å¹¶ä¸åƒä¸€æ£µæ ‘ï¼Œä¸è¿‡æˆ‘ä»¬ç°åœ¨çš„ç›®çš„æ˜¯ç”¨ç®€å•çš„æ–¹å¼æ€è€ƒå®ƒã€‚ï¼‰ æ ‘ æè¿° HEAD ä¸Šä¸€æ¬¡æäº¤çš„å¿«ç…§ï¼Œä¸‹ä¸€æ¬¡æäº¤çš„çˆ¶ç»“ç‚¹ Index é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤çš„å¿«ç…§ Working Directory æ²™ç›’ HEADHEAD æ˜¯å½“å‰åˆ†æ”¯å¼•ç”¨çš„æŒ‡é’ˆï¼Œå®ƒæ€»æ˜¯æŒ‡å‘è¯¥åˆ†æ”¯ä¸Šçš„æœ€åä¸€æ¬¡æäº¤ã€‚ è¿™è¡¨ç¤º HEAD å°†æ˜¯ä¸‹ä¸€æ¬¡æäº¤çš„çˆ¶ç»“ç‚¹ã€‚ é€šå¸¸ï¼Œç†è§£ HEAD çš„æœ€ç®€æ–¹å¼ï¼Œå°±æ˜¯å°†å®ƒçœ‹åš ä½ çš„ä¸Šä¸€æ¬¡æäº¤ çš„å¿«ç…§ã€‚ å…¶å®ï¼ŒæŸ¥çœ‹å¿«ç…§çš„æ ·å­å¾ˆå®¹æ˜“ã€‚ ä¸‹ä¾‹å°±æ˜¾ç¤ºäº† HEAD å¿«ç…§å®é™…çš„ç›®å½•åˆ—è¡¨ï¼Œä»¥åŠå…¶ä¸­æ¯ä¸ªæ–‡ä»¶çš„ SHA-1 æ ¡éªŒå’Œï¼š $ git cat-file -p HEAD tree cfda3bf379e4f8dba8717dee55aab78aef7f4daf author Scott Chacon 1301511835 -0700 committer Scott Chacon 1301511835 -0700 initial commit $ git ls-tree -r HEAD 100644 blob a906cb2a4a904a152... README 100644 blob 8f94139338f9404f2... Rakefile 040000 tree 99f1a6d12cb4b6f19... lib cat-file ä¸ ls-tree æ˜¯åº•å±‚å‘½ä»¤ï¼Œå®ƒä»¬ä¸€èˆ¬ç”¨äºåº•å±‚å·¥ä½œï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­å¹¶ä¸ä½¿ç”¨ã€‚ä¸è¿‡å®ƒä»¬èƒ½å¸®åŠ©æˆ‘ä»¬äº†è§£åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚ ç´¢å¼•(Index)ç´¢å¼•æ˜¯ä½ çš„ é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤ã€‚ æˆ‘ä»¬ä¹Ÿä¼šå°†è¿™ä¸ªæ¦‚å¿µå¼•ç”¨ä¸º Git çš„ â€œæš‚å­˜åŒºåŸŸâ€ï¼Œè¿™å°±æ˜¯å½“ä½ è¿è¡Œ git commit æ—¶ Git çœ‹èµ·æ¥çš„æ ·å­ã€‚ Git å°†ä¸Šä¸€æ¬¡æ£€å‡ºåˆ°å·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å¡«å……åˆ°ç´¢å¼•åŒºï¼Œå®ƒä»¬çœ‹èµ·æ¥å°±åƒæœ€åˆè¢«æ£€å‡ºæ—¶çš„æ ·å­ã€‚ ä¹‹åä½ ä¼šå°†å…¶ä¸­ä¸€äº›æ–‡ä»¶æ›¿æ¢ä¸ºæ–°ç‰ˆæœ¬ï¼Œæ¥ç€é€šè¿‡ git commit å°†å®ƒä»¬è½¬æ¢ä¸ºæ ‘æ¥ç”¨ä½œæ–°çš„æäº¤ã€‚ $ git ls-files -s 100644 a906cb2a4a904a152e80877d4088654daad0c859 0 README 100644 8f94139338f9404f26296befa88755fc2598c289 0 Rakefile 100644 47c6340d6459e05787f644c2447d2595f5d3a54b 0 lib/simplegit.rb å†è¯´ä¸€æ¬¡ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåˆç”¨åˆ°äº† ls-files è¿™ä¸ªå¹•åçš„å‘½ä»¤ï¼Œå®ƒä¼šæ˜¾ç¤ºå‡ºç´¢å¼•å½“å‰çš„æ ·å­ã€‚ ç¡®åˆ‡æ¥è¯´ï¼Œç´¢å¼•å¹¶éæŠ€æœ¯ä¸Šçš„æ ‘ç»“æ„ï¼Œå®ƒå…¶å®æ˜¯ä»¥æ‰å¹³çš„æ¸…å•å®ç°çš„ã€‚ä¸è¿‡å¯¹æˆ‘ä»¬è€Œè¨€ï¼ŒæŠŠå®ƒå½“åšæ ‘å°±å¤Ÿäº†ã€‚ å·¥ä½œç›®å½•(Working Directory)æœ€åï¼Œä½ å°±æœ‰äº†è‡ªå·±çš„å·¥ä½œç›®å½•ã€‚ å¦å¤–ä¸¤æ£µæ ‘ä»¥ä¸€ç§é«˜æ•ˆä½†å¹¶ä¸ç›´è§‚çš„æ–¹å¼ï¼Œå°†å®ƒä»¬çš„å†…å®¹å­˜å‚¨åœ¨ .git æ–‡ä»¶å¤¹ä¸­ã€‚ å·¥ä½œç›®å½•ä¼šå°†å®ƒä»¬è§£åŒ…ä¸ºå®é™…çš„æ–‡ä»¶ä»¥ä¾¿ç¼–è¾‘ã€‚ ä½ å¯ä»¥æŠŠå·¥ä½œç›®å½•å½“åš æ²™ç›’ã€‚åœ¨ä½ å°†ä¿®æ”¹æäº¤åˆ°æš‚å­˜åŒºå¹¶è®°å½•åˆ°å†å²ä¹‹å‰ï¼Œå¯ä»¥éšæ„æ›´æ”¹ã€‚ $ tree . â”œâ”€â”€ README â”œâ”€â”€ Rakefile â””â”€â”€ lib â””â”€â”€ simplegit.rb 1 directory, 3 files å·¥ä½œæµç¨‹Git ä¸»è¦çš„ç›®çš„æ˜¯é€šè¿‡æ“çºµè¿™ä¸‰æ£µæ ‘æ¥ä»¥æ›´åŠ è¿ç»­çš„çŠ¶æ€è®°å½•é¡¹ç›®çš„å¿«ç…§ã€‚è®©æˆ‘ä»¬æ¥å¯è§†åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼šå‡è®¾æˆ‘ä»¬è¿›å…¥åˆ°ä¸€ä¸ªæ–°ç›®å½•ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ã€‚ æˆ‘ä»¬ç§°å…¶ä¸ºè¯¥æ–‡ä»¶çš„ v1 ç‰ˆæœ¬ï¼Œå°†å®ƒæ ‡è®°ä¸ºè“è‰²ã€‚ ç°åœ¨è¿è¡Œ git initï¼Œè¿™ä¼šåˆ›å»ºä¸€ä¸ª Git ä»“åº“ï¼Œå…¶ä¸­çš„ HEAD å¼•ç”¨æŒ‡å‘æœªåˆ›å»ºçš„åˆ†æ”¯ï¼ˆmaster è¿˜ä¸å­˜åœ¨ï¼‰ã€‚æ­¤æ—¶ï¼Œåªæœ‰å·¥ä½œç›®å½•æœ‰å†…å®¹ã€‚ ç°åœ¨æˆ‘ä»¬æƒ³è¦æäº¤è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ç”¨ git add æ¥è·å–å·¥ä½œç›®å½•ä¸­çš„å†…å®¹ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°ç´¢å¼•ä¸­ã€‚æ¥ç€è¿è¡Œ git commitï¼Œå®ƒé¦–å…ˆä¼šç§»é™¤ç´¢å¼•ä¸­çš„å†…å®¹å¹¶å°†å®ƒä¿å­˜ä¸ºä¸€ä¸ªæ°¸ä¹…çš„å¿«ç…§ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥å¿«ç…§çš„æäº¤å¯¹è±¡ï¼Œæœ€åæ›´æ–° master æ¥æŒ‡å‘æœ¬æ¬¡æäº¤ã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬è¿è¡Œ git statusï¼Œä¼šå‘ç°æ²¡æœ‰ä»»ä½•æ”¹åŠ¨ï¼Œå› ä¸ºç°åœ¨ä¸‰æ£µæ ‘å®Œå…¨ç›¸åŒã€‚ ç°åœ¨æˆ‘ä»¬æƒ³è¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ç„¶åæäº¤å®ƒã€‚ æˆ‘ä»¬å°†ä¼šç»å†åŒæ ·çš„è¿‡ç¨‹ï¼›é¦–å…ˆåœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶ã€‚ æˆ‘ä»¬ç§°å…¶ä¸ºè¯¥æ–‡ä»¶çš„ v2 ç‰ˆæœ¬ï¼Œå¹¶å°†å®ƒæ ‡è®°ä¸ºçº¢è‰²ã€‚å¦‚æœç°åœ¨è¿è¡Œ git statusï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æ–‡ä»¶æ˜¾ç¤ºåœ¨ â€œChanges not staged for commit,â€ ä¸‹é¢å¹¶è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œå› ä¸ºè¯¥æ¡ç›®åœ¨ç´¢å¼•ä¸å·¥ä½œç›®å½•ä¹‹é—´å­˜åœ¨ä¸åŒã€‚ æ¥ç€æˆ‘ä»¬è¿è¡Œ git add æ¥å°†å®ƒæš‚å­˜åˆ°ç´¢å¼•ä¸­ã€‚æ­¤æ—¶ï¼Œç”±äºç´¢å¼•å’Œ HEAD ä¸åŒï¼Œè‹¥è¿è¡Œ git status çš„è¯å°±ä¼šçœ‹åˆ° â€œChanges to be committedâ€ ä¸‹çš„è¯¥æ–‡ä»¶å˜ä¸ºç»¿è‰² â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤ä¸ä¸Šä¸€æ¬¡æäº¤ä¸åŒã€‚ æœ€åï¼Œæˆ‘ä»¬è¿è¡Œ git commit æ¥å®Œæˆæäº¤ã€‚ç°åœ¨è¿è¡Œ git status ä¼šæ²¡æœ‰è¾“å‡ºï¼Œå› ä¸ºä¸‰æ£µæ ‘åˆå˜å¾—ç›¸åŒäº†ã€‚ åˆ‡æ¢åˆ†æ”¯æˆ–å…‹éš†çš„è¿‡ç¨‹ä¹Ÿç±»ä¼¼ã€‚ å½“æ£€å‡ºä¸€ä¸ªåˆ†æ”¯æ—¶ï¼Œå®ƒä¼šä¿®æ”¹ HEAD æŒ‡å‘æ–°çš„åˆ†æ”¯å¼•ç”¨ï¼Œå°† ç´¢å¼• å¡«å……ä¸ºè¯¥æ¬¡æäº¤çš„å¿«ç…§ï¼Œç„¶åå°† ç´¢å¼• çš„å†…å®¹å¤åˆ¶åˆ° å·¥ä½œç›®å½• ä¸­ã€‚ é‡ç½®çš„ä½œç”¨åœ¨ä»¥ä¸‹æƒ…æ™¯ä¸­è§‚å¯Ÿ reset å‘½ä»¤ä¼šæ›´æœ‰æ„ä¹‰ã€‚ ä¸ºäº†æ¼”ç¤ºè¿™äº›ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬å†æ¬¡ä¿®æ”¹äº† file.txt æ–‡ä»¶å¹¶ç¬¬ä¸‰æ¬¡æäº¤å®ƒã€‚ ç°åœ¨çš„å†å²çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼šè®©æˆ‘ä»¬è·Ÿç€ reset çœ‹çœ‹å®ƒéƒ½åšäº†ä»€ä¹ˆã€‚ å®ƒä»¥ä¸€ç§ç®€å•å¯é¢„è§çš„æ–¹å¼ç›´æ¥æ“çºµè¿™ä¸‰æ£µæ ‘ã€‚ å®ƒåšäº†ä¸‰ä¸ªåŸºæœ¬æ“ä½œã€‚ 1.ç§»åŠ¨ HEADreset åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ç§»åŠ¨ HEAD çš„æŒ‡å‘ã€‚ è¿™ä¸æ”¹å˜ HEAD è‡ªèº«ä¸åŒï¼ˆcheckout æ‰€åšçš„ï¼‰ï¼›reset ç§»åŠ¨ HEAD æŒ‡å‘çš„åˆ†æ”¯ã€‚ è¿™æ„å‘³ç€å¦‚æœ HEAD è®¾ç½®ä¸º master åˆ†æ”¯ï¼ˆä¾‹å¦‚ï¼Œä½ æ­£åœ¨ master åˆ†æ”¯ä¸Šï¼‰ï¼Œè¿è¡Œ git reset 9e5e64a å°†ä¼šä½¿ master æŒ‡å‘ 9e5e64aã€‚æ— è®ºä½ è°ƒç”¨äº†ä½•ç§å½¢å¼çš„å¸¦æœ‰ä¸€ä¸ªæäº¤çš„ resetï¼Œå®ƒé¦–å…ˆéƒ½ä¼šå°è¯•è¿™æ ·åšã€‚ ä½¿ç”¨ reset --softï¼Œå®ƒå°†ä»…ä»…åœåœ¨é‚£å„¿ã€‚ ç°åœ¨çœ‹ä¸€çœ¼ä¸Šå›¾ï¼Œç†è§£ä¸€ä¸‹å‘ç”Ÿçš„äº‹æƒ…ï¼šå®ƒæœ¬è´¨ä¸Šæ˜¯æ’¤é”€äº†ä¸Šä¸€æ¬¡ git commit å‘½ä»¤ã€‚ å½“ä½ åœ¨è¿è¡Œ git commit æ—¶ï¼ŒGit ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œå¹¶ç§»åŠ¨ HEAD æ‰€æŒ‡å‘çš„åˆ†æ”¯æ¥ä½¿å…¶æŒ‡å‘è¯¥æäº¤ã€‚ å½“ä½ å°†å®ƒ reset å› HEAD~ï¼ˆHEAD çš„çˆ¶ç»“ç‚¹ï¼‰æ—¶ï¼Œå…¶å®å°±æ˜¯æŠŠè¯¥åˆ†æ”¯ç§»åŠ¨å›åŸæ¥çš„ä½ç½®ï¼Œè€Œä¸ä¼šæ”¹å˜ç´¢å¼•å’Œå·¥ä½œç›®å½•ã€‚ ç°åœ¨ä½ å¯ä»¥æ›´æ–°ç´¢å¼•å¹¶å†æ¬¡è¿è¡Œ git commit æ¥å®Œæˆ git commit --amend æ‰€è¦åšçš„äº‹æƒ…äº†ã€‚ 2.æ›´æ–°ç´¢å¼•(â€“mixed)æ³¨æ„ï¼Œå¦‚æœä½ ç°åœ¨è¿è¡Œ git status çš„è¯ï¼Œå°±ä¼šçœ‹åˆ°æ–°çš„ HEAD å’Œä»¥ç»¿è‰²æ ‡å‡ºçš„å®ƒå’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ã€‚ æ¥ä¸‹æ¥ï¼Œreset ä¼šç”¨ HEAD æŒ‡å‘çš„å½“å‰å¿«ç…§çš„å†…å®¹æ¥æ›´æ–°ç´¢å¼•ã€‚å¦‚æœæŒ‡å®š --mixed é€‰é¡¹ï¼Œreset å°†ä¼šåœ¨è¿™æ—¶åœæ­¢ã€‚ è¿™ä¹Ÿæ˜¯é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰æŒ‡å®šä»»ä½•é€‰é¡¹ï¼ˆåœ¨æœ¬ä¾‹ä¸­åªæ˜¯ git reset HEAD~ï¼‰ï¼Œè¿™å°±æ˜¯å‘½ä»¤å°†ä¼šåœæ­¢çš„åœ°æ–¹ã€‚ ç°åœ¨å†çœ‹ä¸€çœ¼ä¸Šå›¾ï¼Œç†è§£ä¸€ä¸‹å‘ç”Ÿçš„äº‹æƒ…ï¼šå®ƒä¾ç„¶ä¼šæ’¤é”€ä¸€ä¸Šæ¬¡ æäº¤ï¼Œä½†è¿˜ä¼š å–æ¶ˆæš‚å­˜ æ‰€æœ‰çš„ä¸œè¥¿ã€‚ äºæ˜¯ï¼Œæˆ‘ä»¬å›æ»šåˆ°äº†æ‰€æœ‰ git add å’Œ git commit çš„å‘½ä»¤æ‰§è¡Œä¹‹å‰ã€‚ 3.æ›´æ–°å·¥ä½œç›®å½•reset è¦åšçš„çš„ç¬¬ä¸‰ä»¶äº‹æƒ…å°±æ˜¯è®©å·¥ä½œç›®å½•çœ‹èµ·æ¥åƒç´¢å¼•ã€‚ å¦‚æœä½¿ç”¨ â€“hard é€‰é¡¹ï¼Œå®ƒå°†ä¼šç»§ç»­è¿™ä¸€æ­¥ã€‚ç°åœ¨è®©æˆ‘ä»¬å›æƒ³ä¸€ä¸‹åˆšæ‰å‘ç”Ÿçš„äº‹æƒ…ã€‚ ä½ æ’¤é”€äº†æœ€åçš„æäº¤ã€git add å’Œ git commit å‘½ä»¤ä»¥åŠå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰å·¥ä½œã€‚ å¿…é¡»æ³¨æ„ï¼Œ--hard æ ‡è®°æ˜¯ reset å‘½ä»¤å”¯ä¸€çš„å±é™©ç”¨æ³•ï¼Œå®ƒä¹Ÿæ˜¯ Git ä¼šçœŸæ­£åœ°é”€æ¯æ•°æ®çš„ä»…æœ‰çš„å‡ ä¸ªæ“ä½œä¹‹ä¸€ã€‚ å…¶ä»–ä»»ä½•å½¢å¼çš„ reset è°ƒç”¨éƒ½å¯ä»¥è½»æ¾æ’¤æ¶ˆï¼Œä½†æ˜¯ --hard é€‰é¡¹ä¸èƒ½ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶è¦†ç›–äº†å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚ åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ Git æ•°æ®åº“ä¸­çš„ä¸€ä¸ªæäº¤å†…è¿˜ç•™æœ‰è¯¥æ–‡ä»¶çš„ v3 ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ reflog æ¥æ‰¾å›å®ƒã€‚ä½†æ˜¯è‹¥è¯¥æ–‡ä»¶è¿˜æœªæäº¤ï¼ŒGit ä»ä¼šè¦†ç›–å®ƒä»è€Œå¯¼è‡´æ— æ³•æ¢å¤ã€‚ å›é¡¾reset å‘½ä»¤ä¼šä»¥ç‰¹å®šçš„é¡ºåºé‡å†™è¿™ä¸‰æ£µæ ‘ï¼Œåœ¨ä½ æŒ‡å®šä»¥ä¸‹é€‰é¡¹æ—¶åœæ­¢ï¼š ç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ ï¼ˆè‹¥æŒ‡å®šäº† --softï¼Œåˆ™åˆ°æ­¤åœæ­¢ï¼‰ ä½¿ç´¢å¼•çœ‹èµ·æ¥åƒ HEAD ï¼ˆä¸å¸¦å‚æ•°æˆ– --mixedï¼Œåˆ™åˆ°æ­¤åœæ­¢ï¼‰ ä½¿å·¥ä½œç›®å½•çœ‹èµ·æ¥åƒç´¢å¼• (æŒ‡å®šäº† --hard) é€šè¿‡è·¯å¾„æ¥é‡ç½®å‰é¢è®²è¿°äº† reset åŸºæœ¬å½¢å¼çš„è¡Œä¸ºï¼Œä¸è¿‡ä½ è¿˜å¯ä»¥ç»™å®ƒæä¾›ä¸€ä¸ªä½œç”¨è·¯å¾„ã€‚ è‹¥æŒ‡å®šäº†ä¸€ä¸ªè·¯å¾„ï¼Œreset å°†ä¼šè·³è¿‡ç¬¬ 1 æ­¥ï¼Œå¹¶ä¸”å°†å®ƒçš„ä½œç”¨èŒƒå›´é™å®šä¸ºæŒ‡å®šçš„æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆã€‚ è¿™æ ·åšè‡ªç„¶æœ‰å®ƒçš„é“ç†ï¼Œå› ä¸º HEAD åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½ æ— æ³•è®©å®ƒåŒæ—¶æŒ‡å‘ä¸¤ä¸ªæäº¤ä¸­å„è‡ªçš„ä¸€éƒ¨åˆ†ã€‚ ä¸è¿‡ç´¢å¼•å’Œå·¥ä½œç›®å½• å¯ä»¥éƒ¨åˆ†æ›´æ–°ï¼Œæ‰€ä»¥é‡ç½®ä¼šç»§ç»­è¿›è¡Œç¬¬ 2ã€3 æ­¥ã€‚ ç°åœ¨ï¼Œå‡å¦‚æˆ‘ä»¬è¿è¡Œ git reset file.txt ï¼ˆè¿™å…¶å®æ˜¯ git reset --mixed HEAD file.txt çš„ç®€å†™å½¢å¼ï¼Œå› ä¸ºä½ æ—¢æ²¡æœ‰æŒ‡å®šä¸€ä¸ªæäº¤çš„ SHA-1 æˆ–åˆ†æ”¯ï¼Œä¹Ÿæ²¡æœ‰æŒ‡å®š --soft æˆ– --hardï¼‰ï¼Œå®ƒä¼šï¼š ç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ ï¼ˆå·²è·³è¿‡ï¼‰ è®©ç´¢å¼•çœ‹èµ·æ¥åƒ HEAD ï¼ˆåˆ°æ­¤å¤„åœæ­¢ï¼‰ æ‰€ä»¥å®ƒæœ¬è´¨ä¸Šåªæ˜¯å°† file.txt ä» HEAD å¤åˆ¶åˆ°ç´¢å¼•ä¸­ã€‚å®ƒè¿˜æœ‰ å–æ¶ˆæš‚å­˜æ–‡ä»¶ çš„å®é™…æ•ˆæœã€‚ å¦‚æœæˆ‘ä»¬æŸ¥çœ‹è¯¥å‘½ä»¤çš„ç¤ºæ„å›¾ï¼Œç„¶åå†æƒ³æƒ³ git add æ‰€åšçš„äº‹ï¼Œå°±ä¼šå‘ç°å®ƒä»¬æ­£å¥½ç›¸åã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ git status å‘½ä»¤çš„è¾“å‡ºä¼šå»ºè®®è¿è¡Œæ­¤å‘½ä»¤æ¥å–æ¶ˆæš‚å­˜ä¸€ä¸ªæ–‡ä»¶ã€‚ ï¼ˆæŸ¥çœ‹ å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶ æ¥äº†è§£æ›´å¤šã€‚ï¼‰ æˆ‘ä»¬å¯ä»¥ä¸è®© Git ä» HEAD æ‹‰å–æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡å…·ä½“æŒ‡å®šä¸€ä¸ªæäº¤æ¥æ‹‰å–è¯¥æ–‡ä»¶çš„å¯¹åº”ç‰ˆæœ¬ã€‚ æˆ‘ä»¬åªéœ€è¿è¡Œç±»ä¼¼äº git reset eb43bf file.txt çš„å‘½ä»¤å³å¯ã€‚å®ƒå…¶å®åšäº†åŒæ ·çš„äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯æŠŠå·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶æ¢å¤åˆ° v1 ç‰ˆæœ¬ï¼Œè¿è¡Œ git add æ·»åŠ å®ƒï¼Œç„¶åå†å°†å®ƒæ¢å¤åˆ° v3 ç‰ˆæœ¬ï¼ˆåªæ˜¯ä¸ç”¨çœŸçš„è¿‡ä¸€éè¿™äº›æ­¥éª¤ï¼‰ã€‚ å¦‚æœæˆ‘ä»¬ç°åœ¨è¿è¡Œ git commitï¼Œå®ƒå°±ä¼šè®°å½•ä¸€æ¡â€œå°†è¯¥æ–‡ä»¶æ¢å¤åˆ° v1 ç‰ˆæœ¬â€çš„æ›´æ”¹ï¼Œå°½ç®¡æˆ‘ä»¬å¹¶æœªåœ¨å·¥ä½œç›®å½•ä¸­çœŸæ­£åœ°å†æ¬¡æ‹¥æœ‰å®ƒã€‚ è¿˜æœ‰ä¸€ç‚¹åŒ git add ä¸€æ ·ï¼Œå°±æ˜¯ reset å‘½ä»¤ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ª --patch é€‰é¡¹æ¥ä¸€å—ä¸€å—åœ°å–æ¶ˆæš‚å­˜çš„å†…å®¹ã€‚ è¿™æ ·ä½ å°±å¯ä»¥æ ¹æ®é€‰æ‹©æ¥å–æ¶ˆæš‚å­˜æˆ–æ¢å¤å†…å®¹äº†ã€‚ å‹ç¼©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åˆ©ç”¨è¿™ç§æ–°çš„åŠŸèƒ½æ¥åšä¸€äº›æœ‰è¶£çš„äº‹æƒ… - å‹ç¼©æäº¤ã€‚ å‡è®¾ä½ çš„ä¸€ç³»åˆ—æäº¤ä¿¡æ¯ä¸­æœ‰ â€œoops.â€ã€â€œWIPâ€ å’Œ â€œforgot this fileâ€ï¼Œ èªæ˜çš„ä½ å°±èƒ½ä½¿ç”¨ reset æ¥è½»æ¾å¿«é€Ÿåœ°å°†å®ƒä»¬å‹ç¼©æˆå•ä¸ªæäº¤ï¼Œä¹Ÿæ˜¾å‡ºä½ çš„èªæ˜ã€‚ ï¼ˆå‹ç¼©æäº¤ å±•ç¤ºäº†å¦ä¸€ç§æ–¹å¼ï¼Œä¸è¿‡åœ¨æœ¬ä¾‹ä¸­ç”¨ reset æ›´ç®€å•ã€‚ï¼‰ å‡è®¾ä½ æœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œç¬¬ä¸€æ¬¡æäº¤ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡æäº¤å¢åŠ äº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¹¶ä¿®æ”¹äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸‰æ¬¡æäº¤å†æ¬¡ä¿®æ”¹äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚ ç”±äºç¬¬äºŒæ¬¡æäº¤æ˜¯ä¸€ä¸ªæœªå®Œæˆçš„å·¥ä½œï¼Œå› æ­¤ä½ æƒ³è¦å‹ç¼©å®ƒã€‚é‚£ä¹ˆå¯ä»¥è¿è¡Œ git reset --soft HEAD~2 æ¥å°† HEAD åˆ†æ”¯ç§»åŠ¨åˆ°ä¸€ä¸ªæ—§ä¸€ç‚¹çš„æäº¤ä¸Šï¼ˆå³ä½ æƒ³è¦ä¿ç•™çš„ç¬¬ä¸€ä¸ªæäº¤ï¼‰ï¼šç„¶ååªéœ€å†æ¬¡è¿è¡Œ git commitï¼šç°åœ¨ä½ å¯ä»¥æŸ¥çœ‹å¯åˆ°è¾¾çš„å†å²ï¼Œå³å°†ä¼šæ¨é€çš„å†å²ï¼Œç°åœ¨çœ‹èµ·æ¥æœ‰ä¸ª v1 ç‰ˆ file-a.txt çš„æäº¤ï¼Œæ¥ç€ç¬¬äºŒä¸ªæäº¤å°† file-a.txt ä¿®æ”¹æˆäº† v3 ç‰ˆå¹¶å¢åŠ äº† file-b.txtã€‚ åŒ…å« v2 ç‰ˆæœ¬çš„æ–‡ä»¶å·²ç»ä¸åœ¨å†å²ä¸­äº†ã€‚ checkoutæœ€åï¼Œä½ å¤§æ¦‚è¿˜æƒ³çŸ¥é“ checkout å’Œ reset ä¹‹é—´çš„åŒºåˆ«ã€‚ å’Œ reset ä¸€æ ·ï¼Œcheckout ä¹Ÿæ“çºµä¸‰æ£µæ ‘ï¼Œä¸è¿‡å®ƒæœ‰ä¸€ç‚¹ä¸åŒï¼Œè¿™å–å†³äºä½ æ˜¯å¦ä¼ ç»™è¯¥å‘½ä»¤ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚ ä¸å¸¦è·¯å¾„è¿è¡Œ git checkout [branch] ä¸è¿è¡Œ git reset --hard [branch] éå¸¸ç›¸ä¼¼ï¼Œå®ƒä¼šæ›´æ–°æ‰€æœ‰ä¸‰æ£µæ ‘ä½¿å…¶çœ‹èµ·æ¥åƒ [branch]ï¼Œä¸è¿‡æœ‰ä¸¤ç‚¹é‡è¦çš„åŒºåˆ«ã€‚ é¦–å…ˆä¸åŒäº reset --hardï¼Œcheckout å¯¹å·¥ä½œç›®å½•æ˜¯å®‰å…¨çš„ï¼Œå®ƒä¼šé€šè¿‡æ£€æŸ¥æ¥ç¡®ä¿ä¸ä¼šå°†å·²æ›´æ”¹çš„æ–‡ä»¶å¹èµ°ã€‚ å…¶å®å®ƒè¿˜æ›´èªæ˜ä¸€äº›ã€‚å®ƒä¼šåœ¨å·¥ä½œç›®å½•ä¸­å…ˆè¯•ç€ç®€å•åˆå¹¶ä¸€ä¸‹ï¼Œè¿™æ ·æ‰€æœ‰_è¿˜æœªä¿®æ”¹è¿‡çš„_æ–‡ä»¶éƒ½ä¼šè¢«æ›´æ–°ã€‚ è€Œ reset --hard åˆ™ä¼šä¸åšæ£€æŸ¥å°±å…¨é¢åœ°æ›¿æ¢æ‰€æœ‰ä¸œè¥¿ã€‚ ç¬¬äºŒä¸ªé‡è¦çš„åŒºåˆ«æ˜¯å¦‚ä½•æ›´æ–° HEADã€‚ reset ä¼šç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ï¼Œè€Œ checkout åªä¼šç§»åŠ¨ HEAD è‡ªèº«æ¥æŒ‡å‘å¦ä¸€ä¸ªåˆ†æ”¯ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ master å’Œ develop åˆ†æ”¯ï¼Œå®ƒä»¬åˆ†åˆ«æŒ‡å‘ä¸åŒçš„æäº¤ï¼›æˆ‘ä»¬ç°åœ¨åœ¨ develop ä¸Šï¼ˆæ‰€ä»¥ HEAD æŒ‡å‘å®ƒï¼‰ã€‚ å¦‚æœæˆ‘ä»¬è¿è¡Œ git reset masterï¼Œé‚£ä¹ˆ develop è‡ªèº«ç°åœ¨ä¼šå’Œ master æŒ‡å‘åŒä¸€ä¸ªæäº¤ã€‚ è€Œå¦‚æœæˆ‘ä»¬è¿è¡Œ git checkout master çš„è¯ï¼Œdevelop ä¸ä¼šç§»åŠ¨ï¼ŒHEAD è‡ªèº«ä¼šç§»åŠ¨ã€‚ ç°åœ¨ HEAD å°†ä¼šæŒ‡å‘ masterã€‚ æ‰€ä»¥ï¼Œè™½ç„¶åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹æˆ‘ä»¬éƒ½ç§»åŠ¨ HEAD ä½¿å…¶æŒ‡å‘äº†æäº¤ Aï¼Œä½†_åšæ³•_æ˜¯éå¸¸ä¸åŒçš„ã€‚ reset ä¼šç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ï¼Œè€Œ checkout åˆ™ç§»åŠ¨ HEAD è‡ªèº«ã€‚ å¸¦è·¯å¾„è¿è¡Œ checkout çš„å¦ä¸€ç§æ–¹å¼å°±æ˜¯æŒ‡å®šä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œè¿™ä¼šåƒ reset ä¸€æ ·ä¸ä¼šç§»åŠ¨ HEADã€‚ å®ƒå°±åƒ git reset [branch] file é‚£æ ·ç”¨è¯¥æ¬¡æäº¤ä¸­çš„é‚£ä¸ªæ–‡ä»¶æ¥æ›´æ–°ç´¢å¼•ï¼Œä½†æ˜¯å®ƒä¹Ÿä¼šè¦†ç›–å·¥ä½œç›®å½•ä¸­å¯¹åº”çš„æ–‡ä»¶ã€‚ å®ƒå°±åƒæ˜¯ git reset --hard [branch] fileï¼ˆå¦‚æœ reset å…è®¸ä½ è¿™æ ·è¿è¡Œçš„è¯ï¼‰- è¿™æ ·å¯¹å·¥ä½œç›®å½•å¹¶ä¸å®‰å…¨ï¼Œå®ƒä¹Ÿä¸ä¼šç§»åŠ¨ HEADã€‚ æ­¤å¤–ï¼ŒåŒ git reset å’Œ git add ä¸€æ ·ï¼Œcheckout ä¹Ÿæ¥å—ä¸€ä¸ª â€“patch é€‰é¡¹ï¼Œå…è®¸ä½ æ ¹æ®é€‰æ‹©ä¸€å—ä¸€å—åœ°æ¢å¤æ–‡ä»¶å†…å®¹ã€‚ æ€»ç»“å¸Œæœ›ä½ ç°åœ¨ç†Ÿæ‚‰å¹¶ç†è§£äº† reset å‘½ä»¤ï¼Œä¸è¿‡å…³äºå®ƒå’Œ checkout ä¹‹é—´çš„åŒºåˆ«ï¼Œä½ å¯èƒ½è¿˜æ˜¯ä¼šæœ‰ç‚¹å›°æƒ‘ï¼Œæ¯•ç«Ÿä¸å¤ªå¯èƒ½è®°ä½ä¸åŒè°ƒç”¨çš„æ‰€æœ‰è§„åˆ™ã€‚ ä¸‹é¢çš„é€ŸæŸ¥è¡¨åˆ—å‡ºäº†å‘½ä»¤å¯¹æ ‘çš„å½±å“ã€‚ â€œHEADâ€ ä¸€åˆ—ä¸­çš„ â€œREFâ€ è¡¨ç¤ºè¯¥å‘½ä»¤ç§»åŠ¨äº† HEAD æŒ‡å‘çš„åˆ†æ”¯å¼•ç”¨ï¼Œè€Œâ€˜HEADâ€™ åˆ™è¡¨ç¤ºåªç§»åŠ¨äº† HEAD è‡ªèº«ã€‚ ç‰¹åˆ«æ³¨æ„ WD Safe? ä¸€åˆ— - å¦‚æœå®ƒæ ‡è®°ä¸º NOï¼Œé‚£ä¹ˆè¿è¡Œè¯¥å‘½ä»¤ä¹‹å‰è¯·è€ƒè™‘ä¸€ä¸‹ã€‚ **head****index****workdir****wd safe****commit level**`reset --soft [commit]`refnonoyes`reset [commit]`refyesnoyes`reset --hard [commit]`refyesyesno`checkout [commit]`headyesyesyes**file level**`reset (commit) [file]`noyesnoyes`checkout (commit) [file]`noyesyesno","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ24ï¼‰: tar","slug":"linux-command-24-tar","date":"2016-12-24T02:24:17.000Z","updated":"2024-07-05T11:10:22.846Z","comments":true,"path":"2016/12/24/linux-command-24-tar/","permalink":"http://yelog.org/2016/12/24/linux-command-24-tar/","excerpt":"é€šè¿‡SSHè®¿é—®æœåŠ¡å™¨ï¼Œéš¾å…ä¼šè¦ç”¨åˆ°å‹ç¼©ï¼Œè§£å‹ç¼©ï¼Œæ‰“åŒ…ï¼Œè§£åŒ…ç­‰ï¼Œè¿™æ—¶å€™tarå‘½ä»¤å°±æ˜¯æ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ã€‚linuxä¸­æœ€æµè¡Œçš„taræ˜¯éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚","text":"é€šè¿‡SSHè®¿é—®æœåŠ¡å™¨ï¼Œéš¾å…ä¼šè¦ç”¨åˆ°å‹ç¼©ï¼Œè§£å‹ç¼©ï¼Œæ‰“åŒ…ï¼Œè§£åŒ…ç­‰ï¼Œè¿™æ—¶å€™tarå‘½ä»¤å°±æ˜¯æ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ã€‚linuxä¸­æœ€æµè¡Œçš„taræ˜¯éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚ tarå‘½ä»¤å¯ä»¥ä¸ºlinuxçš„æ–‡ä»¶å’Œç›®å½•åˆ›å»ºæ¡£æ¡ˆã€‚åˆ©ç”¨tarï¼Œå¯ä»¥ä¸ºæŸä¸€ç‰¹å®šæ–‡ä»¶åˆ›å»ºæ¡£æ¡ˆï¼ˆå¤‡ä»½æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨æ¡£æ¡ˆä¸­æ”¹å˜æ–‡ä»¶ï¼Œæˆ–è€…å‘æ¡£æ¡ˆä¸­åŠ å…¥æ–°çš„æ–‡ä»¶ã€‚taræœ€åˆè¢«ç”¨æ¥åœ¨ç£å¸¦ä¸Šåˆ›å»ºæ¡£æ¡ˆï¼Œç°åœ¨ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•è®¾å¤‡ä¸Šåˆ›å»ºæ¡£æ¡ˆã€‚åˆ©ç”¨tarå‘½ä»¤ï¼Œå¯ä»¥æŠŠä¸€å¤§å †çš„æ–‡ä»¶å’Œç›®å½•å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™å¯¹äºå¤‡ä»½æ–‡ä»¶æˆ–å°†å‡ ä¸ªæ–‡ä»¶ç»„åˆæˆä¸ºä¸€ä¸ªæ–‡ä»¶ä»¥ä¾¿äºç½‘ç»œä¼ è¾“æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ é¦–å…ˆè¦å¼„æ¸…ä¸¤ä¸ªæ¦‚å¿µï¼šæ‰“åŒ…å’Œå‹ç¼©ã€‚æ‰“åŒ…æ˜¯æŒ‡å°†ä¸€å¤§å †æ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ï¼›å‹ç¼©åˆ™æ˜¯å°†ä¸€ä¸ªå¤§çš„æ–‡ä»¶é€šè¿‡ä¸€äº›å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Ÿè¿™æºäºLinuxä¸­å¾ˆå¤šå‹ç¼©ç¨‹åºåªèƒ½é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·å½“ä½ æƒ³è¦å‹ç¼©ä¸€å¤§å †æ–‡ä»¶æ—¶ï¼Œä½ å¾—å…ˆå°†è¿™ä¸€å¤§å †æ–‡ä»¶å…ˆæ‰“æˆä¸€ä¸ªåŒ…ï¼ˆtarå‘½ä»¤ï¼‰ï¼Œç„¶åå†ç”¨å‹ç¼©ç¨‹åºè¿›è¡Œå‹ç¼©ï¼ˆgzip bzip2å‘½ä»¤ï¼‰ã€‚ linuxä¸‹æœ€å¸¸ç”¨çš„æ‰“åŒ…ç¨‹åºå°±æ˜¯taräº†ï¼Œä½¿ç”¨tarç¨‹åºæ‰“å‡ºæ¥çš„åŒ…æˆ‘ä»¬å¸¸ç§°ä¸ºtaråŒ…ï¼ŒtaråŒ…æ–‡ä»¶çš„å‘½ä»¤é€šå¸¸éƒ½æ˜¯ä»¥.tarç»“å°¾çš„ã€‚ç”ŸæˆtaråŒ…åï¼Œå°±å¯ä»¥ç”¨å…¶å®ƒçš„ç¨‹åºæ¥è¿›è¡Œå‹ç¼©ã€‚ å‘½ä»¤æ ¼å¼$ tar [å¿…è¦å‚æ•°] [é€‰æ‹©å‚æ•°] [æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ ç”¨æ¥å‹ç¼©å’Œè§£å‹æ–‡ä»¶ã€‚taræœ¬èº«ä¸å…·æœ‰å‹ç¼©åŠŸèƒ½ã€‚ä»–æ˜¯è°ƒç”¨å‹ç¼©åŠŸèƒ½å®ç°çš„ å‘½ä»¤å‚æ•°å¿…è¦å‚æ•° å‚æ•° æè¿° -A æ–°å¢å‹ç¼©æ–‡ä»¶åˆ°å·²å­˜åœ¨çš„å‹ç¼© -B è®¾ç½®åŒºå—å¤§å° -c å»ºç«‹æ–°çš„å‹ç¼©æ–‡ä»¶ -d è®°å½•æ–‡ä»¶çš„å·®åˆ« -r æ·»åŠ æ–‡ä»¶åˆ°å·²ç»å‹ç¼©çš„æ–‡ä»¶ -u æ·»åŠ æ”¹å˜äº†å’Œç°æœ‰çš„æ–‡ä»¶åˆ°å·²ç»å­˜åœ¨çš„å‹ç¼©æ–‡ä»¶ -x ä»å‹ç¼©çš„æ–‡ä»¶ä¸­æå–æ–‡ä»¶ -t æ˜¾ç¤ºå‹ç¼©æ–‡ä»¶çš„å†…å®¹ -z æ”¯æŒgzipè§£å‹æ–‡ä»¶ -j æ”¯æŒbzip2è§£å‹æ–‡ä»¶ -Z æ”¯æŒcompressè§£å‹æ–‡ä»¶ -v æ˜¾ç¤ºæ“ä½œè¿‡ç¨‹ -l æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œè®¾ç½® -k ä¿ç•™åŸæœ‰æ–‡ä»¶ä¸è¦†ç›– -m ä¿ç•™æ–‡ä»¶ä¸è¢«è¦†ç›– -W ç¡®è®¤å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®æ€§ å¯é€‰å‚æ•° å‚æ•° æè¿° -b è®¾ç½®åŒºå—æ•°ç›® -C åˆ‡æ¢åˆ°æŒ‡å®šç›®å½• -f æŒ‡å®šå‹ç¼©æ–‡ä»¶ â€“help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿å¸¸è§è§£å‹&#x2F;å‹ç¼©å‘½ä»¤ä¾‹ä¸€ï¼š.taræ–‡ä»¶ $ tar xvf FileName.tar # è§£åŒ… $ tar cvf FileName.tar DirName # æ‰“åŒ… # æ³¨ï¼štaræ˜¯æ‰“åŒ…ï¼Œä¸æ˜¯å‹ç¼©ï¼ ä¾‹äºŒï¼š.gzæ–‡ä»¶ # è§£å‹ $ gunzip FileName.gz $ gzip -d FileName.gz # å‹ç¼© gzip FileName ä¾‹ä¸‰ï¼š.tar.gzå’Œ.tgzæ–‡ä»¶ $ tar xvf FileName.tar.gz # è§£åŒ… $ tar cvf FileName.tar.gz DirName # æ‰“åŒ… # æ³¨ï¼štaræ˜¯æ‰“åŒ…ï¼Œä¸æ˜¯å‹ç¼©ï¼ ä¾‹å››ï¼š.bz2æ–‡ä»¶ # è§£å‹ $ bzip2 -d FileName.bz2 $ bunzip2 FileName.bz2 # å‹ç¼© $ bzip2 -z FileName ä¾‹äº”ï¼š.tar.bz2æ–‡ä»¶ $ tar jxvf FileName.tar.bz2 # è§£å‹ $ tar jcvf FileName.tar.bz2 DirName # å‹ç¼© ä¾‹å…­ï¼š.bzæ–‡ä»¶ # è§£å‹ $ bzip2 -d FileName.bz $ bunzip2 FileName.bz ä¾‹ä¸ƒï¼š.tar.bzæ–‡ä»¶ $ tar jxvf FileName.tar.bz # è§£å‹ ä¾‹å…«ï¼š.Zæ–‡ä»¶ $ uncompress FileName.Z # è§£å‹ $ compress FileName # å‹ç¼© ä¾‹ä¹ï¼š.tar.Zæ–‡ä»¶ $ tar Zxvf FileName.tar.Z # è§£å‹ $ tar Zcvf FileName.tar.Z DirName # å‹ç¼© ä¾‹åï¼š.zipæ–‡ä»¶ $ unzip FileName.zip # è§£å‹ $ zip FileName.zip DirName # å‹ç¼© ä¾‹åä¸€ï¼š.raræ–‡ä»¶ $ rar x FileName.rar # è§£å‹ $ rar a FileName.rar DirName # å‹ç¼© ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šå°†æ–‡ä»¶å…¨éƒ¨æ‰“åŒ…æˆtaråŒ… $ tar -cvf log.tar log2012.log # ä»…æ‰“åŒ…ï¼Œä¸å‹ç¼©ï¼ $ tar -zcvf log.tar.gz log2012.log # æ‰“åŒ…åï¼Œä»¥ gzip å‹ç¼© $ tar -jcvf log.tar.bz2 log2012.log # æ‰“åŒ…åï¼Œä»¥ bzip2 å‹ç¼© åœ¨å‚æ•° f ä¹‹åçš„æ–‡ä»¶æ¡£åæ˜¯è‡ªå·±å–çš„ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä¸Šéƒ½ç”¨ .tar æ¥ä½œä¸ºè¾¨è¯†ã€‚ å¦‚æœåŠ  z å‚æ•°ï¼Œåˆ™ä»¥ .tar.gz æˆ– .tgz æ¥ä»£è¡¨ gzip å‹ç¼©è¿‡çš„ taråŒ…ï¼› å¦‚æœåŠ  j å‚æ•°ï¼Œåˆ™ä»¥ .tar.bz2 æ¥ä½œä¸ºtaråŒ…åã€‚ ä¾‹äºŒï¼šæŸ¥é˜…ä¸Šè¿° taråŒ…å†…æœ‰å“ªäº›æ–‡ä»¶ $ tar -ztvf log.tar.gz # ç”±äºæˆ‘ä»¬ä½¿ç”¨ gzip å‹ç¼©çš„log.tar.gzï¼Œæ‰€ä»¥è¦æŸ¥é˜…log.tar.gzåŒ…å†…çš„æ–‡ä»¶æ—¶ï¼Œå°±å¾—è¦åŠ ä¸Š z è¿™ä¸ªå‚æ•°äº† ä¾‹ä¸‰ï¼šå°†tar åŒ…è§£å‹ç¼© $ tar -zxvf /opt/soft/test/log.tar.gz # åœ¨é¢„è®¾çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‹ç¼©æ¡£åœ¨ä»»ä½•åœ°æ–¹è§£å¼€çš„ ä¾‹å››ï¼šåªå°† &#x2F;tar å†…çš„ éƒ¨åˆ†æ–‡ä»¶è§£å‹å‡ºæ¥ $ tar -zxvf /opt/soft/test/log30.tar.gz log2013.log # æˆ‘å¯ä»¥é€è¿‡ tar -ztvf æ¥æŸ¥é˜… tar åŒ…å†…çš„æ–‡ä»¶åç§°ï¼Œå¦‚æœå•åªè¦ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥é€è¿‡è¿™ä¸ªæ–¹å¼æ¥è§£å‹éƒ¨åˆ†æ–‡ä»¶ï¼ ä¾‹äº”ï¼šæ–‡ä»¶å¤‡ä»½ä¸‹æ¥ï¼Œå¹¶ä¸”ä¿å­˜å…¶æƒé™ $ tar -zcvpf log31.tar.gz log2014.log log2015.log log2016.log # è¿™ä¸ª -p çš„å±æ€§æ˜¯å¾ˆé‡è¦çš„ï¼Œå°¤å…¶æ˜¯å½“æ‚¨è¦ä¿ç•™åŸæœ¬æ–‡ä»¶çš„å±æ€§æ—¶ ä¾‹å…­ï¼šåœ¨ æ–‡ä»¶å¤¹å½“ä¸­ï¼Œæ¯”æŸä¸ªæ—¥æœŸæ–°çš„æ–‡ä»¶æ‰å¤‡ä»½ $ tar -N &quot;2012/11/13&quot; -zcvf log17.tar.gz test ä¾‹ä¸ƒï¼šå¤‡ä»½æ–‡ä»¶å¤¹å†…å®¹æ˜¯æ’é™¤éƒ¨åˆ†æ–‡ä»¶ $ tar --exclude scf/service -zcvf scf.tar.gz scf/*","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"Gitæ“ä½œä¹‹é«˜æ‰‹è¿‡æ‹›","slug":"git-master","date":"2016-12-23T02:59:01.000Z","updated":"2024-07-05T11:10:22.602Z","comments":true,"path":"2016/12/23/git-master/","permalink":"http://yelog.org/2016/12/23/git-master/","excerpt":"åœ¨ä½¿ç”¨gitçš„è¿‡ç¨‹ä¸­ï¼Œæ€»æœ‰ä¸€å¤©ä½ ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼šï¼‰è¿™äº›ä¹Ÿæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå¸¸è§çš„é—®é¢˜ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ä½œè€…çš„ç»éªŒä¹‹è°ˆï¼Œæœ‰ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·æŒ‡å‡ºã€‚","text":"åœ¨ä½¿ç”¨gitçš„è¿‡ç¨‹ä¸­ï¼Œæ€»æœ‰ä¸€å¤©ä½ ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼šï¼‰è¿™äº›ä¹Ÿæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå¸¸è§çš„é—®é¢˜ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ä½œè€…çš„ç»éªŒä¹‹è°ˆï¼Œæœ‰ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·æŒ‡å‡ºã€‚ æœ€åä¸€æ¬¡commitä¿¡æ¯å†™é”™äº†å¦‚æœåªæ˜¯æäº¤ä¿¡æ¯å†™é”™äº†ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å•ç‹¬ä¿®æ”¹æäº¤ä¿¡æ¯ $ git commit --amend æ³¨æ„ï¼š é€šè¿‡è¿™æ ·çš„è¿‡ç¨‹ä¿®æ”¹æäº¤ä¿¡æ¯åï¼Œç›¸å½“äºåˆ é™¤åŸæ¥çš„æäº¤ï¼Œé‡æ–°æäº¤äº†ä¸€æ¬¡ã€‚æ‰€æœ‰å¦‚æœä½ åœ¨ä¿®æ”¹å‰å·²ç»å°†é”™è¯¯çš„é‚£æ¬¡æäº¤pushåˆ°æœåŠ¡ç«¯ï¼Œé‚£åœ¨ä¿®æ”¹åå°±éœ€è¦é€šè¿‡ git pull æ¥åˆå¹¶ä»£ç ï¼ˆç±»ä¼¼äºä¸¤ä¸ªåˆ†æ”¯äº†ï¼‰ã€‚é€šè¿‡ git log --graph --oneline æŸ¥çœ‹å°±ä¼šå‘ç°ä¸¤ä¸ªåˆ†æ”¯åˆå¹¶çš„ç—•è¿¹ æœ€åä¸€æ¬¡commitå°‘æ·»åŠ ä¸€ä¸ªæ–‡ä»¶$ git add file1 $ git commit --amend æœ€åä¸€æ¬¡commitå¤šæ·»åŠ ä¸€ä¸ªæ–‡ä»¶$ git rm --cached file1 $ git commit --amend ç§»é™¤addè¿‡çš„æ–‡ä»¶#æ–¹æ³•ä¸€ $ git rm --cache [æ–‡ä»¶å] #æ–¹æ³•äºŒ $ git reset head [æ–‡ä»¶/æ–‡ä»¶å¤¹] å›é€€æœ¬åœ°commitï¼ˆè¿˜æœªpushï¼‰è¿™ç§æƒ…å†µå‘ç”Ÿåœ¨ä½ çš„æœ¬åœ°ä»“åº“ï¼Œå¯èƒ½ä½ addï¼Œcommitä»¥åå‘ç°ä»£ç æœ‰ç‚¹é—®é¢˜ï¼Œæ‰“ç®—å–æ¶ˆæäº¤ï¼Œç”¨åˆ°ä¸‹é¢å‘½ä»¤ #åªä¼šä¿ç•™æºç ï¼ˆå·¥ä½œåŒºï¼‰ï¼Œå›é€€commit(æœ¬åœ°ä»“åº“)ä¸indexï¼ˆæš‚å­˜åŒºï¼‰åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset &lt;commit_id&gt; #é»˜è®¤ä¸º --mixedæ¨¡å¼ $ git reset --mixed &lt;commit_id&gt; #ä¿ç•™æºç ï¼ˆå·¥ä½œåŒºï¼‰å’Œindexï¼ˆæš‚å­˜åŒºï¼‰ï¼Œåªå›é€€commitï¼ˆæœ¬åœ°ä»“åº“ï¼‰åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset --soft &lt;commit_id&gt; #æºç ï¼ˆå·¥ä½œåŒºï¼‰ã€commitï¼ˆæœ¬åœ°ä»“åº“ï¼‰ä¸indexï¼ˆæš‚å­˜åŒºï¼‰éƒ½å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset --hard &lt;commit_id&gt; å½“ç„¶æœ‰äººåœ¨pushä»£ç ä»¥åï¼Œä¹Ÿæ˜¯ç”¨reset â€“hardå›é€€ä»£ç åˆ°æŸä¸ªç‰ˆæœ¬ä¹‹å‰ï¼Œä½†æ˜¯è¿™æ ·ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä½ çº¿ä¸Šçš„ä»£ç æ²¡æœ‰å˜åŒ–ã€‚ !!!å¯ä»¥é€šè¿‡ git push â€“force å°†æœ¬åœ°çš„å›é€€æ¨é€åˆ°æœåŠ¡ç«¯,ä½†æ˜¯é™¤éä½ å¾ˆæ¸…æ¥šåœ¨è¿™ä¹ˆåš, ä¸æ¨è. æ‰€ä»¥ï¼Œè¿™ç§æƒ…å†µä½ è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼äº†ã€‚ å›é€€æœ¬åœ°commitï¼ˆå·²ç»pushï¼‰å¯¹äºå·²ç»æŠŠä»£ç pushåˆ°çº¿ä¸Šä»“åº“,ä½ å›é€€æœ¬åœ°ä»£ç å…¶å®ä¹Ÿæƒ³åŒæ—¶å›é€€çº¿ä¸Šä»£ç ,å›æ»šåˆ°æŸä¸ªæŒ‡å®šçš„ç‰ˆæœ¬,çº¿ä¸Š,çº¿ä¸‹ä»£ç ä¿æŒä¸€è‡´.ä½ è¦ç”¨åˆ°ä¸‹é¢çš„å‘½ä»¤ $ git revert &lt;commit_id&gt; æ³¨æ„ï¼š git revert ç”¨äºåè½¬æäº¤ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶è¦æ±‚å·¥ä½œæ ‘å¿…é¡»æ˜¯å¹²å‡€çš„ã€‚ git revert ç”¨ä¸€ä¸ªæ–°çš„æäº¤æ¥æ¶ˆé™¤ä¸€ä¸ªå†æ—¶æäº¤æ‰€åšå‡ºçš„ä¿®æ”¹ å›é€€å•ä¸ªæ–‡ä»¶çš„å†å²ç‰ˆæœ¬#æŸ¥çœ‹å†å²ç‰ˆæœ¬ git log 1.txt #å›é€€è¯¥æ–‡ä»¶åˆ°æŒ‡å®šç‰ˆæœ¬ git reset [commit_id] 1.txt git checkout 1.txt #æäº¤ git commit -m &quot;å›é€€1.txtçš„å†å²ç‰ˆæœ¬&quot; ä¿®æ”¹æäº¤å†å²ä¸­çš„authorå’Œemailæ—§çš„ï¼šauthor:Old-Author email:old@mail.comæ–°çš„ï¼šauthor:New-Author email:new@mail.com1.åœ¨gitä»“åº“å†…åˆ›å»ºä¸‹é¢çš„è„šæœ¬ï¼Œå¦‚change.sh # !/bin/sh git filter-branch --env-filter &#39; an=&quot;$GIT_AUTHOR_NAME&quot; am=&quot;$GIT_AUTHOR_EMAIL&quot; cn=&quot;$GIT_COMMITTER_NAME&quot; cm=&quot;$GIT_COMMITTER_EMAIL&quot; if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;old@mail.com&quot; ] then cn=&quot;New-Author&quot; cm=&quot;new@mail.com&quot; fi if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;old@mail.com&quot; ] then an=&quot;New-Author&quot; am=&quot;new@mail.com&quot; fi export GIT_AUTHOR_NAME=&quot;$an&quot; export GIT_AUTHOR_EMAIL=&quot;$am&quot; export GIT_COMMITTER_NAME=&quot;$cn&quot; export GIT_COMMITTER_EMAIL=&quot;$cm&quot; &#39; 2.è¿è¡Œè„šæœ¬ $ sh change.sh å¿½ç•¥å·²æäº¤çš„æ–‡ä»¶ï¼ˆ.imlï¼‰ åˆ é™¤å·²æäº¤çš„æ–‡ä»¶ # åˆ é™¤é¡¹ç›®ä¸­æ‰€æœ‰çš„.imlåç¼€çš„æ–‡ä»¶ $ find . -name &quot;*.iml&quot; | xargs rm -f æ·»åŠ .gitignoreæ–‡ä»¶ *.iml /**/*.iml æŒç»­æ›´æ–°ä¸­ï½ï½ï½","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ23ï¼‰: ç”¨SecureCRTæ¥ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶","slug":"linux-command-23-secureCRT","date":"2016-12-23T01:48:15.000Z","updated":"2024-07-05T11:10:22.974Z","comments":true,"path":"2016/12/23/linux-command-23-ç”¨SecureCRTæ¥ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶/","permalink":"http://yelog.org/2016/12/23/linux-command-23-%E7%94%A8SecureCRT%E6%9D%A5%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/","excerpt":"ç”¨SSHç®¡ç†linuxæœåŠ¡å™¨æ—¶ç»å¸¸éœ€è¦è¿œç¨‹ä¸æœ¬åœ°ä¹‹é—´äº¤äº’æ–‡ä»¶.è€Œç›´æ¥ç”¨SecureCRTè‡ªå¸¦çš„ä¸Šä¼ ä¸‹è½½åŠŸèƒ½æ— ç–‘æ˜¯æœ€æ–¹ä¾¿çš„ï¼ŒSecureCRTä¸‹çš„æ–‡ä»¶ä¼ è¾“åè®®æœ‰ASCIIã€Xmodemã€Zmodemã€‚","text":"ç”¨SSHç®¡ç†linuxæœåŠ¡å™¨æ—¶ç»å¸¸éœ€è¦è¿œç¨‹ä¸æœ¬åœ°ä¹‹é—´äº¤äº’æ–‡ä»¶.è€Œç›´æ¥ç”¨SecureCRTè‡ªå¸¦çš„ä¸Šä¼ ä¸‹è½½åŠŸèƒ½æ— ç–‘æ˜¯æœ€æ–¹ä¾¿çš„ï¼ŒSecureCRTä¸‹çš„æ–‡ä»¶ä¼ è¾“åè®®æœ‰ASCIIã€Xmodemã€Zmodemã€‚ æ–‡ä»¶ä¼ è¾“åè®® æ–‡ä»¶ä¼ è¾“æ˜¯æ•°æ®äº¤æ¢çš„ä¸»è¦å½¢å¼ã€‚åœ¨è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ—¶ï¼Œä¸ºä½¿æ–‡ä»¶èƒ½è¢«æ­£ç¡®è¯†åˆ«å’Œä¼ é€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´å»ºç«‹ç»Ÿä¸€çš„ä¼ è¾“åè®®ã€‚è¿™ä¸ªåè®®åŒ…æ‹¬äº†æ–‡ä»¶çš„è¯†åˆ«ã€ä¼ é€çš„èµ·æ­¢æ—¶é—´ã€é”™è¯¯çš„åˆ¤æ–­ä¸çº æ­£ç­‰å†…å®¹ã€‚å¸¸è§çš„ä¼ è¾“åè®®æœ‰ä»¥ä¸‹å‡ ç§ï¼š ASCIIï¼šè¿™æ˜¯æœ€å¿«çš„ä¼ è¾“åè®®ï¼Œå•åªèƒ½ä¼ è¾“æ–‡æœ¬æ–‡ä»¶ã€‚ Xmodemï¼šè¿™ç§å¤è€çš„ä¼ è¾“åè®®é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†ç”±äºä½¿ç”¨äº†CRCé”™è¯¯ä¾¦æµ‹æ–¹æ³•ï¼Œä¼ è¾“çš„å‡†ç¡®ç‡å¯é«˜è¾¾99.6%ã€‚ Ymodemï¼šè¿™æ˜¯Xmodemçš„æ”¹è‰¯ç‰ˆï¼Œä½¿ç”¨äº†1024ä½åŒºæ®µä¼ é€ï¼Œé€Ÿåº¦æ¯”Xmodemè¦å¿« Zmodemï¼šZmodemé‡‡ç”¨äº†ä¸²æµå¼ï¼ˆstreamingï¼‰ä¼ è¾“æ–¹å¼ï¼Œä¼ è¾“é€Ÿåº¦è¾ƒå¿«ï¼Œè€Œä¸”è¿˜å…·æœ‰è‡ªåŠ¨æ”¹å˜åŒºæ®µå¤§å°å’Œæ–­ç‚¹ç»­ä¼ ã€å¿«é€Ÿé”™è¯¯ä¾¦æµ‹ç­‰åŠŸèƒ½ã€‚è¿™æ˜¯ç›®å‰æœ€æµè¡Œçš„æ–‡ä»¶ä¼ è¾“åè®®ã€‚ é™¤ä»¥ä¸Šå‡ ç§å¤–ï¼Œè¿˜æœ‰Imodemã€Jmodemã€Bimodemã€Kermitã€Lynxç­‰åè®®ï¼Œç”±äºæ²¡æœ‰å¤šæ•°å‚å•†æ”¯æŒï¼Œè¿™é‡Œå°±ç•¥å»ä¸è®²ã€‚ SecureCRTå¯ä»¥ä½¿ç”¨linuxä¸‹çš„zmodemåè®®æ¥å¿«é€Ÿçš„ä¼ é€æ–‡ä»¶,ä½¿ç”¨éå¸¸æ–¹ä¾¿.å…·ä½“æ­¥éª¤ï¼š åœ¨ä½¿ç”¨SecureCRTä¸Šä¼ ä¸‹è½½ä¹‹å‰éœ€è¦ç»™æœåŠ¡å™¨å®‰è£…lrzsz ä»ä¸‹é¢çš„åœ°å€ä¸‹è½½ lrzsz-0.12.20.tar.gz æˆ‘æ˜¯ä¸‹è½½åœ°å€ æŸ¥çœ‹é‡Œé¢çš„INSTALLæ–‡æ¡£äº†è§£å®‰è£…å‚æ•°è¯´æ˜å’Œç»†èŠ‚ è§£å‹æ–‡ä»¶ $ tar zxvf lrzsz-0.12.20.tar.gz è¿›å…¥ç›®å½•ï¼Œé…ç½®ç¼–è¯‘ $ cd lrzsz-0.12.20 $ ./configure --prefix=/usr/local/lrzsz $ make $ make install å»ºç«‹è½¯é“¾æ¥ $ cd /usr/bin $ ln -s /usr/local/lrzsz/bin/lrz rz $ ln -s /usr/local/lrzsz/bin/lsz sz æµ‹è¯• è¿è¡Œ rz å¼¹å‡º SecureCrtä¸Šä¼ çª—å£ï¼Œç”¨SecureCRTæ¥ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ã€‚ è®¾ç½®SecureCRTä¸Šä¼ å’Œä¸‹è½½çš„é»˜è®¤ç›®å½• options-&gt;session options -&gt;Terminal-&gt;Xmodem&#x2F;Zmodem å³æ directoryè®¾ç½®ä¸Šä¼ å’Œä¸‹è½½çš„ç›®å½• ä½¿ç”¨Zmodemä»å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶åˆ°linuxæœåŠ¡å™¨ ç”¨SecureCRTç™»é™†linuxç»ˆç«¯ é€‰ä¸­ä½ è¦æ”¾ç½®ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ï¼Œåœ¨ç›®å½•ä¸‹ç„¶åè¾“å…¥rzå‘½ä»¤,SecureCRTä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œåœ¨æŸ¥æ‰¾èŒƒå›´ä¸­æ‰¾åˆ°ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒæŒ‰AddæŒ‰é’®ã€‚ç„¶åOKå°±å¯ä»¥æŠŠæ–‡ä»¶ä¸Šä¼ åˆ°linuxä¸Šäº†ã€‚ æˆ–è€…åœ¨Transfer-&gt;Zmodem Upoad listå¼¹å‡ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œé€‰å¥½æ–‡ä»¶åæŒ‰AddæŒ‰é’®ã€‚ç„¶åOKçª—å£è‡ªåŠ¨å…³é—­ã€‚ç„¶ååœ¨linuxä¸‹é€‰ä¸­å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ï¼Œè¾“å…¥rzå‘½ä»¤ã€‚liunxå°±æŠŠé‚£ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°è¿™ä¸ªç›®å½•ä¸‹äº†ã€‚ ä½¿ç”¨Zmodemä¸‹è½½æ–‡ä»¶åˆ°å®¢æˆ·ç«¯$ sz filename zmodem æ¥æ”¶å¯ä»¥è‡ªè¡Œå¯åŠ¨.ä¸‹è½½çš„æ–‡ä»¶å­˜æ”¾åœ¨ä½ è®¾å®šçš„é»˜è®¤ä¸‹è½½ç›®å½•ä¸‹ rzï¼Œsz æ˜¯ Linux&#x2F;Unix åŒ Windows è¿›è¡Œ ZModem æ–‡ä»¶ä¼ è¾“çš„å‘½ä»¤è¡Œå·¥å…· , windows ç«¯éœ€è¦æ”¯æŒZModemçš„telnet&#x2F;sshå®¢æˆ·ç«¯ï¼ŒSecureCRT å°±å¯ä»¥ç”¨ SecureCRT ç™»é™†åˆ° Unix&#x2F;Linux ä¸»æœºï¼ˆtelnetæˆ–sshå‡å¯ï¼‰O è¿è¡Œå‘½ä»¤rzï¼Œå³æ˜¯æ¥æ”¶æ–‡ä»¶ï¼ŒSecureCRTå°±ä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œé€‰å¥½æ–‡ä»¶ä¹‹åå…³é—­å¯¹è¯æ¡†ï¼Œæ–‡ä»¶å°±ä¼šä¸Šä¼ åˆ°å½“å‰ç›®å½• O è¿è¡Œå‘½ä»¤sz file1 file2å°±æ˜¯å‘æ–‡ä»¶åˆ°windowsä¸Šï¼ˆä¿å­˜çš„ç›®å½•æ˜¯å¯ä»¥é…ç½®ï¼‰ æ¯”ftpå‘½ä»¤æ–¹ä¾¿å¤šäº†ï¼Œè€Œä¸”æœåŠ¡å™¨ä¸ç”¨å†å¼€FTPæœåŠ¡äº†","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ22ï¼‰: findå‘½ä»¤çš„å‚æ•°è¯¦è§£","slug":"linux-command-22-find-args","date":"2016-12-22T03:44:14.000Z","updated":"2024-07-05T11:10:22.910Z","comments":true,"path":"2016/12/22/linux-command-22-findå‘½ä»¤çš„å‚æ•°è¯¦è§£/","permalink":"http://yelog.org/2016/12/22/linux-command-22-find%E5%91%BD%E4%BB%A4%E7%9A%84%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/","excerpt":"findä¸€äº›å¸¸ç”¨å‚æ•°çš„ä¸€äº›å¸¸ç”¨å®ä¾‹å’Œä¸€äº›å…·ä½“ç”¨æ³•å’Œæ³¨æ„äº‹é¡¹ã€‚","text":"findä¸€äº›å¸¸ç”¨å‚æ•°çš„ä¸€äº›å¸¸ç”¨å®ä¾‹å’Œä¸€äº›å…·ä½“ç”¨æ³•å’Œæ³¨æ„äº‹é¡¹ã€‚ ä½¿ç”¨nameé€‰é¡¹ æ–‡ä»¶åé€‰é¡¹æ˜¯findå‘½ä»¤æœ€å¸¸ç”¨çš„é€‰é¡¹ï¼Œè¦ä¹ˆå•ç‹¬ä½¿ç”¨è¯¥é€‰é¡¹ï¼Œè¦ä¹ˆå’Œå…¶ä»–é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚å¯ä»¥ä½¿ç”¨æŸç§æ–‡ä»¶åæ¨¡å¼æ¥åŒ¹é…æ–‡ä»¶ï¼Œè®°ä½è¦ç”¨å¼•å·å°†æ–‡ä»¶åæ¨¡å¼å¼•èµ·æ¥ã€‚ # åœ¨è‡ªå·±çš„æ ¹ç›®å½•$HOMEä¸­æŸ¥æ‰¾æ–‡ä»¶åç¬¦åˆ*.logçš„æ–‡ä»¶ï¼Œä½¿ç”¨~ä½œä¸º &#39;pathname&#39;å‚æ•°ï¼Œæ³¢æµªå·~ä»£è¡¨äº†ä½ çš„$HOMEç›®å½•ã€‚ $ find ~ -name &quot;*.log&quot; -print # åœ¨å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰çš„â€˜ *.logâ€˜æ–‡ä»¶ $ find . -name &quot;*.log&quot; -print # å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶åä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´çš„æ–‡ä»¶ $ find . -name &quot;[A-Z]*&quot; -print # åœ¨/etcç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶åä»¥hostå¼€å¤´çš„æ–‡ä»¶ $ find /etc -name &quot;host*&quot; -print # æƒ³è¦æŸ¥æ‰¾$HOMEç›®å½•ä¸­çš„æ–‡ä»¶ $ find ~ -name &quot;*&quot; -print $ find . -print # è®©ç³»ç»Ÿé«˜è´Ÿè·è¿è¡Œï¼Œå°±ä»æ ¹ç›®å½•å¼€å§‹æŸ¥æ‰¾æ‰€æœ‰çš„æ–‡ä»¶ $ find / -name &quot;*&quot; -print # åœ¨å½“å‰ç›®å½•æŸ¥æ‰¾æ–‡ä»¶åä»¥ä¸€ä¸ªä¸ªå°å†™å­—æ¯å¼€å¤´ï¼Œæœ€åæ˜¯4åˆ°9åŠ ä¸Š.logç»“æŸçš„æ–‡ä»¶ $ find . -name &quot;[a-z]*[4-9].log&quot; -print ç”¨permé€‰é¡¹ æŒ‰ç…§æ–‡ä»¶æƒé™æ¨¡å¼ç”¨-permé€‰é¡¹,æŒ‰æ–‡ä»¶æƒé™æ¨¡å¼æ¥æŸ¥æ‰¾æ–‡ä»¶çš„è¯ã€‚æœ€å¥½ä½¿ç”¨å…«è¿›åˆ¶çš„æƒé™è¡¨ç¤ºæ³• # åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶æƒé™ä½ä¸º755çš„æ–‡ä»¶ $ find . -perm 755 -print è¿˜æœ‰ä¸€ç§è¡¨è¾¾æ–¹æ³•ï¼šåœ¨å…«è¿›åˆ¶æ•°å­—å‰é¢è¦åŠ ä¸€ä¸ªæ¨ªæ -ï¼Œè¡¨ç¤ºéƒ½åŒ¹é…ï¼Œå¦‚-007å°±ç›¸å½“äº777ï¼Œ-005ç›¸å½“äº555, $ find . -perm -005 å¿½ç•¥æŸä¸ªç›®å½• å¦‚æœåœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶å¸Œæœ›å¿½ç•¥æŸä¸ªç›®å½•ï¼Œå› ä¸ºä½ çŸ¥é“é‚£ä¸ªç›®å½•ä¸­æ²¡æœ‰ä½ æ‰€è¦æŸ¥æ‰¾çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨-pruneé€‰é¡¹æ¥æŒ‡å‡ºéœ€è¦å¿½ç•¥çš„ç›®å½•ã€‚åœ¨ä½¿ç”¨-pruneé€‰é¡¹æ—¶è¦å½“å¿ƒï¼Œå› ä¸ºå¦‚æœä½ åŒæ—¶ä½¿ç”¨äº†-depthé€‰é¡¹ï¼Œé‚£ä¹ˆ-pruneé€‰é¡¹å°±ä¼šè¢«findå‘½ä»¤å¿½ç•¥ã€‚å¦‚æœå¸Œæœ›åœ¨testç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼Œä½†ä¸å¸Œæœ›åœ¨test&#x2F;test3ç›®å½•ä¸‹æŸ¥æ‰¾ï¼Œå¯ä»¥ç”¨: $ find test -path &quot;test/test3&quot; -prune -o -print ä½¿ç”¨findæŸ¥æ‰¾æ–‡ä»¶çš„æ—¶å€™æ€ä¹ˆé¿å¼€æŸä¸ªæ–‡ä»¶ç›®å½•ä¾‹ä¸€ï¼šåœ¨test ç›®å½•ä¸‹æŸ¥æ‰¾ä¸åœ¨test4å­ç›®å½•ä¹‹å†…çš„æ‰€æœ‰æ–‡ä»¶ $ find test -path &quot;test/test4&quot; -prune -o -print è¯´æ˜ï¼šfind [-path ..] [expression]åœ¨è·¯å¾„åˆ—è¡¨çš„åé¢çš„æ˜¯è¡¨è¾¾å¼-path â€œtestâ€ -prune -o -print æ˜¯ -path â€œtestâ€ -a -prune -o -print çš„ç®€å†™è¡¨è¾¾å¼æŒ‰é¡ºåºæ±‚å€¼, -a å’Œ -o éƒ½æ˜¯çŸ­è·¯æ±‚å€¼ï¼Œä¸ shell çš„ &amp;&amp; å’Œ || ç±»ä¼¼å¦‚æœ-path â€œtestâ€ ä¸ºçœŸï¼Œåˆ™æ±‚å€¼ -prune , -prune è¿”å›çœŸï¼Œä¸é€»è¾‘è¡¨è¾¾å¼ä¸ºçœŸï¼›å¦åˆ™ä¸æ±‚å€¼ -pruneï¼Œä¸é€»è¾‘è¡¨è¾¾å¼ä¸ºå‡ã€‚å¦‚æœ -path â€œtestâ€ -a -prune ä¸ºå‡ï¼Œåˆ™æ±‚å€¼ -print ï¼Œ-printè¿”å›çœŸï¼Œæˆ–é€»è¾‘è¡¨è¾¾å¼ä¸ºçœŸï¼›å¦åˆ™ä¸æ±‚å€¼ -printï¼Œæˆ–é€»è¾‘è¡¨è¾¾å¼ä¸ºçœŸã€‚è¿™ä¸ªè¡¨è¾¾å¼ç»„åˆç‰¹ä¾‹å¯ä»¥ç”¨ä¼ªç å†™ä¸º:if -path â€œtestâ€ then-pruneelse-print ä¾‹äºŒï¼šé¿å¼€å¤šä¸ªæ–‡ä»¶å¤¹ # åœ†æ‹¬å·è¡¨ç¤ºè¡¨è¾¾å¼çš„ç»“åˆã€‚\\ è¡¨ç¤ºå¼•ç”¨ï¼Œå³æŒ‡ç¤º shell ä¸å¯¹åé¢çš„å­—ç¬¦ä½œç‰¹æ®Šè§£é‡Šï¼Œè€Œç•™ç»™ find å‘½ä»¤å»è§£é‡Šå…¶æ„ä¹‰ $ find test \\( -path test/test4 -o -path test/test3 \\) -prune -o -print ä¾‹ä¸‰ï¼šæŸ¥æ‰¾æŸä¸€ç¡®å®šæ–‡ä»¶ï¼Œ-nameç­‰é€‰é¡¹åŠ åœ¨-o ä¹‹å $ find test \\(-path test/test4 -o -path test/test3 \\) -prune -o -name &quot;*.log&quot; -print ä½¿ç”¨userå’Œnouseré€‰é¡¹# åœ¨$HOMEç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶å±ä¸»ä¸ºpeidaçš„æ–‡ä»¶ $ find ~ -user peida -print # åœ¨/etcç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶å±ä¸»ä¸ºpeidaçš„æ–‡ä»¶ $ find /etc -user peida -print # ä¸ºäº†æŸ¥æ‰¾å±ä¸»å¸æˆ·å·²ç»è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨-nouseré€‰é¡¹ã€‚åœ¨/homeç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰çš„è¿™ç±»æ–‡ä»¶ $ find /home -nouser -print ä½¿ç”¨groupå’Œnogroupé€‰é¡¹# åœ¨/appsç›®å½•ä¸‹æŸ¥æ‰¾å±äºgemç”¨æˆ·ç»„çš„æ–‡ä»¶ $ find /apps -group gem -print # æŸ¥æ‰¾æ²¡æœ‰æœ‰æ•ˆæ‰€å±ç”¨æˆ·ç»„çš„æ‰€æœ‰æ–‡ä»¶ $ find / -nogroup-print æŒ‰ç…§æ›´æ”¹æ—¶é—´æˆ–è®¿é—®æ—¶é—´ç­‰æŸ¥æ‰¾æ–‡ä»¶ å¦‚æœå¸Œæœ›æŒ‰ç…§æ›´æ”¹æ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨mtime,atimeæˆ–ctimeé€‰é¡¹ã€‚å¦‚æœç³»ç»Ÿçªç„¶æ²¡æœ‰å¯ç”¨ç©ºé—´äº†ï¼Œå¾ˆæœ‰å¯èƒ½æŸä¸€ä¸ªæ–‡ä»¶çš„é•¿åº¦åœ¨æ­¤æœŸé—´å¢é•¿è¿…é€Ÿï¼Œè¿™æ—¶å°±å¯ä»¥ç”¨mtimeé€‰é¡¹æ¥æŸ¥æ‰¾è¿™æ ·çš„æ–‡ä»¶ã€‚ç”¨å‡å·-æ¥é™å®šæ›´æ”¹æ—¶é—´åœ¨è·ä»Šnæ—¥ä»¥å†…çš„æ–‡ä»¶ï¼Œè€Œç”¨åŠ å·+æ¥é™å®šæ›´æ”¹æ—¶é—´åœ¨è·ä»Šnæ—¥ä»¥å‰çš„æ–‡ä»¶ # åœ¨ç³»ç»Ÿæ ¹ç›®å½•ä¸‹æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨5æ—¥ä»¥å†…çš„æ–‡ä»¶ $ find / -mtime -5 -print # åœ¨/var/admç›®å½•ä¸‹æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨3æ—¥ä»¥å‰çš„æ–‡ä»¶ $ find /var/adm -mtime +3 -print æŸ¥æ‰¾æ¯”æŸä¸ªæ–‡ä»¶æ–°æˆ–æ—§çš„æ–‡ä»¶ å¦‚æœå¸Œæœ›æŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æŸä¸ªæ–‡ä»¶æ–°ä½†æ¯”å¦ä¸€ä¸ªæ–‡ä»¶æ—§çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨-neweré€‰é¡¹ã€‚ # æŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æ–‡ä»¶log2012.logæ–°ä½†æ¯”æ–‡ä»¶log2017.logæ—§çš„æ–‡ä»¶ $ find -newer log2012.log ! -newer log2017.log # æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨æ¯”log2012.logæ–‡ä»¶æ–°çš„æ–‡ä»¶ $ find . -newer log2012.log -print ä½¿ç”¨typeé€‰é¡¹# åœ¨/etcç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰çš„ç›®å½• $ find /etc -type d -print # åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾é™¤ç›®å½•ä»¥å¤–çš„æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶ $ find . ! -type d -print # åœ¨/etcç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰çš„ç¬¦å·é“¾æ¥æ–‡ä»¶ $ find /etc -type l -print ä½¿ç”¨sizeé€‰é¡¹ å¯ä»¥æŒ‰ç…§æ–‡ä»¶é•¿åº¦æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œè¿™é‡Œæ‰€æŒ‡çš„æ–‡ä»¶é•¿åº¦æ—¢å¯ä»¥ç”¨å—ï¼ˆblockï¼‰æ¥è®¡é‡ï¼Œä¹Ÿå¯ä»¥ç”¨å­—èŠ‚æ¥è®¡é‡ã€‚ä»¥å­—èŠ‚è®¡é‡æ–‡ä»¶é•¿åº¦çš„è¡¨è¾¾å½¢å¼ä¸ºN cï¼›ä»¥å—è®¡é‡æ–‡ä»¶é•¿åº¦åªç”¨æ•°å­—è¡¨ç¤ºå³å¯ã€‚åœ¨æŒ‰ç…§æ–‡ä»¶é•¿åº¦æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨è¿™ç§ä»¥å­—èŠ‚è¡¨ç¤ºçš„æ–‡ä»¶é•¿åº¦ï¼Œåœ¨æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°ï¼Œå› ä¸ºè¿™æ—¶ä½¿ç”¨å—æ¥è®¡é‡æ›´å®¹æ˜“è½¬æ¢ã€‚ # åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦å¤§äº1 Må­—èŠ‚çš„æ–‡ä»¶ $ find . -size +1000000c -print # åœ¨/home/apacheç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦æ°å¥½ä¸º100å­—èŠ‚çš„æ–‡ä»¶ $ find /home/apache -size 100c -print # åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾é•¿åº¦è¶…è¿‡10å—çš„æ–‡ä»¶ï¼ˆä¸€å—ç­‰äº512å­—èŠ‚ï¼‰ $ find . -size +10 -print ä½¿ç”¨depthé€‰é¡¹ åœ¨ä½¿ç”¨findå‘½ä»¤æ—¶ï¼Œå¯èƒ½å¸Œæœ›å…ˆåŒ¹é…æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå†åœ¨å­ç›®å½•ä¸­æŸ¥æ‰¾ã€‚ä½¿ç”¨depthé€‰é¡¹å°±å¯ä»¥ä½¿findå‘½ä»¤è¿™æ ·åšã€‚è¿™æ ·åšçš„ä¸€ä¸ªåŸå› å°±æ˜¯ï¼Œå½“åœ¨ä½¿ç”¨findå‘½ä»¤å‘ç£å¸¦ä¸Šå¤‡ä»½æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œå¸Œæœ›é¦–å…ˆå¤‡ä»½æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå…¶æ¬¡å†å¤‡ä»½å­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚ # findå‘½ä»¤ä»æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•å¼€å§‹ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªåä¸ºCON.FILEçš„æ–‡ä»¶ # å®ƒå°†é¦–å…ˆåŒ¹é…æ‰€æœ‰çš„æ–‡ä»¶ç„¶åå†è¿›å…¥å­ç›®å½•ä¸­æŸ¥æ‰¾ $ find / -name &quot;CON.FILE&quot; -depth -print ä½¿ç”¨mounté€‰é¡¹ åœ¨å½“å‰çš„æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼ˆä¸è¿›å…¥å…¶ä»–æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå¯ä»¥ä½¿ç”¨findå‘½ä»¤çš„mounté€‰é¡¹ # ä»å½“å‰ç›®å½•å¼€å§‹æŸ¥æ‰¾ä½äºæœ¬æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶åä»¥XCç»“å°¾çš„æ–‡ä»¶ $ find . -name &quot;*.XC&quot; -mount -print","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"Gitä¹‹SSHä¸HTTPSå…å¯†ç é…ç½®","slug":"git-ssh-https-verify-configuration","date":"2016-12-21T07:31:55.000Z","updated":"2024-07-05T11:10:22.617Z","comments":true,"path":"2016/12/21/git-ssh-https-verify-configuration/","permalink":"http://yelog.org/2016/12/21/git-ssh-https-verify-configuration/","excerpt":"Gitä½œä¸ºå½“å‰æœ€å—æ¬¢è¿çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œä½¿ç”¨æ˜¯å¾ˆé¢‘ç¹çš„ã€‚ä½†æ¯æ¬¡ä½¿ç”¨git pushç­‰æ“ä½œæ—¶éƒ½è¦è¾“å…¥å¯†ç ï¼Œå®åœ¨æ˜¯æŒºéº»çƒ¦çš„ã€‚æœ¬æ–‡å¯¹ä½¿ç”¨sshä¸httpsä¸¤ç§é€šè®¯åè®®è®¨è®ºä¸€ä¸‹å…å¯†ç é…ç½®ã€‚æ³¨ï¼šè¿™ä¸ªè¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„ï¼šï¼‰","text":"Gitä½œä¸ºå½“å‰æœ€å—æ¬¢è¿çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œä½¿ç”¨æ˜¯å¾ˆé¢‘ç¹çš„ã€‚ä½†æ¯æ¬¡ä½¿ç”¨git pushç­‰æ“ä½œæ—¶éƒ½è¦è¾“å…¥å¯†ç ï¼Œå®åœ¨æ˜¯æŒºéº»çƒ¦çš„ã€‚æœ¬æ–‡å¯¹ä½¿ç”¨sshä¸httpsä¸¤ç§é€šè®¯åè®®è®¨è®ºä¸€ä¸‹å…å¯†ç é…ç½®ã€‚æ³¨ï¼šè¿™ä¸ªè¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„ï¼šï¼‰ SSHé€šä¿¡åè®®GitHubç‰ˆè®¸å¤šGitæœåŠ¡å™¨éƒ½ä½¿ç”¨SSHå…¬é’¥è¿›è¡Œè®¤è¯ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬githubã€‚é¦–å…ˆä½ éœ€è¦ç¡®è®¤ä¸€ä¸‹è‡ªå·±æ˜¯å¦å·²ç»æ‹¥æœ‰å¯†é’¥äº†ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„ SSH å¯†é’¥å­˜å‚¨åœ¨å…¶ ~/.ssh ç›®å½•ä¸‹ã€‚è¿›å…¥è¯¥ç›®å½•å¹¶åˆ—å‡ºå…¶ä¸­å†…å®¹ï¼Œä½ å˜å¯ä»¥ä¸‹å¿«é€Ÿç¡®è®¤è‡ªå·±æ˜¯å¦å·²ç»æ‹¥æœ‰å¯†é’¥ï¼š $ cd ~/.ssh $ ls authorized_keys2 id_rsa known_hosts config id_rsa.pub æˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€å¯¹ id_rsa æˆ– id_dsa å‘½åçš„æ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªå¸¦ .pub æ‰©å±•åã€‚ â€˜.pubâ€™æ–‡ä»¶æ˜¯ä½ çš„å…¬é’¥ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ç§é’¥ã€‚å¦‚æœæ²¡æœ‰æ‰¾ä¸åˆ°è¿™æ ·çš„æ–‡ä»¶ï¼ˆæˆ–è€…æ ¹æœ¬å°±æ²¡æœ‰.sshç›®å½•ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ ssh-keygen ç¨‹åºæ¥åˆ›å»ºå®ƒä»¬ã€‚ #é‚®ç®±å¯ä»¥éšä¾¿å¡« $ ssh-keygen -t rsa -C &quot;xx@xx.com&quot; é¦–å…ˆ ssh-keygen ä¼šç¡®è®¤å¯†é’¥çš„å­˜å‚¨ä½ç½®å’Œæ–‡ä»¶åï¼ˆé»˜è®¤æ˜¯ .ssh/id_rsaï¼‰,ç„¶åä»–ä¼šè¦æ±‚ä½ è¾“å…¥ä¸¤æ¬¡å¯†é’¥å£ä»¤ï¼Œç•™ç©ºå³å¯ã€‚æ‰€ä»¥ä¸€èˆ¬é€‰ç”¨é»˜è®¤ï¼Œå…¨éƒ¨å›è½¦å³å¯ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç™»é™†åˆ°GitHubä¸Šï¼Œå³ä¸Šè§’å°å¤´åƒ-&gt;Setting-&gt;SSH and GPG keysä¸­ï¼Œç‚¹å‡»new SSH keyã€‚Titleï¼šå¯ä»¥éšä¾¿å¡«å†™ï¼Œä½†æœ€å¥½èµ·çš„åå­—èƒ½è®©è‡ªå·±çŸ¥é“è¿™ä¸ªå…¬é’¥æ˜¯å“ªä¸ªè®¾å¤‡çš„ã€‚Keyï¼šå°†ä¸Šé¢ç”Ÿæˆçš„.pubæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°è¿™é‡Œã€‚ç‚¹å‡»ä¸‹é¢çš„Add SSH keyå³å¯ã€‚ç„¶åä½ å°±ä¼šå‘ç°å¯ä»¥å…å¯†ç è®¿é—®äº† GitæœåŠ¡å™¨å¦‚æœæœåŠ¡ç«¯æ˜¯è‡ªå·±æ­å»ºçš„gitæœåŠ¡å™¨ï¼Œç”Ÿæˆå¯†é’¥å…¬é’¥å¯¹çš„æ­¥éª¤æ˜¯ä¸€æ ·çš„ã€‚ç„¶åå°†ç”Ÿæˆçš„ .pub æ–‡ä»¶å†…å®¹ï¼Œå¯¼å…¥åˆ°gitæœåŠ¡å™¨ /home/git/.ssh/authorized_keys æ–‡ä»¶å†…ï¼Œä¸€è¡Œä¸€ä¸ªã€‚ç„¶åä½ å°±ä¼šå‘ç°git push ä¸å†éœ€è¦å¯†ç äº†æ­å»ºgitæœåŠ¡å™¨å’Œç›¸å…³å…ç™»é™†çš„è¯¦ç»†æ­¥éª¤å¯å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡ æ­å»ºGitæœåŠ¡å™¨ HTTPSé€šä¿¡åè®®ä¸Šé¢è®²äº†SSHæ–¹å¼çš„å…å¯†ç ï¼Œæ¥ä¸‹æ¥è®²ä¸€ä¸‹è¶Šæ¥è¶Šå¸¸ç”¨çš„HTTPSæ–¹å¼çš„å…å¯†ç æ–°å»ºæ–‡ä»¶å¹¶ä¿å­˜å¯†ç  $ touch ~/.git-credentials $ vim ~/.git-credentials æ·»åŠ å†…å®¹ https://&#123;username&#125;:&#123;passwd&#125;@github.com æ·»åŠ gité…ç½® $ git config --global credential.helper store æŸ¥çœ‹ï½&#x2F;.gitconfigæ–‡ä»¶å˜åŒ– [credential] helper = store ç„¶åå†å°è¯•ä¸€ä¸‹git pushä¸å†åœ¨éœ€è¦å¯†ç äº†","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ21ï¼‰: findå‘½ä»¤ä¹‹xargs","slug":"linux-command-21-find-xargs","date":"2016-12-21T03:08:01.000Z","updated":"2024-07-05T11:10:22.832Z","comments":true,"path":"2016/12/21/linux-command-21-findå‘½ä»¤ä¹‹xargs/","permalink":"http://yelog.org/2016/12/21/linux-command-21-find%E5%91%BD%E4%BB%A4%E4%B9%8Bxargs/","excerpt":"åœ¨ä½¿ç”¨ findå‘½ä»¤çš„-execé€‰é¡¹å¤„ç†åŒ¹é…åˆ°çš„æ–‡ä»¶æ—¶ï¼Œ findå‘½ä»¤å°†æ‰€æœ‰åŒ¹é…åˆ°çš„æ–‡ä»¶ä¸€èµ·ä¼ é€’ç»™execæ‰§è¡Œã€‚ä½†æœ‰äº›ç³»ç»Ÿå¯¹èƒ½å¤Ÿä¼ é€’ç»™execçš„å‘½ä»¤é•¿åº¦æœ‰é™åˆ¶ï¼Œè¿™æ ·åœ¨findå‘½ä»¤è¿è¡Œå‡ åˆ†é’Ÿä¹‹åï¼Œå°±ä¼šå‡ºç°æº¢å‡ºé”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯â€œå‚æ•°åˆ—å¤ªé•¿â€æˆ–â€œå‚æ•°åˆ—æº¢å‡ºâ€ã€‚è¿™å°±æ˜¯xargså‘½ä»¤çš„ç”¨å¤„æ‰€åœ¨ï¼Œç‰¹åˆ«æ˜¯ä¸findå‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚","text":"åœ¨ä½¿ç”¨ findå‘½ä»¤çš„-execé€‰é¡¹å¤„ç†åŒ¹é…åˆ°çš„æ–‡ä»¶æ—¶ï¼Œ findå‘½ä»¤å°†æ‰€æœ‰åŒ¹é…åˆ°çš„æ–‡ä»¶ä¸€èµ·ä¼ é€’ç»™execæ‰§è¡Œã€‚ä½†æœ‰äº›ç³»ç»Ÿå¯¹èƒ½å¤Ÿä¼ é€’ç»™execçš„å‘½ä»¤é•¿åº¦æœ‰é™åˆ¶ï¼Œè¿™æ ·åœ¨findå‘½ä»¤è¿è¡Œå‡ åˆ†é’Ÿä¹‹åï¼Œå°±ä¼šå‡ºç°æº¢å‡ºé”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯â€œå‚æ•°åˆ—å¤ªé•¿â€æˆ–â€œå‚æ•°åˆ—æº¢å‡ºâ€ã€‚è¿™å°±æ˜¯xargså‘½ä»¤çš„ç”¨å¤„æ‰€åœ¨ï¼Œç‰¹åˆ«æ˜¯ä¸findå‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚ findå‘½ä»¤æŠŠåŒ¹é…åˆ°çš„æ–‡ä»¶ä¼ é€’ç»™xargså‘½ä»¤ï¼Œè€Œxargså‘½ä»¤æ¯æ¬¡åªè·å–ä¸€éƒ¨åˆ†æ–‡ä»¶è€Œä¸æ˜¯å…¨éƒ¨ï¼Œä¸åƒ-execé€‰é¡¹é‚£æ ·ã€‚è¿™æ ·å®ƒå¯ä»¥å…ˆå¤„ç†æœ€å…ˆè·å–çš„ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œç„¶åæ˜¯ä¸‹ä¸€æ‰¹ï¼Œå¹¶å¦‚æ­¤ç»§ç»­ä¸‹å»ã€‚ åœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨-execé€‰é¡¹ä¼šä¸ºå¤„ç†æ¯ä¸€ä¸ªåŒ¹é…åˆ°çš„æ–‡ä»¶è€Œå‘èµ·ä¸€ä¸ªç›¸åº”çš„è¿›ç¨‹ï¼Œå¹¶éå°†åŒ¹é…åˆ°çš„æ–‡ä»¶å…¨éƒ¨ä½œä¸ºå‚æ•°ä¸€æ¬¡æ‰§è¡Œï¼›è¿™æ ·åœ¨æœ‰äº›æƒ…å†µä¸‹å°±ä¼šå‡ºç°è¿›ç¨‹è¿‡å¤šï¼Œç³»ç»Ÿæ€§èƒ½ä¸‹é™çš„é—®é¢˜ï¼Œå› è€Œæ•ˆç‡ä¸é«˜ï¼› è€Œä½¿ç”¨xargså‘½ä»¤åˆ™åªæœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚å¦å¤–ï¼Œåœ¨ä½¿ç”¨xargså‘½ä»¤æ—¶ï¼Œç©¶ç«Ÿæ˜¯ä¸€æ¬¡è·å–æ‰€æœ‰çš„å‚æ•°ï¼Œè¿˜æ˜¯åˆ†æ‰¹å–å¾—å‚æ•°ï¼Œä»¥åŠæ¯ä¸€æ¬¡è·å–å‚æ•°çš„æ•°ç›®éƒ½ä¼šæ ¹æ®è¯¥å‘½ä»¤çš„é€‰é¡¹åŠç³»ç»Ÿå†…æ ¸ä¸­ç›¸åº”çš„å¯è°ƒå‚æ•°æ¥ç¡®å®šã€‚ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥æ‰¾ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨xargså‘½ä»¤æ¥æµ‹è¯•å®ƒä»¬åˆ†åˆ«å±äºå“ªç±»æ–‡ä»¶ $ find . -type f -print | xargs file ä¾‹äºŒï¼šåœ¨æ•´ä¸ªç³»ç»Ÿä¸­æŸ¥æ‰¾å†…å­˜ä¿¡æ¯è½¬å‚¨æ–‡ä»¶(core dump) ï¼Œç„¶åæŠŠç»“æœä¿å­˜åˆ°&#x2F;tmp&#x2F;core.log æ–‡ä»¶ä¸­ $ find / -name &quot;core&quot; -print | xargs echo &quot;&quot; &gt;/tmp/core.log ä¾‹ä¸‰ï¼šåœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰ç”¨æˆ·å…·æœ‰è¯»ã€å†™å’Œæ‰§è¡Œæƒé™çš„æ–‡ä»¶ï¼Œå¹¶æ”¶å›ç›¸åº”çš„å†™æƒé™ $ find . -perm -7 -print | xargs chmod o-w ä¾‹å››ï¼šç”¨grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯ $ find . -type f -print | xargs grep &quot;hostname&quot; ä¾‹äº”ï¼šç”¨grepå‘½ä»¤åœ¨å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnamesè¿™ä¸ªè¯ # \\ç”¨æ¥å–æ¶ˆfindå‘½ä»¤ä¸­çš„*åœ¨shellä¸­çš„ç‰¹æ®Šå«ä¹‰ $ find . -name \\* -type f -print | xargs grep &quot;hostnames&quot; ä¾‹å…­ï¼šä½¿ç”¨xargsæ‰§è¡Œmv $ find . -name &quot;*.log&quot; | xargs -i mv &#123;&#125; test4 ä¾‹ä¸ƒï¼šfindåæ‰§è¡Œxargsæç¤ºxargs: argument line too longè§£å†³æ–¹æ³• # -l1æ˜¯ä¸€æ¬¡å¤„ç†ä¸€ä¸ªï¼›-tæ˜¯å¤„ç†ä¹‹å‰æ‰“å°å‡ºå‘½ä»¤ $ find . -type f -atime +0 -print0 | xargs -0 -l1 -t rm -f ä¾‹å…«ï¼šä½¿ç”¨-iå‚æ•°é»˜è®¤çš„å‰é¢è¾“å‡ºç”¨{}ä»£æ›¿ï¼Œ-Iå‚æ•°å¯ä»¥æŒ‡å®šå…¶ä»–ä»£æ›¿å­—ç¬¦ï¼Œå¦‚ä¾‹å­ä¸­çš„[] $ find . -name &quot;file&quot; | xargs -I [] cp [] .. ä¾‹ä¹ï¼šxargsçš„-på‚æ•°çš„ä½¿ç”¨ # -på‚æ•°ä¼šæç¤ºè®©ä½ ç¡®è®¤æ˜¯å¦æ‰§è¡Œåé¢çš„å‘½ä»¤,yæ‰§è¡Œï¼Œnä¸æ‰§è¡Œ $ find . -name &quot;*.log&quot; | xargs -p -i mv &#123;&#125; ..","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ20ï¼‰: findå‘½ä»¤ä¹‹exec","slug":"linux-command-20-find-exec","date":"2016-12-20T02:47:32.000Z","updated":"2024-07-05T11:10:22.887Z","comments":true,"path":"2016/12/20/linux-command-20-findå‘½ä»¤ä¹‹exec/","permalink":"http://yelog.org/2016/12/20/linux-command-20-find%E5%91%BD%E4%BB%A4%E4%B9%8Bexec/","excerpt":"findæ˜¯æˆ‘ä»¬å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªLinuxå‘½ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬æŸ¥æ‰¾å‡ºæ¥çš„å¹¶ä¸ä»…ä»…æ˜¯çœ‹çœ‹è€Œå·²ï¼Œè¿˜ä¼šæœ‰è¿›ä¸€æ­¥çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™execçš„ä½œç”¨å°±æ˜¾ç°å‡ºæ¥äº†","text":"findæ˜¯æˆ‘ä»¬å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªLinuxå‘½ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬æŸ¥æ‰¾å‡ºæ¥çš„å¹¶ä¸ä»…ä»…æ˜¯çœ‹çœ‹è€Œå·²ï¼Œè¿˜ä¼šæœ‰è¿›ä¸€æ­¥çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™execçš„ä½œç”¨å°±æ˜¾ç°å‡ºæ¥äº† å‘½ä»¤ä»‹ç» -exec å‚æ•°åé¢è·Ÿçš„æ˜¯commandå‘½ä»¤ï¼Œå®ƒçš„ç»ˆæ­¢æ˜¯ä»¥;ä¸ºç»“æŸæ ‡å¿—çš„ï¼Œæ‰€ä»¥è¿™å¥å‘½ä»¤åé¢çš„åˆ†å·æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œè€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿä¸­åˆ†å·ä¼šæœ‰ä¸åŒçš„æ„ä¹‰ï¼Œæ‰€ä»¥å‰é¢åŠ åæ–œæ ã€‚ &#123;&#125; èŠ±æ‹¬å·ä»£è¡¨å‰é¢findæŸ¥æ‰¾å‡ºæ¥çš„æ–‡ä»¶åã€‚ ä½¿ç”¨findæ—¶ï¼Œåªè¦æŠŠæƒ³è¦çš„æ“ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå°±å¯ä»¥ç”¨execæ¥é…åˆfindæŸ¥æ‰¾ï¼Œå¾ˆæ–¹ä¾¿çš„ã€‚åœ¨æœ‰äº›æ“ä½œç³»ç»Ÿä¸­åªå…è®¸-execé€‰é¡¹æ‰§è¡Œè¯¸å¦‚lsæˆ–ls -lè¿™æ ·çš„å‘½ä»¤ã€‚å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨è¿™ä¸€é€‰é¡¹æ˜¯ä¸ºäº†æŸ¥æ‰¾æ—§æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ã€‚å»ºè®®åœ¨çœŸæ­£æ‰§è¡Œrmå‘½ä»¤åˆ é™¤æ–‡ä»¶ä¹‹å‰ï¼Œæœ€å¥½å…ˆç”¨lså‘½ä»¤çœ‹ä¸€ä¸‹ï¼Œç¡®è®¤å®ƒä»¬æ˜¯æ‰€è¦åˆ é™¤çš„æ–‡ä»¶ã€‚ execé€‰é¡¹åé¢è·Ÿéšç€æ‰€è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬ï¼Œç„¶åæ˜¯ä¸€å¯¹å„¿{ }ï¼Œä¸€ä¸ªç©ºæ ¼å’Œä¸€ä¸ª\\ï¼Œæœ€åæ˜¯ä¸€ä¸ªåˆ†å·ã€‚ä¸ºäº†ä½¿ç”¨execé€‰é¡¹ï¼Œå¿…é¡»è¦åŒæ—¶ä½¿ç”¨printé€‰é¡¹ã€‚å¦‚æœéªŒè¯ä¸€ä¸‹findå‘½ä»¤ï¼Œä¼šå‘ç°è¯¥å‘½ä»¤åªè¾“å‡ºä»å½“å‰è·¯å¾„èµ·çš„ç›¸å¯¹è·¯å¾„åŠæ–‡ä»¶åã€‚ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šls -lå‘½ä»¤æ”¾åœ¨findå‘½ä»¤çš„-execé€‰é¡¹ä¸­ # findå‘½ä»¤åŒ¹é…åˆ°äº†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ™®é€šæ–‡ä»¶ï¼Œå¹¶åœ¨-execé€‰é¡¹ä¸­ä½¿ç”¨ls -lå‘½ä»¤å°†å®ƒä»¬åˆ—å‡º $ find . -type f -exec ls -l &#123;&#125; \\; ä¾‹äºŒï¼šåœ¨ç›®å½•ä¸­æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ $ find . -type f -mtime +14 -exec rm &#123;&#125; \\; ä¾‹ä¸‰ï¼šåœ¨ç›®å½•ä¸­æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ï¼Œåœ¨åˆ é™¤ä¹‹å‰å…ˆç»™å‡ºæç¤º $ find . -name &quot;*.log&quot; -mtime +5 -ok rm &#123;&#125; \\; ä¾‹å››ï¼š-execä¸­ä½¿ç”¨grepå‘½ä»¤ $ find /etc -name &quot;passwd*&quot; -exec grep &quot;root&quot; &#123;&#125; \\; ä¾‹äº”ï¼šæŸ¥æ‰¾æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½• $ find . -name &quot;*.log&quot; -exec mv &#123;&#125; .. \\; ä¾‹å…­ï¼šç”¨execé€‰é¡¹æ‰§è¡Œcpå‘½ä»¤ $ find . -name &quot;*.log&quot; -exec cp &#123;&#125; test3 \\;","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ19ï¼‰: findå‘½ä»¤æ¦‚è§ˆ","slug":"linux-command-19-find","date":"2016-12-19T07:19:10.000Z","updated":"2024-07-05T11:10:23.025Z","comments":true,"path":"2016/12/19/linux-command-19-findå‘½ä»¤æ¦‚è§ˆ/","permalink":"http://yelog.org/2016/12/19/linux-command-19-find%E5%91%BD%E4%BB%A4%E6%A6%82%E8%A7%88/","excerpt":"Linuxä¸‹findå‘½ä»¤åœ¨ç›®å½•ç»“æ„ä¸­æœç´¢æ–‡ä»¶ï¼Œå¹¶æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œã€‚Linuxä¸‹findå‘½ä»¤æä¾›äº†ç›¸å½“å¤šçš„æŸ¥æ‰¾æ¡ä»¶ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ã€‚ç”±äºfindå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒçš„é€‰é¡¹ä¹Ÿå¾ˆå¤šï¼Œå…¶ä¸­å¤§éƒ¨åˆ†é€‰é¡¹éƒ½å€¼å¾—æˆ‘ä»¬èŠ±æ—¶é—´æ¥äº†è§£ä¸€ä¸‹ã€‚å³ä½¿ç³»ç»Ÿä¸­å«æœ‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ( NFS)ï¼Œfindå‘½ä»¤åœ¨è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­åŒæ ·æœ‰æ•ˆï¼Œåªä½ å…·æœ‰ç›¸åº”çš„æƒé™ã€‚ åœ¨è¿è¡Œä¸€ä¸ªéå¸¸æ¶ˆè€—èµ„æºçš„findå‘½ä»¤æ—¶ï¼Œå¾ˆå¤šäººéƒ½å€¾å‘äºæŠŠå®ƒæ”¾åœ¨åå°æ‰§è¡Œï¼Œå› ä¸ºéå†ä¸€ä¸ªå¤§çš„æ–‡ä»¶ç³»ç»Ÿå¯èƒ½ä¼šèŠ±è´¹å¾ˆé•¿çš„æ—¶é—´(è¿™é‡Œæ˜¯æŒ‡30Gå­—èŠ‚ä»¥ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ)ã€‚","text":"Linuxä¸‹findå‘½ä»¤åœ¨ç›®å½•ç»“æ„ä¸­æœç´¢æ–‡ä»¶ï¼Œå¹¶æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œã€‚Linuxä¸‹findå‘½ä»¤æä¾›äº†ç›¸å½“å¤šçš„æŸ¥æ‰¾æ¡ä»¶ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ã€‚ç”±äºfindå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒçš„é€‰é¡¹ä¹Ÿå¾ˆå¤šï¼Œå…¶ä¸­å¤§éƒ¨åˆ†é€‰é¡¹éƒ½å€¼å¾—æˆ‘ä»¬èŠ±æ—¶é—´æ¥äº†è§£ä¸€ä¸‹ã€‚å³ä½¿ç³»ç»Ÿä¸­å«æœ‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ( NFS)ï¼Œfindå‘½ä»¤åœ¨è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­åŒæ ·æœ‰æ•ˆï¼Œåªä½ å…·æœ‰ç›¸åº”çš„æƒé™ã€‚ åœ¨è¿è¡Œä¸€ä¸ªéå¸¸æ¶ˆè€—èµ„æºçš„findå‘½ä»¤æ—¶ï¼Œå¾ˆå¤šäººéƒ½å€¾å‘äºæŠŠå®ƒæ”¾åœ¨åå°æ‰§è¡Œï¼Œå› ä¸ºéå†ä¸€ä¸ªå¤§çš„æ–‡ä»¶ç³»ç»Ÿå¯èƒ½ä¼šèŠ±è´¹å¾ˆé•¿çš„æ—¶é—´(è¿™é‡Œæ˜¯æŒ‡30Gå­—èŠ‚ä»¥ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ)ã€‚ å‘½ä»¤æ ¼å¼$ find pathname -options [-print -exec -ok ...] å‘½ä»¤åŠŸèƒ½ ç”¨äºåœ¨æ–‡ä»¶æ ‘ç§æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¹¶ä½œå‡ºç›¸åº”çš„å¤„ç† å‘½ä»¤å‚æ•° å‚æ•° æè¿° pathname findå‘½ä»¤æ‰€æŸ¥æ‰¾çš„ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ç”¨.æ¥è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç”¨&#x2F;æ¥è¡¨ç¤ºç³»ç»Ÿæ ¹ç›®å½• -print findå‘½ä»¤å°†åŒ¹é…çš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º -exec findå‘½ä»¤å¯¹åŒ¹é…çš„æ–‡ä»¶æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ã€‚ç›¸åº”å‘½ä»¤çš„å½¢å¼ä¸ºâ€™commandâ€™ { } ;ï¼Œæ³¨æ„{ }å’Œ\\ï¼›ä¹‹é—´çš„ç©ºæ ¼ -ok å’Œ-execçš„ä½œç”¨ç›¸åŒï¼Œåªä¸è¿‡ä»¥ä¸€ç§æ›´ä¸ºå®‰å…¨çš„æ¨¡å¼æ¥æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ï¼Œåœ¨æ‰§è¡Œæ¯ä¸€ä¸ªå‘½ä»¤ä¹‹å‰ï¼Œéƒ½ä¼šç»™å‡ºæç¤ºï¼Œè®©ç”¨æˆ·æ¥ç¡®å®šæ˜¯å¦æ‰§è¡Œ å‘½ä»¤é€‰é¡¹ é€‰é¡¹ æè¿° -name æŒ‰ç…§æ–‡ä»¶åæŸ¥æ‰¾æ–‡ä»¶ -perm æŒ‰ç…§æ–‡ä»¶æƒé™æ¥æŸ¥æ‰¾æ–‡ä»¶ -prune ä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯ä»¥ä½¿findå‘½ä»¤ä¸åœ¨å½“å‰æŒ‡å®šçš„ç›®å½•ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœåŒæ—¶ä½¿ç”¨-depthé€‰é¡¹ï¼Œé‚£ä¹ˆ-pruneå°†è¢«findå‘½ä»¤å¿½ç•¥ -user æŒ‰ç…§æ–‡ä»¶å±ä¸»æ¥æŸ¥æ‰¾æ–‡ä»¶ -group æŒ‰ç…§æ–‡ä»¶æ‰€å±çš„ç»„æ¥æŸ¥æ‰¾æ–‡ä»¶ -mtime -n +n æŒ‰ç…§æ–‡ä»¶çš„æ›´æ”¹æ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œ - nè¡¨ç¤ºæ–‡ä»¶æ›´æ”¹æ—¶é—´è·ç°åœ¨nå¤©ä»¥å†…ï¼Œ+ nè¡¨ç¤ºæ–‡ä»¶æ›´æ”¹æ—¶é—´è·ç°åœ¨nå¤©ä»¥å‰ã€‚findå‘½ä»¤è¿˜æœ‰-atimeå’Œ-ctime é€‰é¡¹ï¼Œä½†å®ƒä»¬éƒ½å’Œ-m timeé€‰é¡¹ -nogroup æŸ¥æ‰¾æ— æœ‰æ•ˆæ‰€å±ç»„çš„æ–‡ä»¶ï¼Œå³è¯¥æ–‡ä»¶æ‰€å±çš„ç»„åœ¨&#x2F;etc&#x2F;groupsä¸­ä¸å­˜åœ¨ -nouser æŸ¥æ‰¾æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶ï¼Œå³è¯¥æ–‡ä»¶çš„å±ä¸»åœ¨&#x2F;etc&#x2F;passwdä¸­ä¸å­˜åœ¨ -newer file1 ! file2 æŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æ–‡ä»¶file1æ–°ä½†æ¯”æ–‡ä»¶file2æ—§çš„æ–‡ä»¶ -type æŸ¥æ‰¾æŸä¸€ç±»å‹çš„æ–‡ä»¶,è¯¸å¦‚ï¼šb - å—è®¾å¤‡æ–‡ä»¶d - ç›®å½•c - å­—ç¬¦è®¾å¤‡æ–‡ä»¶p - ç®¡é“æ–‡ä»¶l - ç¬¦å·é“¾æ¥æ–‡ä»¶f - æ™®é€šæ–‡ä»¶ -size nï¼š[c] æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦ä¸ºnå—çš„æ–‡ä»¶ï¼Œå¸¦æœ‰cæ—¶è¡¨ç¤ºæ–‡ä»¶é•¿åº¦ä»¥å­—èŠ‚è®¡ã€‚-depthï¼šåœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œç„¶åå†åœ¨å…¶å­ç›®å½•ä¸­æŸ¥æ‰¾ -fstype æŸ¥æ‰¾ä½äºæŸä¸€ç±»å‹æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿç±»å‹é€šå¸¸å¯ä»¥åœ¨é…ç½®æ–‡ä»¶&#x2F;etc&#x2F;fstabä¸­æ‰¾åˆ°ï¼Œè¯¥é…ç½®æ–‡ä»¶ä¸­åŒ…å«äº†æœ¬ç³»ç»Ÿä¸­æœ‰å…³æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ -mount åœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶ä¸è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿmountç‚¹ -follow å¦‚æœfindå‘½ä»¤é‡åˆ°ç¬¦å·é“¾æ¥æ–‡ä»¶ï¼Œå°±è·Ÿè¸ªè‡³é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶ -cpio å¯¹åŒ¹é…çš„æ–‡ä»¶ä½¿ç”¨cpioå‘½ä»¤ï¼Œå°†è¿™äº›æ–‡ä»¶å¤‡ä»½åˆ°ç£å¸¦è®¾å¤‡ä¸­ -amin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶ -atime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è®¿é—®çš„æ–‡ä»¶ -cmin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè¢«æ”¹å˜æ–‡ä»¶çŠ¶æ€çš„æ–‡ä»¶ -ctime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è¢«æ”¹å˜æ–‡ä»¶çŠ¶æ€çš„æ–‡ä»¶ -mmin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè¢«æ”¹å˜æ–‡ä»¶æ•°æ®çš„æ–‡ä»¶ -mtime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è¢«æ”¹å˜æ–‡ä»¶æ•°æ®çš„æ–‡ä»¶ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥æ‰¾æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ # æŸ¥æ‰¾48å°æ—¶å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ $ find -atime -2 ä¾‹äºŒï¼šæ ¹æ®å…³é”®å­—æŸ¥æ‰¾ # åœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ä¸€.logç»“å°¾çš„æ–‡ä»¶ã€‚ &quot;. &quot;ä»£è¡¨å½“å‰ç›®å½• $ find . -name &quot;*.log&quot; ä¾‹ä¸‰ï¼šæŒ‰ç…§ç›®å½•æˆ–æ–‡ä»¶çš„æƒé™æ¥æŸ¥æ‰¾æ–‡ä»¶ # æŸ¥æ‰¾/opt/soft/test/ç›®å½•ä¸‹ æƒé™ä¸º 777çš„æ–‡ä»¶ $ find /opt/soft/test/ -perm 777 ä¾‹å››ï¼šæŒ‰ç±»å‹æŸ¥æ‰¾ # æŸ¥æ‰¾å½“ç›®å½•ï¼Œä»¥.logç»“å°¾çš„æ™®é€šæ–‡ä»¶ $ find . -type f -name &quot;*.log&quot; ä¾‹äº”ï¼šæŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº $ find . -type d | sort ä¾‹å…­ï¼šæŒ‰å¤§å°æŸ¥æ‰¾æ–‡ä»¶ # æŸ¥æ‰¾å½“å‰ç›®å½•å¤§äº1Kçš„æ–‡ä»¶ $ find . -size +1000c -print","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ18ï¼‰: locate","slug":"linux-command-18-locate","date":"2016-12-18T07:09:28.000Z","updated":"2024-07-05T11:10:22.828Z","comments":true,"path":"2016/12/18/linux-command-18-locate/","permalink":"http://yelog.org/2016/12/18/linux-command-18-locate/","excerpt":"locate è®©ä½¿ç”¨è€…å¯ä»¥å¾ˆå¿«é€Ÿçš„æœå¯»æ¡£æ¡ˆç³»ç»Ÿå†…æ˜¯å¦æœ‰æŒ‡å®šçš„æ¡£æ¡ˆã€‚å…¶æ–¹æ³•æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªåŒ…æ‹¬ç³»ç»Ÿå†…æ‰€æœ‰æ¡£æ¡ˆåç§°åŠè·¯å¾„çš„æ•°æ®åº“ï¼Œä¹‹åå½“å¯»æ‰¾æ—¶å°±åªéœ€æŸ¥è¯¢è¿™ä¸ªæ•°æ®åº“ï¼Œè€Œä¸å¿…å®é™…æ·±å…¥æ¡£æ¡ˆç³»ç»Ÿä¹‹ä¸­äº†ã€‚åœ¨ä¸€èˆ¬çš„ distribution ä¹‹ä¸­ï¼Œæ•°æ®åº“çš„å»ºç«‹éƒ½è¢«æ”¾åœ¨ crontab ä¸­è‡ªåŠ¨æ‰§è¡Œã€‚","text":"locate è®©ä½¿ç”¨è€…å¯ä»¥å¾ˆå¿«é€Ÿçš„æœå¯»æ¡£æ¡ˆç³»ç»Ÿå†…æ˜¯å¦æœ‰æŒ‡å®šçš„æ¡£æ¡ˆã€‚å…¶æ–¹æ³•æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªåŒ…æ‹¬ç³»ç»Ÿå†…æ‰€æœ‰æ¡£æ¡ˆåç§°åŠè·¯å¾„çš„æ•°æ®åº“ï¼Œä¹‹åå½“å¯»æ‰¾æ—¶å°±åªéœ€æŸ¥è¯¢è¿™ä¸ªæ•°æ®åº“ï¼Œè€Œä¸å¿…å®é™…æ·±å…¥æ¡£æ¡ˆç³»ç»Ÿä¹‹ä¸­äº†ã€‚åœ¨ä¸€èˆ¬çš„ distribution ä¹‹ä¸­ï¼Œæ•°æ®åº“çš„å»ºç«‹éƒ½è¢«æ”¾åœ¨ crontab ä¸­è‡ªåŠ¨æ‰§è¡Œã€‚ å‘½ä»¤æ ¼å¼$ locate [é€‰æ‹©å‚æ•°] [æ ·å¼] å‘½ä»¤åŠŸèƒ½ locateå‘½ä»¤å¯ä»¥åœ¨æœå¯»æ•°æ®åº“æ—¶å¿«é€Ÿæ‰¾åˆ°æ¡£æ¡ˆï¼Œæ•°æ®åº“ç”±updatedbç¨‹åºæ¥æ›´æ–°ï¼Œupdatedbæ˜¯ç”±cron daemonå‘¨æœŸæ€§å»ºç«‹çš„ï¼Œlocateå‘½ä»¤åœ¨æœå¯»æ•°æ®åº“æ—¶æ¯”ç”±æ•´ä¸ªç”±ç¡¬ç›˜èµ„æ–™æ¥æœå¯»èµ„æ–™æ¥å¾—å¿«ï¼Œä½†è¾ƒå·®åŠ²çš„æ˜¯locateæ‰€æ‰¾åˆ°çš„æ¡£æ¡ˆè‹¥æ˜¯æœ€è¿‘æ‰å»ºç«‹æˆ– åˆšæ›´åçš„ï¼Œå¯èƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œåœ¨å†…å®šå€¼ä¸­ï¼Œupdatedbæ¯å¤©ä¼šè·‘ä¸€æ¬¡ï¼Œå¯ä»¥ç”±ä¿®æ”¹crontabæ¥æ›´æ–°è®¾å®šå€¼ã€‚(etc&#x2F;crontab) locateæŒ‡å®šç”¨åœ¨æœå¯»ç¬¦åˆæ¡ä»¶çš„æ¡£æ¡ˆï¼Œå®ƒä¼šå»å‚¨å­˜æ¡£æ¡ˆä¸ç›®å½•åç§°çš„æ•°æ®åº“å†…ï¼Œå¯»æ‰¾åˆä¹èŒƒæœ¬æ ·å¼æ¡ä»¶çš„æ¡£æ¡ˆæˆ–ç›®å½•å½•ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—å…ƒï¼ˆå¦‚* æˆ– ?ç­‰ï¼‰æ¥æŒ‡å®šèŒƒæœ¬æ ·å¼ï¼Œå¦‚æŒ‡å®šèŒƒæœ¬ä¸ºkcpa*ner, locateä¼šæ‰¾å‡ºæ‰€æœ‰èµ·å§‹å­—ä¸²ä¸ºkcpaä¸”ç»“å°¾ä¸ºnerçš„æ¡£æ¡ˆæˆ–ç›®å½•ï¼Œå¦‚åç§°ä¸ºkcpartnerè‹¥ç›®å½•å½•åç§°ä¸ºkcpa_neråˆ™ä¼šåˆ—å‡ºè¯¥ç›®å½•ä¸‹åŒ…æ‹¬ å­ç›®å½•åœ¨å†…çš„æ‰€æœ‰æ¡£æ¡ˆã€‚ locateæŒ‡ä»¤å’Œfindæ‰¾å¯»æ¡£æ¡ˆçš„åŠŸèƒ½ç±»ä¼¼ï¼Œä½†locateæ˜¯é€è¿‡updateç¨‹åºå°†ç¡¬ç›˜ä¸­çš„æ‰€æœ‰æ¡£æ¡ˆå’Œç›®å½•èµ„æ–™å…ˆå»ºç«‹ä¸€ä¸ªç´¢å¼•æ•°æ®åº“ï¼Œåœ¨ æ‰§è¡Œloacteæ—¶ç›´æ¥æ‰¾è¯¥ç´¢å¼•ï¼ŒæŸ¥è¯¢é€Ÿåº¦ä¼šè¾ƒå¿«ï¼Œç´¢å¼•æ•°æ®åº“ä¸€èˆ¬æ˜¯ç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œä½†ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è¾¾updateå¼ºè¿«ç³»ç»Ÿç«‹å³ä¿®æ”¹ç´¢å¼•æ•°æ®åº“ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -e å°†æ’é™¤åœ¨å¯»æ‰¾çš„èŒƒå›´ä¹‹å¤– -1 å¦‚æœ æ˜¯ 1ï¼åˆ™å¯åŠ¨å®‰å…¨æ¨¡å¼ã€‚åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨è€…ä¸ä¼šçœ‹åˆ°æƒé™æ— æ³•çœ‹åˆ°çš„æ¡£æ¡ˆã€‚è¿™ä¼šå§‹é€Ÿåº¦å‡æ…¢ï¼Œå› ä¸º locate å¿…é¡»è‡³å®é™…çš„æ¡£æ¡ˆç³»ç»Ÿä¸­å–å¾—æ¡£æ¡ˆçš„æƒé™èµ„æ–™ -f å°†ç‰¹å®šçš„æ¡£æ¡ˆç³»ç»Ÿæ’é™¤åœ¨å¤–ï¼Œä¾‹å¦‚æˆ‘ä»¬æ²¡æœ‰åˆ°ç†è¦æŠŠ proc æ¡£æ¡ˆç³»ç»Ÿä¸­çš„æ¡£æ¡ˆæ”¾åœ¨èµ„æ–™åº“ä¸­ -q å®‰é™æ¨¡å¼ï¼Œä¸ä¼šæ˜¾ç¤ºä»»ä½•é”™è¯¯è®¯æ¯ -n è‡³å¤šæ˜¾ç¤º nä¸ªè¾“å‡º -r ä½¿ç”¨æ­£è§„è¿ç®—å¼ åšå¯»æ‰¾çš„æ¡ä»¶ -o æŒ‡å®šèµ„æ–™åº“å­˜çš„åç§° -d æŒ‡å®šèµ„æ–™åº“çš„è·¯å¾„ -h æ˜¾ç¤ºè¾…åŠ©è®¯æ¯ -V æ˜¾ç¤ºç¨‹å¼çš„ç‰ˆæœ¬è®¯æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥æ‰¾å’Œpwdç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ $ locate pwd ä¾‹äºŒï¼šæœç´¢etcç›®å½•ä¸‹æ‰€æœ‰ä»¥shå¼€å¤´çš„æ–‡ä»¶ $ locate /etc/sh","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ17ï¼‰: whereis","slug":"linux-command-17-whereis","date":"2016-12-17T02:42:58.000Z","updated":"2024-07-05T11:10:22.988Z","comments":true,"path":"2016/12/17/linux-command-17-whereis/","permalink":"http://yelog.org/2016/12/17/linux-command-17-whereis/","excerpt":"whereiså‘½ä»¤åªèƒ½ç”¨äºç¨‹åºåçš„æœç´¢ï¼Œè€Œä¸”åªæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå‚æ•°-bï¼‰ã€manè¯´æ˜æ–‡ä»¶ï¼ˆå‚æ•°-mï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆå‚æ•°-sï¼‰ã€‚å¦‚æœçœç•¥å‚æ•°ï¼Œåˆ™è¿”å›æ‰€æœ‰ä¿¡æ¯ã€‚","text":"whereiså‘½ä»¤åªèƒ½ç”¨äºç¨‹åºåçš„æœç´¢ï¼Œè€Œä¸”åªæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå‚æ•°-bï¼‰ã€manè¯´æ˜æ–‡ä»¶ï¼ˆå‚æ•°-mï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆå‚æ•°-sï¼‰ã€‚å¦‚æœçœç•¥å‚æ•°ï¼Œåˆ™è¿”å›æ‰€æœ‰ä¿¡æ¯ã€‚ å’Œfindç›¸æ¯”ï¼ŒwhereisæŸ¥æ‰¾çš„é€Ÿåº¦éå¸¸å¿«ï¼Œè¿™æ˜¯å› ä¸ºlinuxç³»ç»Ÿä¼šå°† ç³»ç»Ÿå†…çš„æ‰€æœ‰æ–‡ä»¶éƒ½è®°å½•åœ¨ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œå½“ä½¿ç”¨whereiså’Œä¸‹é¢å³å°†ä»‹ç»çš„locateæ—¶ï¼Œä¼šä»æ•°æ®åº“ä¸­æŸ¥æ‰¾æ•°æ®ï¼Œè€Œä¸æ˜¯åƒfindå‘½ä»¤é‚£æ ·ï¼Œé€š è¿‡éå†ç¡¬ç›˜æ¥æŸ¥æ‰¾ï¼Œæ•ˆç‡è‡ªç„¶ä¼šå¾ˆé«˜ã€‚ ä½†æ˜¯è¯¥æ•°æ®åº“æ–‡ä»¶å¹¶ä¸æ˜¯å®æ—¶æ›´æ–°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ—¶ä¸€æ˜ŸæœŸæ›´æ–°ä¸€æ¬¡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç”¨whereiså’Œlocate æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œæœ‰æ—¶ä¼šæ‰¾åˆ°å·²ç»è¢«åˆ é™¤çš„æ•°æ®ï¼Œæˆ–è€…åˆšåˆšå»ºç«‹æ–‡ä»¶ï¼Œå´æ— æ³•æŸ¥æ‰¾åˆ°ï¼ŒåŸå› å°±æ˜¯å› ä¸ºæ•°æ®åº“æ–‡ä»¶æ²¡æœ‰è¢«æ›´æ–°ã€‚ å‘½ä»¤æ ¼å¼$ whereis [-bmsu] [BMS ç›®å½•å -f ] æ–‡ä»¶å å‘½ä»¤åŠŸèƒ½ whereiså‘½ä»¤æ˜¯å®šä½å¯æ‰§è¡Œæ–‡ä»¶ã€æºä»£ç æ–‡ä»¶ã€å¸®åŠ©æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä½ç½®ã€‚è¿™äº›æ–‡ä»¶çš„å±æ€§åº”å±äºåŸå§‹ä»£ç ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæˆ–æ˜¯å¸®åŠ©æ–‡ä»¶ã€‚whereis ç¨‹åºè¿˜å…·æœ‰æœç´¢æºä»£ç ã€æŒ‡å®šå¤‡ç”¨æœç´¢è·¯å¾„å’Œæœç´¢ä¸å¯»å¸¸é¡¹çš„èƒ½åŠ›ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -b å®šä½å¯æ‰§è¡Œæ–‡ä»¶ -m å®šä½å¸®åŠ©æ–‡ä»¶ -s å®šä½æºä»£ç æ–‡ä»¶ -u æœç´¢é»˜è®¤è·¯å¾„ä¸‹é™¤å¯æ‰§è¡Œæ–‡ä»¶ã€æºä»£ç æ–‡ä»¶ã€å¸®åŠ©æ–‡ä»¶ä»¥å¤–çš„å…¶å®ƒæ–‡ä»¶ -B æŒ‡å®šæœç´¢å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ -M æŒ‡å®šæœç´¢å¸®åŠ©æ–‡ä»¶çš„è·¯å¾„ -S æŒ‡å®šæœç´¢æºä»£ç æ–‡ä»¶çš„è·¯å¾„ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šå°†å’Œgitæ–‡ä»¶ç›¸å…³çš„æ–‡ä»¶éƒ½æŸ¥æ‰¾å‡ºæ¥ $ whereis git ä¾‹äºŒï¼šåªå°†äºŒè¿›åˆ¶æ–‡ä»¶ æŸ¥æ‰¾å‡ºæ¥ $ whereis -b svn whereis -m svn æŸ¥å‡ºè¯´æ˜æ–‡æ¡£è·¯å¾„ï¼Œwhereis -s svn æ‰¾sourceæºæ–‡ä»¶","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ16ï¼‰: which","slug":"linux-command-16-which","date":"2016-12-16T03:25:49.000Z","updated":"2024-07-05T11:10:22.863Z","comments":true,"path":"2016/12/16/linux-command-16-which/","permalink":"http://yelog.org/2016/12/16/linux-command-16-which/","excerpt":"æˆ‘ä»¬ç»å¸¸åœ¨linuxè¦æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶ï¼Œä½†ä¸çŸ¥é“æ”¾åœ¨å“ªé‡Œäº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¸€äº›å‘½ä»¤æ¥æœç´¢ï¼šwhich æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚whereis æŸ¥çœ‹æ–‡ä»¶çš„ä½ç½®ã€‚locate é…åˆæ•°æ®åº“æŸ¥çœ‹æ–‡ä»¶ä½ç½®ã€‚find å®é™…æœå¯»ç¡¬ç›˜æŸ¥è¯¢æ–‡ä»¶åç§°ã€‚ whichå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨whichå‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªä½ç½®çš„å‘½ä»¤ã€‚","text":"æˆ‘ä»¬ç»å¸¸åœ¨linuxè¦æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶ï¼Œä½†ä¸çŸ¥é“æ”¾åœ¨å“ªé‡Œäº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¸€äº›å‘½ä»¤æ¥æœç´¢ï¼šwhich æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚whereis æŸ¥çœ‹æ–‡ä»¶çš„ä½ç½®ã€‚locate é…åˆæ•°æ®åº“æŸ¥çœ‹æ–‡ä»¶ä½ç½®ã€‚find å®é™…æœå¯»ç¡¬ç›˜æŸ¥è¯¢æ–‡ä»¶åç§°ã€‚ whichå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨whichå‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªä½ç½®çš„å‘½ä»¤ã€‚ å‘½ä»¤æ ¼å¼$ which å¯æ‰§è¡Œæ–‡ä»¶åç§° å‘½ä»¤åŠŸèƒ½ whichæŒ‡ä»¤ä¼šåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -n æŒ‡å®šæ–‡ä»¶åé•¿åº¦ï¼ŒæŒ‡å®šçš„é•¿åº¦å¿…é¡»å¤§äºæˆ–ç­‰äºæ‰€æœ‰æ–‡ä»¶ä¸­æœ€é•¿çš„æ–‡ä»¶å -p ä¸-nå‚æ•°ç›¸åŒï¼Œä½†æ­¤å¤„çš„åŒ…æ‹¬äº†æ–‡ä»¶çš„è·¯å¾„ -w æŒ‡å®šè¾“å‡ºæ—¶æ ä½çš„å®½åº¦ -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥æ‰¾æ–‡ä»¶ã€æ˜¾ç¤ºå‘½ä»¤è·¯å¾„ # which æ˜¯æ ¹æ®ä½¿ç”¨è€…æ‰€é…ç½®çš„ PATH å˜é‡å†…çš„ç›®å½•å»æœå¯»å¯è¿è¡Œæ¡£çš„ï¼ # æ‰€ä»¥ï¼Œä¸åŒçš„ PATH é…ç½®å†…å®¹æ‰€æ‰¾åˆ°çš„å‘½ä»¤å½“ç„¶ä¸ä¸€æ ·çš„ï¼ $ which pwd ä¾‹äºŒï¼šç”¨ which å»æ‰¾å‡º which # ç«Ÿç„¶ä¼šæœ‰ä¸¤ä¸ª which ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ alias è¿™å°±æ˜¯æ‰€è°“çš„ã€å‘½ä»¤åˆ«åã€ï¼Œæ„æ€æ˜¯è¾“å…¥ which ä¼šç­‰æ–¼åé¢æ¥çš„é‚£ä¸²å‘½ä»¤ï¼ $ which which ä¾‹ä¸‰ï¼šæ‰¾å‡º cd è¿™ä¸ªå‘½ä»¤ # cd è¿™ä¸ªå¸¸ç”¨çš„å‘½ä»¤ç«Ÿç„¶æ‰¾ä¸åˆ°å•Šï¼ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸º cd æ˜¯bash å†…å»ºçš„å‘½ä»¤ï¼ # ä½†æ˜¯ which é»˜è®¤æ˜¯æ‰¾ PATH å†…æ‰€è§„èŒƒçš„ç›®å½•ï¼Œæ‰€ä»¥å½“ç„¶ä¸€å®šæ‰¾ä¸åˆ°çš„ï¼ $ which cd","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ15ï¼‰: tail","slug":"linux-command-15-tail","date":"2016-12-15T07:00:26.000Z","updated":"2024-07-05T11:10:22.944Z","comments":true,"path":"2016/12/15/linux-command-15-tail/","permalink":"http://yelog.org/2016/12/15/linux-command-15-tail/","excerpt":"tail å‘½ä»¤ä»æŒ‡å®šç‚¹å¼€å§‹å°†æ–‡ä»¶å†™åˆ°æ ‡å‡†è¾“å‡º.ä½¿ç”¨tailå‘½ä»¤çš„-fé€‰é¡¹å¯ä»¥æ–¹ä¾¿çš„æŸ¥é˜…æ­£åœ¨æ”¹å˜çš„æ—¥å¿—æ–‡ä»¶,tail -f filenameä¼šæŠŠfilenameé‡Œæœ€å°¾éƒ¨çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Š,å¹¶ä¸”ä¸ä½†åˆ·æ–°,ä½¿ä½ çœ‹åˆ°æœ€æ–°çš„æ–‡ä»¶å†…å®¹.","text":"tail å‘½ä»¤ä»æŒ‡å®šç‚¹å¼€å§‹å°†æ–‡ä»¶å†™åˆ°æ ‡å‡†è¾“å‡º.ä½¿ç”¨tailå‘½ä»¤çš„-fé€‰é¡¹å¯ä»¥æ–¹ä¾¿çš„æŸ¥é˜…æ­£åœ¨æ”¹å˜çš„æ—¥å¿—æ–‡ä»¶,tail -f filenameä¼šæŠŠfilenameé‡Œæœ€å°¾éƒ¨çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Š,å¹¶ä¸”ä¸ä½†åˆ·æ–°,ä½¿ä½ çœ‹åˆ°æœ€æ–°çš„æ–‡ä»¶å†…å®¹. å‘½ä»¤æ ¼å¼tail[å¿…è¦å‚æ•°][é€‰æ‹©å‚æ•°][æ–‡ä»¶] å‘½ä»¤åŠŸèƒ½ ç”¨äºæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æœ«å°¾å†…å®¹ï¼Œä¸æŒ‡å®šæ–‡ä»¶æ—¶ï¼Œä½œä¸ºè¾“å…¥ä¿¡æ¯è¿›è¡Œå¤„ç†ã€‚å¸¸ç”¨æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -f å¾ªç¯è¯»å– -q ä¸æ˜¾ç¤ºå¤„ç†ä¿¡æ¯ -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯ -c&lt;æ•°ç›®&gt; æ˜¾ç¤ºçš„å­—èŠ‚æ•° -n&lt;è¡Œæ•°&gt; æ˜¾ç¤ºè¡Œæ•° â€“pid&#x3D;PID ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨è¿›ç¨‹ID,PIDæ­»æ‰ä¹‹åç»“æŸ -q, â€“quiet, â€“silent ä»ä¸è¾“å‡ºç»™å‡ºæ–‡ä»¶åçš„é¦–éƒ¨ -s, â€“sleep-interval&#x3D;S ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨æ¯æ¬¡åå¤çš„é—´éš”ä¼‘çœ Sç§’ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºæ–‡ä»¶æœ«å°¾å†…å®¹ # æ˜¾ç¤ºæ–‡ä»¶æœ€å5è¡Œå†…å®¹ $ tail -n 5 log2014.log ä¾‹äºŒï¼šå¾ªç¯æŸ¥çœ‹æ–‡ä»¶å†…å®¹ $ tail -f test.log ä¾‹ä¸‰ï¼šä»ç¬¬5è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶ $ tail -n +5 log2014.log","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ14ï¼‰: head","slug":"linux-command-14-head","date":"2016-12-14T06:35:49.000Z","updated":"2024-07-05T11:10:22.814Z","comments":true,"path":"2016/12/14/linux-command-14-head/","permalink":"http://yelog.org/2016/12/14/linux-command-14-head/","excerpt":"head ä¸ tail å°±åƒå®ƒçš„åå­—ä¸€æ ·çš„æµ…æ˜¾æ˜“æ‡‚ï¼Œå®ƒæ˜¯ç”¨æ¥æ˜¾ç¤ºå¼€å¤´æˆ–ç»“å°¾æŸä¸ªæ•°é‡çš„æ–‡å­—åŒºå—ï¼Œhead ç”¨æ¥æ˜¾ç¤ºæ¡£æ¡ˆçš„å¼€å¤´è‡³æ ‡å‡†è¾“å‡ºä¸­ï¼Œè€Œ tail æƒ³å½“ç„¶å°”å°±æ˜¯çœ‹æ¡£æ¡ˆçš„ç»“å°¾ã€‚","text":"head ä¸ tail å°±åƒå®ƒçš„åå­—ä¸€æ ·çš„æµ…æ˜¾æ˜“æ‡‚ï¼Œå®ƒæ˜¯ç”¨æ¥æ˜¾ç¤ºå¼€å¤´æˆ–ç»“å°¾æŸä¸ªæ•°é‡çš„æ–‡å­—åŒºå—ï¼Œhead ç”¨æ¥æ˜¾ç¤ºæ¡£æ¡ˆçš„å¼€å¤´è‡³æ ‡å‡†è¾“å‡ºä¸­ï¼Œè€Œ tail æƒ³å½“ç„¶å°”å°±æ˜¯çœ‹æ¡£æ¡ˆçš„ç»“å°¾ã€‚ å‘½ä»¤æ ¼å¼head [å‚æ•°]... [æ–‡ä»¶]... å‘½ä»¤åŠŸèƒ½ head ç”¨æ¥æ˜¾ç¤ºæ¡£æ¡ˆçš„å¼€å¤´è‡³æ ‡å‡†è¾“å‡ºä¸­ï¼Œé»˜è®¤headå‘½ä»¤æ‰“å°å…¶ç›¸åº”æ–‡ä»¶çš„å¼€å¤´10è¡Œã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -q éšè—æ–‡ä»¶å -v æ˜¾ç¤ºæ–‡ä»¶å -c&lt;å­—èŠ‚&gt; æ˜¾ç¤ºå­—èŠ‚æ•° -n&lt;è¡Œæ•°&gt; æ˜¾ç¤ºçš„è¡Œæ•° ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºæ–‡ä»¶çš„å‰nè¡Œ $ head -n 5 log2014.log ä¾‹äºŒï¼šæ˜¾ç¤ºæ–‡ä»¶å‰nä¸ªå­—èŠ‚ $ head -c 20 log2014.log ä¾‹ä¸‰ï¼šæ–‡ä»¶çš„é™¤äº†æœ€ånä¸ªå­—èŠ‚ä»¥å¤–çš„å†…å®¹ $ head -c -32 log2014.log ä¾‹å››ï¼šè¾“å‡ºæ–‡ä»¶é™¤äº†æœ€ånè¡Œçš„å…¨éƒ¨å†…å®¹ $ head -n -6 log2014.log","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ13ï¼‰: less","slug":"linux-command-13-less","date":"2016-12-13T13:46:14.000Z","updated":"2024-07-05T11:10:23.007Z","comments":true,"path":"2016/12/13/linux-command-13-less/","permalink":"http://yelog.org/2016/12/13/linux-command-13-less/","excerpt":"less å·¥å…·ä¹Ÿæ˜¯å¯¹æ–‡ä»¶æˆ–å…¶å®ƒè¾“å‡ºè¿›è¡Œåˆ†é¡µæ˜¾ç¤ºçš„å·¥å…·ï¼Œåº”è¯¥è¯´æ˜¯linuxæ­£ç»ŸæŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„å·¥å…·ï¼ŒåŠŸèƒ½æå…¶å¼ºå¤§ã€‚less çš„ç”¨æ³•æ¯”èµ· more æ›´åŠ çš„æœ‰å¼¹æ€§ã€‚åœ¨ more çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åŠæ³•å‘å‰é¢ç¿»ï¼Œ åªèƒ½å¾€åé¢çœ‹ï¼Œä½†è‹¥ä½¿ç”¨äº† less æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ [pageup] [pagedown] ç­‰æŒ‰é”®çš„åŠŸèƒ½æ¥å¾€å‰å¾€åç¿»çœ‹æ–‡ä»¶ï¼Œæ›´å®¹æ˜“ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ less é‡Œå¤´å¯ä»¥æ‹¥æœ‰æ›´å¤šçš„æœç´¢åŠŸèƒ½ï¼Œä¸æ­¢å¯ä»¥å‘ä¸‹æœï¼Œä¹Ÿå¯ä»¥å‘ä¸Šæœã€‚","text":"less å·¥å…·ä¹Ÿæ˜¯å¯¹æ–‡ä»¶æˆ–å…¶å®ƒè¾“å‡ºè¿›è¡Œåˆ†é¡µæ˜¾ç¤ºçš„å·¥å…·ï¼Œåº”è¯¥è¯´æ˜¯linuxæ­£ç»ŸæŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„å·¥å…·ï¼ŒåŠŸèƒ½æå…¶å¼ºå¤§ã€‚less çš„ç”¨æ³•æ¯”èµ· more æ›´åŠ çš„æœ‰å¼¹æ€§ã€‚åœ¨ more çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åŠæ³•å‘å‰é¢ç¿»ï¼Œ åªèƒ½å¾€åé¢çœ‹ï¼Œä½†è‹¥ä½¿ç”¨äº† less æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ [pageup] [pagedown] ç­‰æŒ‰é”®çš„åŠŸèƒ½æ¥å¾€å‰å¾€åç¿»çœ‹æ–‡ä»¶ï¼Œæ›´å®¹æ˜“ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ less é‡Œå¤´å¯ä»¥æ‹¥æœ‰æ›´å¤šçš„æœç´¢åŠŸèƒ½ï¼Œä¸æ­¢å¯ä»¥å‘ä¸‹æœï¼Œä¹Ÿå¯ä»¥å‘ä¸Šæœã€‚ å‘½ä»¤æ ¼å¼$ less [å‚æ•°] æ–‡ä»¶ å‘½ä»¤åŠŸèƒ½ less ä¸ more ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ less å¯ä»¥éšæ„æµè§ˆæ–‡ä»¶ï¼Œè€Œ more ä»…èƒ½å‘å‰ç§»åŠ¨ï¼Œå´ä¸èƒ½å‘åç§»åŠ¨ï¼Œè€Œä¸” less åœ¨æŸ¥çœ‹ä¹‹å‰ä¸ä¼šåŠ è½½æ•´ä¸ªæ–‡ä»¶ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -b &lt;ç¼“å†²åŒºå¤§å°&gt; è®¾ç½®ç¼“å†²åŒºçš„å¤§å° -e å½“æ–‡ä»¶æ˜¾ç¤ºç»“æŸåï¼Œè‡ªåŠ¨ç¦»å¼€ -f å¼ºè¿«æ‰“å¼€ç‰¹æ®Šæ–‡ä»¶ï¼Œä¾‹å¦‚å¤–å›´è®¾å¤‡ä»£å·ã€ç›®å½•å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ -g åªæ ‡å¿—æœ€åæœç´¢çš„å…³é”®è¯ -i å¿½ç•¥æœç´¢æ—¶çš„å¤§å°å†™ -m æ˜¾ç¤ºç±»ä¼¼moreå‘½ä»¤çš„ç™¾åˆ†æ¯” -N æ˜¾ç¤ºæ¯è¡Œçš„è¡Œå· -o &lt;æ–‡ä»¶å&gt; å°†less è¾“å‡ºçš„å†…å®¹åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ä¿å­˜èµ·æ¥ -Q ä¸ä½¿ç”¨è­¦å‘ŠéŸ³ -s æ˜¾ç¤ºè¿ç»­ç©ºè¡Œä¸ºä¸€è¡Œ -S è¡Œè¿‡é•¿æ—¶é—´å°†è¶…å‡ºéƒ¨åˆ†èˆå¼ƒ -x &lt;æ•°å­—&gt; å°†â€œtabâ€é”®æ˜¾ç¤ºä¸ºè§„å®šçš„æ•°å­—ç©ºæ ¼ &#x2F;å­—ç¬¦ä¸² å‘ä¸‹æœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½ ?å­—ç¬¦ä¸² å‘ä¸Šæœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½ n é‡å¤å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ &#x2F; æˆ– ? æœ‰å…³ï¼‰ N åå‘é‡å¤å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ &#x2F; æˆ– ? æœ‰å…³ï¼‰ b å‘åç¿»ä¸€é¡µ d å‘åç¿»åŠé¡µ h æ˜¾ç¤ºå¸®åŠ©ç•Œé¢ Q é€€å‡ºless å‘½ä»¤ u å‘å‰æ»šåŠ¨åŠé¡µ y å‘å‰æ»šåŠ¨ä¸€è¡Œ ç©ºæ ¼é”® æ»šåŠ¨ä¸€è¡Œ å›è½¦é”® æ»šåŠ¨ä¸€é¡µ [pagedown] å‘ä¸‹ç¿»åŠ¨ä¸€é¡µ [pageup] å‘ä¸Šç¿»åŠ¨ä¸€é¡µ å¸¸ç”¨æ“ä½œå…¨å±å¯¼èˆª æ“ä½œ æè¿° ctrl + F å‘å‰ç§»åŠ¨ä¸€å± ctrl + B å‘åç§»åŠ¨ä¸€å± ctrl + D å‘å‰ç§»åŠ¨åŠå± ctrl + U å‘åç§»åŠ¨åŠå± å•è¡Œå¯¼èˆª æ“ä½œ æè¿° j å‘å‰ç§»åŠ¨ä¸€è¡Œ k å‘åç§»åŠ¨ä¸€è¡Œ å…¶ä»–å¯¼èˆª æ“ä½œ æè¿° G ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ g ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ q &#x2F; ZZ é€€å‡º less å‘½ä»¤ å…¶å®ƒæœ‰ç”¨çš„å‘½ä»¤ æ“ä½œ æè¿° v ä½¿ç”¨é…ç½®çš„ç¼–è¾‘å™¨ç¼–è¾‘å½“å‰æ–‡ä»¶ h æ˜¾ç¤º less çš„å¸®åŠ©æ–‡æ¡£ &amp;pattern ä»…æ˜¾ç¤ºåŒ¹é…æ¨¡å¼çš„è¡Œï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ–‡ä»¶ æ ‡è®°å¯¼èˆª å½“ä½¿ç”¨ less æŸ¥çœ‹å¤§æ–‡ä»¶æ—¶ï¼Œå¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªä½ç½®ä½œæ ‡è®°ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤å¯¼èˆªåˆ°æ ‡æœ‰ç‰¹å®šæ ‡è®°çš„æ–‡æœ¬ä½ç½® æ“ä½œ æè¿° ma ä½¿ç”¨ a æ ‡è®°æ–‡æœ¬çš„å½“å‰ä½ç½® â€˜a å¯¼èˆªåˆ°æ ‡è®° a å¤„ ä½¿ç”¨å®ä¾‹ä¾‹ä¸€ï¼šæŸ¥çœ‹æ–‡ä»¶ $ less log2013.log ä¾‹äºŒï¼špsæŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯å¹¶é€šè¿‡lessåˆ†é¡µæ˜¾ç¤º $ ps -ef |less ä¾‹ä¸‰ï¼šæŸ¥çœ‹å‘½ä»¤å†å²ä½¿ç”¨è®°å½•å¹¶é€šè¿‡lessåˆ†é¡µæ˜¾ç¤º $ history | less ä¾‹ä¸‰ï¼šæµè§ˆå¤šä¸ªæ–‡ä»¶ $ Less log2013.log log2014.log è¾“å…¥ ï¼šnåï¼Œåˆ‡æ¢åˆ° log2014.logè¾“å…¥ ï¼šp åï¼Œåˆ‡æ¢åˆ°log2013.log","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ12ï¼‰: more","slug":"linux-command-12-more","date":"2016-12-12T13:29:39.000Z","updated":"2024-07-05T11:10:22.959Z","comments":true,"path":"2016/12/12/linux-command-12-more/","permalink":"http://yelog.org/2016/12/12/linux-command-12-more/","excerpt":"moreå‘½ä»¤ï¼ŒåŠŸèƒ½ç±»ä¼¼ cat ï¼Œcatå‘½ä»¤æ˜¯æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ä»ä¸Šåˆ°ä¸‹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ moreä¼šä»¥ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–¹ä¾¿ä½¿ç”¨è€…é€é¡µé˜…è¯»ï¼Œè€Œæœ€åŸºæœ¬çš„æŒ‡ä»¤å°±æ˜¯æŒ‰ç©ºç™½é”®ï¼ˆspaceï¼‰å°±å¾€ä¸‹ä¸€é¡µæ˜¾ç¤ºï¼ŒæŒ‰ b é”®å°±ä¼šå¾€å›ï¼ˆbackï¼‰ä¸€é¡µæ˜¾ç¤ºï¼Œè€Œä¸”è¿˜æœ‰æœå¯»å­—ä¸²çš„åŠŸèƒ½ ã€‚moreå‘½ä»¤ä»å‰å‘åè¯»å–æ–‡ä»¶ï¼Œå› æ­¤åœ¨å¯åŠ¨æ—¶å°±åŠ è½½æ•´ä¸ªæ–‡ä»¶ã€‚","text":"moreå‘½ä»¤ï¼ŒåŠŸèƒ½ç±»ä¼¼ cat ï¼Œcatå‘½ä»¤æ˜¯æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ä»ä¸Šåˆ°ä¸‹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ moreä¼šä»¥ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–¹ä¾¿ä½¿ç”¨è€…é€é¡µé˜…è¯»ï¼Œè€Œæœ€åŸºæœ¬çš„æŒ‡ä»¤å°±æ˜¯æŒ‰ç©ºç™½é”®ï¼ˆspaceï¼‰å°±å¾€ä¸‹ä¸€é¡µæ˜¾ç¤ºï¼ŒæŒ‰ b é”®å°±ä¼šå¾€å›ï¼ˆbackï¼‰ä¸€é¡µæ˜¾ç¤ºï¼Œè€Œä¸”è¿˜æœ‰æœå¯»å­—ä¸²çš„åŠŸèƒ½ ã€‚moreå‘½ä»¤ä»å‰å‘åè¯»å–æ–‡ä»¶ï¼Œå› æ­¤åœ¨å¯åŠ¨æ—¶å°±åŠ è½½æ•´ä¸ªæ–‡ä»¶ã€‚ å‘½ä»¤æ ¼å¼$ more [-dlfpcsu ] [-num ] [+/ pattern] [+ linenum] [file ... ] å‘½ä»¤åŠŸèƒ½ moreå‘½ä»¤å’Œcatçš„åŠŸèƒ½ä¸€æ ·éƒ½æ˜¯æŸ¥çœ‹æ–‡ä»¶é‡Œçš„å†…å®¹ï¼Œä½†æœ‰æ‰€ä¸åŒçš„æ˜¯moreå¯ä»¥æŒ‰é¡µæ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ”¯æŒç›´æ¥è·³è½¬è¡Œç­‰åŠŸèƒ½ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° +n ä»ç¬«nè¡Œå¼€å§‹æ˜¾ç¤º -n å®šä¹‰å±å¹•å¤§å°ä¸ºnè¡Œ +&#x2F;pattern æ¯ä¸ªæ¡£æ¡ˆæ˜¾ç¤ºå‰æœå¯»è¯¥å­—ä¸²ï¼ˆpatternï¼‰ï¼Œç„¶åä»è¯¥å­—ä¸²å‰ä¸¤è¡Œä¹‹åå¼€å§‹æ˜¾ç¤º -c ä»é¡¶éƒ¨æ¸…å±ï¼Œç„¶åæ˜¾ç¤º -d æç¤ºâ€œPress space to continueï¼Œâ€™qâ€™ to quitï¼ˆæŒ‰ç©ºæ ¼é”®ç»§ç»­ï¼ŒæŒ‰qé”®é€€å‡ºï¼‰â€ï¼Œç¦ç”¨å“é“ƒåŠŸèƒ½ -l å¿½ç•¥Ctrl+lï¼ˆæ¢é¡µï¼‰å­—ç¬¦ -p é€šè¿‡æ¸…é™¤çª—å£è€Œä¸æ˜¯æ»šå±æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ¢é¡µï¼Œä¸-cé€‰é¡¹ç›¸ä¼¼ -s æŠŠè¿ç»­çš„å¤šä¸ªç©ºè¡Œæ˜¾ç¤ºä¸ºä¸€è¡Œ -u æŠŠæ–‡ä»¶å†…å®¹ä¸­çš„ä¸‹ç”»çº¿å»æ‰ å¸¸ç”¨æ“ä½œ æ“ä½œ æè¿° Enter å‘ä¸‹nè¡Œï¼Œéœ€è¦å®šä¹‰ã€‚é»˜è®¤ä¸º1è¡Œ Ctrl+F å‘ä¸‹æ»šåŠ¨ä¸€å± ç©ºæ ¼é”® å‘ä¸‹æ»šåŠ¨ä¸€å± Ctrl+B è¿”å›ä¸Šä¸€å± &#x3D; è¾“å‡ºå½“å‰è¡Œçš„è¡Œå· ï¼šf è¾“å‡ºæ–‡ä»¶åå’Œå½“å‰è¡Œçš„è¡Œå· V è°ƒç”¨viç¼–è¾‘å™¨ !å‘½ä»¤ è°ƒç”¨Shellï¼Œå¹¶æ‰§è¡Œå‘½ä»¤ q é€€å‡ºmore å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæ˜¾ç¤ºæ–‡ä»¶ä¸­ä»ç¬¬3è¡Œèµ·çš„å†…å®¹ $ more +3 log2012.log ä¾‹äºŒï¼šä»æ–‡ä»¶ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°â€day3â€å­—ç¬¦ä¸²çš„è¡Œï¼Œå¹¶ä»è¯¥å¤„å‰ä¸¤è¡Œå¼€å§‹æ˜¾ç¤ºè¾“å‡º $ more +/day3 log2012.log ä¾‹ä¸‰ï¼šè®¾å®šæ¯å±æ˜¾ç¤ºè¡Œæ•° $ more -5 log2012.log ä¾‹å››ï¼šåˆ—ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç”±äºå†…å®¹å¤ªå¤šï¼Œæˆ‘ä»¬åº”è¯¥å­¦ä¼šç”¨moreæ¥åˆ†é¡µæ˜¾ç¤ºã€‚è¿™å¾—å’Œç®¡é“ | ç»“åˆèµ·æ¥ $ ls -l | more -5 è¯´æ˜ï¼šæ¯é¡µæ˜¾ç¤º5ä¸ªæ–‡ä»¶ä¿¡æ¯ï¼ŒæŒ‰ Ctrl+F æˆ–è€… ç©ºæ ¼é”® å°†ä¼šæ˜¾ç¤ºä¸‹5æ¡æ–‡ä»¶ä¿¡æ¯ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ11ï¼‰: nl","slug":"linux-command-11-nl","date":"2016-12-11T13:11:48.000Z","updated":"2024-07-05T11:10:23.043Z","comments":true,"path":"2016/12/11/linux-command-11-nl/","permalink":"http://yelog.org/2016/12/11/linux-command-11-nl/","excerpt":"nlå‘½ä»¤åœ¨linuxç³»ç»Ÿä¸­ç”¨æ¥è®¡ç®—æ–‡ä»¶ä¸­è¡Œå·ã€‚nl å¯ä»¥å°†è¾“å‡ºçš„æ–‡ä»¶å†…å®¹è‡ªåŠ¨çš„åŠ ä¸Šè¡Œå·ï¼å…¶é»˜è®¤çš„ç»“æœä¸ cat -n æœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼Œ nl å¯ä»¥å°†è¡Œå·åšæ¯”è¾ƒå¤šçš„æ˜¾ç¤ºè®¾è®¡ï¼ŒåŒ…æ‹¬ä½æ•°ä¸æ˜¯å¦è‡ªåŠ¨è¡¥é½ 0 ç­‰ç­‰çš„åŠŸèƒ½ã€‚","text":"nlå‘½ä»¤åœ¨linuxç³»ç»Ÿä¸­ç”¨æ¥è®¡ç®—æ–‡ä»¶ä¸­è¡Œå·ã€‚nl å¯ä»¥å°†è¾“å‡ºçš„æ–‡ä»¶å†…å®¹è‡ªåŠ¨çš„åŠ ä¸Šè¡Œå·ï¼å…¶é»˜è®¤çš„ç»“æœä¸ cat -n æœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼Œ nl å¯ä»¥å°†è¡Œå·åšæ¯”è¾ƒå¤šçš„æ˜¾ç¤ºè®¾è®¡ï¼ŒåŒ…æ‹¬ä½æ•°ä¸æ˜¯å¦è‡ªåŠ¨è¡¥é½ 0 ç­‰ç­‰çš„åŠŸèƒ½ã€‚ å‘½ä»¤æ ¼å¼$ nl [é€‰é¡¹]... [æ–‡ä»¶]... å‘½ä»¤åŠŸèƒ½ nl å‘½ä»¤è¯»å– File å‚æ•°ï¼ˆç¼ºçœæƒ…å†µä¸‹æ ‡å‡†è¾“å…¥ï¼‰ï¼Œè®¡ç®—è¾“å…¥ä¸­çš„è¡Œå·ï¼Œå°†è®¡ç®—è¿‡çš„è¡Œå·å†™å…¥æ ‡å‡†è¾“å‡ºã€‚ åœ¨è¾“å‡ºä¸­ï¼Œnl å‘½ä»¤æ ¹æ®æ‚¨åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ ‡å¿—æ¥è®¡ç®—å·¦è¾¹çš„è¡Œã€‚ è¾“å…¥æ–‡æœ¬å¿…é¡»å†™åœ¨é€»è¾‘é¡µä¸­ã€‚æ¯ä¸ªé€»è¾‘é¡µæœ‰å¤´ã€ä¸»ä½“å’Œé¡µè„šèŠ‚ï¼ˆå¯ä»¥æœ‰ç©ºèŠ‚ï¼‰ã€‚ é™¤éä½¿ç”¨ -p æ ‡å¿—ï¼Œnl å‘½ä»¤åœ¨æ¯ä¸ªé€»è¾‘é¡µå¼€å§‹çš„åœ°æ–¹é‡æ–°è®¾ç½®è¡Œå·ã€‚ å¯ä»¥å•ç‹¬ä¸ºå¤´ã€ä¸»ä½“å’Œé¡µè„šèŠ‚è®¾ç½®è¡Œè®¡ç®—æ ‡å¿—ï¼ˆä¾‹å¦‚ï¼Œå¤´å’Œé¡µè„šè¡Œå¯ä»¥è¢«è®¡ç®—ç„¶è€Œæ–‡æœ¬è¡Œä¸èƒ½ï¼‰ã€‚ å‘½ä»¤å‚æ•° ç§ç±» å‚æ•° æè¿° -b -b a è¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n) -b t å¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼) -n -n ln è¡Œå·åœ¨è¤å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤º -n rn è¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 -n rz è¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 -w -w è¡Œå·æ ä½çš„å ç”¨çš„ä½æ•° -p -p åœ¨é€»è¾‘å®šç•Œç¬¦å¤„ä¸é‡æ–°å¼€å§‹è®¡ç®— å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šç”¨ nl åˆ—å‡º log2012.log çš„å†…å®¹ # æ–‡ä»¶ä¸­çš„ç©ºç™½è¡Œï¼Œnl ä¸ä¼šåŠ ä¸Šè¡Œå· $ nl log2012.log ä¾‹äºŒï¼šç”¨ nl åˆ—å‡º log2012.log çš„å†…å®¹ï¼Œç©ºæœ¬è¡Œä¹ŸåŠ ä¸Šè¡Œå· $ nl -b a log2012.log ä¾‹ä¸‰ï¼šè®©è¡Œå·å‰é¢è‡ªåŠ¨è¡¥ä¸Š0,ç»Ÿä¸€è¾“å‡ºæ ¼å¼ $ nl -b a -n rz log2014.log nl -b a -n rz å‘½ä»¤è¡Œå·é»˜è®¤ä¸ºå…­ä½ï¼Œè¦è°ƒæ•´ä½æ•°å¯ä»¥åŠ ä¸Šå‚æ•° -w 3 è°ƒæ•´ä¸º3ä½ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ10ï¼‰: cat","slug":"linux-command-10-cat","date":"2016-12-10T02:52:50.000Z","updated":"2024-07-05T11:10:22.915Z","comments":true,"path":"2016/12/10/linux-command-10-cat/","permalink":"http://yelog.org/2016/12/10/linux-command-10-cat/","excerpt":"catå‘½ä»¤çš„ç”¨é€”æ˜¯è¿æ¥æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥å¹¶æ‰“å°ã€‚è¿™ä¸ªå‘½ä»¤å¸¸ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæˆ–è€…å°†å‡ ä¸ªæ–‡ä»¶è¿æ¥èµ·æ¥æ˜¾ç¤ºï¼Œæˆ–è€…ä»æ ‡å‡†è¾“å…¥è¯»å–å†…å®¹å¹¶æ˜¾ç¤ºï¼Œå®ƒå¸¸ä¸é‡å®šå‘ç¬¦å·é…åˆä½¿ç”¨ã€‚","text":"catå‘½ä»¤çš„ç”¨é€”æ˜¯è¿æ¥æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥å¹¶æ‰“å°ã€‚è¿™ä¸ªå‘½ä»¤å¸¸ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæˆ–è€…å°†å‡ ä¸ªæ–‡ä»¶è¿æ¥èµ·æ¥æ˜¾ç¤ºï¼Œæˆ–è€…ä»æ ‡å‡†è¾“å…¥è¯»å–å†…å®¹å¹¶æ˜¾ç¤ºï¼Œå®ƒå¸¸ä¸é‡å®šå‘ç¬¦å·é…åˆä½¿ç”¨ã€‚ å‘½ä»¤æ ¼å¼$ cat [é€‰é¡¹] [æ–‡ä»¶]... å‘½ä»¤åŠŸèƒ½catä¸»è¦æœ‰ä¸‰å¤§åŠŸèƒ½ ä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶:cat filename ä»é”®ç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶:cat &gt; filename åªèƒ½åˆ›å»ºæ–°æ–‡ä»¶,ä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶. å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶:cat file1 file2 &gt; file å‘½ä»¤å‚æ•° å‚æ•° æè¿° -A, â€“show-all ç­‰ä»·äº -vET -b, â€“number-nonblank å¯¹éç©ºè¾“å‡ºè¡Œç¼–å· -e ç­‰ä»·äº -vE -E, â€“show-ends åœ¨æ¯è¡Œç»“æŸå¤„æ˜¾ç¤º $ -n, â€“number å¯¹è¾“å‡ºçš„æ‰€æœ‰è¡Œç¼–å·,ç”±1å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å· -s, â€“squeeze-blank æœ‰è¿ç»­ä¸¤è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œï¼Œå°±ä»£æ¢ä¸ºä¸€è¡Œçš„ç©ºç™½è¡Œ -t ä¸ -vT ç­‰ä»· -T, â€“show-tabs å°†è·³æ ¼å­—ç¬¦æ˜¾ç¤ºä¸º ^I -u (è¢«å¿½ç•¥) -v, â€“show-nonprinting ä½¿ç”¨ ^ å’Œ M- å¼•ç”¨ï¼Œé™¤äº† LFD å’Œ TAB ä¹‹å¤– å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæŠŠ log2012.log çš„æ–‡ä»¶å†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ log2013.log è¿™ä¸ªæ–‡ä»¶é‡Œ $ cat -n log2012.log log2013.log ä¾‹äºŒï¼šæŠŠ log2012.log å’Œ log2013.log çš„æ–‡ä»¶å†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° log.log é‡Œ $ cat -b log2012.log log2013.log log.log ä¾‹ä¸‰ï¼šæŠŠ log2012.log çš„æ–‡ä»¶å†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ log.log è¿™ä¸ªæ–‡ä»¶é‡Œ $ cat -n log2012.log &gt; log.log ä¾‹å››ï¼šä½¿ç”¨here docæ¥ç”Ÿæˆæ–‡ä»¶ $ cat &gt;log.txt &lt;&lt;EOF &gt; Hello &gt; World &gt; Linux &gt; PWD=$(pwd) &gt; EOF ä¾‹äº”ï¼štac (åå‘åˆ—ç¤º) $ tac log.txt PWD=/opt/soft/test Linux World Hello tac æ˜¯å°† cat åå†™è¿‡æ¥ï¼Œæ‰€ä»¥ä»–çš„åŠŸèƒ½å°±è·Ÿ cat ç›¸åï¼Œ cat æ˜¯ç”±ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œè¿ç»­æ˜¾ç¤ºåœ¨è¤å¹•ä¸Šï¼Œè€Œ tac åˆ™æ˜¯ç”±æœ€åä¸€è¡Œåˆ°ç¬¬ä¸€è¡Œåå‘åœ¨è¤å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥ï¼","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ9ï¼‰: touch","slug":"linux-command-9-touch","date":"2016-12-08T23:15:12.000Z","updated":"2024-07-05T11:10:23.030Z","comments":true,"path":"2016/12/09/linux-command-9-touch/","permalink":"http://yelog.org/2016/12/09/linux-command-9-touch/","excerpt":"linuxçš„touchå‘½ä»¤ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬åœ¨ä½¿ç”¨makeçš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°ï¼Œç”¨æ¥ä¿®æ”¹æ–‡ä»¶æ—¶é—´æˆ³ï¼Œæˆ–è€…æ–°å»ºä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚","text":"linuxçš„touchå‘½ä»¤ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬åœ¨ä½¿ç”¨makeçš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°ï¼Œç”¨æ¥ä¿®æ”¹æ–‡ä»¶æ—¶é—´æˆ³ï¼Œæˆ–è€…æ–°å»ºä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ å‘½ä»¤æ ¼å¼$ touch [é€‰é¡¹]... æ–‡ä»¶... å‘½ä»¤åŠŸèƒ½ touchå‘½ä»¤å‚æ•°å¯æ›´æ”¹æ–‡æ¡£æˆ–ç›®å½•çš„æ—¥æœŸæ—¶é—´ï¼ŒåŒ…æ‹¬å­˜å–æ—¶é—´å’Œæ›´æ”¹æ—¶é—´ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -a æˆ–â€“time&#x3D;atimeæˆ–â€“time&#x3D;accessæˆ–â€“time&#x3D;use åªæ›´æ”¹å­˜å–æ—¶é—´ -c æˆ–â€“no-create ä¸å»ºç«‹ä»»ä½•æ–‡æ¡£ -d ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ï¼Œè€Œéç°åœ¨çš„æ—¶é—´ -f æ­¤å‚æ•°å°†å¿½ç•¥ä¸äºˆå¤„ç†ï¼Œä»…è´Ÿè´£è§£å†³BSDç‰ˆæœ¬touchæŒ‡ä»¤çš„å…¼å®¹æ€§é—®é¢˜ -m æˆ–â€“time&#x3D;mtimeæˆ–â€“time&#x3D;modify åªæ›´æ”¹å˜åŠ¨æ—¶é—´ -r æŠŠæŒ‡å®šæ–‡æ¡£æˆ–ç›®å½•çš„æ—¥æœŸæ—¶é—´ï¼Œç»Ÿç»Ÿè®¾æˆå’Œå‚è€ƒæ–‡æ¡£æˆ–ç›®å½•çš„æ—¥æœŸæ—¶é—´ç›¸åŒ -t ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ï¼Œè€Œéç°åœ¨çš„æ—¶é—´ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šåˆ›å»ºä¸å­˜åœ¨çš„æ–‡ä»¶ $ touch 1.txt ä¾‹äºŒï¼šæ›´æ–°1.txtçš„æ—¶é—´å’Œ2.txtæ—¶é—´æˆ³ç›¸åŒ $ touch -r 1.txt 2.txt ä¾‹ä¸‰ï¼šè®¾å®šæ–‡ä»¶çš„æ—¶é—´æˆ³ $ touch -t 201211142234.50 1.txt ä¾‹å››ï¼šåˆ›å»ºä¸å­˜åœ¨çš„æ–‡ä»¶ $ touch 1.txt è¯´æ˜ï¼š -t time ä½¿ç”¨æŒ‡å®šçš„æ—¶é—´å€¼ time ä½œä¸ºæŒ‡å®šæ–‡ä»¶ç›¸åº”æ—¶é—´æˆ³è®°çš„æ–°å€¼ï¼æ­¤å¤„çš„ timeè§„å®šä¸ºå¦‚ä¸‹å½¢å¼çš„åè¿›åˆ¶æ•°: [[CC]YY]MMDDhhmm[.SS] è¿™é‡Œï¼ŒCCä¸ºå¹´æ•°ä¸­çš„å‰ä¸¤ä½ï¼Œå³â€ä¸–çºªæ•°â€ï¼›YYä¸ºå¹´æ•°çš„åä¸¤ä½ï¼Œå³æŸä¸–çºªä¸­çš„å¹´æ•°ï¼å¦‚æœä¸ç»™å‡ºCCçš„å€¼ï¼Œåˆ™touch å°†æŠŠå¹´æ•°CCYYé™å®šåœ¨1969â€“2068ä¹‹å†…ï¼MMä¸ºæœˆæ•°ï¼ŒDDä¸ºå¤©å°†æŠŠå¹´æ•°CCYYé™å®šåœ¨1969â€“2068ä¹‹å†…ï¼MMä¸ºæœˆæ•°ï¼ŒDDä¸ºå¤©æ•°ï¼Œhh ä¸ºå°æ—¶æ•°(å‡ ç‚¹)ï¼Œmmä¸ºåˆ†é’Ÿæ•°ï¼ŒSSä¸ºç§’æ•°ï¼æ­¤å¤„ç§’çš„è®¾å®šèŒƒå›´æ˜¯0â€“61ï¼Œè¿™æ ·å¯ä»¥å¤„ç†é—°ç§’ï¼è¿™äº›æ•°å­—ç»„æˆçš„æ—¶é—´æ˜¯ç¯å¢ƒå˜é‡TZæŒ‡å®šçš„æ—¶åŒºä¸­çš„ä¸€ä¸ªæ—¶ é—´ï¼ç”±äºç³»ç»Ÿçš„é™åˆ¶ï¼Œæ—©äº1970å¹´1æœˆ1æ—¥çš„æ—¶é—´æ˜¯é”™è¯¯çš„ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ8ï¼‰: cp","slug":"linux-command-8-cp","date":"2016-12-08T08:31:43.000Z","updated":"2024-07-05T11:10:23.039Z","comments":true,"path":"2016/12/08/linux-command-8-cp/","permalink":"http://yelog.org/2016/12/08/linux-command-8-cp/","excerpt":"cpå‘½ä»¤ç”¨æ¥å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œæ˜¯Linuxç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œshellä¼šè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œåœ¨å‘½ä»¤è¡Œä¸‹å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼Œä¸ç®¡ä½ æ˜¯å¦ä½¿ç”¨-iå‚æ•°ã€‚ä½†æ˜¯å¦‚æœæ˜¯åœ¨shellè„šæœ¬ä¸­æ‰§è¡Œcpæ—¶ï¼Œæ²¡æœ‰-iå‚æ•°æ—¶ä¸ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ã€‚è¿™è¯´æ˜å‘½ä»¤è¡Œå’Œshellè„šæœ¬çš„æ‰§è¡Œæ–¹å¼æœ‰äº›ä¸åŒã€‚","text":"cpå‘½ä»¤ç”¨æ¥å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œæ˜¯Linuxç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œshellä¼šè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œåœ¨å‘½ä»¤è¡Œä¸‹å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼Œä¸ç®¡ä½ æ˜¯å¦ä½¿ç”¨-iå‚æ•°ã€‚ä½†æ˜¯å¦‚æœæ˜¯åœ¨shellè„šæœ¬ä¸­æ‰§è¡Œcpæ—¶ï¼Œæ²¡æœ‰-iå‚æ•°æ—¶ä¸ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ã€‚è¿™è¯´æ˜å‘½ä»¤è¡Œå’Œshellè„šæœ¬çš„æ‰§è¡Œæ–¹å¼æœ‰äº›ä¸åŒã€‚ å‘½ä»¤æ ¼å¼$ cp [é€‰é¡¹]... [-T] æº ç›®çš„ $ cp [é€‰é¡¹]... -t ç›®å½• æº... å‘½ä»¤åŠŸèƒ½ å°†æºæ–‡ä»¶å¤åˆ¶è‡³ç›®æ ‡æ–‡ä»¶ï¼Œæˆ–å°†å¤šä¸ªæºæ–‡ä»¶å¤åˆ¶è‡³ç›®æ ‡ç›®å½•ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -a,â€“archive ä¸ºæ¯ä¸ªå·²å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶åˆ›å»ºå¤‡ä»½ -f, â€“force å¦‚æœç›®æ ‡æ–‡ä»¶æ— æ³•æ‰“å¼€åˆ™å°†å…¶ç§»é™¤å¹¶é‡è¯•(å½“ -n é€‰é¡¹å­˜åœ¨æ—¶åˆ™ä¸éœ€å†é€‰æ­¤é¡¹) -i, â€“interactive è¦†ç›–å‰è¯¢é—®(ä½¿å‰é¢çš„ -n é€‰é¡¹å¤±æ•ˆ) -H è·Ÿéšæºæ–‡ä»¶ä¸­çš„å‘½ä»¤è¡Œç¬¦å·é“¾æ¥ -l, â€“link é“¾æ¥æ–‡ä»¶è€Œä¸å¤åˆ¶ -L, â€“dereference æ€»æ˜¯è·Ÿéšç¬¦å·é“¾æ¥ -n, â€“no-clobber ä¸è¦è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶(ä½¿å‰é¢çš„ -i é€‰é¡¹å¤±æ•ˆ) -P, â€“no-dereference ä¸è·Ÿéšæºæ–‡ä»¶ä¸­çš„ç¬¦å·é“¾æ¥ -p ç­‰äºâ€“preserve&#x3D;æ¨¡å¼,æ‰€æœ‰æƒ,æ—¶é—´æˆ³ -R, -r, â€“recursive å¤åˆ¶ç›®å½•åŠç›®å½•å†…çš„æ‰€æœ‰é¡¹ç›® å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šå¤åˆ¶å•ä¸ªæ–‡ä»¶åˆ°ç›®æ ‡ç›®å½•ï¼Œæ–‡ä»¶åœ¨ç›®æ ‡æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œä¼šè¯¢é—®è¦†ç›– # åœ¨æ²¡æœ‰å¸¦-aå‚æ•°æ—¶ï¼Œä¸¤ä¸ªæ–‡ä»¶çš„æ—¶é—´æ˜¯ä¸ä¸€æ ·çš„ã€‚åœ¨å¸¦äº†-aå‚æ•°æ—¶ï¼Œä¸¤ä¸ªæ–‡ä»¶çš„æ—¶é—´æ˜¯ä¸€è‡´çš„ã€‚ $ cp 1.txt test5 ä¾‹äºŒï¼šå¤åˆ¶æ•´ä¸ªç›®å½• # æ³¨æ„ç›®æ ‡ç›®å½•å­˜åœ¨ä¸å¦ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚ç›®æ ‡ç›®å½•å­˜åœ¨æ—¶ï¼Œæ•´ä¸ªæºç›®å½•è¢«å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•é‡Œé¢ã€‚ $ cp -a test3 test5 ä¾‹ä¸‰ï¼šå¤åˆ¶çš„ log.log å»ºç«‹ä¸€ä¸ªè¿ç»“æ¡£ log_link.log $ cp -s log.log log_link.log","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ7ï¼‰: mv","slug":"linux-command-7-mv","date":"2016-12-07T07:55:20.000Z","updated":"2024-07-05T11:10:22.867Z","comments":true,"path":"2016/12/07/linux-command-7-mv/","permalink":"http://yelog.org/2016/12/07/linux-command-7-mv/","excerpt":"mvå‘½ä»¤æ˜¯moveçš„ç¼©å†™ï¼Œå¯ä»¥ç”¨æ¥ç§»åŠ¨æ–‡ä»¶æˆ–è€…å°†æ–‡ä»¶æ”¹åï¼ˆmove (rename) filesï¼‰ï¼Œæ˜¯Linuxç³»ç»Ÿä¸‹å¸¸ç”¨çš„å‘½ä»¤ï¼Œç»å¸¸ç”¨æ¥å¤‡ä»½æ–‡ä»¶æˆ–è€…ç›®å½•","text":"mvå‘½ä»¤æ˜¯moveçš„ç¼©å†™ï¼Œå¯ä»¥ç”¨æ¥ç§»åŠ¨æ–‡ä»¶æˆ–è€…å°†æ–‡ä»¶æ”¹åï¼ˆmove (rename) filesï¼‰ï¼Œæ˜¯Linuxç³»ç»Ÿä¸‹å¸¸ç”¨çš„å‘½ä»¤ï¼Œç»å¸¸ç”¨æ¥å¤‡ä»½æ–‡ä»¶æˆ–è€…ç›®å½• å‘½ä»¤æ ¼å¼$ mv [é€‰é¡¹] æºæ–‡ä»¶æˆ–ç›®å½• ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½• å‘½ä»¤åŠŸèƒ½ è§†mvå‘½ä»¤ä¸­ç¬¬äºŒä¸ªå‚æ•°ç±»å‹çš„ä¸åŒï¼ˆæ˜¯ç›®æ ‡æ–‡ä»¶è¿˜æ˜¯ç›®æ ‡ç›®å½•ï¼‰ï¼Œmvå‘½ä»¤å°†æ–‡ä»¶é‡å‘½åæˆ–å°†å…¶ç§»è‡³ä¸€ä¸ªæ–°çš„ç›®å½•ä¸­ã€‚å½“ç¬¬äºŒä¸ªå‚æ•°ç±»å‹æ˜¯æ–‡ä»¶æ—¶ï¼Œmvå‘½ä»¤å®Œæˆæ–‡ä»¶é‡å‘½åï¼Œæ­¤æ—¶ï¼Œæºæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªï¼ˆä¹Ÿå¯ä»¥æ˜¯æºç›®å½•åï¼‰ï¼Œå®ƒå°†æ‰€ç»™çš„æºæ–‡ä»¶æˆ–ç›®å½•é‡å‘½åä¸ºç»™å®šçš„ç›®æ ‡æ–‡ä»¶åã€‚å½“ç¬¬äºŒä¸ªå‚æ•°æ˜¯å·²å­˜åœ¨çš„ç›®å½•åç§°æ—¶ï¼Œæºæ–‡ä»¶æˆ–ç›®å½•å‚æ•°å¯ä»¥æœ‰å¤šä¸ªï¼Œmvå‘½ä»¤å°†å„å‚æ•°æŒ‡å®šçš„æºæ–‡ä»¶å‡ç§»è‡³ç›®æ ‡ç›®å½•ä¸­ã€‚åœ¨è·¨æ–‡ä»¶ç³»ç»Ÿç§»åŠ¨æ–‡ä»¶æ—¶ï¼Œmvå…ˆæ‹·è´ï¼Œå†å°†åŸæœ‰æ–‡ä»¶åˆ é™¤ï¼Œè€Œé“¾è‡³è¯¥æ–‡ä»¶çš„é“¾æ¥ä¹Ÿå°†ä¸¢å¤±ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° -b è‹¥éœ€è¦†ç›–æ–‡ä»¶ï¼Œåˆ™è¦†ç›–å‰å…ˆè¡Œå¤‡ä»½ã€‚ -f force å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›– -i è‹¥ç›®æ ‡æ–‡ä»¶ (destination) å·²ç»å­˜åœ¨æ—¶ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼ -u è‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸” source æ¯”è¾ƒæ–°ï¼Œæ‰ä¼šæ›´æ–°(update) -t â€“target-directory&#x3D;DIRECTORY move all SOURCE arguments into DIRECTORYï¼Œå³æŒ‡å®šmvçš„ç›®æ ‡ç›®å½•ï¼Œè¯¥é€‰é¡¹é€‚ç”¨äºç§»åŠ¨å¤šä¸ªæºæ–‡ä»¶åˆ°ä¸€ä¸ªç›®å½•çš„æƒ…å†µï¼Œæ­¤æ—¶ç›®æ ‡ç›®å½•åœ¨å‰ï¼Œæºæ–‡ä»¶åœ¨åã€‚ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šæ–‡ä»¶æ”¹å $ mv test.txt test1.txt ä¾‹äºŒï¼šç§»åŠ¨æ–‡ä»¶ #å°†æ–‡ä»¶test.txt ç§»åŠ¨åˆ°/usr/docç›®å½•ä¸‹ $ mv test.txt /usr/doc ä¾‹ä¸‰ï¼šå°†æ–‡ä»¶log1.txt,log2.txt,log3.txtç§»åŠ¨åˆ°ç›®å½•&#x2F;usr&#x2F;docä¸­ $ mv log1.txt log2.txt log3.txt /usr/doc $ mv -t /usr/doc log1.txt log2.txt log3.txt ä¾‹å››ï¼šå°†æ–‡ä»¶file1æ”¹åä¸ºfile2ï¼Œå¦‚æœfile2å·²ç»å­˜åœ¨ï¼Œåˆ™è¯¢é—®æ˜¯å¦è¦†ç›– $ mv -i log1.txt log2.txt ä¾‹äº”ï¼šå°†æ–‡ä»¶file1æ”¹åä¸ºfile2ï¼Œå³ä½¿file2å­˜åœ¨ï¼Œä¹Ÿæ˜¯ç›´æ¥è¦†ç›–æ‰ $ mv -f log3.txt log2.txt ä¾‹å…­ï¼šç›®å½•çš„ç§»åŠ¨ #å°†docä¸‹çš„productç›®å½•ç§»åŠ¨åˆ°/usr/docç›®å½•ä¸‹ $ mv doc/product /usr/doc ä¾‹ä¸ƒï¼šç§»åŠ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°ä¸Šä¸€çº§ç›®å½• $ mv * ../ ä¾‹å…«ï¼šæ–‡ä»¶è¢«è¦†ç›–å‰åšç®€å•å¤‡ä»½ï¼Œå‰é¢åŠ å‚æ•°-b $ mv log1.txt -b log2.txt -bä¸æ¥å—å‚æ•°ï¼Œmvä¼šå»è¯»å–ç¯å¢ƒå˜é‡VERSION_CONTROLæ¥ä½œä¸ºå¤‡ä»½ç­–ç•¥ã€‚â€“backupè¯¥é€‰é¡¹æŒ‡å®šå¦‚æœç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶çš„åŠ¨ä½œï¼Œå…±æœ‰å››ç§å¤‡ä»½ç­–ç•¥ï¼š CONTROL&#x3D;noneæˆ–off : ä¸å¤‡ä»½ã€‚ CONTROL&#x3D;numberedæˆ–tï¼šæ•°å­—ç¼–å·çš„å¤‡ä»½ CONTROL&#x3D;existingæˆ–nilï¼šå¦‚æœå­˜åœ¨ä»¥æ•°å­—ç¼–å·çš„å¤‡ä»½ï¼Œåˆ™ç»§ç»­ç¼–å·å¤‡ä»½m+1â€¦nï¼šæ‰§è¡Œmvæ“ä½œå‰å·²å­˜åœ¨ä»¥æ•°å­—ç¼–å·çš„æ–‡ä»¶log2.txt.1ï¼Œé‚£ä¹ˆå†æ¬¡æ‰§è¡Œå°†äº§ç”Ÿlog2.txt2ï¼Œä»¥æ¬¡ç±»æ¨ã€‚å¦‚æœä¹‹å‰æ²¡æœ‰ä»¥æ•°å­—ç¼–å·çš„æ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨ä¸‹é¢è®²åˆ°çš„ç®€å•å¤‡ä»½ã€‚ CONTROL&#x3D;simpleæˆ–neverï¼šä½¿ç”¨ç®€å•å¤‡ä»½ï¼šåœ¨è¢«è¦†ç›–å‰è¿›è¡Œäº†ç®€å•å¤‡ä»½ï¼Œç®€å•å¤‡ä»½åªèƒ½æœ‰ä¸€ä»½ï¼Œå†æ¬¡è¢«è¦†ç›–æ—¶ï¼Œç®€å•å¤‡ä»½ä¹Ÿä¼šè¢«è¦†ç›–ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ6ï¼‰: rmdir","slug":"linux-command-6-rmdir","date":"2016-12-06T07:24:32.000Z","updated":"2024-07-05T11:10:23.020Z","comments":true,"path":"2016/12/06/linux-command-6-rmdir/","permalink":"http://yelog.org/2016/12/06/linux-command-6-rmdir/","excerpt":"ä»Šå¤©å­¦ä¹ ä¸€ä¸‹linuxä¸­å‘½ä»¤ï¼š rmdirå‘½ä»¤ã€‚rmdiræ˜¯å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¯¥å‘½ä»¤çš„åŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ï¼Œä¸€ä¸ªç›®å½•è¢«åˆ é™¤ä¹‹å‰å¿…é¡»æ˜¯ç©ºçš„ã€‚ï¼ˆæ³¨æ„ï¼Œrm - r dirå‘½ä»¤å¯ä»£æ›¿rmdirï¼Œä½†æ˜¯æœ‰å¾ˆå¤§å±é™©æ€§ã€‚ï¼‰åˆ é™¤æŸç›®å½•æ—¶ä¹Ÿå¿…é¡»å…·æœ‰å¯¹çˆ¶ç›®å½•çš„å†™æƒé™ã€‚","text":"ä»Šå¤©å­¦ä¹ ä¸€ä¸‹linuxä¸­å‘½ä»¤ï¼š rmdirå‘½ä»¤ã€‚rmdiræ˜¯å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¯¥å‘½ä»¤çš„åŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ï¼Œä¸€ä¸ªç›®å½•è¢«åˆ é™¤ä¹‹å‰å¿…é¡»æ˜¯ç©ºçš„ã€‚ï¼ˆæ³¨æ„ï¼Œrm - r dirå‘½ä»¤å¯ä»£æ›¿rmdirï¼Œä½†æ˜¯æœ‰å¾ˆå¤§å±é™©æ€§ã€‚ï¼‰åˆ é™¤æŸç›®å½•æ—¶ä¹Ÿå¿…é¡»å…·æœ‰å¯¹çˆ¶ç›®å½•çš„å†™æƒé™ã€‚ å‘½ä»¤æ ¼å¼$ rmdir [é€‰é¡¹]... ç›®å½•... å‘½ä»¤åŠŸèƒ½ è¯¥å‘½ä»¤ä»ä¸€ä¸ªç›®å½•ä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå­ç›®å½•é¡¹ï¼Œåˆ é™¤æŸç›®å½•æ—¶ä¹Ÿå¿…é¡»å…·æœ‰å¯¹çˆ¶ç›®å½•çš„å†™æƒé™ã€‚ å‘½ä»¤å‚æ•° å‚æ•° æè¿° - p é€’å½’åˆ é™¤ç›®å½•dirnameï¼Œå½“å­ç›®å½•åˆ é™¤åå…¶çˆ¶ç›®å½•ä¸ºç©ºæ—¶ï¼Œä¹Ÿä¸€åŒè¢«åˆ é™¤ã€‚å¦‚æœæ•´ä¸ªè·¯å¾„è¢«åˆ é™¤æˆ–è€…ç”±äºæŸç§åŸå› ä¿ç•™éƒ¨åˆ†è·¯å¾„ï¼Œåˆ™ç³»ç»Ÿåœ¨æ ‡å‡†è¾“å‡ºä¸Šæ˜¾ç¤ºç›¸åº”çš„ä¿¡æ¯ -v, â€“verbose æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šrmdir ä¸èƒ½åˆ é™¤éç©ºç›®å½• $ rmdir doc rmdir: doc: ç›®å½•éç©º ä¾‹äºŒï¼šrmdir -p å½“å­ç›®å½•è¢«åˆ é™¤åä½¿å®ƒä¹Ÿæˆä¸ºç©ºç›®å½•çš„è¯ï¼Œåˆ™é¡ºä¾¿ä¸€å¹¶åˆ é™¤ $ rmdir -p log/product","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ5ï¼‰: rm","slug":"linux-command-5-rm","date":"2016-12-05T05:40:38.000Z","updated":"2024-07-05T11:10:22.859Z","comments":true,"path":"2016/12/05/linux-command-5-rm/","permalink":"http://yelog.org/2016/12/05/linux-command-5-rm/","excerpt":"rmæ˜¯å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¯¥å‘½ä»¤çš„åŠŸèƒ½ä¸ºåˆ é™¤ä¸€ä¸ªç›®å½•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œå®ƒä¹Ÿå¯ä»¥å°†æŸä¸ªç›®å½•åŠå…¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•å‡åˆ é™¤ã€‚å¯¹äºé“¾æ¥æ–‡ä»¶ï¼Œåªæ˜¯åˆ é™¤äº†é“¾æ¥ï¼ŒåŸæœ‰æ–‡ä»¶å‡ä¿æŒä¸å˜ã€‚rmæ˜¯ä¸€ä¸ªå±é™©çš„å‘½ä»¤ï¼Œä½¿ç”¨çš„æ—¶å€™è¦ç‰¹åˆ«å½“å¿ƒï¼Œå°¤å…¶å¯¹äºæ–°æ‰‹ï¼Œå¦åˆ™æ•´ä¸ªç³»ç»Ÿå°±ä¼šæ¯åœ¨è¿™ä¸ªå‘½ä»¤ï¼ˆæ¯”å¦‚åœ¨&#x2F;ï¼ˆæ ¹ç›®å½•ï¼‰ä¸‹æ‰§è¡Œrm * -rfï¼‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œrmä¹‹å‰æœ€å¥½å…ˆç¡®è®¤ä¸€ä¸‹åœ¨å“ªä¸ªç›®å½•ï¼Œåˆ°åº•è¦åˆ é™¤ä»€ä¹ˆä¸œè¥¿ï¼Œæ“ä½œæ—¶ä¿æŒé«˜åº¦æ¸…é†’çš„å¤´è„‘ã€‚","text":"rmæ˜¯å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¯¥å‘½ä»¤çš„åŠŸèƒ½ä¸ºåˆ é™¤ä¸€ä¸ªç›®å½•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œå®ƒä¹Ÿå¯ä»¥å°†æŸä¸ªç›®å½•åŠå…¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•å‡åˆ é™¤ã€‚å¯¹äºé“¾æ¥æ–‡ä»¶ï¼Œåªæ˜¯åˆ é™¤äº†é“¾æ¥ï¼ŒåŸæœ‰æ–‡ä»¶å‡ä¿æŒä¸å˜ã€‚rmæ˜¯ä¸€ä¸ªå±é™©çš„å‘½ä»¤ï¼Œä½¿ç”¨çš„æ—¶å€™è¦ç‰¹åˆ«å½“å¿ƒï¼Œå°¤å…¶å¯¹äºæ–°æ‰‹ï¼Œå¦åˆ™æ•´ä¸ªç³»ç»Ÿå°±ä¼šæ¯åœ¨è¿™ä¸ªå‘½ä»¤ï¼ˆæ¯”å¦‚åœ¨&#x2F;ï¼ˆæ ¹ç›®å½•ï¼‰ä¸‹æ‰§è¡Œrm * -rfï¼‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œrmä¹‹å‰æœ€å¥½å…ˆç¡®è®¤ä¸€ä¸‹åœ¨å“ªä¸ªç›®å½•ï¼Œåˆ°åº•è¦åˆ é™¤ä»€ä¹ˆä¸œè¥¿ï¼Œæ“ä½œæ—¶ä¿æŒé«˜åº¦æ¸…é†’çš„å¤´è„‘ã€‚ å‘½ä»¤æ ¼å¼$ rm [é€‰é¡¹] æ–‡ä»¶... å‘½ä»¤åŠŸèƒ½ å‚æ•° æè¿° -f, â€“force å¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä»ä¸ç»™å‡ºæç¤º -i, â€“interactive è¿›è¡Œäº¤äº’å¼åˆ é™¤ -r, -R, â€“recursive æŒ‡ç¤ºrmå°†å‚æ•°ä¸­åˆ—å‡ºçš„å…¨éƒ¨ç›®å½•å’Œå­ç›®å½•å‡é€’å½’åœ°åˆ é™¤ -v, â€“verbose è¯¦ç»†æ˜¾ç¤ºè¿›è¡Œçš„æ­¥éª¤ â€“help æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º â€“version è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º å‘½ä»¤å®ä¾‹ä¾‹ä¸€ï¼šåˆ é™¤æ–‡ä»¶fileï¼Œç³»ç»Ÿä¼šå…ˆè¯¢é—®æ˜¯å¦åˆ é™¤ $ rm file ä¾‹äºŒï¼šå¼ºè¡Œåˆ é™¤fileï¼Œç³»ç»Ÿä¸å†æç¤º $ rm -f file **ä¾‹ä¸‰ï¼šåˆ é™¤ä»»ä½•.logæ–‡ä»¶ï¼›åˆ é™¤å‰é€ä¸€è¯¢é—®ç¡®è®¤ ** $ rm -i *.log ä¾‹å››ï¼šå¯¹testæ–‡ä»¶å¤¹è¿›è¡Œé€’å½’åˆ é™¤ $ rm -r test ä¾‹äº”ï¼šé€’å½’åˆ é™¤ï¼Œç³»ç»Ÿä¸ç”¨ä¸€ä¸€ç¡®è®¤ $ rm -rf test ä¾‹å…­ï¼šåˆ é™¤ä»¥ -f å¼€å¤´çš„æ–‡ä»¶ $ rm -- -f ä¾‹ä¸ƒï¼šè‡ªå®šä¹‰å›æ”¶ç«™åŠŸèƒ½ #ä¸‹é¢çš„æ“ä½œè¿‡ç¨‹æ¨¡æ‹Ÿäº†å›æ”¶ç«™çš„æ•ˆæœï¼Œå³åˆ é™¤æ–‡ä»¶çš„æ—¶å€™åªæ˜¯æŠŠæ–‡ä»¶æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ä¸­ï¼Œè¿™æ ·åœ¨éœ€è¦çš„æ—¶å€™è¿˜å¯ä»¥æ¢å¤è¿‡æ¥ã€‚ $ myrm()&#123; D=/tmp/$(date +%Y%m%d%H%M%S); mkdir -p $D; mv &quot;$@&quot; $D &amp;&amp; echo &quot;moved to $D ok&quot;; &#125;","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ4ï¼‰: mkdir","slug":"linux-command-4-mkdir","date":"2016-12-04T01:27:32.000Z","updated":"2024-07-05T11:10:22.964Z","comments":true,"path":"2016/12/04/linux-command-4-mkdir/","permalink":"http://yelog.org/2016/12/04/linux-command-4-mkdir/","excerpt":"linux mkdir å‘½ä»¤ç”¨æ¥åˆ›å»ºæŒ‡å®šçš„åç§°çš„ç›®å½•ï¼Œè¦æ±‚åˆ›å»ºç›®å½•çš„ç”¨æˆ·åœ¨å½“å‰ç›®å½•ä¸­å…·æœ‰å†™æƒé™ï¼Œå¹¶ä¸”æŒ‡å®šçš„ç›®å½•åä¸èƒ½æ˜¯å½“å‰ç›®å½•ä¸­å·²æœ‰çš„ç›®å½•ã€‚","text":"linux mkdir å‘½ä»¤ç”¨æ¥åˆ›å»ºæŒ‡å®šçš„åç§°çš„ç›®å½•ï¼Œè¦æ±‚åˆ›å»ºç›®å½•çš„ç”¨æˆ·åœ¨å½“å‰ç›®å½•ä¸­å…·æœ‰å†™æƒé™ï¼Œå¹¶ä¸”æŒ‡å®šçš„ç›®å½•åä¸èƒ½æ˜¯å½“å‰ç›®å½•ä¸­å·²æœ‰çš„ç›®å½•ã€‚ å‘½ä»¤æ ¼å¼$ mkdir [é€‰é¡¹] ç›®å½•... å‘½ä»¤åŠŸèƒ½ é€šè¿‡ mkdir å‘½ä»¤å¯ä»¥å®ç°åœ¨æŒ‡å®šä½ç½®åˆ›å»ºä»¥ DirName(æŒ‡å®šçš„æ–‡ä»¶å)å‘½åçš„æ–‡ä»¶å¤¹æˆ–ç›®å½•ã€‚è¦åˆ›å»ºæ–‡ä»¶å¤¹æˆ–ç›®å½•çš„ç”¨æˆ·å¿…é¡»å¯¹æ‰€åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„çˆ¶æ–‡ä»¶å¤¹å…·æœ‰å†™æƒé™ã€‚å¹¶ä¸”ï¼Œæ‰€åˆ›å»ºçš„æ–‡ä»¶å¤¹(ç›®å½•)ä¸èƒ½ä¸å…¶çˆ¶ç›®å½•(å³çˆ¶æ–‡ä»¶å¤¹)ä¸­çš„æ–‡ä»¶åé‡åï¼Œå³åŒä¸€ä¸ªç›®å½•ä¸‹ä¸èƒ½æœ‰åŒåçš„(åŒºåˆ†å¤§å°å†™)ã€‚ å‘½ä»¤å‚æ•° å‚æ•° è¯´æ˜ -m, â€“mode&#x3D;æ¨¡å¼ è®¾å®šæƒé™&lt;æ¨¡å¼&gt; (ç±»ä¼¼ chmod)ï¼Œè€Œä¸æ˜¯ rwxrwxrwx å‡ umask -p, â€“parents å¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„åç§°ã€‚æ­¤æ—¶è‹¥è·¯å¾„ä¸­çš„æŸäº›ç›®å½•å°šä¸å­˜åœ¨,åŠ ä¸Šæ­¤é€‰é¡¹å,ç³»ç»Ÿå°†è‡ªåŠ¨å»ºç«‹å¥½é‚£äº›å°šä¸å­˜åœ¨çš„ç›®å½•,å³ä¸€æ¬¡å¯ä»¥å»ºç«‹å¤šä¸ªç›®å½• -v, â€“verbose æ¯æ¬¡åˆ›å»ºæ–°ç›®å½•éƒ½æ˜¾ç¤ºä¿¡æ¯ â€“help æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º â€“version è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º å‘½ä»¤æ˜¯å®ä¾‹ä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªç©ºç›®å½• $ mkdir test ä¾‹äºŒï¼šé€’å½’åˆ›å»ºå¤šä¸ªç›®å½• #åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªåµŒå¥—æ–‡ä»¶å¤¹test1/test11 $ mkdir -p test1/test11 ä¾‹ä¸‰ï¼šåˆ›å»ºæƒé™ä¸º777çš„ç›®å½• $ mkdir -m 777 test ä¾‹å››ï¼šåˆ›å»ºæ–°ç›®å½•éƒ½æ˜¾ç¤ºä¿¡æ¯ $ mkdir -v test ä¾‹äº”ï¼šä¸€ä¸ªå‘½ä»¤åˆ›å»ºé¡¹ç›®çš„ç›®å½•ç»“æ„ $ mkdir -vp scf/&#123;lib/,bin/,doc/&#123;info,product&#125;,logs/&#123;info,product&#125;,service/deploy/&#123;info,product&#125;&#125; mkdir: å·²åˆ›å»ºç›®å½• â€œscfâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/libâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/binâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/docâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/doc/infoâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/doc/productâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/logsâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/logs/infoâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/logs/productâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/serviceâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/service/deployâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/service/deploy/infoâ€ mkdir: å·²åˆ›å»ºç›®å½• â€œscf/service/deploy/productâ€ [root@localhost test]# tree scf/ scf/ |-- bin |-- doc | |-- info | `-- product |-- lib |-- logs | |-- info | `-- product `-- service `-- deploy |-- info `-- product 12 directories, 0 files","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ3ï¼‰: pwd","slug":"linux-command-3-pwd","date":"2016-12-03T01:15:52.000Z","updated":"2024-07-05T11:10:22.934Z","comments":true,"path":"2016/12/03/linux-command-3-pwd/","permalink":"http://yelog.org/2016/12/03/linux-command-3-pwd/","excerpt":"Linuxä¸­ç”¨ pwd å‘½ä»¤æ¥æŸ¥çœ‹â€å½“å‰å·¥ä½œç›®å½•â€œçš„å®Œæ•´è·¯å¾„ã€‚ ç®€å•å¾—è¯´ï¼Œæ¯å½“ä½ åœ¨ç»ˆç«¯è¿›è¡Œæ“ä½œæ—¶ï¼Œä½ éƒ½ä¼šæœ‰ä¸€ä¸ªå½“å‰å·¥ä½œç›®å½•ã€‚ åœ¨ä¸å¤ªç¡®å®šå½“å‰ä½ç½®æ—¶ï¼Œå°±ä¼šä½¿ç”¨pwdæ¥åˆ¤å®šå½“å‰ç›®å½•åœ¨æ–‡ä»¶ç³»ç»Ÿå†…çš„ç¡®åˆ‡ä½ç½®ã€‚","text":"Linuxä¸­ç”¨ pwd å‘½ä»¤æ¥æŸ¥çœ‹â€å½“å‰å·¥ä½œç›®å½•â€œçš„å®Œæ•´è·¯å¾„ã€‚ ç®€å•å¾—è¯´ï¼Œæ¯å½“ä½ åœ¨ç»ˆç«¯è¿›è¡Œæ“ä½œæ—¶ï¼Œä½ éƒ½ä¼šæœ‰ä¸€ä¸ªå½“å‰å·¥ä½œç›®å½•ã€‚ åœ¨ä¸å¤ªç¡®å®šå½“å‰ä½ç½®æ—¶ï¼Œå°±ä¼šä½¿ç”¨pwdæ¥åˆ¤å®šå½“å‰ç›®å½•åœ¨æ–‡ä»¶ç³»ç»Ÿå†…çš„ç¡®åˆ‡ä½ç½®ã€‚ å‘½ä»¤æ ¼å¼$ pwd [é€‰é¡¹] å‘½ä»¤åŠŸèƒ½ æŸ¥çœ‹â€å½“å‰å·¥ä½œç›®å½•â€œçš„å®Œæ•´è·¯å¾„ å¸¸ç”¨å‚æ•°ä¸€èˆ¬æƒ…å†µä¸‹ä¸å¸¦ä»»ä½•å‚æ•°å¦‚æœç›®å½•æ˜¯é“¾æ¥æ—¶ï¼šæ ¼å¼ï¼špwd -P æ˜¾ç¤ºå‡ºå®é™…è·¯å¾„ï¼Œè€Œéä½¿ç”¨é“¾æ¥ï¼ˆlinkï¼‰ çš„è·¯å¾„ å®ç”¨å®ä¾‹ä¾‹ä¸€ï¼šç”¨ pwd å‘½ä»¤æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•çš„å®Œæ•´è·¯å¾„ $ pwd /home/faker ä¾‹äºŒï¼šç›®å½•è¿æ¥é“¾æ¥æ—¶ï¼Œpwd -P æ˜¾ç¤ºå‡ºå®é™…è·¯å¾„ï¼Œè€Œéä½¿ç”¨è¿æ¥ï¼ˆlinkï¼‰è·¯å¾„ï¼›pwdæ˜¾ç¤ºçš„æ˜¯è¿æ¥è·¯å¾„ #ç›®å½•ä¸ºé“¾æ¥æ—¶ï¼Œè¾“å‡ºé“¾æ¥è·¯å¾„ $ pwd -L #ç›®å½•ä¸ºé“¾æ¥æ—¶ï¼Œè¾“å‡ºç‰©ç†è·¯å¾„ $ pwd -P /home/faker ä¾‹ä¸‰ï¼šå½“å‰ç›®å½•è¢«åˆ é™¤äº†ï¼Œè€Œpwdå‘½ä»¤ä»ç„¶æ˜¾ç¤ºé‚£ä¸ªç›®å½• $ cd /opt/soft $ rm ../soft -rf $ pwd /opt/soft $ /bin/pwd /bin/pwd: couldnt find directory entry in â€œ..â€ with matching i-node /home/faker","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ2ï¼‰: cd","slug":"linux-command-2-cd","date":"2016-12-02T03:04:55.000Z","updated":"2024-07-05T11:10:22.949Z","comments":true,"path":"2016/12/02/linux-command-2-cd/","permalink":"http://yelog.org/2016/12/02/linux-command-2-cd/","excerpt":"Linux cd å‘½ä»¤å¯ä»¥è¯´æ˜¯Linuxä¸­æœ€åŸºæœ¬çš„å‘½ä»¤è¯­å¥ï¼Œå…¶ä»–çš„å‘½ä»¤è¯­å¥è¦è¿›è¡Œæ“ä½œï¼Œéƒ½æ˜¯å»ºç«‹åœ¨ä½¿ç”¨ cd å‘½ä»¤ä¸Šçš„ã€‚æ‰€ä»¥ï¼Œå­¦ä¹ Linux å¸¸ç”¨å‘½ä»¤ï¼Œé¦–å…ˆå°±è¦å­¦å¥½ cd å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•æŠ€å·§ã€‚","text":"Linux cd å‘½ä»¤å¯ä»¥è¯´æ˜¯Linuxä¸­æœ€åŸºæœ¬çš„å‘½ä»¤è¯­å¥ï¼Œå…¶ä»–çš„å‘½ä»¤è¯­å¥è¦è¿›è¡Œæ“ä½œï¼Œéƒ½æ˜¯å»ºç«‹åœ¨ä½¿ç”¨ cd å‘½ä»¤ä¸Šçš„ã€‚æ‰€ä»¥ï¼Œå­¦ä¹ Linux å¸¸ç”¨å‘½ä»¤ï¼Œé¦–å…ˆå°±è¦å­¦å¥½ cd å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•æŠ€å·§ã€‚ å‘½ä»¤æ ¼å¼$ cd [ç›®å½•å] å‘½ä»¤åŠŸèƒ½ åˆ‡æ¢å½“å‰ç›®å½•è‡³ç›®æ ‡ç›®å½• å¸¸ç”¨èŒƒä¾‹ä¾‹ä¸€ï¼šè¿›å…¥ç³»ç»Ÿæ ¹ç›®å½• $ cd / ä¾‹äºŒï¼šè¿›å…¥çˆ¶çº§ç›®å½• $ cd .. $ cd ..// ä¾‹ä¸‰ï¼šä½¿ç”¨ cd å‘½ä»¤è¿›å…¥å½“å‰ç”¨æˆ·ä¸»ç›®å½• $ cd $ cd ~ ä¾‹å››ï¼šè·³è½¬åˆ°æŒ‡å®šç›®å½• $ cd /usr/bin ä¾‹äº”ï¼šè¿”å›è¿›å…¥æ­¤ç›®å½•ä¹‹å‰æ‰€åœ¨çš„ç›®å½• $ cd - ä¾‹å…­ï¼šæŠŠä¸Šä¸ªå‘½ä»¤çš„å‚æ•°ä½œä¸ºcdå‚æ•°ä½¿ç”¨ $ cd !$","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ1ï¼‰: ls","slug":"linux-command-1-ls","date":"2016-12-01T01:38:59.000Z","updated":"2024-07-05T11:10:22.877Z","comments":true,"path":"2016/12/01/linux-command-1-ls/","permalink":"http://yelog.org/2016/12/01/linux-command-1-ls/","excerpt":"lså‘½ä»¤æ˜¯linuxä¸‹æœ€å¸¸ç”¨çš„å‘½ä»¤ã€‚lså‘½ä»¤å°±æ˜¯listçš„ç¼©å†™ï¼Œç¼ºçœä¸‹lsç”¨æ¥æ‰“å°å‡ºå½“å‰ç›®å½•çš„æ¸…å•ï¼Œå¦‚æœlsæŒ‡å®šå…¶ä»–ç›®å½•ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºæŒ‡å®šç›®å½•é‡Œçš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹æ¸…å•ã€‚ é€šè¿‡lså‘½ä»¤ä¸ä»…å¯ä»¥æŸ¥çœ‹linuxæ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶ï¼Œè€Œä¸”å¯ä»¥æŸ¥çœ‹æ–‡ä»¶æƒé™(åŒ…æ‹¬ç›®å½•ã€æ–‡ä»¶å¤¹ã€æ–‡ä»¶æƒé™)ã€æŸ¥çœ‹ç›®å½•ä¿¡æ¯ç­‰ç­‰ã€‚lså‘½ä»¤åœ¨æ—¥å¸¸çš„linuxæ“ä½œä¸­ç”¨çš„å¾ˆå¤š!","text":"lså‘½ä»¤æ˜¯linuxä¸‹æœ€å¸¸ç”¨çš„å‘½ä»¤ã€‚lså‘½ä»¤å°±æ˜¯listçš„ç¼©å†™ï¼Œç¼ºçœä¸‹lsç”¨æ¥æ‰“å°å‡ºå½“å‰ç›®å½•çš„æ¸…å•ï¼Œå¦‚æœlsæŒ‡å®šå…¶ä»–ç›®å½•ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºæŒ‡å®šç›®å½•é‡Œçš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹æ¸…å•ã€‚ é€šè¿‡lså‘½ä»¤ä¸ä»…å¯ä»¥æŸ¥çœ‹linuxæ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶ï¼Œè€Œä¸”å¯ä»¥æŸ¥çœ‹æ–‡ä»¶æƒé™(åŒ…æ‹¬ç›®å½•ã€æ–‡ä»¶å¤¹ã€æ–‡ä»¶æƒé™)ã€æŸ¥çœ‹ç›®å½•ä¿¡æ¯ç­‰ç­‰ã€‚lså‘½ä»¤åœ¨æ—¥å¸¸çš„linuxæ“ä½œä¸­ç”¨çš„å¾ˆå¤š! å‘½ä»¤æ ¼å¼$ ls [é€‰é¡¹] [ç›®å½•å] å‘½ä»¤åŠŸèƒ½åˆ—å‡ºç›®æ ‡ç›®å½•ä¸­æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶ã€‚ å¸¸ç”¨å‚æ•° å‚æ•° è¯´æ˜ -a,â€“all åˆ—å‡ºç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»¥ . å¼€å¤´çš„éšå«æ–‡ä»¶ -A åŒ-aï¼Œä½†ä¸åˆ—å‡ºâ€œ.â€(è¡¨ç¤ºå½“å‰ç›®å½•)å’Œâ€œ..â€(è¡¨ç¤ºå½“å‰ç›®å½•çš„çˆ¶ç›®å½•)ã€‚ -c é…åˆ -lt æ ¹æ® ctime æ’åºåŠæ˜¾ç¤º ctime (æ–‡ä»¶çŠ¶æ€æœ€åæ›´æ”¹çš„æ—¶é—´)é…åˆ -ltï¼šæ˜¾ç¤º ctime ä½†æ ¹æ®åç§°æ’åºå¦åˆ™ï¼šæ ¹æ® ctime æ’åº -C æ¯æ ç”±ä¸Šè‡³ä¸‹åˆ—å‡ºé¡¹ç›® -color[&#x3D;WHEN] æ§åˆ¶æ˜¯å¦ä½¿ç”¨è‰²å½©åˆ†è¾¨æ–‡ä»¶ã€‚WHEN å¯ä»¥æ˜¯â€™neverâ€™ã€â€™alwaysâ€™æˆ–â€™autoâ€™å…¶ä¸­ä¹‹ä¸€ -d,â€“directory å°†ç›®å½•è±¡æ–‡ä»¶ä¸€æ ·æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºå…¶ä¸‹çš„æ–‡ä»¶ã€‚ -D,â€“dired äº§ç”Ÿé€‚åˆ Emacs çš„ dired æ¨¡å¼ä½¿ç”¨çš„ç»“æœ -f å¯¹è¾“å‡ºçš„æ–‡ä»¶ä¸è¿›è¡Œæ’åºï¼Œ-aU é€‰é¡¹ç”Ÿæ•ˆï¼Œ-lst é€‰é¡¹å¤±æ•ˆ -g ç±»ä¼¼ -l,ä½†ä¸åˆ—å‡ºæ‰€æœ‰è€… -G, â€“no-group ä¸åˆ—å‡ºä»»ä½•æœ‰å…³ç»„çš„ä¿¡æ¯ -h,â€“human-readable ä»¥å®¹æ˜“ç†è§£çš„æ ¼å¼åˆ—å‡ºæ–‡ä»¶å¤§å° (ä¾‹å¦‚ 1K 234M 2G) â€“si ç±»ä¼¼ -h,ä½†æ–‡ä»¶å¤§å°å– 1000 çš„æ¬¡æ–¹è€Œä¸æ˜¯ 1024 -H, â€“dereference-command-line ä½¿ç”¨å‘½ä»¤åˆ—ä¸­çš„ç¬¦å·é“¾æ¥æŒ‡ç¤ºçš„çœŸæ­£ç›®çš„åœ° â€“indicator-style&#x3D;&lt;æ–¹å¼&gt; æŒ‡å®šåœ¨æ¯ä¸ªé¡¹ç›®åç§°ååŠ ä¸ŠæŒ‡ç¤ºç¬¦å·&lt;æ–¹å¼&gt;ï¼šnone (é»˜è®¤)ï¼Œclassify (-F)ï¼Œfile-type (-p) -i, â€“inode å°å‡ºæ¯ä¸ªæ–‡ä»¶çš„ inode å· -I,â€“ignore&#x3D;æ ·å¼ ä¸å°å‡ºä»»ä½•ç¬¦åˆ shell ä¸‡ç”¨å­—ç¬¦&lt;æ ·å¼&gt;çš„é¡¹ç›® -k å³ â€“block-size&#x3D;1K,ä»¥ k å­—èŠ‚çš„å½¢å¼è¡¨ç¤ºæ–‡ä»¶çš„å¤§å° -l é™¤äº†æ–‡ä»¶åä¹‹å¤–ï¼Œè¿˜å°†æ–‡ä»¶çš„æƒé™ã€æ‰€æœ‰è€…ã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯è¯¦ç»†åˆ—å‡ºæ¥ã€‚ -L, â€“dereference -m æ‰€æœ‰é¡¹ç›®ä»¥é€—å·åˆ†éš”ï¼Œå¹¶å¡«æ»¡æ•´è¡Œè¡Œå®½ -o ç±»ä¼¼ -l,æ˜¾ç¤ºæ–‡ä»¶çš„é™¤ç»„ä¿¡æ¯å¤–çš„è¯¦ç»†ä¿¡æ¯ã€‚ -r, â€“reverse ä¾ç›¸åæ¬¡åºæ’åˆ— -R, â€“recursive åŒæ—¶åˆ—å‡ºæ‰€æœ‰å­ç›®å½•å±‚ -s,â€“size ä»¥å—å¤§å°ä¸ºå•ä½åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶çš„å¤§å° -S æ ¹æ®æ–‡ä»¶å¤§å°æ’åº â€“sort&#x3D;WORD å¯é€‰ç”¨çš„ WORD å’Œå®ƒä»¬ä»£è¡¨çš„ç›¸åº”é€‰é¡¹ï¼š extension -X status -cnone -U time -tsize -S atime -utime -t access -uversion -v use -u -t ä»¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ’åº -u é…åˆ -lt:æ˜¾ç¤ºè®¿é—®æ—¶é—´è€Œä¸”ä¾è®¿é—®æ—¶é—´æ’åºé…åˆ -l:æ˜¾ç¤ºè®¿é—®æ—¶é—´ä½†æ ¹æ®åç§°æ’åºå¦åˆ™ï¼šæ ¹æ®è®¿é—®æ—¶é—´æ’åº -U ä¸è¿›è¡Œæ’åº;ä¾æ–‡ä»¶ç³»ç»ŸåŸæœ‰çš„æ¬¡åºåˆ—å‡ºé¡¹ç›® -v æ ¹æ®ç‰ˆæœ¬è¿›è¡Œæ’åº -w, â€“width&#x3D;COLS è‡ªè¡ŒæŒ‡å®šå±å¹•å®½åº¦è€Œä¸ä½¿ç”¨ç›®å‰çš„æ•°å€¼ -x é€è¡Œåˆ—å‡ºé¡¹ç›®è€Œä¸æ˜¯é€æ åˆ—å‡º -X æ ¹æ®æ‰©å±•åæ’åº -1 æ¯è¡Œåªåˆ—å‡ºä¸€ä¸ªæ–‡ä»¶ â€“help æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶ç¦»å¼€ â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶ç¦»å¼€ å¸¸ç”¨èŒƒä¾‹ä¾‹ä¸€ï¼šåˆ—å‡º&#x2F;home&#x2F;faker&#x2F; æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„è¯¦ç»†èµ„æ–™ $ ls -l -R /home/faker $ ls -lR /home/faker ä¾‹äºŒï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸­æ‰€æœ‰ä»¥â€œtâ€å¼€å¤´çš„ç›®å½•çš„è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ $ ls -l t* ä¾‹ä¸‰ï¼šåªåˆ—å‡ºæ–‡ä»¶ä¸‹çš„å­ç›®å½• $ ls -F /opt/soft |grep /$ ä¾‹å››ï¼šåˆ—å‡ºæ–‡ä»¶ä¸‹çš„å­ç›®å½•è¯¦ç»†æƒ…å†µ $ ls -l /opt/soft | grep &quot;^d&quot; ä¾‹äº”ï¼šåˆ—å‡ºç›®å‰å·¥ä½œç›®å½•ä¸‹æ‰€æœ‰åç§°æ˜¯s å¼€å¤´çš„æ–‡ä»¶ï¼Œæ„ˆæ–°çš„æ’æ„ˆåé¢ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ $ ls -ltr s* ä¾‹å…­ï¼šåˆ—å‡ºç›®å‰å·¥ä½œç›®å½•ä¸‹æ‰€æœ‰æ¡£æ¡ˆåŠç›®å½•;ç›®å½•äºåç§°ååŠ â€&#x2F;â€œ, å¯æ‰§è¡Œæ¡£äºåç§°ååŠ * $ ls -AF ä¾‹ä¸ƒï¼šè®¡ç®—å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ•°å’Œç›®å½•æ•° $ ls -l * |grep &quot;^-&quot;|wc -l ---æ–‡ä»¶ä¸ªæ•° $ ls -l * |grep &quot;^d&quot;|wc -l ---ç›®å½•ä¸ªæ•° ä¾‹å…«ï¼šåœ¨lsä¸­åˆ—å‡ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ $ ls | sed &quot;s:^:`pwd`/:&quot; ä¾‹ä¹ï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰çš„ç»å¯¹è·¯å¾„ï¼Œ å¯¹ç›®å½•ä¸åšé€’å½’ $ find $PWD -maxdepth 1 | xargs ls -ld ä¾‹åï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰çš„ç»å¯¹è·¯å¾„ï¼Œ å¯¹ç›®å½•ä¸åšé€’å½’ $ find $PWD -maxdepth 1 | xargs ls -ld ä¾‹åï¼šé€’å½’åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰çš„ç»å¯¹è·¯å¾„ $ find $PWD | xargs ls -ld ä¾‹åï¼šæŒ‡å®šæ–‡ä»¶æ—¶é—´è¾“å‡ºæ ¼å¼ $ ls -tl --time-style=full-iso $ ls -ctl --time-style=long-iso 2016-08-05 22:17:06.020535551 +0800 2016-10-29 12:03","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"}]},{"title":"jQueryä¹‹checkbox|radio|selectæ“ä½œ","slug":"jQueryä¹‹checkbox-radio-selectæ“ä½œ","date":"2016-11-23T08:19:34.000Z","updated":"2024-07-05T11:10:22.398Z","comments":true,"path":"2016/11/23/jQuery-checkbox-radio-select/","permalink":"http://yelog.org/2016/11/23/jQuery-checkbox-radio-select/","excerpt":"jQuery1.6ä¸­æ·»åŠ äº†propæ–¹æ³•,çœ‹èµ·æ¥å’Œç”¨èµ·æ¥éƒ½å’Œattræ–¹æ³•ä¸€æ ·,ä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹,attributeå’Œpropertiesçš„åŒºåˆ«éå¸¸å¤§,åœ¨jQuery1.6ä¹‹å‰ï¼Œ.attr()æ–¹æ³•åœ¨è·å–ä¸€äº›attributesçš„æ—¶å€™ä½¿ç”¨äº†propertyå€¼ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›ä¸ä¸€è‡´çš„è¡Œä¸ºã€‚åœ¨jQuery1.6ä¸­ï¼Œ.prop()æ–¹æ³•æä¾›äº†ä¸€ä¸­æ˜ç¡®çš„è·å–propertyå€¼å¾—æ–¹å¼ï¼Œè¿™æ ·.attr()æ–¹æ³•ä»…è¿”å›attributesã€‚ â€“æ‘˜è‡ªjQuery APIæ–‡æ¡£","text":"jQuery1.6ä¸­æ·»åŠ äº†propæ–¹æ³•,çœ‹èµ·æ¥å’Œç”¨èµ·æ¥éƒ½å’Œattræ–¹æ³•ä¸€æ ·,ä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹,attributeå’Œpropertiesçš„åŒºåˆ«éå¸¸å¤§,åœ¨jQuery1.6ä¹‹å‰ï¼Œ.attr()æ–¹æ³•åœ¨è·å–ä¸€äº›attributesçš„æ—¶å€™ä½¿ç”¨äº†propertyå€¼ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›ä¸ä¸€è‡´çš„è¡Œä¸ºã€‚åœ¨jQuery1.6ä¸­ï¼Œ.prop()æ–¹æ³•æä¾›äº†ä¸€ä¸­æ˜ç¡®çš„è·å–propertyå€¼å¾—æ–¹å¼ï¼Œè¿™æ ·.attr()æ–¹æ³•ä»…è¿”å›attributesã€‚ â€“æ‘˜è‡ªjQuery APIæ–‡æ¡£ checkbox&lt;input type=&#39;checkbox&#39; value=&#39;1&#39;/&gt; &lt;input type=&#39;checkbox&#39; value=&#39;2&#39;/&gt; &lt;input type=&#39;checkbox&#39; value=&#39;3&#39;/&gt; $(&quot;input[type=checkbox]&quot;) //è·å–æ‰€æœ‰çš„checkbox $(&quot;input[type=checkbox]:checked&quot;) //è·å–æ‰€æœ‰çš„è¢«é€‰ä¸­çš„checkbox $(&quot;input[type=checkbox]:not(:checked)&quot;) //è·å–æ‰€æœ‰æœªè¢«é€‰ä¸­çš„checkbox $(&quot;input[type=checkbox]&quot;).not(&quot;:checked&quot;) //è·å–æ‰€æœ‰æœªè¢«é€‰ä¸­çš„checkbox $(&quot;input[type=checkbox]:first&quot;) //è·å–ç¬¬ä¸€ä¸ªcheckboxçš„valueå€¼ $(&quot;input[type=checkbox]:checked&quot;).length //è·å–è¢«é€‰ä¸­checkboxçš„æ•°é‡ $(&quot;input[type=checkbox]:first&quot;).prop(&quot;checked&quot;) //åˆ¤æ–­ç¬¬ä¸€ä¸ªcheckboxæ˜¯å¦è¢«é€‰ä¸­ $(&quot;input[type=checkbox]:first&quot;).prop(&quot;checkbox&quot;,true) //é€‰ä¸­ç¬¬ä¸€ä¸ªcheckbox $(&quot;input[type=checkbox]:not(:checked)&quot;).prop(&quot;checked&quot;,true) //å…¨é€‰ $(&quot;input[type=checkbox]:checkbox&quot;).prop(&quot;checked&quot;,false) //éƒ½ä¸é€‰ä¸­ //åé€‰ $(&quot;input[type=checkbox]&quot;).each(function()&#123; if($(this).prop(&quot;checked&quot;))&#123; $(this).prop(&quot;checked&quot;,false); &#125;else&#123; $(this).prop(&quot;checked&quot;,true); &#125; &#125;) radio&lt;input type=&#39;radio&#39; name=&#39;rank&#39; value=&#39;1&#39; /&gt; &lt;input type=&#39;radio&#39; name=&#39;rank&#39; value=&#39;2&#39; /&gt; &lt;input type=&#39;radio&#39; name=&#39;rank&#39; value=&#39;3&#39; /&gt; $(&quot;input[type=radio]&quot;) //è·å–æ‰€æœ‰çš„radio $(&quot;input[type=radio]:checked&quot;) //è·å–è¢«é€‰ä¸­çš„radio $(&quot;input[type=radio]:not(:checkbox)&quot;) //è·å–æ‰€æœ‰æ²¡æœ‰è¢«é€‰ä¸­çš„radio $(&quot;input[type=radio]:checked&quot;).val() //è·å–è¢«é€‰ä¸­çš„radioçš„valueå€¼ $(&quot;input[type=radio]:first&quot;).prop(&quot;checked&quot;) //åˆ¤æ–­ç¬¬ä¸€ä¸ªradioæ˜¯å¦è¢«é€‰ä¸­ $(&quot;input[type=radio]:first&quot;).prop(&quot;checked&quot;,true) //é€‰ä¸­ç¬¬ä¸€ä¸ªradio select&lt;select&gt; &lt;option value=&#39;1&#39;&gt;1&lt;/option&gt; &lt;option value=&#39;2&#39;&gt;2&lt;/option&gt; &lt;option value=&#39;4&#39;&gt;3&lt;/option&gt; &lt;/select&gt; $(&quot;select option:selected&quot;) //è·å–è¢«é€‰ä¸­çš„option $(&quot;select&quot;).val() //è·å–é€‰ä¸­optionçš„valueå€¼ $(&quot;select option:selected&quot;).text() //è·å–è¢«é€‰ä¸­çš„optionçš„textå€¼ $(&quot;select option:first&quot;).prop(&quot;selected&quot;) //åˆ¤æ–­ç¬¬ä¸€ä¸ªoptionæ˜¯å¦è¢«é€‰ä¸­ $(&quot;select option:first&quot;).prop(&quot;selected&quot;,true) //é€‰ä¸­ç¬¬ä¸€ä¸ªoption $(&quot;select option:selected&quot;).prop(&quot;selected&quot;,false) //å–æ¶ˆå½“å‰é€‰ä¸­,ç„¶åé»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ª","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"}]},{"title":"jQueryé€‰æ‹©å™¨ä¸èŠ‚ç‚¹æ“ä½œ","slug":"jQueryé€‰æ‹©å™¨ä¸èŠ‚ç‚¹æ“ä½œ","date":"2016-11-22T09:11:48.000Z","updated":"2024-07-05T11:10:22.351Z","comments":true,"path":"2016/11/22/jQuery-selector/","permalink":"http://yelog.org/2016/11/22/jQuery-selector/","excerpt":"jQuery æ˜¯ä¸€ä¸ª JavaScript å‡½æ•°åº“ã€‚jQueryçš„è¯­æ³•è®¾è®¡ä½¿å¾—è®¸å¤šæ“ä½œå˜å¾—å®¹æ˜“ï¼Œå¦‚æ“ä½œæ–‡æ¡£å¯¹è±¡ï¼ˆdocumentï¼‰ã€é€‰æ‹©æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å…ƒç´ ã€åˆ›å»ºåŠ¨ç”»æ•ˆæœã€å¤„ç†äº‹ä»¶ã€ä»¥åŠå¼€å‘Ajaxç¨‹åºã€‚jQueryä¹Ÿæä¾›äº†ç»™å¼€å‘äººå‘˜åœ¨å…¶ä¸Šåˆ›å»ºæ’ä»¶çš„èƒ½åŠ›ã€‚è¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥å¯¹åº•å±‚äº¤äº’ä¸åŠ¨ç”»ã€é«˜çº§æ•ˆæœå’Œé«˜çº§ä¸»é¢˜åŒ–çš„ç»„ä»¶è¿›è¡ŒæŠ½è±¡åŒ–ã€‚","text":"jQuery æ˜¯ä¸€ä¸ª JavaScript å‡½æ•°åº“ã€‚jQueryçš„è¯­æ³•è®¾è®¡ä½¿å¾—è®¸å¤šæ“ä½œå˜å¾—å®¹æ˜“ï¼Œå¦‚æ“ä½œæ–‡æ¡£å¯¹è±¡ï¼ˆdocumentï¼‰ã€é€‰æ‹©æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å…ƒç´ ã€åˆ›å»ºåŠ¨ç”»æ•ˆæœã€å¤„ç†äº‹ä»¶ã€ä»¥åŠå¼€å‘Ajaxç¨‹åºã€‚jQueryä¹Ÿæä¾›äº†ç»™å¼€å‘äººå‘˜åœ¨å…¶ä¸Šåˆ›å»ºæ’ä»¶çš„èƒ½åŠ›ã€‚è¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥å¯¹åº•å±‚äº¤äº’ä¸åŠ¨ç”»ã€é«˜çº§æ•ˆæœå’Œé«˜çº§ä¸»é¢˜åŒ–çš„ç»„ä»¶è¿›è¡ŒæŠ½è±¡åŒ–ã€‚ jQueryè·å–å…ƒç´ å…ƒç´ é€‰æ‹©å™¨//å…ƒç´ é€‰æ‹©å™¨ &lt;div &gt; $(&quot;div&quot;) idé€‰æ‹©å™¨//idé€‰æ‹©å™¨ &lt;div id=&#39;id&#39;&gt; $(&quot;#id&quot;) $(&quot;div#id&quot;) classé€‰æ‹©å™¨//classé€‰æ‹©å™¨ &lt;div class=&#39;class&#39;&gt; $(&quot;.class&quot;) $(&quot;div.class&quot;) å±æ€§è¿‡æ»¤é€‰æ‹©å™¨&lt;li class=&#39;check&#39; type=&#39;li_01&#39;&gt;&lt;/li&gt; &lt;li type=&#39;li_02&#39;&gt;&lt;/li&gt; &lt;li type=&#39;li_03&#39;&gt;&lt;/li&gt; //é€šè¿‡å±æ€§è·å– å¦‚æœå±æ€§å€¼ä¸ºæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œä¸€å®šè¦åŠ å¼•å· $(&quot;[type]&quot;) //è·å–æœ‰typeå±æ€§çš„å…ƒç´  $(&quot;[type=&#39;li_01&#39;]&quot;) //è·å–typeå€¼ç­‰äº&#39;li_01&#39;çš„å…ƒç´  $(&quot;[type!=&#39;li_01&#39;]&quot;) //è·å–typeå€¼ä¸ç­‰äº&#39;li_01&#39;çš„å…ƒç´  $(&quot;[type*=&#39;li&#39;]&quot;) //æ¨¡ç³ŠåŒ¹é… è·å–typeå€¼åŒ…å«&#39;li&#39;çš„å…ƒç´  $(&quot;[type^=&#39;li&#39;]&quot;) //æ¨¡ç³ŠåŒ¹é… è·å–typeå€¼ä»¥&#39;li&#39;å¼€å§‹çš„å…ƒç´  $(&quot;[type$=&#39;01&#39;]&quot;) //æ¨¡ç³ŠåŒ¹é… è·å–typeå€¼ä»¥&#39;01&#39;ç»“å°¾çš„å…ƒç´  $(&quot;li[class=&#39;check&#39;][type]&quot;) //è·å–å¤šä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³çš„å…ƒç´  * é€‰æ‹©å™¨//éå†formä¸‹çš„æ‰€æœ‰å…ƒç´ ,å°†å…¶marginè®¾ç½®0 $(&#39;form *&#39;).css(&#39;margin&#39;,&#39;0px&#39;) å¹¶åˆ—é€‰æ‹©å™¨$(&#39;p, div&#39;).css(&#39;color&#39;,&#39;red&#39;); //å°†på…ƒç´ å’Œdivå…ƒç´ çš„å­—ä½“é¢œè‰²è®¾ç½®ä¸ºred å±‚å é€‰æ‹©å™¨&lt;div class=&#39;a&#39;&gt; &lt;!-- çˆ¶çº§div --&gt; &lt;div class=&#39;a1&#39;&gt; &lt;!-- å­çº§div1 --&gt; &lt;div class=&#39;a11&#39;&gt;&lt;/div&gt; &lt;!-- å­™çº§div1 --&gt; &lt;/div&gt; &lt;div class=&#39;a2&#39;&gt;&lt;/div&gt; &lt;!-- å­çº§div2 --&gt; &lt;div class=&#39;a3&#39;&gt;&lt;/div&gt; &lt;!-- å­çº§div3 --&gt; &lt;span&gt;&lt;/span&gt; &lt;!-- å­çº§span1 --&gt; &lt;/div&gt; $(&quot;.a div&quot;) //é€‰æ‹©class=açš„å…ƒç´ ä¸‹æ‰€æœ‰çš„div å³é€‰æ‹©åˆ°å­çº§div1,2,3 å­™çº§div1 $(&quot;.a &gt; div&quot;) //é€‰æ‹©class=açš„å…ƒç´ çš„æ‰€æœ‰å­divå…ƒç´ , å³é€‰æ‹©åˆ°å­çº§div1,2,3; $(&quot;div + span&quot;) //é€‰æ‹©æ‰€æœ‰çš„divå…ƒç´ çš„ä¸‹ä¸€ä¸ªinputå…ƒç´ èŠ‚ç‚¹,å³é€‰æ‹©åˆ°:å­çº§div3 $(&quot;.a1 ~ div&quot;) //åŒèƒé€‰æ‹©å™¨,è¿”å›classä¸ºa2çš„æ ‡ç­¾å…ƒç´ çš„æ‰€æœ‰å±äºåŒä¸€ä¸ªçˆ¶å…ƒç´ çš„divæ ‡ç­¾,å³div1,2,3 åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨&lt;ul&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt; $(&quot;li:first&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ çš„ç¬¬ä¸€ä¸ª $(&quot;li:last&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ çš„æœ€åä¸€ä¸ª $(&quot;li:even&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ çš„ç¬¬0,2,4... ...ä¸ªå…ƒç´ (åºå·ä»0å¼€å§‹) $(&quot;li:odd&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ çš„ç¬¬1,3,5... ...ä¸ªå…ƒç´  $(&quot;li:eq(2)&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ ä¸­çš„ç¬¬ä¸‰ä¸ª(å³åºå·ä¸º2) $(&quot;li:gt(3)&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ ä¸­åºå·å¤§äº3çš„liå…ƒç´  $(&quot;li:ll(2)&quot;) //é€‰æ‹©æ‰€æœ‰liå…ƒç´ ä¸­åºå·å°äº2çš„liå…ƒç´  &lt;input type=&quot;checkbox&quot; /&gt; &lt;input type=&quot;checkbox&quot; /&gt; $(&quot;input[type=&#39;checkbox&#39;]:checked&quot;) //è·å–æ‰€æœ‰å·²è¢«é€‰ä¸­çš„typeç­‰äºcheckboxçš„inputå…ƒç´  $(&quot;input[type=&#39;checkbox&#39;]:not(:checked)&quot;) //è·å–æ‰€æœ‰æœªè¢«é€‰ä¸­çš„typeç­‰äºcheckboxçš„inputå…ƒç´  å†…å®¹è¿‡æ»¤å™¨$(&quot;div:contains(&#39;Faker&#39;)&quot;) //é€‰æ‹©æ‰€æœ‰divä¸­å«æœ‰Fakeræ–‡æœ¬çš„å…ƒç´  $(&quot;div:empty&quot;) //é€‰æ‹©æ‰€æœ‰divä¸­ä¸ºç©º(ä¸åŒ…å«ä»»ä½•å…ƒç´ /æ–‡æœ¬)çš„å…ƒç´  $(&quot;div:has(&#39;p&#39;)&quot;) //é€‰æ‹©æ‰€æœ‰divä¸­åŒ…å«på…ƒç´ çš„å…ƒç´  $(&quot;div:parent&quot;) //é€‰æ‹©æ‰€æœ‰çš„å«æœ‰å­å…ƒç´ æˆ–æ–‡æœ¬çš„div å¯è§†åŒ–è¿‡æ»¤å™¨$(&quot;div:hidden&quot;) //é€‰æ‹©æ‰€æœ‰è¢«hiddençš„divå…ƒç´  $(&quot;div:not(:hidden)&quot;) //é€‰æ‹©æ‰€æœ‰æ²¡æœ‰è¢«hiddençš„divå…ƒç´  $(&quot;div:visible&quot;) //æ‰€æœ‰å¯è§†åŒ–çš„divå…ƒç´  $(&quot;div:not(:visible)&quot;) //æ‰€æœ‰éå¯è§†åŒ–çš„divå…ƒç´  å­å…ƒç´ è¿‡æ»¤å™¨&lt;body&gt; &lt;div class=&#39;d1&#39;&gt; &lt;div class=&#39;d11&#39;&gt; &lt;div class=&#39;d111&#39;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; $(&quot;body div:first-child&quot;) //è¿”å›æ‰€æœ‰çš„bodyå…ƒç´ ä¸‹ æ‰€æœ‰div ä¸ºçˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´  çš„å…ƒç´ . //:first ä¸ :first-child çš„åŒºåˆ«ç”¨æ³• //$(&quot;body div:first&quot;)åªåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªåˆé€‚çš„å…ƒç´  å³åªåŒ¹é…åˆ° d1 //$(&quot;body div:first-child&quot;) åŒ¹é…æ‰€æœ‰åˆé€‚çš„å…ƒç´ :d1æ˜¯bodyçš„ç¬¬ä¸€ä¸ªå…ƒç´ ,d11æ˜¯d1çš„ç¬¬ä¸€ä¸ªå…ƒç´ .. //æ‰€ä»¥åŒ¹é…åˆ°d1,d11,d111 $(&quot;div span:last-child&quot;) //è¿”å›æ‰€æœ‰çš„bodyå…ƒç´ ä¸‹ æ‰€æœ‰div ä¸ºçˆ¶å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´  çš„å…ƒç´ . //:last ä¸ :last-child çš„åŒºåˆ«å‚è€ƒfirst $(&quot;div button:only-child&quot;) //å¦‚æœbuttonæ˜¯å®ƒçˆ¶çº§å…ƒç´ çš„å”¯ä¸€å­å…ƒç´ ,æ­¤buttonå°†ä¼šè¢«åŒ¹é… è¡¨å•å…ƒç´ é€‰æ‹©å™¨$(&quot;:input&quot;) //é€‰æ‹©æ‰€æœ‰çš„è¡¨å•è¾“å…¥å…ƒç´ ï¼ŒåŒ…æ‹¬input, textarea, select å’Œ button $(&quot;:text&quot;) //é€‰æ‹©æ‰€æœ‰çš„text inputå…ƒç´  $(&quot;:password&quot;) //é€‰æ‹©æ‰€æœ‰çš„password inputå…ƒç´  $(&quot;:radio&quot;) //é€‰æ‹©æ‰€æœ‰çš„radio inputå…ƒç´  $(&quot;:checkbox&quot;) //é€‰æ‹©æ‰€æœ‰çš„checkbox inputå…ƒç´  $(&quot;:submit&quot;) //é€‰æ‹©æ‰€æœ‰çš„submit inputå…ƒç´  $(&quot;:image&quot;) //é€‰æ‹©æ‰€æœ‰çš„image inputå…ƒç´  $(&quot;:reset&quot;) //é€‰æ‹©æ‰€æœ‰çš„reset inputå…ƒç´  $(&quot;:button&quot;) //é€‰æ‹©æ‰€æœ‰çš„button inputå…ƒç´  $(&quot;:file&quot;) //é€‰æ‹©æ‰€æœ‰çš„file inputå…ƒç´  $(&quot;:hidden&quot;) //é€‰æ‹©æ‰€æœ‰ç±»å‹ä¸ºhiddençš„inputå…ƒç´ æˆ–è¡¨å•çš„éšè—åŸŸ è¡¨å•å…ƒç´ è¿‡æ»¤å™¨$(&quot;:enabled&quot;) //é€‰æ‹©æ‰€æœ‰çš„å¯æ“ä½œçš„è¡¨å•å…ƒç´  $(&quot;:disabled&quot;) //é€‰æ‹©æ‰€æœ‰çš„ä¸å¯æ“ä½œçš„è¡¨å•å…ƒç´  $(&quot;:checked&quot;) //é€‰æ‹©æ‰€æœ‰çš„è¢«checkedçš„è¡¨å•å…ƒç´  $(&quot;select option:selected&quot;) //é€‰æ‹©æ‰€æœ‰çš„select çš„å­å…ƒç´ ä¸­è¢«selectedçš„å…ƒç´  èŠ‚ç‚¹æ“ä½œè·å–å’Œæ“ä½œèŠ‚ç‚¹å±æ€§&lt;a href=&#39;index.html&#39; data-type=&#39;a&#39; style=&quot;color:red;&quot;&gt;index&lt;/a&gt; &lt;input value=&#39;user&#39; /&gt; $(&quot;a&quot;).attr(&quot;href&quot;); //è·å–hrefå±æ€§å€¼ $(&quot;a&quot;).attr(&quot;href&quot;,&quot;about.html&quot;); //è®¾ç½®hrefå±æ€§å€¼ $(&quot;a&quot;).data(&quot;type&quot;); //è·å–data-typeå±æ€§å€¼ $(&quot;a&quot;).css(&quot;color&quot;); //é€šè¿‡key(color/display/....)è·å–csså€¼ $(&quot;a&quot;).css(&quot;color&quot;,&quot;black&quot;); //é€šè¿‡key/value è®¾ç½®csså±æ€§ $(&quot;a&quot;).text(); //è·å–açš„æ–‡æœ¬èŠ‚ç‚¹å€¼ $(&quot;a&quot;).text(&quot;Index.html&quot;); //è®¾ç½®açš„æ–‡æœ¬èŠ‚ç‚¹å€¼ $(&quot;input&quot;).val(); //è·å–inputçš„valueå€¼ $(&quot;input&quot;).val(&quot;username&quot;); //è®¾ç½®inputçš„valueå€¼ æ’å…¥èŠ‚ç‚¹çš„æ–¹æ³•&lt;div class=&quot;head&quot;&gt; &lt;span&gt;Faker&lt;span&gt; &lt;/div&gt; $(&quot;.head&quot;).append(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;) //åœ¨.headä¸­çš„æœ€åæ’å…¥ä¸€æ®µhtml //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt; $(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).appendTo(&quot;.head&quot;) //åœ¨.headä¸­çš„æœ€åæ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt; $(&quot;.head&quot;).prepend(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;) //åœ¨.headä¸­çš„å¼€å§‹æ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;/div&gt; $(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).prependTo(&quot;.head&quot;) //åœ¨.headä¸­çš„å¼€å§‹æ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;/div&gt; $(&quot;.head *:first&quot;).after(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;) //åœ¨.headä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ åæ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt; $(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).insertAfter(&quot;.head *:first&quot;) //åœ¨.headä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ åæ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt; $(&quot;.head *:first&quot;).before(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;) //åœ¨.headä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å‰æ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;/div&gt; $(&quot;&lt;span&gt;hello&lt;/span&gt;&quot;).insertBefore(&quot;.head *:first&quot;) //åœ¨.headä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ åæ’å…¥ä¸€æ®µhtml, //ç»“æœ: &lt;div class=&quot;head&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;Faker&lt;/span&gt;&lt;/div&gt; $.load()æ–¹æ³• åœ¨æŒ‡å®šä½ç½®åŠ è½½è¯·æ±‚å›æ¥çš„htmlé¡µé¢ &lt;div class=&quot;head&quot;&gt; &lt;/div&gt; $(&quot;.head&quot;).load(url[,data][,callback]) url: è¯·æ±‚HTMLé¡µé¢çš„URLåœ°å€ data(å¯é€‰): è¯·æ±‚çš„key/valueå‚æ•° callback(å¯é€‰) è¯·æ±‚å®Œæˆçš„å›è°ƒå‡½æ•°","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"}]},{"title":"ideaå¸¸ç”¨å¿«æ·é”®","slug":"idea-shortcuts","date":"2016-11-05T07:22:48.000Z","updated":"2024-07-05T11:10:22.479Z","comments":true,"path":"2016/11/05/idea-shortcuts/","permalink":"http://yelog.org/2016/11/05/idea-shortcuts/","excerpt":"å·¥æ¬²å–„å…¶äº‹ , å¿…å…ˆåˆ©å…¶å™¨","text":"å·¥æ¬²å–„å…¶äº‹ , å¿…å…ˆåˆ©å…¶å™¨ Ideaä½œä¸ºIDEæ˜¯ç›¸å½“niubility,ä½†æ˜¯è¦è¿ç”¨è‡ªå¦‚è¿˜å¾—æŒæ¡ä¸€äº›å¸¸ç”¨å¿«æ·é”®,æ‰èƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿ç”¨è‡ªå¦‚ä»¥ä¸‹æ˜¯ideaçš„é»˜è®¤å¿«æ·é”®,å¦‚æœè‹±è¯­èƒ½åŠ›æ²¡æœ‰é—®é¢˜,å¯ä»¥åœ¨Help-&gt;Keymap Reference æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å½“ç„¶ä½œä¸ºä¸€æ¬¾ä¼˜ç§€çš„IDE,æ€ä¹ˆä¼šå°‘äº†è‡ªå®šä¹‰å¿«æ·é”®(File-&gt;Setting-&gt;Keymap,å¯é€šè¿‡åŠ¨ä½œå&#x2F;å¿«æ·é”®ç»„åˆåŒå‘æŸ¥æ‰¾)å¥½äº†,ä¸‹é¢æ˜¯åšä¸»åœ¨Javaç›¸å…³å¼€å‘è¿‡ç¨‹ä¸­å¸¸ç”¨åˆ°çš„ä¸€äº›å¿«æ·é”® å¸¸ç”¨å¿«æ·é”®ç»„åˆç¼–è¾‘ åºå· å¿«æ·é”®ç»„åˆ ä½œç”¨ Ctrl+D é‡å¤å…‰æ ‡æ‰€åœ¨è¡Œ&#x2F;æˆ–é€‰ä¸­éƒ¨åˆ† Ctrl+C å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ&#x2F;æˆ–é€‰ä¸­éƒ¨åˆ† Ctrl+V ç²˜è´´ Ctrl+Shift+V é€‰æ‹©ç²˜è´´æœ€è¿‘5æ¬¡å¤åˆ¶çš„å†…å®¹ Ctrl+X åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ&#x2F;æˆ–é€‰ä¸­éƒ¨åˆ† Ctrl+Y åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ&#x2F;æˆ–é€‰ä¸­è¡Œ Shift+Enter å‘ä¸‹æ’å…¥æ–°è¡Œ Alt+Shift+â†‘&#x2F;â†“ ç§»åŠ¨å½“å‰è¡Œåˆ°ä¸Š&#x2F;ä¸‹ä¸€è¡Œ Ctrl+Alt+â†&#x2F;â†’ å®šä½åˆ°ä¸Š&#x2F;ä¸‹ä¸€æ¬¡å…‰æ ‡ä½ç½® Ctrl+I å®ç°æ¥å£æ–¹æ³• Ctrl+Shift+o åˆ é™¤æ²¡ç”¨çš„import Ctrl+O é‡å†™çˆ¶ç±»æ–¹æ³• Ctrl+W é€‰ä¸­å½“å‰å•è¯ Ctrl+P æç¤ºå‚æ•° Ctrl+Q æŸ¥çœ‹æ–¹æ³•&#x2F;ç±»çš„æ³¨é‡Šæ–‡æ¡£ Ctrl+Alt+L æ ¼å¼åŒ–å½“å‰æ¨¡æ¿ Ctrl+&#x2F; æ³¨é‡Šå½“å‰è¡Œ,æˆ–é€‰ä¸­è¡Œ Ctrl+Shift+&#x2F; æ³¨é‡Šé€‰ä¸­éƒ¨åˆ† &#x2F;**+å›è½¦(ç±»&#x2F;æ–¹æ³•&#x2F;å±æ€§å‰) æ·»åŠ æ³¨é‡Š æœç´¢&#x2F;æ›¿æ¢ åºå· å¿«æ·é”®ç»„åˆ ä½œç”¨ Ctrl+N é€šè¿‡ç±»å(æ–‡ä»¶å)çš„å…³é”®å­—å¿«é€Ÿæ‰“å¼€æ–‡ä»¶(ä»…é™.javaæ–‡ä»¶) Ctrl+Shift+N é€šè¿‡æ–‡ä»¶åå…³é”®å­—å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ Ctrl+Shift+N(ä¸¤æ¬¡) é€šè¿‡æ–‡ä»¶åå…³é”®å­—å¿«é€Ÿæ‰“å¼€æ–‡ä»¶(åŒ…æ‹¬éæœ¬é¡¹ç›®å†…æ–‡ä»¶,å¦‚Mavenå¼•å…¥çš„) Ctrl+Shift+Alt+N é€šè¿‡å…³é”®å­—(åŒ…æ‹¬ç±»å&#x2F;æ–¹æ³•å&#x2F;urlæ˜ å°„)å¿«é€Ÿæ‰“å¼€æ–‡ä»¶,å®šä½åˆ°ç±»å&#x2F;æ–¹æ³•å&#x2F;urlæ˜ å°„çš„æ–¹æ³• Ctrl+F æœç´¢å…³é”®å­—(æ”¯æŒæ­£åˆ™)åœ¨å½“å‰æ–‡ä»¶ F3 æ‰¾ä¸‹ä¸€ä¸ª Shift+F3 æ‰¾ä¸Šä¸€ä¸ª Ctrl+R æ›¿æ¢å…³é”®å­—(æ”¯æŒæ­£åˆ™)åœ¨å½“å‰æ–‡ä»¶ Ctrl+Shift+F åœ¨æ‰€æœ‰æ–‡ä»¶(å¯ä»¥æŒ‡å®šè¿‡æ»¤æ–‡ä»¶)ä¸­æŸ¥æ‰¾å…³é”®å­—(æ”¯æŒæ­£åˆ™) Ctrl+Shift+R åœ¨æ‰€æœ‰æ–‡ä»¶(å¯ä»¥æŒ‡å®šè¿‡æ»¤æ–‡ä»¶)ä¸­æ›¿æ¢å…³é”®å­—(æ”¯æŒæ­£åˆ™) debugging åºå· å¿«æ·é”®ç»„åˆ ä½œç”¨ F8 Step over(è·³è¿‡ä¸‹ä¸€è¡Œ) F7 Step into(è·³å…¥å½“å‰è¡Œè°ƒç”¨çš„æ–¹æ³•ä½“å†…) Shift+F7 Smart Step into(è·³è¿‡) æœªå®Œå¾…ç»­","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"IntellijIDEA","slug":"IntellijIDEA","permalink":"http://yelog.org/tags/IntellijIDEA/"}]},{"title":"web.xmlè¯¦è§£","slug":"web-xmlè¯¦è§£","date":"2016-10-24T02:10:45.000Z","updated":"2024-07-05T11:10:22.649Z","comments":true,"path":"2016/10/24/web-xml/","permalink":"http://yelog.org/2016/10/24/web-xml/","excerpt":"web.xmlæ–‡ä»¶æ˜¯ç”¨æ¥é…ç½®:æ¬¢è¿é¡µã€servletã€filterã€listenerç­‰çš„. å½“ä½ çš„webé¡¹ç›®å·¥ç¨‹æ²¡ç”¨åˆ°è¿™äº›æ—¶,ä½ å¯ä»¥ä¸ç”¨web.xmlæ–‡ä»¶æ¥é…ç½®ä½ çš„webå·¥ç¨‹ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰å¤šé¡¹æ ‡ç­¾,å…¶åŠ è½½é¡ºåºä¾æ¬¡æ˜¯:context-param &gt;&gt; listener &gt;&gt; filter &gt;&gt; servlet(åŒç±»å¤šä¸ªèŠ‚ç‚¹å‡ºç°é¡ºåºä¾æ¬¡åŠ è½½)","text":"web.xmlæ–‡ä»¶æ˜¯ç”¨æ¥é…ç½®:æ¬¢è¿é¡µã€servletã€filterã€listenerç­‰çš„. å½“ä½ çš„webé¡¹ç›®å·¥ç¨‹æ²¡ç”¨åˆ°è¿™äº›æ—¶,ä½ å¯ä»¥ä¸ç”¨web.xmlæ–‡ä»¶æ¥é…ç½®ä½ çš„webå·¥ç¨‹ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰å¤šé¡¹æ ‡ç­¾,å…¶åŠ è½½é¡ºåºä¾æ¬¡æ˜¯:context-param &gt;&gt; listener &gt;&gt; filter &gt;&gt; servlet(åŒç±»å¤šä¸ªèŠ‚ç‚¹å‡ºç°é¡ºåºä¾æ¬¡åŠ è½½) web.xmlå…ˆè¯»å–context-paramå’Œlistenerè¿™ä¸¤ç§èŠ‚ç‚¹ï¼› ç„¶åå®¹å™¨åˆ›å»ºä¸€ä¸ªServletContext(ä¸Šä¸‹æ–‡)ï¼Œåº”ç”¨äºæ•´ä¸ªé¡¹ç›®ï¼› å®¹å™¨ä¼šå°†è¯»å–åˆ°çš„context-paramè½¬åŒ–ä¸ºé”®å€¼å¯¹å¹¶å­˜å…¥servletContextï¼› æ ¹æ®listeneråˆ›å»ºç›‘å¬ï¼› å®¹å™¨ä¼šè¯»å–ï¼Œæ ¹æ®æŒ‡å®šçš„ç±»è·¯å¾„æ¥å®ä¾‹åŒ–è¿‡æ»¤å™¨ï¼› æ­¤æ—¶é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼› åœ¨å‘èµ·ç¬¬ä¸€æ¬¡è¯·æ±‚æ˜¯ï¼ŒservletèŠ‚ç‚¹æ‰ä¼šè¢«åŠ è½½å®ä¾‹åŒ–ã€‚ å‚æ•°è®¾ç½®context-paramcontext-paramèŠ‚ç‚¹æ˜¯web.xmlä¸­ç”¨äºé…ç½®åº”ç”¨äºæ•´ä¸ªwebé¡¹ç›®çš„â€‹ä¸Šä¸‹æ–‡ã€‚åŒ…æ‹¬ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå…¶ä¸­param-name è®¾å®šä¸Šä¸‹æ–‡çš„å‚æ•°åç§°ã€‚å¿…é¡»æ˜¯å”¯ä¸€åç§°ï¼›param-value è®¾å®šçš„å‚æ•°åç§°çš„å€¼ã€‚ è¯»å–èŠ‚ç‚¹çš„æ–¹æ³•å¦‚ä¸‹ï¼š $&#123;initParam.å‚æ•°å&#125; Servletä¸­String paramValue&#x3D;getServletContext().getInitParameter(â€œå‚æ•°åâ€)â€‹ web.xmlä¸­é…ç½®springå¿…é¡»ä½¿ç”¨listenerèŠ‚ç‚¹ï¼Œä½†context-paramèŠ‚ç‚¹å¯æœ‰å¯æ— ï¼Œå¦‚æœç¼ºçœåˆ™é»˜è®¤contextConfigLocationè·¯å¾„ä¸ºâ€œ&#x2F;WEB-INF&#x2F;applicationContext.xmlâ€ï¼›å¦‚æœæœ‰å¤šä¸ªxmlæ–‡ä»¶ï¼Œä½¿ç”¨â€,â€œåˆ†éš” listener&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt; &lt;/listener&gt; ä¸ºwebåº”ç”¨ç¨‹åºå®šä¹‰ç›‘å¬å™¨ï¼Œç›‘å¬å™¨ç”¨æ¥ç›‘å¬å„ç§äº‹ä»¶ï¼Œæ¯”å¦‚ï¼šapplicationå’Œsessionäº‹ä»¶ï¼Œæ‰€æœ‰çš„ç›‘å¬å™¨æŒ‰ç…§ç›¸åŒçš„æ–¹å¼å®šä¹‰ï¼ŒåŠŸèƒ½å–å†³å»å®ƒä»¬å„è‡ªå®ç°çš„æ¥å£ï¼Œå¸¸ç”¨çš„Webäº‹ä»¶æ¥å£æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šServletContextListenerï¼šç”¨äºç›‘å¬Webåº”ç”¨çš„å¯åŠ¨å’Œå…³é—­ï¼›ServletContextAttributeListenerï¼šç”¨äºç›‘å¬ServletContextèŒƒå›´ï¼ˆapplicationï¼‰å†…å±æ€§çš„æ”¹å˜ï¼›ServletRequestListenerï¼šç”¨äºç›‘å¬ç”¨æˆ·çš„è¯·æ±‚ï¼›ServletRequestAttributeListenerï¼šç”¨äºç›‘å¬ServletRequestèŒƒå›´ï¼ˆrequestï¼‰å†…å±æ€§çš„æ”¹å˜ï¼›HttpSessionListenerï¼šç”¨äºç›‘å¬ç”¨æˆ·sessionçš„å¼€å§‹å’Œç»“æŸï¼›HttpSessionAttributeListenerï¼šç”¨äºç›‘å¬HttpSessionèŒƒå›´ï¼ˆsessionï¼‰å†…å±æ€§çš„æ”¹å˜ã€‚ é…ç½®Listeneråªè¦å‘Webåº”ç”¨æ³¨å†ŒListenerå®ç°ç±»å³å¯ï¼Œæ— åºé…ç½®å‚æ•°ä¹‹ç±»çš„ä¸œè¥¿ï¼Œå› ä¸ºListenerè·å–çš„æ˜¯Webåº”ç”¨ServletContextï¼ˆapplicationï¼‰çš„é…ç½®å‚æ•°ã€‚ä¸ºWebåº”ç”¨é…ç½®Listenerçš„ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨@WebListenerä¿®é¥°Listenerå®ç°ç±»å³å¯ã€‚ åœ¨web.xmlæ–‡æ¡£ä¸­ä½¿ç”¨è¿›è¡Œé…ç½®ã€‚ servletservletå³é…ç½®æ‰€éœ€ç”¨çš„servletï¼Œç”¨äºå¤„ç†åŠå“åº”å®¢æˆ·çš„è¯·æ±‚ã€‚å®¹å™¨çš„Contextå¯¹è±¡å¯¹è¯·æ±‚è·¯å¾„(URL)åšå‡ºå¤„ç†ï¼Œå»æ‰è¯·æ±‚URLçš„ä¸Šä¸‹æ–‡è·¯å¾„åï¼ŒæŒ‰è·¯å¾„æ˜ å°„è§„åˆ™å’ŒServletæ˜ å°„è·¯å¾„ï¼ˆï¼‰åšåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™è°ƒç”¨è¿™ä¸ªServletå¤„ç†è¯·æ±‚ã€‚ ä¸ºServletå‘½åï¼š&lt;servlet&gt; &lt;servlet-name&gt;servlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.whatisjava.TestServlet&lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; ä¸ºServletå®šåˆ¶URL&lt;servlet-mapping&gt; &lt;servlet-name&gt;servlet&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; Load-on-startupLoad-on-startup å…ƒç´ åœ¨webåº”ç”¨å¯åŠ¨çš„æ—¶å€™æŒ‡å®šäº†servletè¢«åŠ è½½çš„é¡ºåºï¼Œå®ƒçš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚å¦‚æœå®ƒçš„å€¼æ˜¯ä¸€ä¸ªè´Ÿæ•´æ•°æˆ–æ˜¯è¿™ä¸ªå…ƒç´ ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå®¹å™¨ä¼šåœ¨è¯¥servletè¢«è°ƒç”¨çš„æ—¶å€™ï¼ŒåŠ è½½è¿™ä¸ªservlet ã€‚å¦‚æœå€¼æ˜¯æ­£æ•´æ•°æˆ–é›¶ï¼Œå®¹å™¨åœ¨é…ç½®çš„æ—¶å€™å°±åŠ è½½å¹¶åˆå§‹åŒ–è¿™ä¸ªservletï¼Œå®¹å™¨å¿…é¡»ä¿è¯å€¼å°çš„å…ˆè¢«åŠ è½½ã€‚å¦‚æœå€¼ç›¸ç­‰ï¼Œå®¹å™¨å¯ä»¥è‡ªåŠ¨é€‰æ‹©å…ˆåŠ è½½è°ã€‚å½“å€¼ä¸º0æˆ–è€…å¤§äº0æ—¶ï¼Œè¡¨ç¤ºå®¹å™¨åœ¨åº”ç”¨å¯åŠ¨æ—¶å°±åŠ è½½è¿™ä¸ªservletï¼›å½“æ˜¯ä¸€ä¸ªè´Ÿæ•°æ—¶æˆ–è€…æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œåˆ™æŒ‡ç¤ºå®¹å™¨åœ¨è¯¥servletè¢«é€‰æ‹©æ—¶æ‰åŠ è½½ã€‚æ­£æ•°çš„å€¼è¶Šå°ï¼Œå¯åŠ¨è¯¥servletçš„ä¼˜å…ˆçº§è¶Šé«˜ã€‚ filterè®¾ç½®è¿‡æ»¤å™¨:å¦‚ç¼–ç è¿‡æ»¤å™¨,è¿‡æ»¤æ‰€æœ‰èµ„æº &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; sessionè®¾ç½®ä¼šè¯(Session)è¿‡æœŸæ—¶é—´,å…¶ä¸­æ—¶é—´ä»¥åˆ†é’Ÿä¸ºå•ä½,åŠ å…¥è®¾ç½®60åˆ†è¶…æ—¶: &lt;session-config&gt; &lt;session-timeout&gt;60&lt;/session-timeout&gt; &lt;/session-config&gt; welcom-file-list&lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; PS:æŒ‡å®šäº†ä¸¤ä¸ªæ¬¢è¿é¡µé¢,æ˜¾ç¤ºæ—¶æŒ‰é¡ºåºä»ç¬¬ä¸€ä¸ªæ‰¾èµ·ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­˜åœ¨ï¼Œå°±æ˜¾ç¤ºç¬¬ä¸€ä¸ªï¼Œåé¢çš„ä¸èµ·ä½œç”¨ã€‚å¦‚æœç¬¬ä¸€ä¸ªä¸å­˜åœ¨ï¼Œå°±æ‰¾ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœéƒ½æ²¡æœ‰å°±404. å…³äºæ¬¢è¿é¡µé¢ï¼šè®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œé»˜è®¤çœ‹åˆ°çš„ç¬¬ä¸€ä¸ªé¡µé¢å°±å«æ¬¢è¿é¡µï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç”±é¦–é¡µæ¥å……å½“æ¬¢è¿é¡µçš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨web.xmlä¸­æŒ‡å®šæ¬¢è¿é¡µã€‚ä½† web.xmlå¹¶ä¸æ˜¯ä¸€ä¸ªWebçš„å¿…è¦æ–‡ä»¶ï¼Œæ²¡æœ‰web.xmlï¼Œç½‘ç«™ä»ç„¶æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ã€‚åªä¸è¿‡ç½‘ç«™çš„åŠŸèƒ½å¤æ‚èµ·æ¥åï¼Œweb.xmlçš„ç¡®æœ‰éå¸¸å¤§ç”¨å¤„ï¼Œæ‰€ä»¥ï¼Œé»˜è®¤åˆ›å»ºçš„åŠ¨æ€webå·¥ç¨‹åœ¨WEB-INFæ–‡ä»¶å¤¹ä¸‹é¢éƒ½æœ‰ä¸€ä¸ªweb.xmlæ–‡ä»¶ã€‚ error-page&lt;!-- é”™è¯¯ç  --&gt; &lt;error-page&gt; &lt;error-code&gt;404&lt;/error-code&gt; &lt;location&gt;/error404.jsp&lt;/location&gt; &lt;/error-page&gt; &lt;!-- é”™è¯¯ç±»å‹ --&gt; &lt;error-page&gt; &lt;exception-type&gt;java.lang.Exception&lt;exception-type&gt; &lt;location&gt;/exception.jsp&lt;location&gt; &lt;/error-page&gt;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"javaee","slug":"javaee","permalink":"http://yelog.org/tags/javaee/"}]},{"title":"Hexo+GitæœåŠ¡å™¨æ­å»ºblog","slug":"hexo-git-server-blog","date":"2016-10-23T01:24:03.000Z","updated":"2024-07-05T11:10:22.490Z","comments":true,"path":"2016/10/23/hexo-git-server-blog/","permalink":"http://yelog.org/2016/10/23/hexo-git-server-blog/","excerpt":"åšä¸»æœ€è¿‘åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºHexoå‘å¸ƒå¹³å°ï¼Œæ„Ÿè§‰æ•´ä¸ªæ­å»ºè¿‡ç¨‹å’Œæ­å»ºæ€æƒ³è›®æœ‰æ„æ€ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ï¼Œä¾›çŒ¿å‹å‚è€ƒHexo æ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä¸»é¢˜ç¤¾åŒºç‰¹åˆ«åºå¤§çš„å¼€æºblogæ¡†æ¶-ã€‹å®˜ç½‘æœ¬æ¬¡æ­å»ºæ˜¯é€šè¿‡åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºGitæœåŠ¡å™¨æ¥å®ç°ä¸€é”®å‘å¸ƒblog","text":"åšä¸»æœ€è¿‘åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºHexoå‘å¸ƒå¹³å°ï¼Œæ„Ÿè§‰æ•´ä¸ªæ­å»ºè¿‡ç¨‹å’Œæ­å»ºæ€æƒ³è›®æœ‰æ„æ€ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ï¼Œä¾›çŒ¿å‹å‚è€ƒHexo æ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä¸»é¢˜ç¤¾åŒºç‰¹åˆ«åºå¤§çš„å¼€æºblogæ¡†æ¶-ã€‹å®˜ç½‘æœ¬æ¬¡æ­å»ºæ˜¯é€šè¿‡åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºGitæœåŠ¡å™¨æ¥å®ç°ä¸€é”®å‘å¸ƒblog æ­å»ºæ€è·¯ å®¢æˆ·ç«¯å°±æ˜¯è‡ªå·±çš„ç”µè„‘,å¯ä»¥æŠŠhexoçš„é™æ€èµ„æºç›®å½•å½“æˆä¸€ä¸ªgitä»“åº“. é¦–å…ˆé…ç½®å¥½è¿œç¨‹gitä»“åº“,é€šè¿‡ hexo d å°†é™æ€ç½‘ç«™èµ„æºpushåˆ°è¿œç¨‹gitä»“åº“ gitä»“åº“æ¥æ”¶åˆ°pushå¤„ç†å®Œæˆå,è‡ªåŠ¨è§¦å‘post-receiveè¿™ä¸ªé’©å­. æ‰§è¡Œé’©å­å†…å®¹,è¿›å…¥åˆ° &#x2F;var&#x2F;www&#x2F;blog ç›®å½•(ä¹Ÿæ˜¯ä¸€ä¸ªgitä»“åº“),æ‹‰å–åˆšæ‰hexoæ¨é€åˆ°gitæœåŠ¡ç«¯çš„é™æ€ç½‘ç«™èµ„æº. é…ç½®nginx,å°†80ç«¯å£æ˜ å°„åˆ° &#x2F;var&#x2F;www&#x2F;blog ç›®å½•. å°±å¯ä»¥ç›´æ¥é€šè¿‡ipè®¿é—®åˆ°é™æ€blogäº† æ­å»ºè¿‡ç¨‹ç¯å¢ƒå‡†å¤‡åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…gitå¹¶åˆ›å»ºgitè¿œç¨‹ä»“åº“ å¦‚ blog.gitæ­å»ºè¿‡ç¨‹ç§»æ­¥ æ­å»ºGitæœåŠ¡å™¨ åœ¨ _config.yml ä¸­é…ç½®gitæœåŠ¡å™¨deploy: type: git repo: git@server:/home/git/blog.git branch: master å¦‚æœsshç«¯å£ä¸æ˜¯é»˜è®¤çš„22çš„è¯ï¼Œå¦‚ä¸‹é…ç½®,8080æ”¹ä¸ºè‡ªå·±æœåŠ¡å™¨ä¸Šsshç«¯å£ deploy: type: git repo: ssh://git@server:8080/home/git/blog.git branch: master é…ç½®nginxç°åœ¨å·²ç»å¯ä»¥ä½¿ç”¨ hexo d å°†hexoä¸­çš„ç”Ÿæˆçš„é™æ€èµ„æºå‘é€åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸­ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦é…ç½®nginxæ¥é…ç½®é™æ€webã€‚å®‰è£…è¿‡ç¨‹å¯ä»¥è‡ªè¡ŒGoogleï¼Œåœ¨æ­¤åªè¯´æ˜nginxå¦‚ä½•é…ç½®é™æ€webé¦–å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•ä½œä¸ºå­˜æ”¾webèµ„æºï¼ˆhexoç”Ÿæˆçš„ï¼‰çš„ç›®å½•ï¼Œå¦‚ï¼š /var/www/blog cd /var/www #åˆ›å»ºblogç›®å½•ï¼Œå¹¶å…‹éš†blog.gitä»“åº“çš„å†…å®¹ git clone /home/git/blog.git blog æ‰¾åˆ° nginx.conf æ·»åŠ ä»¥ä¸‹ä¿¡æ¯ server &#123; listen 80; charset utf-8; root /var/www/blog; index index.htm index.html index.jsp; &#125; #é‡å¯å¹¶åŠ è½½é…ç½®æ–‡ä»¶ $ nginx -s reload é…ç½®gitæœåŠ¡å™¨hooksè¿™ä¸ªé’©å­çš„ä½œç”¨æ˜¯ï¼Œå½“gitæœåŠ¡å™¨æ¥å—å®¢æˆ·ç«¯pushå®Œæˆæ›´æ–°ï¼Œæ‰§è¡Œæ­¤æ–‡ä»¶å†…å®¹ #åˆ›å»ºå¹¶ç¼–è¾‘post-receive $ vim blog.git/hooks/post-receive å†…å®¹å¦‚ä¸‹ #!/bin/sh unset GIT_DIR #è¿˜åŸç¯å¢ƒå˜é‡ï¼Œå¦åˆ™ä¼šæ‹‰ä¸åˆ°ä»£ç  cd /var/www/blog git pull origin master #æ‹‰å–æœ€æ–°ä»£ç  æµ‹è¯•æ•ˆæœåœ¨æœ¬åœ°çš„hexoä¸‹æ‰§è¡Œ hexo dæŸ¥çœ‹ &#x2F;var&#x2F;www&#x2F;blogæ–‡ä»¶å¤¹å†…çš„å†…å®¹ä¹Ÿå‘ç”Ÿå˜åŒ–","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"Hexo+GitHub Pagesæ­å»ºå±äºè‡ªå·±çš„blog","slug":"hexo-gitHub-pages-create-own-blog","date":"2016-10-22T13:24:05.000Z","updated":"2024-07-05T11:10:22.571Z","comments":true,"path":"2016/10/22/hexo-gitHub-pages-create-own-blog/","permalink":"http://yelog.org/2016/10/22/hexo-gitHub-pages-create-own-blog/","excerpt":"Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å¼€æºåšå®¢æ¡†æ¶-ã€‹å®˜ç½‘GitHub Pages æ˜¯ä¸€ä¸ªä¸å—é™çš„ç½‘ç«™ç©ºé—´ã€‚ä¸¤è€…ç›¸å¾—ç›Šå½°ã€‚ç»™é‚£äº›å–œæ¬¢è‡ªå·±æŠ˜è…¾çš„äººæä¾›ä¸€äº›å€Ÿé‰´ã€‚","text":"Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§çš„å¼€æºåšå®¢æ¡†æ¶-ã€‹å®˜ç½‘GitHub Pages æ˜¯ä¸€ä¸ªä¸å—é™çš„ç½‘ç«™ç©ºé—´ã€‚ä¸¤è€…ç›¸å¾—ç›Šå½°ã€‚ç»™é‚£äº›å–œæ¬¢è‡ªå·±æŠ˜è…¾çš„äººæä¾›ä¸€äº›å€Ÿé‰´ã€‚ æ­å»ºè¿‡ç¨‹ç¯å¢ƒä»‹ç»åšä¸»ä½¿ç”¨ç³»ç»Ÿï¼šDeepin Linux 15.3æ¡Œé¢ç‰ˆå®‰è£… nodeä¸npm å®‰è£…Hexonpm install hexo-cli -g åˆå§‹åŒ–bloghexo init blog è‡³æ­¤ï¼Œæœ¬åœ°blogå·²ç»åˆ›å»ºå®Œæˆï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œç®€å•åˆ°æ²¡æœ‹å‹ é€‰æ‹©ä¸»é¢˜å¯ä»¥åœ¨hexoå®˜ç½‘æŸ¥çœ‹è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜é€šè¿‡git clone [url] themes&#x2F;xxx å°†ä¸»é¢˜å…‹éš†åˆ°æœ¬åœ°ï¼Œä¿®æ”¹ _config.yml ä¸­çš„themeï¼šxxx å¸¸ç”¨å‘½ä»¤#åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ç«  $ hexo new &quot;æ–‡ç« å&quot; #ç”Ÿæˆé™æ€æ–‡ä»¶ $ hexo generate #å°†ä¸€ä¸ªè‰ç¨¿å‘å¸ƒå‡ºå» $ hexo publish [layout] &lt;filename&gt; #å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ $ hexo server æ›´å¤šå‘½ä»¤ç§»æ­¥å®˜æ–¹æ–‡æ¡£ æ­å»ºgithub pagesæœ¬åœ°blogå·²ç»æ­å»ºå®Œæˆï¼Œç°åœ¨å¯ä»¥å‘å¸ƒåˆ°github pagesä¸Š æ³¨å†Œgithubè´¦æˆ·åˆ°githubå®˜ç½‘æ³¨å†Œä¸€ä¸ªgithubè´¦æˆ· é…ç½®ç™»å½•å…å¯†ç ç§»æ­¥ Gitä¹‹SSHä¸HTTPSå…å¯†ç é…ç½® åˆ›å»ºgithubè¿œç¨‹ä»“åº“åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ xxx.github.io xxxä¸ºè‡ªå·±çš„githubç”¨æˆ·å å®‰è£…æ’ä»¶$ npm install hexo-deployer-git --save é…ç½®Hexoä¿®æ”¹ _comfig.yml,xxxä¸ºä½ çš„ç”¨æˆ·å deploy: type: git repo: git@github.com:xxx/xxx.github.io.git branch: master æ¨é€æœåŠ¡å™¨$ hexo deploy è‹¥å‡ºç°ERROR Deployer not found: gitæŠ¥é”™ï¼Œè¯·æ‰§è¡Œä¸Šé¢å®‰è£…æ’ä»¶æ­¥éª¤ æµ‹è¯•æ‰“å¼€ xxx.github.io ï¼Œå°±èƒ½çœ‹åˆ°ä½ çš„blogäº†","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"},{"name":"GitHub","slug":"GitHub","permalink":"http://yelog.org/tags/GitHub/"}]},{"title":"æ­å»ºGitæœåŠ¡å™¨","slug":"set-up-git-server-on-vps","date":"2016-10-22T12:08:04.000Z","updated":"2024-07-05T11:10:22.607Z","comments":true,"path":"2016/10/22/set-up-git-server-on-vps/","permalink":"http://yelog.org/2016/10/22/set-up-git-server-on-vps/","excerpt":"æœ€è¿‘ç”±äºå‡†å¤‡åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸Šé¢æ­å»ºé™æ€åšå®¢ï¼ˆHexoï¼‰ï¼Œç„¶åéœ€è¦å…ˆæ­å»ºä¸€ä¸ªgitæœåŠ¡å™¨ä½œä¸ºè½¬æ¥ï¼Œæ•´ä¸ªè¿‡ç¨‹çœ‹ä¼¼é¡ºåˆ©ï¼Œåå‡ åˆ†é’Ÿå°±æ­å»ºå®Œæˆï¼Œä¸è¿‡æœ€ååœ¨éªŒè¯è¿™å—å¡äº†ä¸¤ä¸ªå°æ—¶ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ï¼Œä¾›å‡†å¤‡æ­å»ºgitæœåŠ¡å™¨çš„æ–°æ‰‹å°ä¼™ä¼´ä»¬å€Ÿé‰´ã€‚","text":"æœ€è¿‘ç”±äºå‡†å¤‡åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸Šé¢æ­å»ºé™æ€åšå®¢ï¼ˆHexoï¼‰ï¼Œç„¶åéœ€è¦å…ˆæ­å»ºä¸€ä¸ªgitæœåŠ¡å™¨ä½œä¸ºè½¬æ¥ï¼Œæ•´ä¸ªè¿‡ç¨‹çœ‹ä¼¼é¡ºåˆ©ï¼Œåå‡ åˆ†é’Ÿå°±æ­å»ºå®Œæˆï¼Œä¸è¿‡æœ€ååœ¨éªŒè¯è¿™å—å¡äº†ä¸¤ä¸ªå°æ—¶ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ï¼Œä¾›å‡†å¤‡æ­å»ºgitæœåŠ¡å™¨çš„æ–°æ‰‹å°ä¼™ä¼´ä»¬å€Ÿé‰´ã€‚ æ­å»ºgitæœåŠ¡å™¨é€šè¿‡sshé“¾æ¥åˆ°æœåŠ¡å™¨ï¼Œå¼€å§‹è¿›è¡Œæ“ä½œ ç¬¬ä¸€æ­¥åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… git $ sudo apt-get install git ç¬¬äºŒæ­¥åˆ›å»º git ç”¨æˆ·ï¼Œç”¨æ¥è¿è¡ŒgitæœåŠ¡ $ sudo adduser git ç¬¬ä¸‰æ­¥åˆ›å»ºè¯ä¹¦ï¼Œå…å¯†ç ç™»å½•ï¼šæ”¶é›†æ‰€æœ‰éœ€è¦ç™»å½•çš„ç”¨æˆ·çš„å…¬é’¥ï¼ˆid_rsa.pubï¼‰æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰å…¬é’¥å¯¼å…¥åˆ° /home/git/.ssh/authorized_keys æ–‡ä»¶å†…ï¼Œä¸€è¡Œä¸€ä¸ªã€‚å¦‚æœä¸ªäººçš„gitä¸­çš„å…¬é’¥å·²ç»è¿æ¥äº†å…¶ä»–æœåŠ¡å™¨å¦‚ï¼šgithubï¼Œå¯ä»¥å‚è€ƒ ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªgithubè´¦å· æ³¨æ„ï¼šä¸€å®šè¦é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å°†è¯¥æ–‡ä»¶å…¶ä»–ç”¨æˆ·çš„æ‰€æœ‰æƒé™ç§»é™¤ï¼Œå¦åˆ™ä¼šå‡ºç°æ–‡ç« å°¾éƒ¨é—®é¢˜ $ chmod 600 authorized_keys ç¬¬å››æ­¥åˆå§‹åŒ–gitä»“åº“ $ git init --bare test.git gitåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼Œè£¸ä»“åº“æ²¡æœ‰å·¥ä½œåŒºï¼Œå› ä¸ºæœåŠ¡å™¨ä¸Šçš„gitä»“åº“çº¯ç²¹ä¸ºäº†å…±äº«ï¼Œæ‰€æœ‰ä¸èƒ½è®©ç”¨æˆ·ç›´æ¥ç™»å½•åˆ°æœåŠ¡å™¨ä¸Šå»æ”¹å·¥ä½œåŒºï¼Œå¹¶ä¸”æœåŠ¡å™¨çš„gitä»“åº“é€šå¸¸ä»¥ .git ç»“å°¾ã€‚ç„¶åï¼Œä¿®æ”¹owneræ”¹ä¸ºgitï¼š $ sudo chown -R git:git test.git ç¬¬äº”æ­¥ç¦ç”¨shellç™»å½•ï¼šå¤„äºå®‰å…¨çš„è€ƒè™‘ï¼Œç¬¬äºŒæ­¥åˆ›å»ºçš„gitç”¨æˆ·ä¸å…è®¸ç™»å½•shellï¼Œè¿™å¯ä»¥é€šè¿‡ç¼–è¾‘ /etc/passwd æ–‡ä»¶å®Œæˆã€‚ git:x:1003:1003::/home/git:/bin/bash æ”¹ä¸º git:x:1003:1003::/home/git:/usr/bin/git-shell è¿™æ ·ï¼Œgitç”¨æˆ·å¯ä»¥æ­£å¸¸é€šè¿‡sshä½¿ç”¨gitï¼Œä½†æ— æ³•ç™»å½•shellï¼Œå› ä¸ºæˆ‘ä»¬ä¸ºgitç”¨æˆ·æŒ‡å®šçš„git-shellæ¯æ¬¡ä¸€ç™»å½•å°±è‡ªåŠ¨é€€å‡ºã€‚ ç¬¬å…­æ­¥å…‹éš†è¿œç¨‹ä»“åº“ï¼šç°åœ¨ï¼Œå¯ä»¥é€šè¿‡git cloneå‘½ä»¤å…‹éš†è¿œç¨‹ä»“åº“äº†ï¼Œåœ¨å„è‡ªçš„ç”µè„‘ä¸Šè¿è¡Œï¼š $ git clone git@server:/home/git/test.git å¦‚æœæœåŠ¡å™¨çš„sshç«¯å£ä¸æ˜¯é»˜è®¤çš„22çš„è¯ï¼Œæ¯”å¦‚è¯´6789ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š $ git clone ssh://git@server:6789/home/git/test.git é—®é¢˜æ¥äº†æœ¬æ¥æ ¹æ®æ–‡æ¡£ï¼Œæ ¹æ®å¹¿å¤§çŒ¿å‹çš„ç»éªŒï¼Œæˆ‘çš„æ­å»ºä¹‹è·¯å·²ç»å®Œæˆäº†ï¼Œç„¶åæœ€åä¸€æ­¥å‡ºç°äº†é—®é¢˜ã€‚æ¯æ¬¡è·ŸæœåŠ¡å™¨è¿›è¡Œäº¤äº’(clone,pull,push)ï¼Œéƒ½è®©æˆ‘è¾“å…¥gitçš„å¯†ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘é…ç½®çš„sshæ²¡æœ‰ç”Ÿæ•ˆã€‚ç„¶åå°±å¼€å§‹åˆ°å¤„æ‰¾åŸå› ï¼Œé‡æ–°ç”Ÿæˆrsaï¼Œæå‡authorized_keysæƒé™ï¼Œé‡æ–°åˆ›å»ºæœåŠ¡å™¨gitè´¦æˆ·ï¼Œé‡æ–°ã€‚ã€‚ã€‚ã€‚ã€‚ ç¿»éäº† Stack Overflow å’Œ segmentfault ,ä¸¤ä¸ªå°æ—¶è¿‡å»äº†ï¼Œé—®é¢˜ä»ç„¶æ²¡æœ‰è¿›å±•ï¼Œè¿™ä¹ˆç®€å•çš„ä¸œè¥¿ï¼Œé—®é¢˜åˆ°åº•å‡ºåœ¨å“ªé‡Œã€‚ å°±åœ¨å¿ƒç°æ„å†·ï¼Œå‡†å¤‡æ”¾å¼ƒçš„æ—¶å€™ï¼Œä¸çŸ¥é“æ˜¯å“ªé‡Œæ¥çš„çµæ„Ÿï¼Œå‡†å¤‡æŠŠ authorized_keys æ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·çš„æƒé™åˆ æ‰ï¼Œç„¶åå°±èƒ½ç”¨äº†ï¼Œåå°±èƒ½ç”¨äº†ï¼Œå°±èƒ½ç”¨äº†ï¼Œèƒ½ç”¨äº†ï¼Œç”¨äº†ï¼Œäº†ï½ï½ï½ï½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼Œä¸æƒ³å¤šè¯´è¯ï¼Œæˆ‘æƒ³é™é™ã€‚ $ chmod 600 authorized_keys","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"å¦‚ä½•ç»™GitHubä¸Šçš„é¡¹ç›®è´¡çŒ®ä»£ç ","slug":"contributing-to-open-source-on-github","date":"2016-10-13T07:44:07.000Z","updated":"2024-07-05T11:10:22.622Z","comments":true,"path":"2016/10/13/contributing-to-open-source-on-github/","permalink":"http://yelog.org/2016/10/13/contributing-to-open-source-on-github/","excerpt":"æœ€è¿‘ä¸€ç›´åœ¨ä½¿ç”¨ hexo çš„ä¸€æ¬¾ä¸»é¢˜ yelee ï¼Œä½†æ˜¯å‘ç°å®ƒçš„ä»£ç å—ç”±äºç©ºè¡Œä¸å ä½å¯¼è‡´çš„æ˜¾ç¤ºé”™ä½ï¼Œæ‰€ä»¥å°±å»GitHubä¸Šç¿»issueï¼Œæœç„¶æœ‰å¥½å¤šäººéƒ½åœ¨åæ˜ è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”ä½œè€…å·²ç»æ‰“ä¸Šbugæ ‡ç­¾ï¼Œäº‹æƒ…åº”è¯¥å°±é©¬ä¸Šç»“æŸäº†ï¼Œå°±å»å¿™åˆ«çš„äº†ã€‚è¿™ä¸¤å¤©åˆå»é€›äº†ä¸€ä¸‹issueï¼Œå‘ç°è¿™ä¸ªbugä»ç„¶å±¹ç«‹åœ¨é‚£é‡Œï¼Œå¼ºè¿«ç—‡åˆçŠ¯äº†ï¼Œè¶ç€ä»Šå¤©å·¥ä½œä¸æ€ä¹ˆå¿™ï¼Œå°±æŠŠè¿™ä¸ªbugè§£å†³äº†ã€‚ç„¶åé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆæ‰èƒ½ç»™ä½œè€…è´¡çŒ®ä»£ç å‘¢ã€‚","text":"æœ€è¿‘ä¸€ç›´åœ¨ä½¿ç”¨ hexo çš„ä¸€æ¬¾ä¸»é¢˜ yelee ï¼Œä½†æ˜¯å‘ç°å®ƒçš„ä»£ç å—ç”±äºç©ºè¡Œä¸å ä½å¯¼è‡´çš„æ˜¾ç¤ºé”™ä½ï¼Œæ‰€ä»¥å°±å»GitHubä¸Šç¿»issueï¼Œæœç„¶æœ‰å¥½å¤šäººéƒ½åœ¨åæ˜ è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”ä½œè€…å·²ç»æ‰“ä¸Šbugæ ‡ç­¾ï¼Œäº‹æƒ…åº”è¯¥å°±é©¬ä¸Šç»“æŸäº†ï¼Œå°±å»å¿™åˆ«çš„äº†ã€‚è¿™ä¸¤å¤©åˆå»é€›äº†ä¸€ä¸‹issueï¼Œå‘ç°è¿™ä¸ªbugä»ç„¶å±¹ç«‹åœ¨é‚£é‡Œï¼Œå¼ºè¿«ç—‡åˆçŠ¯äº†ï¼Œè¶ç€ä»Šå¤©å·¥ä½œä¸æ€ä¹ˆå¿™ï¼Œå°±æŠŠè¿™ä¸ªbugè§£å†³äº†ã€‚ç„¶åé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆæ‰èƒ½ç»™ä½œè€…è´¡çŒ®ä»£ç å‘¢ã€‚ å‡†å¤‡å·¥ä½œ é¦–å…ˆé€šè¿‡ git clone å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼ˆæˆ‘æ—©å·²æ‹‰ä¸‹æ¥ï¼Œè·³è¿‡æ­¤æ­¥éª¤ï¼‰ git pull æ‹‰å–æœ€æ–°ä»£ç ï¼ˆå°†æ‰€æœ‰çš„changeéƒ½åŒæ­¥åˆ°æœ¬åœ°ï¼‰ å°† åŸé¡¹ç›® fork åˆ° è‡ªå·±çš„githubä¸Š,å¹¶å¤åˆ¶ä»£ç url åœ¨æœ¬åœ°æ·»åŠ ç¬¬äºŒä¸ªä»“åº“åœ°å€ï¼šgit remote add [nickname] [your url] ä¿®æ”¹ ä¿®æ”¹bug æˆ– æ–°å¢åŠŸèƒ½ git commit [file1] [file2] ... -m [message] æœ¬åœ°æäº¤ä»£ç  åŒæ­¥åˆ°githubä¸­å¹¶å‘åˆ°åŸé¡¹ç›® git push [nickname] å°†ä»£ç  push åˆ°è‡ªå·±çš„é¡¹ç›®é‡Œï¼Œnicknameå°±æ˜¯æ·»åŠ çš„ç¬¬äºŒä¸ªä»“åº“çš„åå­— è‡ªå·±é¡¹ç›®å†…ï¼Œç‚¹å‡» pull requests -ã€‹ new pull request å°†æœ¬æ¬¡ä¿®æ”¹æäº¤åˆ°åŸé¡¹ç›®è¿›è¡ŒåŒæ­¥ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"},{"name":"GitHub","slug":"GitHub","permalink":"http://yelog.org/tags/GitHub/"}]},{"title":"PostgreSQLå¸¸ç”¨æ“ä½œ","slug":"PostgreSQLå¸¸ç”¨æ“ä½œ","date":"2016-10-12T12:27:07.000Z","updated":"2024-07-05T11:10:22.304Z","comments":true,"path":"2016/10/12/PostgreSQL-2/","permalink":"http://yelog.org/2016/10/12/PostgreSQL-2/","excerpt":"æ§åˆ¶å°å‘½ä»¤\\h: #æŸ¥çœ‹SQLå‘½ä»¤çš„è§£é‡Šï¼Œæ¯”å¦‚\\h selectã€‚ \\?: #æŸ¥çœ‹psqlå‘½ä»¤åˆ—è¡¨ã€‚ \\l: #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ã€‚ \\c [database_name]: #è¿æ¥å…¶ä»–æ•°æ®åº“ã€‚ \\d: #åˆ—å‡ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨æ ¼ã€‚ \\d [table_name]: #åˆ—å‡ºæŸä¸€å¼ è¡¨æ ¼çš„ç»“æ„ã€‚ \\du: #åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·ã€‚ \\e: #æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ \\conninfo: #åˆ—å‡ºå½“å‰æ•°æ®åº“å’Œè¿æ¥çš„ä¿¡æ¯ã€‚","text":"æ§åˆ¶å°å‘½ä»¤\\h: #æŸ¥çœ‹SQLå‘½ä»¤çš„è§£é‡Šï¼Œæ¯”å¦‚\\h selectã€‚ \\?: #æŸ¥çœ‹psqlå‘½ä»¤åˆ—è¡¨ã€‚ \\l: #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ã€‚ \\c [database_name]: #è¿æ¥å…¶ä»–æ•°æ®åº“ã€‚ \\d: #åˆ—å‡ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨æ ¼ã€‚ \\d [table_name]: #åˆ—å‡ºæŸä¸€å¼ è¡¨æ ¼çš„ç»“æ„ã€‚ \\du: #åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·ã€‚ \\e: #æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ \\conninfo: #åˆ—å‡ºå½“å‰æ•°æ®åº“å’Œè¿æ¥çš„ä¿¡æ¯ã€‚ æ•°æ®åº“æ“ä½œåŸºæœ¬çš„æ•°æ®åº“æ“ä½œï¼Œå°±æ˜¯ä½¿ç”¨ä¸€èˆ¬çš„SQLè¯­è¨€ # åˆ›å»ºæ–°è¡¨ CREATE TABLE user_tbl(name VARCHAR(20), signup_date DATE); # æ’å…¥æ•°æ® INSERT INTO user_tbl(name, signup_date) VALUES(&#39;å¼ ä¸‰&#39;, &#39;2013-12-22&#39;); # é€‰æ‹©è®°å½• SELECT * FROM user_tbl; # æ›´æ–°æ•°æ® UPDATE user_tbl set name = &#39;æå››&#39; WHERE name = &#39;å¼ ä¸‰&#39;; # åˆ é™¤è®°å½• DELETE FROM user_tbl WHERE name = &#39;æå››&#39; ; # æ·»åŠ æ ä½ ALTER TABLE user_tbl ADD email VARCHAR(40); # æ›´æ–°ç»“æ„ ALTER TABLE user_tbl ALTER COLUMN signup_date SET NOT NULL; # æ›´åæ ä½ ALTER TABLE user_tbl RENAME COLUMN signup_date TO signup; # åˆ é™¤æ ä½ ALTER TABLE user_tbl DROP COLUMN email; # è¡¨æ ¼æ›´å ALTER TABLE user_tbl RENAME TO backup_tbl; # åˆ é™¤è¡¨æ ¼ DROP TABLE IF EXISTS backup_tbl;","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yelog.org/tags/PostgreSQL/"}]},{"title":"PostgreSQLåˆä½“éªŒ","slug":"PostgreSQLåˆä½“éªŒ","date":"2016-10-12T11:49:40.000Z","updated":"2024-07-05T11:10:22.318Z","comments":true,"path":"2016/10/12/PostgreSQL-1/","permalink":"http://yelog.org/2016/10/12/PostgreSQL-1/","excerpt":"åˆ›å»ºæ“ä½œç³»ç»Ÿç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ–°çš„Linuxç”¨æˆ·ï¼šdbuser $sudo adduser dbuser #åˆ›å»ºä¸€ä¸ªæ–°çš„Linuxç”¨æˆ·ï¼šdbuser","text":"åˆ›å»ºæ“ä½œç³»ç»Ÿç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ–°çš„Linuxç”¨æˆ·ï¼šdbuser $sudo adduser dbuser #åˆ›å»ºä¸€ä¸ªæ–°çš„Linuxç”¨æˆ·ï¼šdbuser ç™»å½•PostgreSQLæ§åˆ¶å°åˆ‡æ¢åˆ°postgresç”¨æˆ· $sudo su - postgres #åˆ‡æ¢åˆ°postgresç”¨æˆ· ç³»ç»Ÿç”¨æˆ·postgresä»¥åŒåæ•°æ®åº“ç”¨æˆ·çš„èº«ä»½ï¼Œç™»å½•æ•°æ®åº“ $psql #ç³»ç»Ÿç”¨æˆ·postgresä»¥åŒåæ•°æ®åº“ç”¨æˆ·çš„èº«ä»½ï¼Œç™»å½•æ•°æ®åº“ æˆåŠŸç™»å½•åˆ°æ§åˆ¶å°åï¼Œæ˜¾ç¤º postgres=# æ³¨æ„ï¼šåé¢åˆ†å·ä¸èƒ½çœç•¥ \\password postgres #ç»™postgresç”¨æˆ·è®¾ç½®å¯†ç  åˆ›å»ºæ•°æ®åº“ç”¨æˆ·dbuser CREATE USER dbuser WITH PASSWORD &#39;dbuser&#39;; #åˆ›å»ºæ•°æ®åº“ç”¨æˆ·dbuser åˆ›å»ºç”¨æˆ·æ•°æ®åº“ï¼Œè¿™é‡Œä¸ºexampledbï¼Œå¹¶æŒ‡å®šæ‰€æœ‰è€…ä¸ºdbuserã€‚ CREATE DATABASE exampledb OWNER dbuser; #åˆ›å»ºç”¨æˆ·æ•°æ®åº“ï¼Œè¿™é‡Œä¸ºexampledbï¼Œå¹¶æŒ‡å®šæ‰€æœ‰è€…ä¸ºdbuserã€‚ å°†exampledbæ•°æ®åº“çš„æ‰€æœ‰æƒé™éƒ½èµ‹äºˆdbuser GRANT ALL PRIVILEGES ON DATABASE exampledb to dbuser; #å°†exampledbæ•°æ®åº“çš„æ‰€æœ‰æƒé™éƒ½èµ‹äºˆdbuser æ¨å‡ºæ§åˆ¶å°ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥æŒ‰ctrl+Dï¼‰ \\q #é€€å‡ºæ§åˆ¶å°","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yelog.org/tags/PostgreSQL/"}]},{"title":"PostgreSQLçš„ä»‹ç»ä¸å®‰è£…","slug":"PostgreSQLçš„å®‰è£…","date":"2016-10-12T07:44:16.000Z","updated":"2024-07-05T11:10:22.309Z","comments":true,"path":"2016/10/12/PostgreSQL-3/","permalink":"http://yelog.org/2016/10/12/PostgreSQL-3/","excerpt":"ç”±äºå·¥ä½œè®¤è¯†äº†PostgreSQLï¼Œåœ¨æ­¤ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹è¿™ä¸ªæ•°æ®åº“ï¼Œæœ¬æ–‡é™¤åšä¸»å®è·µæ‰€å¾—ä»¥å¤–ï¼Œå¤§é‡è¯‘äº å®˜æ–¹æ–‡æ¡£ PostgreSQLæ˜¯ä»€ä¹ˆ PostgreSQL æ˜¯ä¸€ä¸ªåŸºäº POSTGRES, Version 4.2 çš„å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿï¼ˆORDBMSï¼‰ï¼Œç”±åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡è®¡ç®—æœºç§‘å­¦ç³»å¼€å‘ã€‚PostgreSQL æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“ï¼Œå› ä¸ºè‡ªç”±è®¸å¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥å…è´¹çš„ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘ PostgreSQL æ•°æ®åº“ç”¨äºä»»ä½•ç›®çš„ã€‚","text":"ç”±äºå·¥ä½œè®¤è¯†äº†PostgreSQLï¼Œåœ¨æ­¤ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹è¿™ä¸ªæ•°æ®åº“ï¼Œæœ¬æ–‡é™¤åšä¸»å®è·µæ‰€å¾—ä»¥å¤–ï¼Œå¤§é‡è¯‘äº å®˜æ–¹æ–‡æ¡£ PostgreSQLæ˜¯ä»€ä¹ˆ PostgreSQL æ˜¯ä¸€ä¸ªåŸºäº POSTGRES, Version 4.2 çš„å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿï¼ˆORDBMSï¼‰ï¼Œç”±åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡è®¡ç®—æœºç§‘å­¦ç³»å¼€å‘ã€‚PostgreSQL æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“ï¼Œå› ä¸ºè‡ªç”±è®¸å¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥å…è´¹çš„ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘ PostgreSQL æ•°æ®åº“ç”¨äºä»»ä½•ç›®çš„ã€‚ å®ƒæ”¯æŒå¤§éƒ¨åˆ†çš„SQLæ ‡å‡†å¹¶æä¾›äº†è®¸å¤šæµè¡Œçš„åŠŸèƒ½ï¼š å¤æ‚æŸ¥è¯¢ï¼ˆcomplex queriesï¼‰ å¤–é”®ï¼ˆforeign keysï¼‰ è§¦å‘å™¨ï¼ˆtriggersï¼‰ å¯æ›´æ–°çš„è§†å›¾ï¼ˆupdatable viewsï¼‰ äº‹åŠ¡å®Œæ•´æ€§ï¼ˆtransactional integrityï¼‰ å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆmultiversion concurrency controlï¼‰ ç”¨æˆ·ä¹Ÿå¯ä»¥ç»™PostgreSQLæ‰©å±•å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚ï¼š æ•°æ®ç±»å‹ï¼ˆdata typesï¼‰ å‡½æ•°ï¼ˆfunctionsï¼‰ è¿ç®—ç¬¦ï¼ˆoperatorsï¼‰ èšåˆå‡½æ•°ï¼ˆaggregate functionsï¼‰ ç´¢å¼•æ–¹æ³•ï¼ˆindex methodsï¼‰ å®‰è£…åšä¸»å¼€å‘ç¯å¢ƒï¼š ç³»ç»Ÿ ï¼šæ·±åº¦Linux 15.3 æ¡Œé¢ç‰ˆ PostgreSQL ï¼š9.4 é€šè¿‡apt-getå®‰è£…$ apt-get install postgresql-9.4 ä»“åº“æœ‰è®¸å¤šä¸åŒçš„åŒ…ï¼ˆåŒ…æ‹¬ç¬¬ä¸‰æ–¹æ’ä»¶ï¼‰ï¼Œæœ€å¸¸è§ã€æœ€é‡è¦çš„åŒ…ï¼ˆæ ¹æ®éœ€è¦æ›¿æ¢ç‰ˆæœ¬å·ï¼‰ï¼š postgresql-client-9.4 - å®¢æˆ·ç«¯åº“å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ postgresql-9.4 - æ ¸å¿ƒæ•°æ®åº“æœåŠ¡å™¨ postgresql-contrib-9.4 - æä¾›é¢å¤–çš„æ¨¡å— libpq-dev - Cè¯­è¨€å‰ç«¯å¼€å‘åº“å’Œå¤´æ–‡ä»¶ postgresql-server-dev-9.4 - Cè¯­è¨€åç«¯å¼€å‘åº“å’Œå¤´æ–‡ä»¶ pgadmin3 - pgAdmin III å›¾å½¢åŒ–ç®¡ç†å·¥å…·","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yelog.org/tags/PostgreSQL/"}]},{"title":"FreeMarkerè¯­æ³•è¯¦è§£","slug":"freemarkerè¯­æ³•è¯¦è§£","date":"2016-10-05T03:58:50.000Z","updated":"2024-07-05T11:10:22.416Z","comments":true,"path":"2016/10/05/FreeMarker/","permalink":"http://yelog.org/2016/10/05/FreeMarker/","excerpt":"FreeMarkeræ˜¯ä¸€æ¬¾ æ¨¡æ¿å¼•æ“ :å³ä¸€ç§åŸºäºæ¨¡æ¿å’Œè¦æ”¹å˜çš„æ•°æ®ï¼Œå¹¶ç”¨æ¥ç”Ÿæˆè¾“å‡ºæ–‡æœ¬ï¼ˆHTMLç½‘é¡µã€ç”µå­é‚®ä»¶ã€é…ç½®æ–‡ä»¶ã€æºä»£ç ç­‰ï¼‰çš„é€šç”¨å·¥å…·ã€‚FreeMarkeræ¨¡æ¿æ–‡ä»¶ä¸»è¦æœ‰4éƒ¨åˆ†ç»„æˆ æ–‡æœ¬ï¼Œç›´æ¥è¾“å‡ºçš„éƒ¨åˆ† æ³¨é‡Šï¼Œå³&lt;#â€“â€¦â€“&gt;æ ¼å¼ä¸ä¼šè¾“å‡º æ’å€¼ï¼ˆInterpolationï¼‰ï¼šå³${..}æˆ–è€…#{..}æ ¼å¼çš„éƒ¨åˆ†,å°†ä½¿ç”¨æ•°æ®æ¨¡å‹ä¸­çš„éƒ¨åˆ†æ›¿ä»£è¾“å‡º FTLæŒ‡ä»¤ï¼šFreeMarkeræŒ‡ä»¤ï¼Œå’ŒHTMLæ ‡è®°ç±»ä¼¼ï¼Œåå­—å‰åŠ #äºˆä»¥åŒºåˆ†ï¼Œä¸ä¼šè¾“å‡ºã€‚","text":"FreeMarkeræ˜¯ä¸€æ¬¾ æ¨¡æ¿å¼•æ“ :å³ä¸€ç§åŸºäºæ¨¡æ¿å’Œè¦æ”¹å˜çš„æ•°æ®ï¼Œå¹¶ç”¨æ¥ç”Ÿæˆè¾“å‡ºæ–‡æœ¬ï¼ˆHTMLç½‘é¡µã€ç”µå­é‚®ä»¶ã€é…ç½®æ–‡ä»¶ã€æºä»£ç ç­‰ï¼‰çš„é€šç”¨å·¥å…·ã€‚FreeMarkeræ¨¡æ¿æ–‡ä»¶ä¸»è¦æœ‰4éƒ¨åˆ†ç»„æˆ æ–‡æœ¬ï¼Œç›´æ¥è¾“å‡ºçš„éƒ¨åˆ† æ³¨é‡Šï¼Œå³&lt;#â€“â€¦â€“&gt;æ ¼å¼ä¸ä¼šè¾“å‡º æ’å€¼ï¼ˆInterpolationï¼‰ï¼šå³${..}æˆ–è€…#{..}æ ¼å¼çš„éƒ¨åˆ†,å°†ä½¿ç”¨æ•°æ®æ¨¡å‹ä¸­çš„éƒ¨åˆ†æ›¿ä»£è¾“å‡º FTLæŒ‡ä»¤ï¼šFreeMarkeræŒ‡ä»¤ï¼Œå’ŒHTMLæ ‡è®°ç±»ä¼¼ï¼Œåå­—å‰åŠ #äºˆä»¥åŒºåˆ†ï¼Œä¸ä¼šè¾“å‡ºã€‚ ä¸€äº›è§„åˆ™FTLæŒ‡ä»¤è§„åˆ™FreeMarkeræœ‰ä¸‰ç§FTLæ ‡ç­¾ï¼Œè¿™å’ŒHTMLçš„æ ‡ç­¾æ˜¯å®Œå…¨ç±»ä¼¼çš„ å¼€å§‹æ ‡ç­¾ï¼š&lt;#directivename parameters&gt; ç»“æŸæ ‡ç­¾ï¼š&lt;&#x2F;#directivename&gt; ç©ºæ ‡ç­¾ï¼š &lt;#directivename parameters &#x2F;&gt; å®é™…ä¸Šï¼Œä½¿ç”¨æ ‡ç­¾æ—¶å‰é¢çš„#ç¬¦å·ä¹Ÿå¯èƒ½å˜æˆ@ï¼Œå¦‚æœè¯¥æŒ‡ä»¤æ˜¯ä¸€ä¸ªç”¨æˆ·æŒ‡ä»¤è€Œä¸æ˜¯ç³»ç»Ÿå†…å»ºæŒ‡ä»¤æ—¶ï¼Œåº”å°†#ç¬¦å·æ”¹ä¸º@ç¬¦å· æ’å€¼è§„åˆ™FreeMarkerçš„æ’å€¼æœ‰å¦‚ä¸‹ä¸¤ç§ç±»å‹ 1ã€é€šç”¨æ’å€¼ï¼š${expr} 2ã€æ•°å­—æ ¼å¼åŒ–æ’å€¼ï¼š#{expr}æˆ–è€…#{expr;format}é€šç”¨æ’å€¼ï¼Œæœ‰å¯ä»¥åˆ†ä¸ºå››ç§æƒ…å†µ aã€æ’å€¼ç»“æœä¸ºå­—ç¬¦ä¸²å€¼ï¼šç›´æ¥è¾“å‡ºè¡¨è¾¾å¼ç»“æœ bã€æ’å€¼ç»“æœä¸ºæ•°å­—å€¼ï¼šæ ¹æ®é»˜è®¤æ ¼å¼(#setting æŒ‡ä»¤è®¾ç½®)å°†è¡¨è¾¾å¼ç»“æœè½¬æ¢æˆæ–‡æœ¬è¾“å‡ºã€‚å¯ä»¥ä½¿ç”¨å†…å»ºçš„å­—ç¬¦ä¸²å‡½æ•°æ ¼å¼å•ä¸ªæ’å€¼ï¼Œä¾‹å¦‚ &lt;#setting number_format = &quot;currency&quot; /&gt; &lt;#assign str = 42 /&gt; $&#123;str&#125; $&#123;str?string&#125; $&#123;str?string.number&#125; $&#123;str?string.currency&#125; $&#123;str?string.percent&#125; $&#123;str?string.computer&#125; æ—¥æœŸå¤„ç† $&#123;openingTime?string.short&#125; $&#123;openingTime?string.medium&#125; $&#123;openingTime?string.long&#125; $&#123;openingTime?string.full&#125; $&#123;nextDiscountDay?string.short&#125; $&#123;nextDiscountDay?string.medium&#125; $&#123;nextDiscountDay?string.long&#125; $&#123;nextDiscountDay?string.full&#125; $&#123;lastUpdated?string.short&#125; $&#123;lastUpdated?string.medium&#125; $&#123;lastUpdated?string.long&#125; $&#123;lastUpdated?string.full&#125; $&#123;lastUpdated?string(&quot;yyyy-MM-dd HH:mm:ss zzzz&quot;)&#125; $&#123;lastUpdated?string(&quot;EEE, MMM d, &#39;&#39;yy&quot;)&#125; $&#123;lastUpdated?string(&quot;EEEE, MMMM dd, yyyy, hh:mm:ss a &#39;(&#39;zzz&#39;)&#39;&quot;)&#125; if,elseif,elseif&lt;#if condition&gt; â€¦â€¦ &lt;#elseif condition2&gt; â€¦â€¦ &lt;#else&gt; â€¦â€¦ &lt;/#if&gt; switch,case&lt;#switch value&gt; &lt;#case refValue1&gt; ... &lt;#break&gt; &lt;#case refValue2&gt; ... &lt;#break&gt; ... &lt;#case refValueN&gt; ... &lt;#break&gt; &lt;#default&gt; ... &lt;/#switch&gt; &lt;#t&gt; å»æ‰å·¦å³ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#lt&gt;å»æ‰å·¦è¾¹ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#rt&gt;å»æ‰å³è¾¹ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#nt&gt;å–æ¶ˆä¸Šé¢çš„æ•ˆæœ list&lt;#list sequence as item&gt; ... &lt;#if item = &quot;spring&quot;&gt; &lt;#break&gt; &lt;/#if&gt; ... &lt;/#list&gt; iterm_index:å½“å‰å€¼å¾—ä¸‹æ ‡ï¼Œä»0å¼€å§‹item_has_next:åˆ¤æ–­listæ˜¯å¦è¿˜æœ‰å€¼ include&lt;#include filename [options]&gt; options åŒ…å«ä¸¤ä¸ªå±æ€§encoding&#x3D;â€GBKâ€parse&#x3D;â€trueâ€ æ˜¯å¦ä½œä¸ºftlè¯­æ³•è§£æï¼Œé»˜è®¤æ˜¯trueç¤ºä¾‹ï¼š&lt;#include â€œ&#x2F;common&#x2F;copyright.ftlâ€ encoding&#x3D;â€GBKâ€ parse&#x3D;â€trueâ€&gt; import&lt;#import path as hash&gt; ç±»ä¼¼äºjavaé‡Œçš„import,å®ƒå¯¼å…¥æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥åœ¨å½“å‰æ–‡ä»¶é‡Œä½¿ç”¨è¢«å¯¼å…¥æ–‡ä»¶é‡Œçš„å®ç»„ä»¶ compress&lt;#compress&gt; ... &lt;/#compress&gt; escape, noescape&lt;#escape identifier as expression&gt; ... &lt;#noescape&gt;...&lt;/#noescape&gt; ... &lt;/#escape&gt; ä¸»è¦ä½¿ç”¨åœ¨ç›¸ä¼¼çš„å­—ç¬¦ä¸²å˜é‡è¾“å‡ºï¼Œæ¯”å¦‚æŸä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å­—ç¬¦ä¸²è¾“å‡ºéƒ½å¿…é¡»æ˜¯htmlå®‰å…¨çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨è¯¥è¡¨è¾¾å¼ç¤ºä¾‹ï¼š &lt;#escape x as x?html&gt; First name: $&#123;firstName&#125; &lt;#noescape&gt;Last name: $&#123;lastName&#125;&lt;/#noescape&gt; Maiden name: $&#123;maidenName&#125; &lt;/#escape&gt; ç›¸åŒè¡¨è¾¾å¼ First name: $&#123;firstName?html&#125; Last name: $&#123;lastName &#125; Maiden name: $&#123;maidenName?html&#125; assign&lt;#assign name=value&gt; &lt;#-- æˆ–åˆ™ --&gt; &lt;#assign name1=value1 name2=value2 ... nameN=valueN&gt; &lt;#-- æˆ–åˆ™ --&gt; &lt;#assign same as above... in namespacehash&gt; &lt;#-- æˆ–åˆ™ --&gt; &lt;#assign name&gt; capture this &lt;/#assign&gt; &lt;#-- æˆ–åˆ™ --&gt; &lt;#assign name in namespacehash&gt; capture this &lt;/#assign&gt; ç”Ÿæˆå˜é‡,å¹¶ä¸”ç»™å˜é‡èµ‹å€¼ global&lt;#global name=value&gt; &lt;#--æˆ–åˆ™--&gt; &lt;#global name1=value1 name2=value2 ... nameN=valueN&gt; &lt;#--æˆ–åˆ™--&gt; &lt;#global name&gt; capture this &lt;/#global&gt; å…¨å±€èµ‹å€¼è¯­æ³•ï¼Œåˆ©ç”¨è¿™ä¸ªè¯­æ³•ç»™å˜é‡èµ‹å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡åœ¨æ‰€æœ‰çš„namespace [A1] ä¸­æ˜¯å¯è§çš„, å¦‚æœè¿™ä¸ªå˜é‡è¢«å½“å‰çš„assign è¯­æ³•è¦†ç›– å¦‚&lt;#global x&#x3D;2&gt; &lt;#assign x&#x3D;1&gt; åœ¨å½“å‰é¡µé¢é‡Œx&#x3D;2 å°†è¢«éšè—ï¼Œæˆ–è€…é€šè¿‡${.global.x} æ¥è®¿é—® setting&lt;#setting name=value&gt; ç”¨æ¥è®¾ç½®æ•´ä¸ªç³»ç»Ÿçš„ä¸€ä¸ªç¯å¢ƒlocalenumber_formatboolean_formatdate_format , time_format , datetime_formattime_zoneclassic_compatible macro, nested, return&lt;#macro name param1 param2 ... paramN&gt; ... &lt;#nested loopvar1, loopvar2, ..., loopvarN&gt; ... &lt;#return&gt; ... &lt;/#macro&gt; t, lt, rt&lt;#t&gt; å»æ‰å·¦å³ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#lt&gt;å»æ‰å·¦è¾¹ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#rt&gt;å»æ‰å³è¾¹ç©ºç™½å’Œå›è½¦æ¢è¡Œ &lt;#nt&gt;å–æ¶ˆä¸Šé¢çš„æ•ˆæœ","categories":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"freemarker","slug":"freemarker","permalink":"http://yelog.org/tags/freemarker/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼è¯¦è§£","slug":"regular-expression","date":"2016-10-04T01:41:40.000Z","updated":"2024-07-05T11:10:22.450Z","comments":true,"path":"2016/10/04/regular-expression/","permalink":"http://yelog.org/2016/10/04/regular-expression/","excerpt":"æœ¬æ–‡ç›®æ ‡ æœ¬æ–‡æ—¨åœ¨æ›´åŠ ç®€æ´æ¸…æ™°çš„å±•ç°æ­£åˆ™è¡¨è¾¾å¼ï¼Œ ç¬¬ä¸€éƒ¨åˆ† æ˜¯å¯¹æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•çš„ç®€æ´ä»‹ç»ï¼Œ ç¬¬äºŒéƒ¨åˆ† åˆ™æ˜¯å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ç¤ºä¾‹ã€‚","text":"æœ¬æ–‡ç›®æ ‡ æœ¬æ–‡æ—¨åœ¨æ›´åŠ ç®€æ´æ¸…æ™°çš„å±•ç°æ­£åˆ™è¡¨è¾¾å¼ï¼Œ ç¬¬ä¸€éƒ¨åˆ† æ˜¯å¯¹æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•çš„ç®€æ´ä»‹ç»ï¼Œ ç¬¬äºŒéƒ¨åˆ† åˆ™æ˜¯å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ç¤ºä¾‹ã€‚ ç®€ä»‹åŠè¯­æ³•æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ åœ¨ç¼–å†™å¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºæˆ–ç½‘é¡µæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚ æ­£åˆ™è¡¨è¾¾å¼è¯­è¨€ç”±ä¸¤ç§åŸºæœ¬å­—ç¬¦ç±»å‹ç»„æˆï¼šåŸä¹‰ï¼ˆæ­£å¸¸ï¼‰æ–‡æœ¬å­—ç¬¦å’Œå…ƒå­—ç¬¦ã€‚å…ƒå­—ç¬¦ä½¿æ­£åˆ™è¡¨è¾¾å¼å…·æœ‰å¤„ç†èƒ½åŠ›ã€‚ å¸¸ç”¨å…ƒå­—ç¬¦ å…ƒå­—ç¬¦ åšä»€ä¹ˆç”¨ . åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦ \\w åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­— \\s åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ï¼Œæ¢è¡Œç¬¦ï¼Œä¸­æ–‡å…¨è§’ç©ºæ ¼ç­‰ï¼‰ \\d åŒ¹é…æ•°å­— \\b åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ ^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ $ åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ å­—ç¬¦è½¬ä¹‰ å¦‚æœä½ æƒ³æŸ¥æ‰¾å…ƒå­—ç¬¦æœ¬èº«çš„è¯ï¼Œæ¯”å¦‚ä½ æŸ¥æ‰¾ . ,æˆ–è€… * ,å°±å‡ºç°äº†é—®é¢˜ï¼šä½ æ²¡åŠæ³•æŒ‡å®šå®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«è§£é‡Šæˆåˆ«çš„æ„æ€ã€‚è¿™æ—¶ä½ å°±å¾—ä½¿ç”¨ \\ æ¥å–æ¶ˆè¿™äº›å­—ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ä½¿ç”¨ \\. å’Œ \\* ã€‚å½“ç„¶ï¼Œè¦æŸ¥æ‰¾ \\ æœ¬èº«ï¼Œä½ ä¹Ÿå¾—ç”¨ \\\\ .ä¾‹å¦‚ï¼š deerchao\\.net åŒ¹é… deerchao.netï¼ŒC:\\\\Windows åŒ¹é… C:\\Windows ã€‚ é‡å¤ ä½ å·²ç»çœ‹è¿‡äº†å‰é¢çš„ * , + , &#123;2&#125; , &#123;5,12&#125; è¿™å‡ ä¸ªåŒ¹é…é‡å¤çš„æ–¹å¼äº†ã€‚ä¸‹é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‰€æœ‰çš„é™å®šç¬¦(æŒ‡å®šæ•°é‡çš„ä»£ç ï¼Œä¾‹å¦‚*,{5,12}ç­‰) å…ƒå­—ç¬¦ åšä»€ä¹ˆç”¨ * é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡ + é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡ ? é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡ &#123;n&#125; é‡å¤næ¬¡ &#123;n,&#125; é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡ &#123;n,m&#125; é‡å¤nåˆ°mæ¬¡ ä¸‹é¢æ˜¯ä¸€äº›é‡å¤çš„ç¤ºä¾‹ï¼šWindows\\d+ åŒ¹é…Windowsåé¢è·Ÿ1ä¸ªæˆ–æ›´å¤šæ•°å­—^\\w+ åŒ¹é…ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯(æˆ–æ•´ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œå…·ä½“åŒ¹é…å“ªä¸ªæ„æ€å¾—çœ‹é€‰é¡¹è®¾ç½®) å­—ç¬¦ç±» è¦æƒ³æŸ¥æ‰¾æ•°å­—ï¼Œå­—æ¯æˆ–æ•°å­—ï¼Œç©ºç™½æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºå·²ç»æœ‰äº†å¯¹åº”è¿™äº›å­—ç¬¦é›†åˆçš„å…ƒå­—ç¬¦ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³åŒ¹é…æ²¡æœ‰é¢„å®šä¹‰å…ƒå­—ç¬¦çš„å­—ç¬¦é›†åˆ(æ¯”å¦‚å…ƒéŸ³å­—æ¯a,e,i,o,u),åº”è¯¥æ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦åœ¨æ–¹æ‹¬å·é‡Œåˆ—å‡ºå®ƒä»¬å°±è¡Œäº†ï¼Œåƒ [aeiou] å°±åŒ¹é…ä»»ä½•ä¸€ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯ï¼Œ [.?!] åŒ¹é…æ ‡ç‚¹ç¬¦å·(.æˆ–?æˆ–!)ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è½»æ¾åœ°æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´ï¼Œåƒ [0-9] ä»£è¡¨çš„å«æ„ä¸ \\d å°±æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼šä¸€ä½æ•°å­—ï¼›åŒç†[a-z0-9A-Z_]ä¹Ÿå®Œå…¨ç­‰åŒäº \\w ï¼ˆå¦‚æœåªè€ƒè™‘è‹±æ–‡çš„è¯ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„è¡¨è¾¾å¼ï¼š \\(?0\\d&#123;2&#125;[) -]?\\d&#123;8&#125; ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥åŒ¹é…å‡ ç§æ ¼å¼çš„ç”µè¯å·ç ï¼Œåƒ(010)88886666ï¼Œæˆ–022-22334455ï¼Œæˆ–02912345678ç­‰ã€‚æˆ‘ä»¬å¯¹å®ƒè¿›è¡Œä¸€äº›åˆ†æå§ï¼šé¦–å…ˆæ˜¯ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦(,å®ƒèƒ½å‡ºç°0æ¬¡æˆ–1æ¬¡(?),ç„¶åæ˜¯ä¸€ä¸ª0ï¼Œåé¢è·Ÿç€2ä¸ªæ•°å­—(\\d{2})ï¼Œç„¶åæ˜¯)æˆ–-æˆ–ç©ºæ ¼ä¸­çš„ä¸€ä¸ªï¼Œå®ƒå‡ºç°1æ¬¡æˆ–ä¸å‡ºç°(?)ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—(\\d{8})ã€‚ åˆ†æ”¯æ¡ä»¶ æ­£åˆ™è¡¨è¾¾å¼é‡Œçš„åˆ†ææ¡ä»¶æŒ‡çš„æ˜¯æœ‰å‡ ç§è§„åˆ™ï¼Œå¦‚æœæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ç§è§„åˆ™éƒ½åº”è¯¥å½“æˆåŒ¹é…ï¼Œå…·ä½“æ–¹æ³•æ˜¯ç”¨|æŠŠä¸åŒçš„è§„åˆ™åˆ†éš”å¼€ã€‚ç¤ºä¾‹ï¼š 0\\d&#123;2&#125;-\\d&#123;8&#125;|0\\d&#123;3&#125;-\\d&#123;7&#125;è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é…3ä½åŒºå·çš„ç”µè¯å·ç ï¼Œå…¶ä¸­åŒºå·å¯ä»¥ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼ŒåŒºå·ä¸æœ¬åœ°å·é—´å¯ä»¥ç”¨è¿å­—å·æˆ–ç©ºæ ¼é—´éš”ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰é—´éš”ã€‚ä½ å¯ä»¥è¯•è¯•ç”¨åˆ†ææ¡ä»¶æŠŠè¿™ä¸ªè¡¨è¾¾å¼æ‰©å±•æˆä¹Ÿæ”¯æŒ4ä½åŒºå·çš„ã€‚ç¤ºä¾‹ï¼š \\d&#123;5&#125;-\\d&#123;4&#125;|\\d&#123;5&#125;è¿™ä¸ªè¡¨è¾¾å¼ç”¨äºåŒ¹é…ç¾å›½çš„é‚®æ”¿ç¼–ç ã€‚ç¾å›½é‚®ç¼–çš„è§„åˆ™æ˜¯5ä½æ•°å­—ï¼Œæˆ–è€…ç”¨è¿å­—å·é—´éš”çš„9ä½æ•°å­—ã€‚ä¹‹æ‰€ä»¥è¦ç»™å‡ºè¿™ä¸ªç¤ºä¾‹æ˜¯å› ä¸ºå®ƒèƒ½è¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼šä½¿ç”¨åˆ†ææ¡ä»¶æ—¶ï¼Œè¦æ³¨æ„å„ä¸ªæ¡ä»¶çš„é¡ºåºã€‚å¦‚æœä½ æŠŠå®ƒæ”¹æˆ \\d&#123;5&#125;|\\d&#123;5&#125;-\\d&#123;4&#125; çš„è¯ï¼Œé‚£ä¹ˆå°±åªä¼šåŒ¹é…5ä½çš„é‚®ç¼–(ä»¥åŠ9ä½é‚®ç¼–çš„å‰5ä½)ã€‚åŸå› æ˜¯åŒ¹é…åˆ†ææ¡ä»¶æ—¶ï¼Œå°†ä¼šä»å·¦åˆ°å³åœ°æµ‹è¯•æ¯ä¸ªæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³äº†æŸä¸ªåˆ†æçš„è¯ï¼Œå°±ä¸ä¼šå»å†ç®¡å…¶å®ƒçš„æ¡ä»¶äº†ã€‚ åˆ†ç»„ é‡å¤å•ä¸ªå­—ç¬¦ï¼Œç›´æ¥åœ¨å­—ç¬¦åé¢åŠ ä¸Šé™å®šç¬¦å°±è¡Œäº†ã€‚ä½†å¦‚æœæƒ³è¦é‡å¤å¤šä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å°æ‹¬å·æ¥æŒ‡å®š å­è¡¨è¾¾å¼(ä¹Ÿå«ä½œåˆ†ç»„)ã€‚(\\d&#123;1,3&#125;\\.)&#123;3&#125;\\d&#123;1,3&#125; æ˜¯ä¸€ä¸ªç®€å•çš„IPåœ°å€åŒ¹é…è¡¨è¾¾å¼ã€‚è¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¯·æŒ‰ä¸‹åˆ—é¡ºåºåˆ†æå®ƒï¼š \\d&#123;1,3&#125; åŒ¹é…1åˆ°3ä½çš„æ•°å­—ï¼Œ (\\d&#123;1,3&#125;\\.)&#123;3&#125; åŒ¹é…ä¸‰ä½æ•°å­—åŠ ä¸Šä¸€ä¸ªè‹±æ–‡å¥å·(è¿™ä¸ªæ•´ä½“ä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç»„)é‡å¤3æ¬¡ï¼Œæœ€åå†åŠ ä¸Šä¸€ä¸ªä¸€åˆ°ä¸‰ä½çš„æ•°å­— (\\d&#123;1,3&#125;) ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¹Ÿå°†åŒ¹é… 256.300.888.999 è¿™ç§ä¸å¯èƒ½å­˜åœ¨çš„IPåœ°å€ã€‚æˆ‘ä»¬åªèƒ½ä½¿ç”¨å†—é•¿çš„åˆ†ç»„ï¼Œé€‰æ‹©ï¼Œå­—ç¬¦ä¸²æ¥æè¿°ä¸€ä¸ª æ­£ç¡®çš„IPåœ°å€ï¼š ((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.)&#123;3&#125;(2[0-4]\\d|25[0-5]|[01]?\\d\\d?) åä¹‰ æœ‰æ—¶éœ€è¦æŸ¥æ‰¾ä¸å±äºæŸä¸ªèƒ½ç®€å•å®šä¹‰çš„å­—ç¬¦ç±»çš„å­—ç¬¦ã€‚æ¯”å¦‚æƒ³æŸ¥æ‰¾é™¤äº†æ•°å­—ä»¥å¤–ï¼Œå…¶å®ƒä»»æ„å­—ç¬¦éƒ½è¡Œçš„æƒ…å†µï¼Œè¿™æ—¶éœ€è¦ç”¨åˆ°åä¹‰ï¼š å…ƒå­—ç¬¦ åšä»€ä¹ˆç”¨ \\W åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦ \\S åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦ \\D åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦ \\B åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½® [^x] åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦ [^aeiou] åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦ ç¤ºä¾‹ï¼š \\S+ åŒ¹é…ä¸åŒ…å«ç©ºç™½ç¬¦çš„å­—ç¬¦ä¸²ã€‚ &lt;a[^&gt;]+&gt; åŒ¹é…ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„ä»¥aå¼€å¤´çš„å­—ç¬¦ä¸²ã€‚ åå‘å¼•ç”¨ ä½¿ç”¨å°æ‹¬å·æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼åï¼ŒåŒ¹é…è¿™ä¸ªå­è¡¨è¾¾å¼ çš„æ–‡æœ¬(ä¹Ÿå°±æ˜¯æ­¤åˆ†ç»„æ•è·çš„å†…å®¹)å¯ä»¥åœ¨è¡¨è¾¾å¼æˆ–å…¶å®ƒç¨‹åºä¸­ä½œè¿›ä¸€æ­¥çš„å¤„ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåˆ†ç»„ä¼šè‡ªåŠ¨æ‹¥æœ‰ä¸€ä¸ª ç»„å·ï¼Œè§„åˆ™æ˜¯ï¼šä»å·¦å‘å³ï¼Œä»¥åˆ†ç»„çš„å·¦æ‹¬å·ä¸ºæ ‡å¿—ï¼Œç¬¬ä¸€ä¸ªå‡ºç°çš„åˆ†ç»„çš„ç»„å·ä¸º1ï¼Œç¬¬äºŒä¸ªä¸º2ï¼Œä»¥æ­¤ç±»æ¨ã€‚ åå‘å¼•ç”¨ ç”¨äºé‡å¤æœç´¢å‰é¢æŸä¸ªåˆ†ç»„åŒ¹é…çš„æ–‡æœ¬ã€‚ç¤ºä¾‹ï¼š \\b(\\w+)\\b\\s+\\1\\b å¯ä»¥ç”¨æ¥åŒ¹é…é‡å¤çš„å•è¯ï¼Œåƒgo go, æˆ–è€…kitty kittyã€‚è¿™ä¸ªè¡¨è¾¾å¼é¦–å…ˆæ˜¯ä¸€ä¸ªå•è¯ï¼Œä¹Ÿå°±æ˜¯å•è¯å¼€å§‹å¤„å’Œç»“æŸå¤„ä¹‹é—´çš„å¤šäºä¸€ä¸ªçš„å­—æ¯æˆ–æ•°å­— \\b(\\w+)\\b ï¼Œè¿™ä¸ªå•è¯ä¼šè¢«æ•è·åˆ°ç¼–å·ä¸º1çš„åˆ†ç»„ä¸­ï¼Œç„¶åæ˜¯1ä¸ªæˆ–å‡ ä¸ªç©ºç™½ç¬¦\\s+ï¼Œæœ€åæ˜¯åˆ†ç»„1ä¸­æ•è·çš„å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯å‰é¢åŒ¹é…çš„é‚£ä¸ªå•è¯ï¼‰ \\1 ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šå­è¡¨è¾¾å¼çš„ ç»„å.è¦æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼çš„ç»„åï¼Œè¯·ä½¿ç”¨è¿™æ ·çš„è¯­æ³•ï¼š (?&lt;Word&gt;\\w+) (æˆ–è€…æŠŠå°–æ‹¬å·æ¢æˆ &#39; ä¹Ÿè¡Œï¼š (?&#39;Word&#39;\\w+)),è¿™æ ·å°±æŠŠ\\w+çš„ç»„åæŒ‡å®šä¸º Word äº†ã€‚è¦åå‘å¼•ç”¨è¿™ä¸ªåˆ†ç»„æ•è·çš„å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ \\k&lt;Word&gt; ,æ‰€ä»¥ä¸Šä¸€ä¸ªç¤ºä¾‹ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼š \\b(?&lt;Word&gt;\\w+)\\b\\s+\\k&lt;Word&gt;\\b ã€‚ é›¶å®½æ–­è¨€ æ¥ä¸‹æ¥çš„å››ä¸ªç”¨äºæŸ¥æ‰¾åœ¨æŸäº›å†…å®¹(ä½†å¹¶ä¸åŒ…æ‹¬è¿™äº›å†…å®¹)ä¹‹å‰æˆ–ä¹‹åçš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åƒ\\b,^,$é‚£æ ·ç”¨äºæŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®åº”è¯¥æ»¡è¶³ä¸€å®šçš„æ¡ä»¶(å³æ–­è¨€)ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿè¢«ç§°ä¸º é›¶å®½æ–­è¨€ã€‚(?=exp) ä¹Ÿå« é›¶å®½åº¦æ­£é¢„æµ‹å…ˆè¡Œæ–­è¨€ï¼Œå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„åé¢èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚æ¯”å¦‚\\b\\w+(?=ing\\b)ï¼ŒåŒ¹é…ä»¥ingç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ†(é™¤äº†ingä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æŸ¥æ‰¾ Iâ€™m singing while youâ€™re dancing. æ—¶ï¼Œå®ƒä¼šåŒ¹é… sing å’Œ danc ã€‚(?&lt;=exp) ä¹Ÿå« é›¶å®½åº¦æ­£å›é¡¾åå‘æ–­è¨€ ï¼Œå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„å‰é¢èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚æ¯”å¦‚ (?&lt;=\\bre)\\w+\\b ä¼šåŒ¹é…ä»¥reå¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ†(é™¤äº†reä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾ reading a book æ—¶ï¼Œå®ƒåŒ¹é…adingã€‚å‡å¦‚ä½ æƒ³è¦ç»™ä¸€ä¸ªå¾ˆé•¿çš„æ•°å­—ä¸­æ¯ä¸‰ä½é—´åŠ ä¸€ä¸ªé€—å·(å½“ç„¶æ˜¯ä»å³è¾¹åŠ èµ·äº†)ï¼Œä½ å¯ä»¥è¿™æ ·æŸ¥æ‰¾éœ€è¦åœ¨å‰é¢å’Œé‡Œé¢æ·»åŠ é€—å·çš„éƒ¨åˆ†ï¼š ((?&lt;=\\d)\\d&#123;3&#125;)+\\b ï¼Œç”¨å®ƒå¯¹1234567890è¿›è¡ŒæŸ¥æ‰¾æ—¶ç»“æœæ˜¯234567890ã€‚ä¸‹é¢è¿™ä¸ªç¤ºä¾‹åŒæ—¶ä½¿ç”¨äº†è¿™ä¸¤ç§æ–­è¨€ï¼š (?&lt;=\\s)\\d+(?=\\s) åŒ¹é…ä»¥ç©ºç™½ç¬¦é—´éš”çš„æ•°å­—( å†æ¬¡å¼ºè°ƒï¼Œä¸åŒ…æ‹¬è¿™äº›ç©ºç™½ç¬¦ )ã€‚ è´Ÿå‘é›¶å®½æ–­è¨€ å‰é¢æˆ‘ä»¬æåˆ°è¿‡æ€ä¹ˆæŸ¥æ‰¾ä¸æ˜¯æŸä¸ªå­—ç¬¦æˆ–ä¸åœ¨æŸä¸ªå­—ç¬¦ç±»é‡Œçš„å­—ç¬¦çš„æ–¹æ³•(åä¹‰)ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è¦ç¡®ä¿æŸä¸ªå­—ç¬¦æ²¡æœ‰å‡ºç°ï¼Œä½†å¹¶ä¸æƒ³å»åŒ¹é…å®ƒæ—¶æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŸ¥æ‰¾è¿™æ ·çš„å•è¯â€“å®ƒé‡Œé¢å‡ºç°äº†å­—æ¯q,ä½†æ˜¯qåé¢è·Ÿçš„ä¸æ˜¯å­—æ¯u,æˆ‘ä»¬å¯ä»¥å°è¯•è¿™æ ·ï¼š\\b\\w*q[^u]\\w*\\b åŒ¹é… åŒ…å«åé¢ä¸æ˜¯å­—æ¯uçš„å­—æ¯qçš„å•è¯ ã€‚ä½†æ˜¯å¦‚æœå¤šåšæµ‹è¯•(æˆ–è€…ä½ æ€ç»´è¶³å¤Ÿæ•é”ï¼Œç›´æ¥å°±è§‚å¯Ÿå‡ºæ¥äº†)ï¼Œä½ ä¼šå‘ç°ï¼Œå¦‚æœqå‡ºç°åœ¨å•è¯çš„ç»“å°¾çš„è¯ï¼ŒåƒIraq,Benqï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±ä¼šå‡ºé”™ã€‚è¿™æ˜¯å› ä¸º[^u]æ€»è¦åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¦‚æœqæ˜¯å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„è¯ï¼Œåé¢çš„[^u]å°†ä¼šåŒ¹é…qåé¢çš„å•è¯åˆ†éš”ç¬¦(å¯èƒ½æ˜¯ç©ºæ ¼ï¼Œæˆ–è€…æ˜¯å¥å·æˆ–å…¶å®ƒçš„ä»€ä¹ˆ)ï¼Œåé¢çš„ \\w*\\b å°†ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªå•è¯ï¼Œäºæ˜¯ \\b\\w*q[^u]\\w*\\b å°±èƒ½åŒ¹é…æ•´ä¸ªIraq fightingã€‚è´Ÿå‘é›¶å®½æ–­è¨€ èƒ½è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸æ¶ˆè´¹ä»»ä½•å­—ç¬¦ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š \\b\\w*q(?!u)\\w*\\b ã€‚é›¶å®½åº¦è´Ÿé¢„æµ‹å…ˆè¡Œæ–­è¨€(?!exp)ï¼Œæ–­è¨€æ­¤ä½ç½®çš„åé¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚ä¾‹å¦‚ï¼š \\d&#123;3&#125;(?!\\d) åŒ¹é…ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—ï¼› \\b((?!abc)\\w)+\\b åŒ¹é…ä¸åŒ…å«è¿ç»­å­—ç¬¦ä¸²abcçš„å•è¯ã€‚åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨(?&lt;!exp),*é›¶å®½åº¦è´Ÿå›é¡¾åå‘æ–­è¨€æ¥æ–­è¨€** æ­¤ä½ç½®çš„å‰é¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼expï¼š(?&lt;![a-z])\\d{7}åŒ¹é…å‰é¢ä¸æ˜¯å°å†™å­—æ¯çš„ä¸ƒä½æ•°å­—ã€‚ä¸€ä¸ªæ›´å¤æ‚çš„ç¤ºä¾‹ï¼š&#96;(?&lt;&#x3D;&lt;(\\w+)&gt;).(?&#x3D;&lt;/\\1&gt;) åŒ¹é…ä¸åŒ…å«å±æ€§çš„ç®€å•HTMLæ ‡ç­¾å†…é‡Œçš„å†…å®¹ã€‚(?&lt;&#x3D;&lt;(\\w+)&gt;)æŒ‡å®šäº†è¿™æ ·çš„ **å‰ç¼€**ï¼šè¢«å°–æ‹¬å·æ‹¬èµ·æ¥çš„å•è¯(æ¯”å¦‚å¯èƒ½æ˜¯&lt;b&gt;)ï¼Œç„¶åæ˜¯.*(ä»»æ„çš„å­—ç¬¦ä¸²),æœ€åæ˜¯ä¸€ä¸ª **åç¼€**(?&#x3D;&lt;/\\1&gt;)ã€‚æ³¨æ„åç¼€é‡Œçš„ \\/ ï¼Œå®ƒç”¨åˆ°äº†å‰é¢æè¿‡çš„å­—ç¬¦è½¬ä¹‰ï¼›\\1åˆ™æ˜¯ä¸€ä¸ªåå‘å¼•ç”¨ï¼Œå¼•ç”¨çš„æ­£æ˜¯æ•è·çš„ç¬¬ä¸€ç»„ï¼Œå‰é¢çš„ (\\w+)&#96; åŒ¹é…çš„å†…å®¹ï¼Œè¿™æ ·å¦‚æœå‰ç¼€å®é™…ä¸Šæ˜¯çš„è¯ï¼Œåç¼€å°±æ˜¯äº†ã€‚æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…çš„æ˜¯å’Œä¹‹é—´çš„å†…å®¹(å†æ¬¡æé†’ï¼Œä¸åŒ…æ‹¬å‰ç¼€å’Œåç¼€æœ¬èº«)ã€‚ æ³¨é‡Š å°æ‹¬å·çš„å¦ä¸€ç§ç”¨é€”æ˜¯é€šè¿‡è¯­æ³•(?#comment)æ¥åŒ…å«æ³¨é‡Šã€‚ä¾‹å¦‚ï¼š2[0-4]\\d(?#200-249)|25[0-5](?#250-255)|[01]?\\d\\d?(?#0-199)ã€‚è¦åŒ…å«æ³¨é‡Šçš„è¯ï¼Œæœ€å¥½æ˜¯å¯ç”¨â€œå¿½ç•¥æ¨¡å¼é‡Œçš„ç©ºç™½ç¬¦â€é€‰é¡¹ï¼Œè¿™æ ·åœ¨ç¼–å†™è¡¨è¾¾å¼æ—¶èƒ½ä»»æ„çš„æ·»åŠ ç©ºæ ¼ï¼ŒTabï¼Œæ¢è¡Œï¼Œè€Œå®é™…ä½¿ç”¨æ—¶è¿™äº›éƒ½å°†è¢«å¿½ç•¥ã€‚å¯ç”¨è¿™ä¸ªé€‰é¡¹åï¼Œåœ¨#åé¢åˆ°è¿™ä¸€è¡Œç»“æŸçš„æ‰€æœ‰æ–‡æœ¬éƒ½å°†è¢«å½“æˆæ³¨é‡Šå¿½ç•¥æ‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å‰é¢çš„ä¸€ä¸ªè¡¨è¾¾å¼å†™æˆè¿™æ ·ï¼š (?&lt;= # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„å‰ç¼€ &lt;(\\w+)&gt; # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å­—æ¯æˆ–æ•°å­—(å³HTML&#x2F;XMLæ ‡ç­¾) ) # å‰ç¼€ç»“æŸ .* # åŒ¹é…ä»»æ„æ–‡æœ¬ (?= # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„åç¼€ &lt;\\/\\1&gt; # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹ï¼šå‰é¢æ˜¯ä¸€ä¸ªâ€&#x2F;â€œï¼Œåé¢æ˜¯å…ˆå‰æ•è·çš„æ ‡ç­¾ ) # åç¼€ç»“æŸ è´ªå©ªä¸æ‡’æƒ° å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ…å«èƒ½æ¥å—é‡å¤çš„é™å®šç¬¦æ—¶ï¼Œé€šå¸¸çš„è¡Œä¸ºæ˜¯ï¼ˆåœ¨ä½¿æ•´ä¸ªè¡¨è¾¾å¼èƒ½å¾—åˆ°åŒ¹é…çš„å‰æä¸‹ï¼‰åŒ¹é… å°½å¯èƒ½å¤š çš„å­—ç¬¦ã€‚ä»¥è¿™ä¸ªè¡¨è¾¾å¼ä¸ºä¾‹ï¼š a.*b ï¼Œå®ƒå°†ä¼šåŒ¹é…æœ€é•¿çš„ä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²ã€‚å¦‚æœç”¨å®ƒæ¥æœç´¢aababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²aababã€‚è¿™è¢«ç§°ä¸º è´ªå©ªåŒ¹é…ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬æ›´éœ€è¦ æ‡’æƒ°åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…å°½å¯èƒ½å°‘çš„å­—ç¬¦ã€‚å‰é¢ç»™å‡ºçš„é™å®šç¬¦éƒ½å¯ä»¥è¢«è½¬åŒ–ä¸ºæ‡’æƒ°åŒ¹é…æ¨¡å¼ï¼Œåªè¦åœ¨å®ƒåé¢åŠ ä¸Šä¸€ä¸ªé—®å· ? ã€‚è¿™æ · .*? å°±æ„å‘³ç€åŒ¹é…ä»»æ„æ•°é‡çš„é‡å¤ï¼Œä½†æ˜¯åœ¨èƒ½ä½¿æ•´ä¸ªåŒ¹é…æˆåŠŸçš„å‰æä¸‹ä½¿ç”¨æœ€å°‘çš„é‡å¤ã€‚ç¤ºä¾‹ï¼š a.*?b åŒ¹é…æœ€çŸ­çš„ï¼Œä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²ã€‚å¦‚æœæŠŠå®ƒåº”ç”¨äºaababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…aabï¼ˆç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼‰å’Œabï¼ˆç¬¬å››åˆ°ç¬¬äº”ä¸ªå­—ç¬¦ï¼‰ã€‚ è¯­æ³• åšä»€ä¹ˆç”¨ *? é‡å¤ä»»æ„æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ +? é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ ?? é‡å¤0æ¬¡æˆ–1æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ &#123;n,m&#125;? é‡å¤nåˆ°mæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ &#123;n,&#125;? é‡å¤næ¬¡ä»¥ä¸Šï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ å…¶ä»–å…ƒå­—ç¬¦ å…ƒå­—ç¬¦ åšä»€ä¹ˆç”¨ \\a æŠ¥è­¦å­—ç¬¦(æ‰“å°å®ƒçš„æ•ˆæœæ˜¯ç”µè„‘å˜€ä¸€å£°) \\b é€šå¸¸æ˜¯å•è¯åˆ†ç•Œä½ç½®ï¼Œä½†å¦‚æœåœ¨å­—ç¬¦ç±»é‡Œä½¿ç”¨ä»£è¡¨é€€æ ¼ \\t åˆ¶è¡¨ç¬¦ï¼ŒTab \\r å›è½¦ \\v ç«–å‘åˆ¶è¡¨ç¬¦ \\f æ¢é¡µç¬¦ \\n æ¢è¡Œç¬¦ \\e Escape \\0nn ASCIIä»£ç ä¸­å…«è¿›åˆ¶ä»£ç ä¸ºnnçš„å­—ç¬¦ \\xnn ASCIIä»£ç ä¸­åå…­è¿›åˆ¶ä»£ç ä¸ºnnçš„å­—ç¬¦ \\unnnn Unicodeä»£ç ä¸­åå…­è¿›åˆ¶ä»£ç ä¸ºnnnnçš„å­—ç¬¦ \\cN ASCIIæ§åˆ¶å­—ç¬¦ã€‚æ¯”å¦‚\\cCä»£è¡¨Ctrl+C \\A å­—ç¬¦ä¸²å¼€å¤´(ç±»ä¼¼^ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“) \\Z å­—ç¬¦ä¸²ç»“å°¾æˆ–è¡Œå°¾(ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“) \\z å­—ç¬¦ä¸²ç»“å°¾(ç±»ä¼¼$ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“) \\G å½“å‰æœç´¢çš„å¼€å¤´ \\p&#123;name&#125; Unicodeä¸­å‘½åä¸ºnameçš„å­—ç¬¦ç±»ï¼Œä¾‹å¦‚\\p{IsGreek} (?&gt;exp) è´ªå©ªå­è¡¨è¾¾å¼ (?&lt;x&gt;-&lt;y&gt;exp) å¹³è¡¡ç»„ (?im-nsx:exp) åœ¨å­è¡¨è¾¾å¼expä¸­æ”¹å˜å¤„ç†é€‰é¡¹ (?im-nsx) ä¸ºè¡¨è¾¾å¼åé¢çš„éƒ¨åˆ†æ”¹å˜å¤„ç†é€‰é¡¹ 1 æŠŠexpå½“ä½œé›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€ï¼Œå¦‚æœåœ¨è¿™ä¸ªä½ç½®èƒ½åŒ¹é…ï¼Œä½¿ç”¨yesä½œä¸ºæ­¤ç»„çš„è¡¨è¾¾å¼ï¼›å¦åˆ™ä½¿ç”¨no (?(exp)yes) åŒä¸Šï¼Œåªæ˜¯ä½¿ç”¨ç©ºè¡¨è¾¾å¼ä½œä¸ºno 2 å¦‚æœå‘½åä¸ºnameçš„ç»„æ•è·åˆ°äº†å†…å®¹ï¼Œä½¿ç”¨yesä½œä¸ºè¡¨è¾¾å¼ï¼›å¦åˆ™ä½¿ç”¨no (?(name)yes) åŒä¸Šï¼Œåªæ˜¯ä½¿ç”¨ç©ºè¡¨è¾¾å¼ä½œä¸ºno æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨å®ä¾‹è´¦å·&#x2F;å¯†ç å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿) = &quot;^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$&quot; å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿) = &quot;^[a-zA-Z]\\w&#123;5,17&#125;$&quot; å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´) = &quot;^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$&quot; å­—ç¬¦ä¸²æ ¡éªŒæ±‰å­— = &quot;^[\\u4e00-\\u9fa5]&#123;0,&#125;$&quot;; è‹±æ–‡å’Œæ•°å­— = &quot;^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]&#123;4,40&#125;$&quot;; é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ = &quot;^.&#123;3,20&#125;$&quot;ï¼› ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² = &quot;^[A-Za-z]+$&quot;ï¼› ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² = &quot;^[A-Z]+$&quot;ï¼› ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² = &quot;^[a-z]+$&quot;ï¼› ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² = &quot;^[A-Za-z0-9]+$&quot;ï¼› ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸² = &quot;^\\w+$ æˆ– ^\\w&#123;3,20&#125;$&quot;ï¼› ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ = &quot;^[\\u4E00-\\u9FA5A-Za-z0-9_]+$&quot;ï¼› ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å· = &quot;^[\\u4E00-\\u9FA5A-Za-z0-9]+$ æˆ– ^[\\u4E00-\\u9FA5A-Za-z0-9]&#123;2,20&#125;$&quot;ï¼› ç¦æ­¢è¾“å…¥å«æœ‰~çš„å­—ç¬¦ = &quot;[^~\\x22]+&quot;ï¼› æ‰‹æœºå·/** * æ‰‹æœºå·ç  * ç§»åŠ¨ï¼š134,135,136,137,138,139,147,150,151,152,157,158,159,170,178,182,183,184,187,188 * è”é€šï¼š130,131,132,145,152,155,156,1709,171,176,185,186 * ç”µä¿¡ï¼š133,134,153,1700,177,180,181,189 */ String MOBILE = &quot;^1(3[0-9]|4[57]|5[0-35-9]|7[01678]|8[0-9])\\\\d&#123;8&#125;$&quot;; /** * ä¸­å›½ç§»åŠ¨ï¼šChina Mobile * 134,135,136,137,138,139,147,150,151,152,157,158,159,170,178,182,183,184,187,188 */ String CM = &quot;^1(3[4-9]|4[7]|5[0-27-9]|7[0]|7[8]|8[2-478])\\\\d&#123;8&#125;$&quot;; /** * ä¸­å›½è”é€šï¼šChina Unicom * 130,131,132,145,152,155,156,1709,171,176,185,186 */ String CU = &quot;^1(3[0-2]|4[5]|5[56]|709|7[1]|7[6]|8[56])\\\\d&#123;8&#125;$&quot;; /** * ä¸­å›½ç”µä¿¡ï¼šChina Telecom * 133,134,153,1700,177,180,181,189 */ String CT = &quot;^1(3[34]|53|77|700|8[019])\\\\d&#123;8&#125;$&quot;; IPåœ°å€String IPREGEXP = &quot;((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.)&#123;3&#125;(2[0-4]\\d|25[0-5]|[01]?\\d\\d?)&quot;; EMAILåœ°å€Emailåœ°å€ = &quot;^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$&quot;; åŸŸååŸŸå = &quot;[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?&quot;; InternetURL = &quot;[a-zA-z]+://[^\\s]* æˆ– ^http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%&amp;=]*)?$&quot; èº«ä»½è¯èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—) = &quot;^\\d&#123;15&#125;|\\d&#123;18&#125;$&quot; çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾) = &quot;^([0-9])&#123;7,18&#125;(x|X)?$ æˆ– ^\\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$&quot; æ•°å­—ç±»æ ¡éªŒæ•°å­— = &quot;^[0-9]*$&quot;; nä½çš„æ•°å­— = &quot;^\\d&#123;n&#125;$&quot;; è‡³å°‘nä½çš„æ•°å­— = &quot;^\\d&#123;n,&#125;$&quot;; m-nä½çš„æ•°å­— = &quot;^\\d&#123;m,n&#125;$&quot;; é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­— = &quot;^(0|[1-9][0-9]*)$&quot;; éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­— = &quot;^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$&quot;; å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•° = &quot;^(\\-)?\\d+(\\.\\d&#123;1,2&#125;)?$&quot;; æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•° = &quot;^(\\-|\\+)?\\d+(\\.\\d+)?$&quot;; æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•° = &quot;^[0-9]+(.[0-9]&#123;2&#125;)?$&quot;; æœ‰1~3ä½å°æ•°çš„æ­£å®æ•° = &quot;^[0-9]+(.[0-9]&#123;1,3&#125;)?$&quot;; éé›¶çš„æ­£æ•´æ•° = &quot;^[1-9]\\d*$ æˆ– ^([1-9][0-9]*)&#123;1,3&#125;$ æˆ– ^\\+?[1-9][0-9]*$&quot;; éé›¶çš„è´Ÿæ•´æ•° = &quot;^\\-[1-9][]0-9&quot;*$&quot; æˆ– &quot;^-[1-9]\\d*$&quot;;","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"regex","slug":"regex","permalink":"http://yelog.org/tags/regex/"}]},{"title":"Gitå¸¸ç”¨å‘½ä»¤","slug":"git-command","date":"2016-10-02T09:15:39.000Z","updated":"2024-07-05T11:10:22.593Z","comments":true,"path":"2016/10/02/git-command/","permalink":"http://yelog.org/2016/10/02/git-command/","excerpt":"ç»å¸¸ç”¨åˆ°Gitï¼Œä½†æ˜¯å¾ˆå¤šå‘½ä»¤è®°ä¸ä½ï¼Œå°†å…¶æ•´ç†äºæ­¤ã€‚ï¼ˆå¤§é‡æ‘˜è‡ªç½‘ç»œï¼‰ ä¸€èˆ¬æ¥è¯´ï¼Œæ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä¸‹å›¾6ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥äº†ã€‚ä½†æ˜¯ç†Ÿç»ƒä½¿ç”¨ï¼Œææ€•è¦è¦è®°ä½60~100ä¸ªå‘½ä»¤ã€‚","text":"ç»å¸¸ç”¨åˆ°Gitï¼Œä½†æ˜¯å¾ˆå¤šå‘½ä»¤è®°ä¸ä½ï¼Œå°†å…¶æ•´ç†äºæ­¤ã€‚ï¼ˆå¤§é‡æ‘˜è‡ªç½‘ç»œï¼‰ ä¸€èˆ¬æ¥è¯´ï¼Œæ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä¸‹å›¾6ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥äº†ã€‚ä½†æ˜¯ç†Ÿç»ƒä½¿ç”¨ï¼Œææ€•è¦è¦è®°ä½60~100ä¸ªå‘½ä»¤ã€‚ ä¸‹é¢æ•´ç†çš„ Git å‘½ä»¤æ¸…å•ã€‚å‡ ä¸ªä¸“ä¸šåè¯çš„è¯‘åå¦‚ä¸‹ã€‚ Workspaceï¼šå·¥ä½œåŒº Index / Stageï¼šæš‚å­˜åŒº Repositoryï¼šä»“åº“åŒºï¼ˆæœ¬åœ°ä»“åº“ï¼‰ Remoteï¼šè¿œç¨‹ä»“åº“ æ–°å»ºç‰ˆæœ¬ä»“åº“# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ $ git init # æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“ $ git init [project-name] # ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å², -o ç»™è¿œç¨‹ä»“åº“èµ·å:faker,é»˜è®¤origin $ git clone [-o faker] [url] é…ç½®Gitçš„è®¾ç½®æ–‡ä»¶ä¸º.gitconfigï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚ # æ˜¾ç¤ºå½“å‰çš„Gité…ç½® $ git config --list # ç¼–è¾‘Gité…ç½®æ–‡ä»¶ $ git config -e [--global] # è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯ $ git config [--global] user.name &quot;[name]&quot; $ git config [--global] user.email &quot;[email address]&quot; # è®¾ç½®å¤§å°å†™æ•æ„Ÿï¼ˆwindowsä¸åŒºåˆ†å¤§å°å†™çš„è§£å†³åŠæ³•ï¼‰ $ git config core.ignorecase false å¢åŠ &#x2F;åˆ é™¤æ–‡ä»¶# æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add [file1] [file2] ... # æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½• $ git add [dir] # æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add . # æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤ # å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤ $ git add -p # åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº $ git rm [file1] [file2] ... # åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº $ git rm --cached [file] # æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº $ git mv [file-original] [file-renamed] ä»£ç æäº¤# æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº $ git commit -m [message] # æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº $ git commit [file1] [file2] ... -m [message] # æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº $ git commit -a # æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯ $ git commit -v # ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤ # å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯ $ git commit --amend -m [message] # é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ– $ git commit --amend [file1] [file2] ... åˆ†æ”¯# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ $ git branch # åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ $ git branch -r # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ $ git branch -a # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œå¹¶å±•ç¤ºæ²¡æœ‰åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ä¿¡æ¯ $ git branch -v # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œå¹¶å±•ç¤ºæ²¡æœ‰åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ä¿¡æ¯å’Œè¿œç¨‹åˆ†æ”¯çš„è¿½è¸ªæƒ…å†µ $ git branch -vv # åˆ—å‡ºæ‰€æœ‰å·²ç»åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯ $ git branch --merged # åˆ—å‡ºæ‰€æœ‰è¿˜æ²¡æœ‰åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯ $ git branch --no-merged # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯ $ git branch [branch-name] # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ $ git checkout -b [branch] # æ–°å»ºä¸€ä¸ªä¸è¿œç¨‹åˆ†æ”¯åŒåçš„åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ $ git checkout --track [branch-name] # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit $ git branch [branch] [commit] # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³» $ git branch --track [branch] [remote-branch] # åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº $ git checkout [branch-name] # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ $ git checkout - # å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´ $ git branch --set-upstream-to=[remote-branch] $ git branch --set-upstream [branch] [remote-branch] # å·²è¢«å¼ƒç”¨ # åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ $ git merge [branch] # ä¸­æ–­æ­¤æ¬¡åˆå¹¶ï¼ˆä½ å¯èƒ½ä¸æƒ³å¤„ç†å†²çªï¼‰ $ git merge --abort # é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯ $ git cherry-pick [commit] # åˆ é™¤åˆ†æ”¯ $ git branch -d [branch-name] #æ–°å¢è¿œç¨‹åˆ†æ”¯ è¿œç¨‹åˆ†æ”¯éœ€å…ˆåœ¨æœ¬åœ°åˆ›å»º,å†è¿›è¡Œæ¨é€ $ git push origin [branch-name] # åˆ é™¤è¿œç¨‹åˆ†æ”¯ $ git push origin --delete [branch-name] $ git branch -dr [remote/branch] æ ‡ç­¾# åˆ—å‡ºæ‰€æœ‰tag $ git tag # æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit $ git tag [tag] # æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit $ git tag [tag] [commit] # åˆ é™¤æœ¬åœ°tag $ git tag -d [tag] # åˆ é™¤è¿œç¨‹tag $ git push origin :refs/tags/[tagName] # æŸ¥çœ‹tagä¿¡æ¯ $ git show [tag] # æäº¤æŒ‡å®štag $ git push [remote] [tag] # æäº¤æ‰€æœ‰tag $ git push [remote] --tags # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag $ git checkout -b [branch] [tag] æŸ¥çœ‹ä¿¡æ¯&#x2F;æœç´¢# æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ $ git status [-sb] #s:short,ç»™ä¸€ä¸ªçŸ­æ ¼å¼çš„å±•ç¤ºï¼Œb:å±•ç¤ºå½“å‰åˆ†æ”¯ # æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å² $ git log # æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶ $ git log --stat # æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯ $ git log -S [keyword] # æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ $ git log [tag] HEAD --pretty=format:%s # æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶&quot;æäº¤è¯´æ˜&quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶ $ git log [tag] HEAD --grep feature # æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å $ git log --follow [file] $ git whatchanged [file] # æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff $ git log -p [file] # æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤ $ git log -5 --pretty --oneline # å›¾å½¢åŒ–æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯ $ git log --oneline --graph --all # æ˜¾ç¤ºåœ¨åˆ†æ”¯2è€Œä¸åœ¨åˆ†æ”¯1ä¸­çš„æäº¤ $ git log [åˆ†æ”¯1]..[åˆ†æ”¯2] $ git log ^[åˆ†æ”¯1] [åˆ†æ”¯2] $ git log [åˆ†æ”¯2] --not [åˆ†æ”¯1] # æ˜¾ç¤ºä¸¤ä¸ªåˆ†æ”¯ä¸åŒæ—¶åŒ…å«çš„æäº¤ $ git log [åˆ†æ”¯1]...[åˆ†æ”¯2] # æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº $ git shortlog -sn # æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡ $ git blame [file] # æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ $ git diff # æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚ $ git diff --cached [file] # æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚ $ git diff HEAD # æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚ $ git diff [first-branch]...[second-branch] # æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç  $ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot; # æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ– $ git show [commit] # æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ $ git show --name-only [commit] # æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹ $ git show [commit]:[filename] # æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤ $ git reflog # æœç´¢ä½ å·¥ä½œç›®å½•çš„æ–‡ä»¶ï¼Œè¾“å‡ºåŒ¹é…è¡Œå· $ git grep -n [å…³é”®å­—] # æœç´¢ä½ å·¥ä½œç›®å½•çš„æ–‡ä»¶ï¼Œè¾“å‡ºæ¯ä¸ªæ–‡ä»¶åŒ…å«å¤šå°‘ä¸ªåŒ¹é… $ git grep --count [å…³é”®å­—] # ä¼˜åŒ–é˜…è¯» $ git grep --break --heading [å…³é”®å­—] # æŸ¥è¯¢iCheckè¿™ä¸ªå­—ç¬¦ä¸²é‚£æ¬¡æäº¤çš„ $ git log -SiCheck --oneline # æŸ¥è¯¢git_deflate_boundå‡½æ•°æ¯ä¸€æ¬¡çš„å˜æ›´ $ git log -L :git_deflate_bound:zlib.c è¿œç¨‹åŒæ­¥# ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨ [shortname] ä¸ºè¿œç¨‹ä»“åº“çš„shortname, å¦‚origin,ä¸ºç©ºæ—¶:é»˜è®¤origin $ git fetch [shortname] # æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“ $ git remote -v #æ˜¾å¼åœ°è·å¾—è¿œç¨‹å¼•ç”¨çš„å®Œæ•´åˆ—è¡¨ [shortname] ä¸ºè¿œç¨‹ä»“åº“çš„shortname, å¦‚origin,ä¸ºç©ºæ—¶:é»˜è®¤origin $ git ls-remote [shortname] # æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ [remote] ä¸ºè¿œç¨‹ä»“åº“çš„shortname, å¦‚origin $ git remote show [shortname] # å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å $ git remote add [shortname] [url] # é‡å‘½åä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼ˆshortnameï¼‰ $ git remote rename [æ—§ä»“åº“å] [æ–°ä»“åº“å] # åˆ é™¤ä¸€ä¸ªè¿œç¨‹é“¾æ¥ $ git remote rm [shortname] [url] $ git remote remove [shortname] [url] # ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ $ git remote set-url [shortname] [url] # å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶ $ git pull [remote] [branch] # ä¸Šä¼ æœ¬åœ°å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ git push [remote] # ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ $ git push [remote] [branch] # æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ $ git push [remote] --all # å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª $ git push [remote] --force æ’¤é”€# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout [file] # æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº $ git checkout [commit] [file] # æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout . #åªä¼šä¿ç•™æºç ï¼ˆå·¥ä½œåŒºï¼‰ï¼Œå›é€€commit(æœ¬åœ°ä»“åº“)ä¸indexï¼ˆæš‚å­˜åŒºï¼‰åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset &lt;commit_id&gt; #é»˜è®¤ä¸º --mixedæ¨¡å¼ $ git reset --mixed &lt;commit_id&gt; #ä¿ç•™æºç ï¼ˆå·¥ä½œåŒºï¼‰å’Œindexï¼ˆæš‚å­˜åŒºï¼‰ï¼Œåªå›é€€commitï¼ˆæœ¬åœ°ä»“åº“ï¼‰åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset --soft &lt;commit_id&gt; #æºç ï¼ˆå·¥ä½œåŒºï¼‰ã€commitï¼ˆæœ¬åœ°ä»“åº“ï¼‰ä¸indexï¼ˆæš‚å­˜åŒºï¼‰éƒ½å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ $ git reset --hard &lt;commit_id&gt; # æ¢å¤åˆ°æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€ $ git reset --hard HEAD # æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit # åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ $ git revert [commit] # å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä»£ç å…¨éƒ½å­˜å‚¨èµ·æ¥äº† $ git stash [save] # åªä¿å­˜å·¥ä½œåŒºï¼Œä¸å­˜å‚¨æš‚å­˜åŒº $ git stash --keep-index # å­˜å‚¨å·¥ä½œåŒºã€æš‚å­˜åŒºå’Œæœªè·Ÿè¸ªæ–‡ä»¶ $ git stash -u $ git stash --include-untracked # ä¸å­˜å‚¨æ‰€æœ‰æ”¹åŠ¨çš„ä¸œè¥¿ï¼Œä½†ä¼šäº¤äº’å¼çš„æç¤ºé‚£äº›æ”¹åŠ¨æƒ³è¦è¢«å‚¨è—ã€å“ªäº›æ”¹åŠ¨éœ€è¦ä¿å­˜åœ¨å·¥ä½œç›®å½•ä¸­ $ git stash --patch # ä¸æŒ‡å®šåå­—ï¼ŒGitè®¤ä¸ºæŒ‡å®šæœ€è¿‘çš„å‚¨è—ï¼Œå°†å­˜å‚¨çš„ä»£ç ï¼ˆå·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼‰éƒ½åº”ç”¨åˆ°å·¥ä½œåŒº $ git stash apply [stash@&#123;2&#125;] # å­˜å‚¨çš„å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä»£ç åº”ç”¨åˆ°å·¥ä½œåŒºå’Œæš‚å­˜åŒº $ git stash apply [stash@&#123;2&#125;] --index # å°†å­˜å‚¨çš„ä»£ç ï¼ˆå·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼‰éƒ½åº”ç”¨åˆ°å·¥ä½œåŒºï¼Œå¹¶ä»æ ˆä¸Šæ‰”æ‰ä»– $ git stash pop # åˆ é™¤stash@&#123;2&#125;çš„å­˜å‚¨ $ git stash drop [stash@&#123;2&#125;] # è·å–å‚¨è—çš„åˆ—è¡¨ $ git stash list # ç§»é™¤å·¥ä½œç›®å½•ä¸­æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶åŠå£å£é‚£ä¸ªçš„å­ç›®å½•ï¼Œä¸ä¼šç§»é™¤.gitiignoreå¿½ç•¥çš„æ–‡ä»¶ $ git clean -f -d å…¶ä»–# ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ… $ git archive","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"}]},{"title":"ä¸€ä¸ªå®¢æˆ·ç«¯è®¾ç½®å¤šä¸ªgithubè´¦å·","slug":"computer-mutiple-github-account","date":"2016-09-30T08:42:48.000Z","updated":"2024-07-05T11:10:22.627Z","comments":true,"path":"2016/09/30/computer-mutiple-github-account/","permalink":"http://yelog.org/2016/09/30/computer-mutiple-github-account/","excerpt":"æœ€è¿‘æƒ³è¦ä½¿ç”¨è‡ªå·±çš„GitHubæ­å»ºHexoåšå®¢ï¼ŒåŒæ—¶è¿˜è¦ä½¿ç”¨å·¥ä½œçš„GitHubå¼€å‘é¡¹ç›®ï¼Œæ‰€ä»¥åœ¨ç½‘ä¸Šæ‰¾å¯»äº†ä¸€äº›æ–‡ç« ï¼Œåœ¨æ­¤å°†è‡ªå·±çš„æ­å»ºè¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚","text":"æœ€è¿‘æƒ³è¦ä½¿ç”¨è‡ªå·±çš„GitHubæ­å»ºHexoåšå®¢ï¼ŒåŒæ—¶è¿˜è¦ä½¿ç”¨å·¥ä½œçš„GitHubå¼€å‘é¡¹ç›®ï¼Œæ‰€ä»¥åœ¨ç½‘ä¸Šæ‰¾å¯»äº†ä¸€äº›æ–‡ç« ï¼Œåœ¨æ­¤å°†è‡ªå·±çš„æ­å»ºè¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚ å‰æœŸå·¥ä½œä¸¤ä¸ªGitHubè´¦å·ï¼ˆå‡è®¾ä¸¤ä¸ªè´¦å·ä¸ºone,twoï¼‰å–æ¶ˆGitå…¨å±€è®¾ç½® $ git config --global --unset user.name $ git config --global --unset user.email SSHé…ç½®ç”Ÿæˆid_rsaç§é’¥ï¼Œid_rsa.pubå…¬é’¥ã€‚oneå¯ä»¥ç›´æ¥å›è½¦ï¼Œé»˜è®¤ç”Ÿæˆ id_rsa å’Œ id_rsa.pub ã€‚ $ ssh-keygen -t rsa -C &quot;one@xx.com&quot; æ·»åŠ twoä¼šå‡ºç°æç¤ºè¾“å…¥æ–‡ä»¶åï¼Œè¾“å…¥ä¸é»˜è®¤é…ç½®ä¸ä¸€æ ·çš„æ–‡ä»¶åï¼Œå¦‚ï¼šid_rsa_twoã€‚ $ cd ~/.ssh $ ssh-keygen -t rsa -C &quot;two@126.com&quot; # ä¹‹åä¼šæç¤ºè¾“å…¥æ–‡ä»¶å GitHubæ·»åŠ å…¬é’¥ id_rsa.pub ã€ id_rsa_two.pubï¼Œåˆ†åˆ«ç™»é™†one,twoçš„è´¦å·ï¼Œåœ¨ Account Settings çš„ SSH Keys é‡Œï¼Œç‚¹ Add SSH Keys ï¼Œå°†å…¬é’¥(.pubæ–‡ä»¶)ä¸­çš„å†…å®¹ç²˜è´´åˆ° Key ä¸­ï¼Œå¹¶è¾“å…¥ Titleã€‚æ·»åŠ  ssh Key $ ssh-add ~/.ssh/id_rsa $ ssh-add ~/.ssh/id_rsa_two å¯ä»¥åœ¨æ·»åŠ å‰ä½¿ç”¨ä¸‹é¢å‘½ä»¤åˆ é™¤æ‰€æœ‰çš„ key $ ssh-add -D æœ€åå¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤ï¼ŒæŸ¥çœ‹ key çš„è®¾ç½® $ ssh-add -l ä¿®æ”¹ssh configæ–‡ä»¶$ cd ~/.ssh/ $ touch config æ‰“å¼€ .ssh æ–‡ä»¶å¤¹ä¸‹çš„ config æ–‡ä»¶ï¼Œè¿›è¡Œé…ç½® # default Host github.com HostName github.com User git IdentityFile ~/.ssh/id_rsa # two Host two.github.com # å‰ç¼€åå¯ä»¥ä»»æ„è®¾ç½® HostName github.com User git IdentityFile ~/.ssh/id_rsa_two è¿™é‡Œå¿…é¡»é‡‡ç”¨è¿™æ ·çš„æ–¹å¼è®¾ç½®ï¼Œå¦åˆ™ push æ—¶ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯: ERROR: Permission to two&#x2F;two.github.com.git denied to one. ç®€å•åˆ†æä¸‹åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç° ssh å®¢æˆ·ç«¯æ˜¯é€šè¿‡ç±»ä¼¼: git@github.com:one/one.github.com.git è¿™æ ·çš„ Git åœ°å€ä¸­çš„ User å’Œ Host æ¥è¯†åˆ«ä½¿ç”¨å“ªä¸ªæœ¬åœ°ç§é’¥çš„ã€‚å¾ˆæ˜æ˜¾ï¼Œå¦‚æœ User å’Œ Host å§‹ç»ˆä¸º git å’Œ github.comï¼Œé‚£ä¹ˆå°±åªèƒ½ä½¿ç”¨ä¸€ä¸ªç§é’¥ã€‚æ‰€ä»¥éœ€è¦ä¸Šé¢çš„æ–¹å¼é…ç½®ï¼Œæ¯ä¸ªè´¦å·ä½¿ç”¨äº†è‡ªå·±çš„ Hostï¼Œæ¯ä¸ª Host çš„åŸŸååš CNAME è§£æåˆ° github.comï¼Œè¿™æ · ssh åœ¨è¿æ¥æ—¶å°±å¯ä»¥åŒºåˆ«ä¸åŒçš„è´¦å·äº†ã€‚ $ ssh -T git@github.com # æµ‹è¯•one sshè¿æ¥ # Hi ***! You&#39;ve successfully authenticated, but GitHub does not provide shell access. $ ssh -T git@two.github.com # æµ‹è¯•two sshè¿æ¥ # Hi ***! You&#39;ve successfully authenticated, but GitHub does not provide shell access. ä½†æ˜¯è¿™æ ·è¿˜æ²¡æœ‰å®Œï¼Œä¸‹é¢è¿˜æœ‰å…³è”çš„è®¾ç½®ã€‚ åœ¨Gité¡¹ç›®ä¸­é…ç½®è´¦å·å…³è”å¯ä»¥ç”¨ git init æˆ–è€… git clone åˆ›å»ºæœ¬åœ°é¡¹ç›®åˆ†åˆ«åœ¨oneå’Œtwoçš„gité¡¹ç›®ç›®å½•ä¸‹ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è®¾ç½®åå­—å’Œé‚®ç®± $ git config user.name &quot;__name__&quot; # __name__ ä¾‹å¦‚ one $ git config user.email &quot;__email__&quot; # __email__ ä¾‹å¦‚ one@126.com æ³¨æ„ï¼šç”±äºæˆ‘ä¸çŸ¥é“Hexoæ€æ ·é…ç½® å±€éƒ¨çš„configï¼Œæ‰€ä»¥ï¼Œæˆ‘å°†twoçš„configä½¿ç”¨å…¨å±€ï¼Œè€Œå·¥ä½œç›®å½•é…ç½®å±€éƒ¨ã€‚ $ git config --global user.name &quot;__name__&quot; # __name__ ä¾‹å¦‚ two $ git config --global user.email &quot;__email__&quot; # __email__ ä¾‹å¦‚ two@126.com æŸ¥çœ‹gité¡¹ç›®çš„é…ç½® $ git config --list æŸ¥çœ‹ one çš„ remote.origin.url&#x3D;&#x67;&#105;&#116;&#64;&#103;&#x69;&#116;&#104;&#117;&#98;&#46;&#99;&#x6f;&#109;:one&#x2F;one.github.com.gitæŸ¥çœ‹ two çš„ remote.origin.url&#x3D;&#x67;&#x69;&#116;&#x40;&#x67;&#105;&#x74;&#x68;&#117;&#x62;&#46;&#99;&#111;&#109;:two&#x2F;two.github.com.gitç”±äº one ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„ Host ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿®æ”¹ï¼Œä½†æ˜¯ two ä½¿ç”¨çš„æ˜¯ two.github.com ï¼Œåˆ™éœ€è¦è¿›è¡Œä¿®æ”¹ $ git remote rm origin $ git remote add origin git@two.github.com:two/two.github.com.git æˆ‘åœ¨Hexoä¸­çš„é…ç½®ï¼ˆä½¿ç”¨twoè´¦å·ï¼‰ deploy: type: git repo: git@two.github.com:two/two.github.io.git branch: master ä¸Šä¼ æ›´æ”¹ä¸Šé¢æ‰€æœ‰çš„è®¾ç½®æ— è¯¯åï¼Œå¯ä»¥ä¿®æ”¹ä»£ç ï¼Œç„¶åä¸Šä¼ äº†ã€‚ $ git add -A $ git commit -m &quot;your comments&quot; $ git push å¦‚æœé‡åˆ°warning warning: push.default is unset; its implicit value is changing in Git 2.0 from â€˜matchingâ€™ to â€˜simpleâ€™. To squelch this messageand maintain the current behavior after the default changes, useâ€¦ æ¨èä½¿ç”¨ $ git config --global push.default simple","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"},{"name":"GitHub","slug":"GitHub","permalink":"http://yelog.org/tags/GitHub/"}]}],"categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yelog.org/categories/%E5%90%8E%E7%AB%AF/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/"},{"name":"è½¯ä»¶è®°å½•","slug":"å·¥å…·/è½¯ä»¶è®°å½•","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/%E8%BD%AF%E4%BB%B6%E8%AE%B0%E5%BD%95/"},{"name":"IOT","slug":"å·¥å…·/IOT","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/IOT/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/categories/%E8%BF%90%E7%BB%B4/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://yelog.org/categories/%E5%BC%80%E5%8F%91/"},{"name":"swift","slug":"å¼€å‘/swift","permalink":"http://yelog.org/categories/%E5%BC%80%E5%8F%91/swift/"},{"name":"IDEA","slug":"å·¥å…·/IDEA","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/IDEA/"},{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yelog.org/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"},{"name":"hexo","slug":"å·¥å…·/hexo","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/hexo/"},{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/"},{"name":"é˜…è¯»ç¬”è®°","slug":"è¯»ä¹¦/é˜…è¯»ç¬”è®°","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yelog.org/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"git","slug":"å·¥å…·/git","permalink":"http://yelog.org/categories/%E5%B7%A5%E5%85%B7/git/"},{"name":"ä¹¦å•","slug":"è¯»ä¹¦/ä¹¦å•","permalink":"http://yelog.org/categories/%E8%AF%BB%E4%B9%A6/%E4%B9%A6%E5%8D%95/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yelog.org/tags/java/"},{"name":"translation","slug":"translation","permalink":"http://yelog.org/tags/translation/"},{"name":"mac","slug":"mac","permalink":"http://yelog.org/tags/mac/"},{"name":"efficiency","slug":"efficiency","permalink":"http://yelog.org/tags/efficiency/"},{"name":"terminal","slug":"terminal","permalink":"http://yelog.org/tags/terminal/"},{"name":"home-assistant","slug":"home-assistant","permalink":"http://yelog.org/tags/home-assistant/"},{"name":"iot","slug":"iot","permalink":"http://yelog.org/tags/iot/"},{"name":"docker","slug":"docker","permalink":"http://yelog.org/tags/docker/"},{"name":"k8s","slug":"k8s","permalink":"http://yelog.org/tags/k8s/"},{"name":"swift","slug":"swift","permalink":"http://yelog.org/tags/swift/"},{"name":"macos","slug":"macos","permalink":"http://yelog.org/tags/macos/"},{"name":"ocr","slug":"ocr","permalink":"http://yelog.org/tags/ocr/"},{"name":"spring-boot","slug":"spring-boot","permalink":"http://yelog.org/tags/spring-boot/"},{"name":"vim","slug":"vim","permalink":"http://yelog.org/tags/vim/"},{"name":"IntellijIDEA","slug":"IntellijIDEA","permalink":"http://yelog.org/tags/IntellijIDEA/"},{"name":"concurrent","slug":"concurrent","permalink":"http://yelog.org/tags/concurrent/"},{"name":"nacos","slug":"nacos","permalink":"http://yelog.org/tags/nacos/"},{"name":"springcloud","slug":"springcloud","permalink":"http://yelog.org/tags/springcloud/"},{"name":"gray-release","slug":"gray-release","permalink":"http://yelog.org/tags/gray-release/"},{"name":"ElementUI","slug":"ElementUI","permalink":"http://yelog.org/tags/ElementUI/"},{"name":"Vue","slug":"Vue","permalink":"http://yelog.org/tags/Vue/"},{"name":"SpringCloud","slug":"SpringCloud","permalink":"http://yelog.org/tags/SpringCloud/"},{"name":"SkyWalking","slug":"SkyWalking","permalink":"http://yelog.org/tags/SkyWalking/"},{"name":"3-hexo","slug":"3-hexo","permalink":"http://yelog.org/tags/3-hexo/"},{"name":"hexo","slug":"hexo","permalink":"http://yelog.org/tags/hexo/"},{"name":"javascript","slug":"javascript","permalink":"http://yelog.org/tags/javascript/"},{"name":"linux","slug":"linux","permalink":"http://yelog.org/tags/linux/"},{"name":"reading","slug":"reading","permalink":"http://yelog.org/tags/reading/"},{"name":"æ´»ç€","slug":"æ´»ç€","permalink":"http://yelog.org/tags/%E6%B4%BB%E7%9D%80/"},{"name":"shell","slug":"shell","permalink":"http://yelog.org/tags/shell/"},{"name":"nginx","slug":"nginx","permalink":"http://yelog.org/tags/nginx/"},{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yelog.org/tags/PostgreSQL/"},{"name":"keybord","slug":"keybord","permalink":"http://yelog.org/tags/keybord/"},{"name":"emacs","slug":"emacs","permalink":"http://yelog.org/tags/emacs/"},{"name":"encoding","slug":"encoding","permalink":"http://yelog.org/tags/encoding/"},{"name":"dubbo","slug":"dubbo","permalink":"http://yelog.org/tags/dubbo/"},{"name":"zookeeper","slug":"zookeeper","permalink":"http://yelog.org/tags/zookeeper/"},{"name":"fragment_cache","slug":"fragment-cache","permalink":"http://yelog.org/tags/fragment-cache/"},{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://yelog.org/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"},{"name":"js","slug":"js","permalink":"http://yelog.org/tags/js/"},{"name":"firewall","slug":"firewall","permalink":"http://yelog.org/tags/firewall/"},{"name":"maven","slug":"maven","permalink":"http://yelog.org/tags/maven/"},{"name":"nexus","slug":"nexus","permalink":"http://yelog.org/tags/nexus/"},{"name":"mybatis","slug":"mybatis","permalink":"http://yelog.org/tags/mybatis/"},{"name":"mathjax","slug":"mathjax","permalink":"http://yelog.org/tags/mathjax/"},{"name":"pjax","slug":"pjax","permalink":"http://yelog.org/tags/pjax/"},{"name":"samba","slug":"samba","permalink":"http://yelog.org/tags/samba/"},{"name":"tale","slug":"tale","permalink":"http://yelog.org/tags/tale/"},{"name":"dockerä»“åº“","slug":"dockerä»“åº“","permalink":"http://yelog.org/tags/docker%E4%BB%93%E5%BA%93/"},{"name":"linuxå‘½ä»¤","slug":"linuxå‘½ä»¤","permalink":"http://yelog.org/tags/linux%E5%91%BD%E4%BB%A4/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yelog.org/tags/%E8%BF%90%E7%BB%B4/"},{"name":"centos","slug":"centos","permalink":"http://yelog.org/tags/centos/"},{"name":"ç£ç›˜åˆ†åŒº","slug":"ç£ç›˜åˆ†åŒº","permalink":"http://yelog.org/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"},{"name":"git","slug":"git","permalink":"http://yelog.org/tags/git/"},{"name":"encryption","slug":"encryption","permalink":"http://yelog.org/tags/encryption/"},{"name":"jsp","slug":"jsp","permalink":"http://yelog.org/tags/jsp/"},{"name":"jstl","slug":"jstl","permalink":"http://yelog.org/tags/jstl/"},{"name":"spring","slug":"spring","permalink":"http://yelog.org/tags/spring/"},{"name":"springmvc","slug":"springmvc","permalink":"http://yelog.org/tags/springmvc/"},{"name":"postgres","slug":"postgres","permalink":"http://yelog.org/tags/postgres/"},{"name":"sql","slug":"sql","permalink":"http://yelog.org/tags/sql/"},{"name":"deepin","slug":"deepin","permalink":"http://yelog.org/tags/deepin/"},{"name":"node","slug":"node","permalink":"http://yelog.org/tags/node/"},{"name":"jQuery","slug":"jQuery","permalink":"http://yelog.org/tags/jQuery/"},{"name":"ftp","slug":"ftp","permalink":"http://yelog.org/tags/ftp/"},{"name":"AngularJs","slug":"AngularJs","permalink":"http://yelog.org/tags/AngularJs/"},{"name":"Git","slug":"Git","permalink":"http://yelog.org/tags/Git/"},{"name":"javaee","slug":"javaee","permalink":"http://yelog.org/tags/javaee/"},{"name":"GitHub","slug":"GitHub","permalink":"http://yelog.org/tags/GitHub/"},{"name":"freemarker","slug":"freemarker","permalink":"http://yelog.org/tags/freemarker/"},{"name":"regex","slug":"regex","permalink":"http://yelog.org/tags/regex/"}]}